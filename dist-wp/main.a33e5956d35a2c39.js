(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[8792],{81158:(et,Ae,v)=>{"use strict";let D=null,B=1;const P=Symbol("SIGNAL");function H(p){const g=D;return D=p,g}function N(p){if((!V(p)||p.dirty)&&(p.dirty||p.lastCleanEpoch!==B)){if(!p.producerMustRecompute(p)&&!x(p))return p.dirty=!1,void(p.lastCleanEpoch=B);p.producerRecomputeValue(p),p.dirty=!1,p.lastCleanEpoch=B}}function x(p){ue(p);for(let g=0;g<p.producerNode.length;g++){const y=p.producerNode[g],_=p.producerLastReadVersion[g];if(_!==y.version||(N(y),_!==y.version))return!0}return!1}function K(p,g){if(function ee(p){p.liveConsumerNode??=[],p.liveConsumerIndexOfThis??=[]}(p),ue(p),1===p.liveConsumerNode.length)for(let _=0;_<p.producerNode.length;_++)K(p.producerNode[_],p.producerIndexOfThis[_]);const y=p.liveConsumerNode.length-1;if(p.liveConsumerNode[g]=p.liveConsumerNode[y],p.liveConsumerIndexOfThis[g]=p.liveConsumerIndexOfThis[y],p.liveConsumerNode.length--,p.liveConsumerIndexOfThis.length--,g<p.liveConsumerNode.length){const _=p.liveConsumerIndexOfThis[g],M=p.liveConsumerNode[g];ue(M),M.producerIndexOfThis[_]=g}}function V(p){return p.consumerIsAlwaysLive||(p?.liveConsumerNode?.length??0)>0}function ue(p){p.producerNode??=[],p.producerIndexOfThis??=[],p.producerLastReadVersion??=[]}let fe=null;function Oe(p){return"function"==typeof p}function _e(p){const y=p(_=>{Error.call(_),_.stack=(new Error).stack});return y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y}const we=_e(p=>function(y){p(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((_,M)=>`${M+1}) ${_.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});function ke(p,g){if(p){const y=p.indexOf(g);0<=y&&p.splice(y,1)}}class Xe{constructor(g){this.initialTeardown=g,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let g;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const A of y)A.remove(this);else y.remove(this);const{initialTeardown:_}=this;if(Oe(_))try{_()}catch(A){g=A instanceof we?A.errors:[A]}const{_finalizers:M}=this;if(M){this._finalizers=null;for(const A of M)try{Ke(A)}catch(T){g=g??[],T instanceof we?g=[...g,...T.errors]:g.push(T)}}if(g)throw new we(g)}}add(g){var y;if(g&&g!==this)if(this.closed)Ke(g);else{if(g instanceof Xe){if(g.closed||g._hasParent(this))return;g._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(g)}}_hasParent(g){const{_parentage:y}=this;return y===g||Array.isArray(y)&&y.includes(g)}_addParent(g){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(g),y):y?[y,g]:g}_removeParent(g){const{_parentage:y}=this;y===g?this._parentage=null:Array.isArray(y)&&ke(y,g)}remove(g){const{_finalizers:y}=this;y&&ke(y,g),g instanceof Xe&&g._removeParent(this)}}Xe.EMPTY=(()=>{const p=new Xe;return p.closed=!0,p})();const Q=Xe.EMPTY;function De(p){return p instanceof Xe||p&&"closed"in p&&Oe(p.remove)&&Oe(p.add)&&Oe(p.unsubscribe)}function Ke(p){Oe(p)?p():p.unsubscribe()}const Ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rt={setTimeout(p,g,...y){const{delegate:_}=rt;return _?.setTimeout?_.setTimeout(p,g,...y):setTimeout(p,g,...y)},clearTimeout(p){const{delegate:g}=rt;return(g?.clearTimeout||clearTimeout)(p)},delegate:void 0};function lt(p){rt.setTimeout(()=>{const{onUnhandledError:g}=Ye;if(!g)throw p;g(p)})}function _t(){}const tt=Be("C",void 0,void 0);function Be(p,g,y){return{kind:p,value:g,error:y}}let Ze=null;function Ne(p){if(Ye.useDeprecatedSynchronousErrorHandling){const g=!Ze;if(g&&(Ze={errorThrown:!1,error:null}),p(),g){const{errorThrown:y,error:_}=Ze;if(Ze=null,y)throw _}}else p()}class Je extends Xe{constructor(g){super(),this.isStopped=!1,g?(this.destination=g,De(g)&&g.add(this)):this.destination=Zt}static create(g,y,_){return new Lt(g,y,_)}next(g){this.isStopped?Gt(function xe(p){return Be("N",p,void 0)}(g),this):this._next(g)}error(g){this.isStopped?Gt(function qe(p){return Be("E",void 0,p)}(g),this):(this.isStopped=!0,this._error(g))}complete(){this.isStopped?Gt(tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(g){this.destination.next(g)}_error(g){try{this.destination.error(g)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function dt(p,g){return ut.call(p,g)}class Et{constructor(g){this.partialObserver=g}next(g){const{partialObserver:y}=this;if(y.next)try{y.next(g)}catch(_){jt(_)}}error(g){const{partialObserver:y}=this;if(y.error)try{y.error(g)}catch(_){jt(_)}else jt(g)}complete(){const{partialObserver:g}=this;if(g.complete)try{g.complete()}catch(y){jt(y)}}}class Lt extends Je{constructor(g,y,_){let M;if(super(),Oe(g)||!g)M={next:g??void 0,error:y??void 0,complete:_??void 0};else{let A;this&&Ye.useDeprecatedNextContext?(A=Object.create(g),A.unsubscribe=()=>this.unsubscribe(),M={next:g.next&&dt(g.next,A),error:g.error&&dt(g.error,A),complete:g.complete&&dt(g.complete,A)}):M=g}this.destination=new Et(M)}}function jt(p){Ye.useDeprecatedSynchronousErrorHandling?function He(p){Ye.useDeprecatedSynchronousErrorHandling&&Ze&&(Ze.errorThrown=!0,Ze.error=p)}(p):lt(p)}function Gt(p,g){const{onStoppedNotification:y}=Ye;y&&rt.setTimeout(()=>y(p,g))}const Zt={closed:!0,next:_t,error:function Kt(p){throw p},complete:_t},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function mn(p){return p}function kn(p){return 0===p.length?mn:1===p.length?p[0]:function(y){return p.reduce((_,M)=>M(_),y)}}let Cn=(()=>{class p{constructor(y){y&&(this._subscribe=y)}lift(y){const _=new p;return _.source=this,_.operator=y,_}subscribe(y,_,M){const A=function Un(p){return p&&p instanceof Je||function er(p){return p&&Oe(p.next)&&Oe(p.error)&&Oe(p.complete)}(p)&&De(p)}(y)?y:new Lt(y,_,M);return Ne(()=>{const{operator:T,source:F}=this;A.add(T?T.call(A,F):F?this._subscribe(A):this._trySubscribe(A))}),A}_trySubscribe(y){try{return this._subscribe(y)}catch(_){y.error(_)}}forEach(y,_){return new(_=Nn(_))((M,A)=>{const T=new Lt({next:F=>{try{y(F)}catch(Y){A(Y),T.unsubscribe()}},error:A,complete:M});this.subscribe(T)})}_subscribe(y){var _;return null===(_=this.source)||void 0===_?void 0:_.subscribe(y)}[an](){return this}pipe(...y){return kn(y)(this)}toPromise(y){return new(y=Nn(y))((_,M)=>{let A;this.subscribe(T=>A=T,T=>M(T),()=>_(A))})}}return p.create=g=>new p(g),p})();function Nn(p){var g;return null!==(g=p??Ye.Promise)&&void 0!==g?g:Promise}const ur=_e(p=>function(){p(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fr=(()=>{class p extends Cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const _=new ir(this,this);return _.operator=y,_}_throwIfClosed(){if(this.closed)throw new ur}next(y){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _ of this.currentObservers)_.next(y)}})}error(y){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:_}=this;for(;_.length;)_.shift().error(y)}})}complete(){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:_,isStopped:M,observers:A}=this;return _||M?Q:(this.currentObservers=null,A.push(y),new Xe(()=>{this.currentObservers=null,ke(A,y)}))}_checkFinalizedStatuses(y){const{hasError:_,thrownError:M,isStopped:A}=this;_?y.error(M):A&&y.complete()}asObservable(){const y=new Cn;return y.source=this,y}}return p.create=(g,y)=>new ir(g,y),p})();class ir extends fr{constructor(g,y){super(),this.destination=g,this.source=y}next(g){var y,_;null===(_=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===_||_.call(y,g)}error(g){var y,_;null===(_=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===_||_.call(y,g)}complete(){var g,y;null===(y=null===(g=this.destination)||void 0===g?void 0:g.complete)||void 0===y||y.call(g)}_subscribe(g){var y,_;return null!==(_=null===(y=this.source)||void 0===y?void 0:y.subscribe(g))&&void 0!==_?_:Q}}class wn extends fr{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const y=super._subscribe(g);return!y.closed&&g.next(this._value),y}getValue(){const{hasError:g,thrownError:y,_value:_}=this;if(g)throw y;return this._throwIfClosed(),_}next(g){super.next(this._value=g)}}function Er(p){return Oe(p?.lift)}function tr(p){return g=>{if(Er(g))return g.lift(function(y){try{return p(y,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}function jn(p,g,y,_,M){return new xs(p,g,y,_,M)}class xs extends Je{constructor(g,y,_,M,A,T){super(g),this.onFinalize=A,this.shouldUnsubscribe=T,this._next=y?function(F){try{y(F)}catch(Y){g.error(Y)}}:super._next,this._error=M?function(F){try{M(F)}catch(Y){g.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(F){g.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:y}=this;super.unsubscribe(),!y&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}function Hn(p,g){return tr((y,_)=>{let M=0;y.subscribe(jn(_,A=>{_.next(p.call(g,A,M++))}))})}class on extends Error{constructor(g,y){super(function zr(p,g){return`NG0${Math.abs(p)}${g?": "+g:""}`}(g,y)),this.code=g}}function st(p){return{toString:p}.toString()}const At=globalThis;function pt(p){for(let g in p)if(p[g]===pt)return g;throw Error("Could not find renamed property on target object.")}function zt(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(zt).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const g=p.toString();if(null==g)return""+g;const y=g.indexOf("\n");return-1===y?g:g.substring(0,y)}function gn(p,g){return null==p||""===p?null===g?"":g:null==g||""===g?p:p+" "+g}const Tr=pt({__forward_ref__:pt});function Or(p){return p.__forward_ref__=Or,p.toString=function(){return zt(this())},p}function _n(p){return as(p)?p():p}function as(p){return"function"==typeof p&&p.hasOwnProperty(Tr)&&p.__forward_ref__===Or}function Jn(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function Ki(p){return sl(p,Hi)||sl(p,to)}function sl(p,g){return p.hasOwnProperty(g)?p[g]:null}function ol(p){return p&&(p.hasOwnProperty(il)||p.hasOwnProperty(ju))?p[il]:null}const Hi=pt({\u0275prov:pt}),il=pt({\u0275inj:pt}),to=pt({ngInjectableDef:pt}),ju=pt({ngInjectorDef:pt});class xn{constructor(g,y){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof y?this.__NG_ELEMENT_ID__=y:void 0!==y&&(this.\u0275prov=Jn({token:this,providedIn:y.providedIn||"root",factory:y.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Co(p){return p&&!!p.\u0275providers}const Si=pt({\u0275cmp:pt}),Yl=pt({\u0275dir:pt}),ku=pt({\u0275pipe:pt}),wa=pt({\u0275mod:pt}),Gi=pt({\u0275fac:pt}),Ii=pt({__NG_ELEMENT_ID__:pt}),Wu=pt({__NG_ENV_ID__:pt});function Wr(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():function lr(p){return"string"==typeof p?p:null==p?"":String(p)}(p)}function al(p,g){throw new on(-201,!1)}var xr=function(p){return p[p.Default=0]="Default",p[p.Host=1]="Host",p[p.Self=2]="Self",p[p.SkipSelf=4]="SkipSelf",p[p.Optional=8]="Optional",p}(xr||{});let Ql;function Hc(){return Ql}function Zo(p){const g=Ql;return Ql=p,g}function nh(p,g,y){const _=Ki(p);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:y&xr.Optional?null:void 0!==g?g:void al()}const Ko={},Gc="__NG_DI_FLAG__",$u="ngTempTokenPath",rh=/\n/gm,Yc="__source";let ia;function ci(p){const g=ia;return ia=p,g}function ll(p,g=xr.Default){if(void 0===ia)throw new on(-203,!1);return null===ia?nh(p,void 0,g):ia.get(p,g&xr.Optional?null:void 0,g)}function br(p,g=xr.Default){return(Hc()||ll)(_n(p),g)}function fn(p,g=xr.Default){return br(p,Zu(g))}function Zu(p){return typeof p>"u"||"number"==typeof p?p:(p.optional&&8)|(p.host&&1)|(p.self&&2)|(p.skipSelf&&4)}function Xl(p){const g=[];for(let y=0;y<p.length;y++){const _=_n(p[y]);if(Array.isArray(_)){if(0===_.length)throw new on(900,!1);let M,A=xr.Default;for(let T=0;T<_.length;T++){const F=_[T],Y=sh(F);"number"==typeof Y?-1===Y?M=F.token:A|=Y:M=F}g.push(br(M,A))}else g.push(br(_))}return g}function sh(p){return p[Gc]}function Lo(p,g){return p.hasOwnProperty(Gi)?p[Gi]:null}function ul(p,g){p.forEach(y=>Array.isArray(y)?ul(y,g):g(y))}function td(p,g,y){g>=p.length?p.push(y):p.splice(g,0,y)}function Ku(p,g){return g>=p.length-1?p.pop():p.splice(g,1)[0]}const di={},Vr=[],Ys=new xn(""),sd=new xn("",-1),Zr=new xn("");class la{get(g,y=Ko){if(y===Ko){const _=new Error(`NullInjectorError: No provider for ${zt(g)}!`);throw _.name="NullInjectorError",_}return y}}var Ra=function(p){return p[p.OnPush=0]="OnPush",p[p.Default=1]="Default",p}(Ra||{}),Js=function(p){return p[p.Emulated=0]="Emulated",p[p.None=2]="None",p[p.ShadowDom=3]="ShadowDom",p}(Js||{}),ua=function(p){return p[p.None=0]="None",p[p.SignalBased=1]="SignalBased",p[p.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",p}(ua||{});function tu(p,g,y){let _=p.length;for(;;){const M=p.indexOf(g,y);if(-1===M)return M;if(0===M||p.charCodeAt(M-1)<=32){const A=g.length;if(M+A===_||p.charCodeAt(M+A)<=32)return M}y=M+1}}function So(p,g,y){let _=0;for(;_<y.length;){const M=y[_];if("number"==typeof M){if(0!==M)break;_++;const A=y[_++],T=y[_++],F=y[_++];p.setAttribute(g,T,F,A)}else{const A=M,T=y[++_];ca(A)?p.setProperty(g,A,T):p.setAttribute(g,A,T),_++}}return _}function No(p){return 3===p||4===p||6===p}function ca(p){return 64===p.charCodeAt(0)}function dl(p,g){if(null!==g&&0!==g.length)if(null===p||0===p.length)p=g.slice();else{let y=-1;for(let _=0;_<g.length;_++){const M=g[_];"number"==typeof M?y=M:0===y||hl(p,y,M,null,-1===y||2===y?g[++_]:null)}}return p}function hl(p,g,y,_,M){let A=0,T=p.length;if(-1===g)T=-1;else for(;A<p.length;){const F=p[A++];if("number"==typeof F){if(F===g){T=-1;break}if(F>g){T=A-1;break}}}for(;A<p.length;){const F=p[A];if("number"==typeof F)break;if(F===y){if(null===_)return void(null!==M&&(p[A+1]=M));if(_===p[A+1])return void(p[A+2]=M)}A++,null!==_&&A++,null!==M&&A++}-1!==T&&(p.splice(T,0,g),A=T+1),p.splice(A++,0,y),null!==_&&p.splice(A++,0,_),null!==M&&p.splice(A++,0,M)}const od="ng-template";function ah(p,g,y,_){let M=0;if(_){for(;M<g.length&&"string"==typeof g[M];M+=2)if("class"===g[M]&&-1!==tu(g[M+1].toLowerCase(),y,0))return!0}else if(id(p))return!1;if(M=g.indexOf(1,M),M>-1){let A;for(;++M<g.length&&"string"==typeof(A=g[M]);)if(A.toLowerCase()===y)return!0}return!1}function id(p){return 4===p.type&&p.value!==od}function Hu(p,g,y){return g===(4!==p.type||y?p.value:od)}function ad(p,g,y){let _=4;const M=p.attrs,A=null!==M?function ld(p){for(let g=0;g<p.length;g++)if(No(p[g]))return g;return p.length}(M):0;let T=!1;for(let F=0;F<g.length;F++){const Y=g[F];if("number"!=typeof Y){if(!T)if(4&_){if(_=2|1&_,""!==Y&&!Hu(p,Y,y)||""===Y&&1===g.length){if(Ho(_))return!1;T=!0}}else if(8&_){if(null===M||!ah(p,M,Y,y)){if(Ho(_))return!1;T=!0}}else{const ge=g[++F],Re=pl(Y,M,id(p),y);if(-1===Re){if(Ho(_))return!1;T=!0;continue}if(""!==ge){let Ve;if(Ve=Re>A?"":M[Re+1].toLowerCase(),2&_&&ge!==Ve){if(Ho(_))return!1;T=!0}}}}else{if(!T&&!Ho(_)&&!Ho(Y))return!1;if(T&&Ho(Y))continue;T=!1,_=Y|1&_}}return Ho(_)||T}function Ho(p){return!(1&p)}function pl(p,g,y,_){if(null===g)return-1;let M=0;if(_||!y){let A=!1;for(;M<g.length;){const T=g[M];if(T===p)return M;if(3===T||6===T)A=!0;else{if(1===T||2===T){let F=g[++M];for(;"string"==typeof F;)F=g[++M];continue}if(4===T)break;if(0===T){M+=4;continue}}M+=A?1:2}return-1}return function lh(p,g){let y=p.indexOf(4);if(y>-1)for(y++;y<p.length;){const _=p[y];if("number"==typeof _)return-1;if(_===g)return y;y++}return-1}(g,p)}function nu(p,g,y=!1){for(let _=0;_<g.length;_++)if(ad(p,g[_],y))return!0;return!1}function ru(p,g){return p?":not("+g.trim()+")":g}function uh(p){let g=p[0],y=1,_=2,M="",A=!1;for(;y<p.length;){let T=p[y];if("string"==typeof T)if(2&_){const F=p[++y];M+="["+T+(F.length>0?'="'+F+'"':"")+"]"}else 8&_?M+="."+T:4&_&&(M+=" "+T);else""!==M&&!Ho(T)&&(g+=ru(A,M),M=""),_=T,A=A||!Ho(_);y++}return""!==M&&(g+=ru(A,M)),g}function da(p){return st(()=>{const g=xa(p),y={...g,decls:p.decls,vars:p.vars,template:p.template,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,onPush:p.changeDetection===Ra.OnPush,directiveDefs:null,pipeDefs:null,dependencies:g.standalone&&p.dependencies||null,getStandaloneInjector:null,signals:p.signals??!1,data:p.data||{},encapsulation:p.encapsulation||Js.Emulated,styles:p.styles||Vr,_:null,schemas:p.schemas||null,tView:null,id:""};Yu(y);const _=p.dependencies;return y.directiveDefs=iu(_,!1),y.pipeDefs=iu(_,!0),y.id=function uf(p){let g=0;const y=[p.selectors,p.ngContentSelectors,p.hostVars,p.hostAttrs,p.consts,p.vars,p.decls,p.encapsulation,p.standalone,p.signals,p.exportAs,JSON.stringify(p.inputs),JSON.stringify(p.outputs),Object.getOwnPropertyNames(p.type.prototype),!!p.contentQueries,!!p.viewQuery].join("|");for(const M of y)g=Math.imul(31,g)+M.charCodeAt(0)|0;return g+=2147483648,"c"+g}(y),y})}function La(p){return Sr(p)||Bs(p)}function cd(p){return null!==p}function ou(p,g){if(null==p)return di;const y={};for(const _ in p)if(p.hasOwnProperty(_)){const M=p[_];let A,T,F=ua.None;Array.isArray(M)?(F=M[0],A=M[1],T=M[2]??A):(A=M,T=M),g?(y[A]=F!==ua.None?[_,F]:_,g[A]=T):y[A]=_}return y}function uo(p){return st(()=>{const g=xa(p);return Yu(g),g})}function Sr(p){return p[Si]||null}function Bs(p){return p[Yl]||null}function ro(p){return p[ku]||null}function Es(p,g){const y=p[wa]||null;if(!y&&!0===g)throw new Error(`Type ${zt(p)} does not have '\u0275mod' property.`);return y}function xa(p){const g={};return{type:p.type,providersResolver:null,factory:null,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:g,inputTransforms:null,inputConfig:p.inputs||di,exportAs:p.exportAs||null,standalone:!0===p.standalone,signals:!0===p.signals,selectors:p.selectors||Vr,viewQuery:p.viewQuery||null,features:p.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ou(p.inputs,g),outputs:ou(p.outputs),debugInfo:null}}function Yu(p){p.features?.forEach(g=>g(p))}function iu(p,g){if(!p)return null;const y=g?ro:La;return()=>("function"==typeof p?p():p).map(_=>y(_)).filter(cd)}function ha(p){return{\u0275providers:p}}function Ju(...p){return{\u0275providers:fl(0,p),\u0275fromNgModule:!0}}function fl(p,...g){const y=[],_=new Set;let M;const A=T=>{y.push(T)};return ul(g,T=>{const F=T;_r(F,A,[],_)&&(M||=[],M.push(F))}),void 0!==M&&Qu(M,A),y}function Qu(p,g){for(let y=0;y<p.length;y++){const{ngModule:_,providers:M}=p[y];dd(M,A=>{g(A,_)})}}function _r(p,g,y,_){if(!(p=_n(p)))return!1;let M=null,A=ol(p);const T=!A&&Sr(p);if(A||T){if(T&&!T.standalone)return!1;M=p}else{const Y=p.ngModule;if(A=ol(Y),!A)return!1;M=Y}const F=_.has(M);if(T){if(F)return!1;if(_.add(M),T.dependencies){const Y="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const ge of Y)_r(ge,g,y,_)}}else{if(!A)return!1;{if(null!=A.imports&&!F){let ge;_.add(M);try{ul(A.imports,Re=>{_r(Re,g,y,_)&&(ge||=[],ge.push(Re))})}finally{}void 0!==ge&&Qu(ge,g)}if(!F){const ge=Lo(M)||(()=>new M);g({provide:M,useFactory:ge,deps:Vr},M),g({provide:Zr,useValue:M,multi:!0},M),g({provide:Ys,useValue:()=>br(M),multi:!0},M)}const Y=A.providers;if(null!=Y&&!F){const ge=p;dd(Y,Re=>{g(Re,ge)})}}}return M!==p&&void 0!==p.providers}function dd(p,g){for(let y of p)Co(y)&&(y=y.\u0275providers),Array.isArray(y)?dd(y,g):g(y)}const $e=pt({provide:String,useValue:pt});function me(p){return null!==p&&"object"==typeof p&&$e in p}function ht(p){return"function"==typeof p}const wt=new xn(""),Wt={},Qt={};let cn;function Xn(){return void 0===cn&&(cn=new la),cn}class ar{}class ss extends ar{get destroyed(){return this._destroyed}constructor(g,y,_,M){super(),this.parent=y,this.source=_,this.scopes=M,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gl(g,T=>this.processProvider(T)),this.records.set(sd,wi(void 0,this)),M.has("environment")&&this.records.set(ar,wi(void 0,this));const A=this.records.get(wt);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(Zr,Vr,xr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const g=H(null);try{for(const _ of this._ngOnDestroyHooks)_.ngOnDestroy();const y=this._onDestroyHooks;this._onDestroyHooks=[];for(const _ of y)_()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(g)}}onDestroy(g){return this.assertNotDestroyed(),this._onDestroyHooks.push(g),()=>this.removeOnDestroy(g)}runInContext(g){this.assertNotDestroyed();const y=ci(this),_=Zo(void 0);try{return g()}finally{ci(y),Zo(_)}}get(g,y=Ko,_=xr.Default){if(this.assertNotDestroyed(),g.hasOwnProperty(Wu))return g[Wu](this);_=Zu(_);const A=ci(this),T=Zo(void 0);try{if(!(_&xr.SkipSelf)){let Y=this.records.get(g);if(void 0===Y){const ge=function df(p){return"function"==typeof p||"object"==typeof p&&p instanceof xn}(g)&&Ki(g);Y=ge&&this.injectableDefInScope(ge)?wi(rr(g),Wt):null,this.records.set(g,Y)}if(null!=Y)return this.hydrate(g,Y)}return(_&xr.Self?Xn():this.parent).get(g,y=_&xr.Optional&&y===Ko?null:y)}catch(F){if("NullInjectorError"===F.name){if((F[$u]=F[$u]||[]).unshift(zt(g)),A)throw F;return function Qc(p,g,y,_){const M=p[$u];throw g[Yc]&&M.unshift(g[Yc]),p.message=function oh(p,g,y,_=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.slice(2):p;let M=zt(g);if(Array.isArray(g))M=g.map(zt).join(" -> ");else if("object"==typeof g){let A=[];for(let T in g)if(g.hasOwnProperty(T)){let F=g[T];A.push(T+":"+("string"==typeof F?JSON.stringify(F):zt(F)))}M=`{${A.join(", ")}}`}return`${y}${_?"("+_+")":""}[${M}]: ${p.replace(rh,"\n  ")}`}("\n"+p.message,M,y,_),p.ngTokenPath=M,p[$u]=null,p}(F,g,"R3InjectorError",this.source)}throw F}finally{Zo(T),ci(A)}}resolveInjectorInitializers(){const g=H(null),y=ci(this),_=Zo(void 0);try{const A=this.get(Ys,Vr,xr.Self);for(const T of A)T()}finally{ci(y),Zo(_),H(g)}}toString(){const g=[],y=this.records;for(const _ of y.keys())g.push(zt(_));return`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new on(205,!1)}processProvider(g){let y=ht(g=_n(g))?g:_n(g&&g.provide);const _=function au(p){return me(p)?wi(void 0,p.useValue):wi(function ri(p,g,y){let _;if(ht(p)){const M=_n(p);return Lo(M)||rr(M)}if(me(p))_=()=>_n(p.useValue);else if(function Qe(p){return!(!p||!p.useFactory)}(p))_=()=>p.useFactory(...Xl(p.deps||[]));else if(function We(p){return!(!p||!p.useExisting)}(p))_=()=>br(_n(p.useExisting));else{const M=_n(p&&(p.useClass||p.provide));if(!function lu(p){return!!p.deps}(p))return Lo(M)||rr(M);_=()=>new M(...Xl(p.deps))}return _}(p),Wt)}(g);if(!ht(g)&&!0===g.multi){let M=this.records.get(y);M||(M=wi(void 0,Wt,!0),M.factory=()=>Xl(M.multi),this.records.set(y,M)),y=g,M.multi.push(g)}this.records.set(y,_)}hydrate(g,y){const _=H(null);try{return y.value===Wt&&(y.value=Qt,y.value=y.factory()),"object"==typeof y.value&&y.value&&function cf(p){return null!==p&&"object"==typeof p&&"function"==typeof p.ngOnDestroy}(y.value)&&this._ngOnDestroyHooks.add(y.value),y.value}finally{H(_)}}injectableDefInScope(g){if(!g.providedIn)return!1;const y=_n(g.providedIn);return"string"==typeof y?"any"===y||this.scopes.has(y):this.injectorDefTypes.has(y)}removeOnDestroy(g){const y=this._onDestroyHooks.indexOf(g);-1!==y&&this._onDestroyHooks.splice(y,1)}}function rr(p){const g=Ki(p),y=null!==g?g.factory:Lo(p);if(null!==y)return y;if(p instanceof xn)throw new on(204,!1);if(p instanceof Function)return function Qs(p){if(p.length>0)throw new on(204,!1);const y=function Hs(p){return p&&(p[Hi]||p[to])||null}(p);return null!==y?()=>y.factory(p):()=>new p}(p);throw new on(204,!1)}function wi(p,g,y=!1){return{factory:p,value:g,multi:y?[]:void 0}}function gl(p,g){for(const y of p)Array.isArray(y)?gl(y,g):y&&Co(y)?gl(y.\u0275providers,g):g(y)}function Ri(p,g){p instanceof ss&&p.assertNotDestroyed();const _=ci(p),M=Zo(void 0);try{return g()}finally{ci(_),Zo(M)}}const ps=0,vn=1,or=2,so=3,pa=4,Fo=5,fo=6,yl=7,Yr=8,Pr=9,fa=10,Mn=11,dh=12,ma=13,ec=14,Fs=15,du=16,_l=17,Li=18,Fa=19,vl=20,ga=21,pd=22,El=23,sr=25,tc=1,ya=7,k=9,ne=10;var Te=function(p){return p[p.None=0]="None",p[p.HasTransplantedViews=2]="HasTransplantedViews",p}(Te||{});function Me(p){return Array.isArray(p)&&"object"==typeof p[tc]}function it(p){return Array.isArray(p)&&!0===p[tc]}function ct(p){return!!(4&p.flags)}function Tt(p){return p.componentOffset>-1}function Bt(p){return!!p.template}function Vt(p){return!!(512&p[or])}class zi{constructor(g,y,_){this.previousValue=g,this.currentValue=y,this.firstChange=_}isFirstChange(){return this.firstChange}}function hu(p,g,y,_){null!==g?g.applyValueToInputSignal(g,_):p[y]=_}function _a(){return Al}function Al(p){return p.type.prototype.ngOnChanges&&(p.setInput=md),pu}function pu(){const p=sc(this),g=p?.current;if(g){const y=p.previous;if(y===di)p.previous=g;else for(let _ in g)y[_]=g[_];p.current=null,this.ngOnChanges(g)}}function md(p,g,y,_,M){const A=this.declaredInputs[_],T=sc(p)||function ph(p,g){return p[rc]=g}(p,{previous:di,current:null}),F=T.current||(T.current={}),Y=T.previous,ge=Y[A];F[A]=new zi(ge&&ge.currentValue,y,Y===di),hu(p,g,M,y)}_a.ngInherit=!0;const rc="__ngSimpleChanges__";function sc(p){return p[rc]||null}const mo=function(p,g,y){};function Qr(p){for(;Array.isArray(p);)p=p[ps];return p}function ls(p,g){return Qr(g[p.index])}function ho(p,g){const y=g[p];return Me(y)?y:y[ps]}function lc(p){return!(128&~p[or])}function Uo(p,g){return null==g?null:p[g]}function Go(p){p[_l]=0}function gh(p){1024&p[or]||(p[or]|=1024,lc(p)&&gu(p))}function Jo(p){return!!(9216&p[or]||p[El]?.dirty)}function gd(p){p[fa].changeDetectionScheduler?.notify(7),64&p[or]&&(p[or]|=1024),Jo(p)&&gu(p)}function gu(p){p[fa].changeDetectionScheduler?.notify(0);let g=ja(p);for(;null!==g&&!(8192&g[or])&&(g[or]|=8192,lc(g));)g=ja(g)}function yu(p,g){if(!(256&~p[or]))throw new on(911,!1);null===p[ga]&&(p[ga]=[]),p[ga].push(g)}function ja(p){const g=p[so];return it(g)?g[so]:g}const hr={lFrame:yf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let yd=!1;function St(){return hr.bindingsEnabled}function qt(){return hr.lFrame.lView}function wr(){return hr.lFrame.tView}function Hr(){let p=Sl();for(;null!==p&&64===p.type;)p=p.parent;return p}function Sl(){return hr.lFrame.currentTNode}function Io(p,g){const y=hr.lFrame;y.currentTNode=p,y.isParent=g}function Ea(){return hr.lFrame.isParent}function In(){return yd}function Pn(p){yd=p}function fs(p,g){const y=hr.lFrame;y.bindingIndex=y.bindingRootIndex=p,ao(g)}function ao(p){hr.lFrame.currentDirectiveIndex=p}function bo(){return hr.lFrame.currentQueryIndex}function Qo(p){hr.lFrame.currentQueryIndex=p}function yo(p){const g=p[vn];return 2===g.type?g.declTNode:1===g.type?p[Fo]:null}function gf(p,g,y){if(y&xr.SkipSelf){let M=g,A=p;for(;!(M=M.parent,null!==M||y&xr.Host||(M=yo(A),null===M||(A=A[ec],10&M.type))););if(null===M)return!1;g=M,p=A}const _=hr.lFrame=hc();return _.currentTNode=g,_.lView=p,!0}function vh(p){const g=hc(),y=p[vn];hr.lFrame=g,g.currentTNode=y.firstChild,g.lView=p,g.tView=y,g.contextLView=p,g.bindingIndex=y.bindingStartIndex,g.inI18n=!1}function hc(){const p=hr.lFrame,g=null===p?null:p.child;return null===g?yf(p):g}function yf(p){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=g),g}function Eh(){const p=hr.lFrame;return hr.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const vd=Eh;function pc(){const p=Eh();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function Il(p){hr.lFrame.selectedIndex=p}let vf=!0;function ze(p,g){for(let y=g.directiveStart,_=g.directiveEnd;y<_;y++){const A=p.data[y].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:F,ngAfterViewInit:Y,ngAfterViewChecked:ge,ngOnDestroy:Re}=A;T&&(p.contentHooks??=[]).push(-y,T),F&&((p.contentHooks??=[]).push(y,F),(p.contentCheckHooks??=[]).push(y,F)),Y&&(p.viewHooks??=[]).push(-y,Y),ge&&((p.viewHooks??=[]).push(y,ge),(p.viewCheckHooks??=[]).push(y,ge)),null!=Re&&(p.destroyHooks??=[]).push(y,Re)}}function xt(p,g,y){Fr(p,g,3,y)}function pn(p,g,y,_){(3&p[or])===y&&Fr(p,g,y,_)}function Sn(p,g){let y=p[or];(3&y)===g&&(y&=16383,y+=1,p[or]=y)}function Fr(p,g,y,_){const A=_??-1,T=g.length-1;let F=0;for(let Y=void 0!==_?65535&p[_l]:0;Y<T;Y++)if("number"==typeof g[Y+1]){if(F=g[Y],null!=_&&F>=_)break}else g[Y]<0&&(p[_l]+=65536),(F<A||-1==A)&&(Ks(p,y,g,Y),p[_l]=(4294901760&p[_l])+Y+2),Y++}function gr(p,g){mo(4,p,g);const y=H(null);try{g.call(p)}finally{H(y),mo(5,p,g)}}function Ks(p,g,y,_){const M=y[_]<0,A=y[_+1],F=p[M?-y[_]:y[_]];M?p[or]>>14<p[_l]>>16&&(3&p[or])===g&&(p[or]+=16384,gr(F,A)):gr(F,A)}const is=-1;class vo{constructor(g,y,_){this.factory=g,this.resolving=!1,this.canSeeViewProviders=y,this.injectImpl=_}}function hn(p){return p!==is}function Ln(p){return 32767&p}function dr(p,g){let y=function Gn(p){return p>>16}(p),_=g;for(;y>0;)_=_[ec],y--;return _}let ts=!0;function As(p){const g=ts;return ts=p,g}const Ni=255,Bi=5;let Ah=0;const Yi={};function Am(p,g){const y=NA(p,g);if(-1!==y)return y;const _=g[vn];_.firstCreatePass&&(p.injectorIndex=g.length,y_(_.data,p),y_(g,null),y_(_.blueprint,null));const M=Dm(p,g),A=p.injectorIndex;if(hn(M)){const T=Ln(M),F=dr(M,g),Y=F[vn].data;for(let ge=0;ge<8;ge++)g[A+ge]=F[T+ge]|Y[T+ge]}return g[A+8]=M,A}function y_(p,g){p.push(0,0,0,0,0,0,0,0,g)}function NA(p,g){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===g[p.injectorIndex+8]?-1:p.injectorIndex}function Dm(p,g){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let y=0,_=null,M=g;for(;null!==M;){if(_=$A(M),null===_)return is;if(y++,M=M[ec],-1!==_.injectorIndex)return _.injectorIndex|y<<16}return is}function __(p,g,y){!function WR(p,g,y){let _;"string"==typeof y?_=y.charCodeAt(0)||0:y.hasOwnProperty(Ii)&&(_=y[Ii]),null==_&&(_=y[Ii]=Ah++);const M=_&Ni;g.data[p+(M>>Bi)]|=1<<M}(p,g,y)}function BA(p,g,y){if(y&xr.Optional||void 0!==p)return p;al()}function FA(p,g,y,_){if(y&xr.Optional&&void 0===_&&(_=null),!(y&(xr.Self|xr.Host))){const M=p[Pr],A=Zo(void 0);try{return M?M.get(g,_,y&xr.Optional):nh(g,_,y&xr.Optional)}finally{Zo(A)}}return BA(_,0,y)}function UA(p,g,y,_=xr.Default,M){if(null!==p){if(2048&g[or]&&!(_&xr.Self)){const T=function HR(p,g,y,_,M){let A=p,T=g;for(;null!==A&&null!==T&&2048&T[or]&&!(512&T[or]);){const F=jA(A,T,y,_|xr.Self,Yi);if(F!==Yi)return F;let Y=A.parent;if(!Y){const ge=T[vl];if(ge){const Re=ge.get(y,Yi,_);if(Re!==Yi)return Re}Y=$A(T),T=T[ec]}A=Y}return M}(p,g,y,_,Yi);if(T!==Yi)return T}const A=jA(p,g,y,_,Yi);if(A!==Yi)return A}return FA(g,y,_,M)}function jA(p,g,y,_,M){const A=function ZR(p){if("string"==typeof p)return p.charCodeAt(0)||0;const g=p.hasOwnProperty(Ii)?p[Ii]:void 0;return"number"==typeof g?g>=0?g&Ni:KR:g}(y);if("function"==typeof A){if(!gf(g,p,_))return _&xr.Host?BA(M,0,_):FA(g,y,_,M);try{let T;if(T=A(_),null!=T||_&xr.Optional)return T;al()}finally{vd()}}else if("number"==typeof A){let T=null,F=NA(p,g),Y=is,ge=_&xr.Host?g[Fs][Fo]:null;for((-1===F||_&xr.SkipSelf)&&(Y=-1===F?Dm(p,g):g[F+8],Y!==is&&WA(_,!1)?(T=g[vn],F=Ln(Y),g=dr(Y,g)):F=-1);-1!==F;){const Re=g[vn];if(kA(A,F,Re.data)){const Ve=VR(F,g,y,T,_,ge);if(Ve!==Yi)return Ve}Y=g[F+8],Y!==is&&WA(_,g[vn].data[F+8]===ge)&&kA(A,F,g)?(T=Re,F=Ln(Y),g=dr(Y,g)):F=-1}}return M}function VR(p,g,y,_,M,A){const T=g[vn],F=T.data[p+8],Re=Tm(F,T,y,null==_?Tt(F)&&ts:_!=T&&!!(3&F.type),M&xr.Host&&A===F);return null!==Re?Dd(g,T,Re,F):Yi}function Tm(p,g,y,_,M){const A=p.providerIndexes,T=g.data,F=1048575&A,Y=p.directiveStart,Re=A>>20,nt=M?F+Re:p.directiveEnd;for(let ft=_?F:F+Re;ft<nt;ft++){const It=T[ft];if(ft<Y&&y===It||ft>=Y&&It.type===y)return ft}if(M){const ft=T[Y];if(ft&&Bt(ft)&&ft.type===y)return Y}return null}function Dd(p,g,y,_){let M=p[y];const A=g.data;if(function Md(p){return p instanceof vo}(M)){const T=M;T.resolving&&function nf(p,g){throw g&&g.join(" > "),new on(-200,p)}(Wr(A[y]));const F=As(T.canSeeViewProviders);T.resolving=!0;const ge=T.injectImpl?Zo(T.injectImpl):null;gf(p,_,xr.Default);try{M=p[y]=T.factory(void 0,A,p,_),g.firstCreatePass&&y>=_.directiveStart&&function Ce(p,g,y){const{ngOnChanges:_,ngOnInit:M,ngDoCheck:A}=g.type.prototype;if(_){const T=Al(g);(y.preOrderHooks??=[]).push(p,T),(y.preOrderCheckHooks??=[]).push(p,T)}M&&(y.preOrderHooks??=[]).push(0-p,M),A&&((y.preOrderHooks??=[]).push(p,A),(y.preOrderCheckHooks??=[]).push(p,A))}(y,A[y],g)}finally{null!==ge&&Zo(ge),As(F),T.resolving=!1,vd()}}return M}function kA(p,g,y){return!!(y[g+(p>>Bi)]&1<<p)}function WA(p,g){return!(p&xr.Self||p&xr.Host&&g)}class jo{constructor(g,y){this._tNode=g,this._lView=y}get(g,y,_){return UA(this._tNode,this._lView,g,Zu(_),y)}}function KR(){return new jo(Hr(),qt())}function v_(p){return st(()=>{const g=p.prototype.constructor,y=g[Gi]||E_(g),_=Object.prototype;let M=Object.getPrototypeOf(p.prototype).constructor;for(;M&&M!==_;){const A=M[Gi]||E_(M);if(A&&A!==y)return A;M=Object.getPrototypeOf(M)}return A=>new A})}function E_(p){return as(p)?()=>{const g=E_(_n(p));return g&&g()}:Lo(p)}function $A(p){const g=p[vn],y=g.type;return 2===y?g.declTNode:1===y?p[Fo]:null}function GA(p,g=null,y=null,_){const M=zA(p,g,y,_);return M.resolveInjectorInitializers(),M}function zA(p,g=null,y=null,_,M=new Set){const A=[y||Vr,Ju(p)];return _=_||("object"==typeof p?void 0:zt(p)),new ss(A,g||Xn(),_||null,M)}class Xo{static#e=this.THROW_IF_NOT_FOUND=Ko;static#t=this.NULL=new la;static create(g,y){if(Array.isArray(g))return GA({name:""},y,g,"");{const _=g.name??"";return GA({name:_},g.parent,g.providers,_)}}static#n=this.\u0275prov=Jn({token:Xo,providedIn:"any",factory:()=>br(sd)});static#r=this.__NG_ELEMENT_ID__=-1}new xn("").__NG_ELEMENT_ID__=p=>{const g=Hr();if(null===g)throw new on(204,!1);if(2&g.type)return g.value;if(p&xr.Optional)return null;throw new on(204,!1)};function A_(p){return p.ngOriginalError}class Ma{constructor(){this._console=console}handleError(g){const y=this._findOriginalError(g);this._console.error("ERROR",g),y&&this._console.error("ORIGINAL ERROR",y)}_findOriginalError(g){let y=g&&A_(g);for(;y&&A_(y);)y=A_(y);return y||null}}const JA=new xn("",{providedIn:"root",factory:()=>fn(Ma).handleError.bind(void 0)});let Ch=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=nL;static#t=this.__NG_ENV_ID__=y=>y}return p})();class tL extends Ch{constructor(g){super(),this._lView=g}onDestroy(g){return yu(this._lView,g),()=>function uc(p,g){if(null===p[ga])return;const y=p[ga].indexOf(g);-1!==y&&p[ga].splice(y,1)}(this._lView,g)}}function nL(){return new tL(qt())}function rL(){return Sh(Hr(),qt())}function Sh(p,g){return new fc(ls(p,g))}let fc=(()=>{class p{constructor(y){this.nativeElement=y}static#e=this.__NG_ELEMENT_ID__=rL}return p})();function XA(p){return p instanceof fc?p.nativeElement:p}function D_(p){return g=>{setTimeout(p,void 0,g)}}const fi=class sL extends fr{constructor(g=!1){super(),this.destroyRef=void 0,this.__isAsync=g,function ch(){return void 0!==Hc()||null!=function Vu(){return ia}()}()&&(this.destroyRef=fn(Ch,{optional:!0})??void 0)}emit(g){const y=H(null);try{super.next(g)}finally{H(y)}}subscribe(g,y,_){let M=g,A=y||(()=>null),T=_;if(g&&"object"==typeof g){const Y=g;M=Y.next?.bind(Y),A=Y.error?.bind(Y),T=Y.complete?.bind(Y)}this.__isAsync&&(A=D_(A),M&&(M=D_(M)),T&&(T=D_(T)));const F=super.subscribe({next:M,error:A,complete:T});return g instanceof Xe&&g.add(F),F}};function oL(){return this._results[Symbol.iterator]()}class T_{static#e=Symbol.iterator;get changes(){return this._changes??=new fi}constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const y=T_.prototype;y[Symbol.iterator]||(y[Symbol.iterator]=oL)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,y){return this._results.reduce(g,y)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,y){this.dirty=!1;const _=function zs(p){return p.flat(Number.POSITIVE_INFINITY)}(g);(this._changesDetected=!function ih(p,g,y){if(p.length!==g.length)return!1;for(let _=0;_<p.length;_++){let M=p[_],A=g[_];if(y&&(M=y(M),A=y(A)),A!==M)return!1}return!0}(this._results,_,y))&&(this._results=_,this.length=_.length,this.last=_[this.length-1],this.first=_[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(g){this._onDirty=g}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Sm(p){return!(128&~p.flags)}const C_=new Map;let aL=0;const Om="__ngContext__";function ii(p,g){Me(g)?(p[Om]=g[Fa],function uL(p){C_.set(p[Fa],p)}(g)):p[Om]=g}function lD(p){return cD(p[dh])}function uD(p){return cD(p[pa])}function cD(p){for(;null!==p&&!it(p);)p=p[pa];return p}let I_;const Pm=new xn("",{providedIn:"root",factory:()=>IL}),IL="ng",_D=new xn(""),Oh=new xn("",{providedIn:"platform",factory:()=>"unknown"}),vD=new xn("",{providedIn:"root",factory:()=>function mc(){if(void 0!==I_)return I_;if(typeof document<"u")return document;throw new on(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ED=()=>null;function x_(p,g,y=!1){return ED(p,g,y)}const OD=new xn("",{providedIn:"root",factory:()=>!1});function Ji(p){return p instanceof Function?p():p}var yc=function(p){return p[p.Important=1]="Important",p[p.DashCase=2]="DashCase",p}(yc||{});let G_;function z_(p,g){return G_(p,g)}function xh(p,g,y,_,M){if(null!=_){let A,T=!1;it(_)?A=_:Me(_)&&(T=!0,_=_[ps]);const F=Qr(_);0===p&&null!==y?null==M?rT(g,y,F):Td(g,y,F,M||null,!0):1===p&&null!==y?Td(g,y,F,M||null,!0):2===p?function Lf(p,g,y){const _=Zm(p,g);_&&function Rx(p,g,y,_){p.removeChild(g,y,_)}(p,_,g,y)}(g,F,T):3===p&&g.destroyNode(F),null!=A&&function Nx(p,g,y,_,M){const A=y[ya];A!==Qr(y)&&xh(g,p,_,A,M);for(let F=ne;F<y.length;F++){const Y=y[F];Hm(Y[vn],Y,p,g,_,A)}}(g,p,A,y,M)}}function $m(p,g,y){return p.createElement(g,y)}function eT(p,g){g[fa].changeDetectionScheduler?.notify(8),Hm(p,g,g[Mn],2,null,null)}function tT(p,g){const y=p[k],_=g[so];(Me(_)||g[Fs]!==_[so][Fs])&&(p[or]|=Te.HasTransplantedViews),null===y?p[k]=[g]:y.push(g)}function Q_(p,g){const y=p[k],_=y.indexOf(g);y.splice(_,1)}function wf(p,g){if(p.length<=ne)return;const y=ne+g,_=p[y];if(_){const M=_[du];null!==M&&M!==p&&Q_(M,_),g>0&&(p[y-1][pa]=_[pa]);const A=Ku(p,ne+g);!function Sx(p,g){eT(p,g),g[ps]=null,g[Fo]=null}(_[vn],_);const T=A[Li];null!==T&&T.detachView(A[vn]),_[so]=null,_[pa]=null,_[or]&=-129}return _}function Vm(p,g){if(!(256&g[or])){const y=g[Mn];y.destroyNode&&Hm(p,g,y,3,null,null),function Ox(p){let g=p[dh];if(!g)return X_(p[vn],p);for(;g;){let y=null;if(Me(g))y=g[dh];else{const _=g[ne];_&&(y=_)}if(!y){for(;g&&!g[pa]&&g!==p;)Me(g)&&X_(g[vn],g),g=g[so];null===g&&(g=p),Me(g)&&X_(g[vn],g),y=g&&g[pa]}g=y}}(g)}}function X_(p,g){if(256&g[or])return;const y=H(null);try{g[or]&=-129,g[or]|=256,g[El]&&function R(p){if(ue(p),V(p))for(let g=0;g<p.producerNode.length;g++)K(p.producerNode[g],p.producerIndexOfThis[g]);p.producerNode.length=p.producerLastReadVersion.length=p.producerIndexOfThis.length=0,p.liveConsumerNode&&(p.liveConsumerNode.length=p.liveConsumerIndexOfThis.length=0)}(g[El]),function wx(p,g){let y;if(null!=p&&null!=(y=p.destroyHooks))for(let _=0;_<y.length;_+=2){const M=g[y[_]];if(!(M instanceof vo)){const A=y[_+1];if(Array.isArray(A))for(let T=0;T<A.length;T+=2){const F=M[A[T]],Y=A[T+1];mo(4,F,Y);try{Y.call(F)}finally{mo(5,F,Y)}}else{mo(4,M,A);try{A.call(M)}finally{mo(5,M,A)}}}}}(p,g),function Px(p,g){const y=p.cleanup,_=g[yl];if(null!==y)for(let A=0;A<y.length-1;A+=2)if("string"==typeof y[A]){const T=y[A+3];T>=0?_[T]():_[-T].unsubscribe(),A+=2}else y[A].call(_[y[A+1]]);null!==_&&(g[yl]=null);const M=g[ga];if(null!==M){g[ga]=null;for(let A=0;A<M.length;A++)(0,M[A])()}}(p,g),1===g[vn].type&&g[Mn].destroy();const _=g[du];if(null!==_&&it(g[so])){_!==g[so]&&Q_(_,g);const M=g[Li];null!==M&&M.detachView(p)}!function cL(p){C_.delete(p[Fa])}(g)}finally{H(y)}}function q_(p,g,y){return function nT(p,g,y){let _=g;for(;null!==_&&40&_.type;)_=(g=_).parent;if(null===_)return y[ps];{const{componentOffset:M}=_;if(M>-1){const{encapsulation:A}=p.data[_.directiveStart+M];if(A===Js.None||A===Js.Emulated)return null}return ls(_,y)}}(p,g.parent,y)}function Td(p,g,y,_,M){p.insertBefore(g,y,_,M)}function rT(p,g,y){p.appendChild(g,y)}function sT(p,g,y,_,M){null!==_?Td(p,g,y,_,M):rT(p,g,y)}function Zm(p,g){return p.parentNode(g)}let ev,aT=function iT(p,g,y){return 40&p.type?ls(p,y):null};function Km(p,g,y,_){const M=q_(p,_,g),A=g[Mn],F=function oT(p,g,y){return aT(p,g,y)}(_.parent||g[Fo],_,g);if(null!=M)if(Array.isArray(y))for(let Y=0;Y<y.length;Y++)sT(A,M,y[Y],F,!1);else sT(A,M,y,F,!1);void 0!==ev&&ev(A,_,g,y,M)}function Rf(p,g){if(null!==g){const y=g.type;if(3&y)return ls(g,p);if(4&y)return tv(-1,p[g.index]);if(8&y){const _=g.child;if(null!==_)return Rf(p,_);{const M=p[g.index];return it(M)?tv(-1,M):Qr(M)}}if(32&y)return z_(g,p)()||Qr(p[g.index]);{const _=uT(p,g);return null!==_?Array.isArray(_)?_[0]:Rf(ja(p[Fs]),_):Rf(p,g.next)}}return null}function uT(p,g){return null!==g?p[Fs][Fo].projection[g.projection]:null}function tv(p,g){const y=ne+p+1;if(y<g.length){const _=g[y],M=_[vn].firstChild;if(null!==M)return Rf(_,M)}return g[ya]}function nv(p,g,y,_,M,A,T){for(;null!=y;){const F=_[y.index],Y=y.type;if(T&&0===g&&(F&&ii(Qr(F),_),y.flags|=2),32&~y.flags)if(8&Y)nv(p,g,y.child,_,M,A,!1),xh(g,p,M,F,A);else if(32&Y){const ge=z_(y,_);let Re;for(;Re=ge();)xh(g,p,M,Re,A);xh(g,p,M,F,A)}else 16&Y?dT(p,g,_,y,M,A):xh(g,p,M,F,A);y=T?y.projectionNext:y.next}}function Hm(p,g,y,_,M,A){nv(y,_,p.firstChild,g,M,A,!1)}function dT(p,g,y,_,M,A){const T=y[Fs],Y=T[Fo].projection[_.projection];if(Array.isArray(Y))for(let ge=0;ge<Y.length;ge++)xh(g,p,M,Y[ge],A);else{let ge=Y;const Re=T[so];Sm(_)&&(ge.flags|=128),nv(p,g,ge,Re,M,A,!0)}}function hT(p,g,y){""===y?p.removeAttribute(g,"class"):p.setAttribute(g,"class",y)}function pT(p,g,y){const{mergedAttrs:_,classes:M,styles:A}=y;null!==_&&So(p,g,_),null!==M&&hT(p,g,M),null!==A&&function Fx(p,g,y){p.setAttribute(g,"style",y)}(p,g,A)}const Ir={};function Dr(p,g=xr.Default){const y=qt();return null===y?br(p,g):UA(Hr(),y,_n(p),g)}function mT(p,g,y,_,M,A){const T=H(null);try{let F=null;M&ua.SignalBased&&(F=g[_][P]),null!==F&&void 0!==F.transformFn&&(A=F.transformFn(A)),M&ua.HasDecoratorInputTransform&&(A=p.inputTransforms[_].call(g,A)),null!==p.setInput?p.setInput(g,F,A,y,_):hu(g,F,_,A)}finally{H(T)}}function Gm(p,g,y,_,M,A,T,F,Y,ge,Re){const Ve=g.blueprint.slice();return Ve[ps]=M,Ve[or]=204|_,(null!==ge||p&&2048&p[or])&&(Ve[or]|=2048),Go(Ve),Ve[so]=Ve[ec]=p,Ve[Yr]=y,Ve[fa]=T||p&&p[fa],Ve[Mn]=F||p&&p[Mn],Ve[Pr]=Y||p&&p[Pr]||null,Ve[Fo]=A,Ve[Fa]=function lL(){return aL++}(),Ve[fo]=Re,Ve[vl]=ge,Ve[Fs]=2==g.type?p[Fs]:Ve,Ve}function Nh(p,g,y,_,M){let A=p.data[g];if(null===A)A=function rv(p,g,y,_,M){const A=Sl(),T=Ea(),Y=p.data[g]=function Gx(p,g,y,_,M,A){let T=g?g.injectorIndex:-1,F=0;return function ka(){return null!==hr.skipHydrationRootTNode}()&&(F|=128),{type:y,index:_,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:F,providerIndexes:0,value:M,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?A:A&&A.parent,y,g,_,M);return null===p.firstChild&&(p.firstChild=Y),null!==A&&(T?null==A.child&&null!==Y.parent&&(A.child=Y):null===A.next&&(A.next=Y,Y.prev=A)),Y}(p,g,y,_,M),function $r(){return hr.lFrame.inI18n}()&&(A.flags|=32);else if(64&A.type){A.type=y,A.value=_,A.attrs=M;const T=function Wa(){const p=hr.lFrame,g=p.currentTNode;return p.isParent?g:g.parent}();A.injectorIndex=null===T?-1:T.injectorIndex}return Io(A,!0),A}function xf(p,g,y,_){if(0===y)return-1;const M=g.length;for(let A=0;A<y;A++)g.push(_),p.blueprint.push(_),p.data.push(null);return M}function gT(p,g,y,_,M){const A=function _o(){return hr.lFrame.selectedIndex}(),T=2&_;try{Il(-1),T&&g.length>sr&&function fT(p,g,y,_){if(!_)if(3&~g[or]){const A=p.preOrderHooks;null!==A&&pn(g,A,0,y)}else{const A=p.preOrderCheckHooks;null!==A&&xt(g,A,y)}Il(y)}(p,g,sr,!1),mo(T?2:0,M),y(_,M)}finally{Il(A),mo(T?3:1,M)}}function sv(p,g,y){if(ct(g)){const _=H(null);try{const A=g.directiveEnd;for(let T=g.directiveStart;T<A;T++){const F=p.data[T];F.contentQueries&&F.contentQueries(1,y[T],T)}}finally{H(_)}}}function yT(p){const g=p.tView;return null===g||g.incompleteFirstPass?p.tView=av(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts,p.id):g}function av(p,g,y,_,M,A,T,F,Y,ge,Re){const Ve=sr+_,nt=Ve+M,ft=function Wx(p,g){const y=[];for(let _=0;_<g;_++)y.push(_<p?null:Ir);return y}(Ve,nt),It="function"==typeof ge?ge():ge;return ft[vn]={type:p,blueprint:ft,template:y,queries:null,viewQuery:F,declTNode:g,data:ft.slice().fill(null,Ve),bindingStartIndex:Ve,expandoStartIndex:nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:Y,consts:It,incompleteFirstPass:!1,ssrId:Re}}let _T=()=>null;function vT(p,g,y,_,M){for(let A in g){if(!g.hasOwnProperty(A))continue;const T=g[A];if(void 0===T)continue;_??={};let F,Y=ua.None;Array.isArray(T)?(F=T[0],Y=T[1]):F=T;let ge=A;if(null!==M){if(!M.hasOwnProperty(A))continue;ge=M[A]}0===p?ET(_,y,ge,F,Y):ET(_,y,ge,F)}return _}function ET(p,g,y,_,M){let A;p.hasOwnProperty(y)?(A=p[y]).push(g,_):A=p[y]=[g,_],void 0!==M&&A.push(M)}function MT(p,g,y,_,M,A){for(let ge=0;ge<_.length;ge++)__(Am(y,g),p,_[ge].type);!function oN(p,g,y){p.flags|=1,p.directiveStart=g,p.directiveEnd=g+y,p.providerIndexes=g}(y,p.data.length,_.length);for(let ge=0;ge<_.length;ge++){const Re=_[ge];Re.providersResolver&&Re.providersResolver(Re)}let T=!1,F=!1,Y=xf(p,g,_.length,null);for(let ge=0;ge<_.length;ge++){const Re=_[ge];y.mergedAttrs=dl(y.mergedAttrs,Re.hostAttrs),iN(p,y,g,Y,Re),sN(Y,Re,M),null!==Re.contentQueries&&(y.flags|=4),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(y.flags|=64);const Ve=Re.type.prototype;!T&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((p.preOrderHooks??=[]).push(y.index),T=!0),!F&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((p.preOrderCheckHooks??=[]).push(y.index),F=!0),Y++}!function zx(p,g,y){const M=g.directiveEnd,A=p.data,T=g.attrs,F=[];let Y=null,ge=null;for(let Re=g.directiveStart;Re<M;Re++){const Ve=A[Re],nt=y?y.get(Ve):null,It=nt?nt.outputs:null;Y=vT(0,Ve.inputs,Re,Y,nt?nt.inputs:null),ge=vT(1,Ve.outputs,Re,ge,It);const Ut=null===Y||null===T||id(g)?null:uN(Y,Re,T);F.push(Ut)}null!==Y&&(Y.hasOwnProperty("class")&&(g.flags|=8),Y.hasOwnProperty("style")&&(g.flags|=16)),g.initialInputs=F,g.inputs=Y,g.outputs=ge}(p,y,A)}function AT(p,g,y){const _=y.directiveStart,M=y.directiveEnd,A=y.index,T=function go(){return hr.lFrame.currentDirectiveIndex}();try{Il(A);for(let F=_;F<M;F++){const Y=p.data[F],ge=g[F];ao(F),(null!==Y.hostBindings||0!==Y.hostVars||null!==Y.hostAttrs)&&tN(Y,ge)}}finally{Il(-1),ao(T)}}function tN(p,g){null!==p.hostBindings&&p.hostBindings(1,g)}function uv(p,g,y){g.componentOffset=y,(p.components??=[]).push(g.index)}function sN(p,g,y){if(y){if(g.exportAs)for(let _=0;_<g.exportAs.length;_++)y[g.exportAs[_]]=p;Bt(g)&&(y[""]=p)}}function iN(p,g,y,_,M){p.data[_]=M;const A=M.factory||(M.factory=Lo(M.type)),T=new vo(A,Bt(M),Dr);p.blueprint[_]=T,y[_]=T,function Xx(p,g,y,_,M){const A=M.hostBindings;if(A){let T=p.hostBindingOpCodes;null===T&&(T=p.hostBindingOpCodes=[]);const F=~g.index;(function qx(p){let g=p.length;for(;g>0;){const y=p[--g];if("number"==typeof y&&y<0)return y}return 0})(T)!=F&&T.push(F),T.push(y,_,A)}}(p,g,_,xf(p,y,M.hostVars,Ir),M)}function lN(p,g,y,_,M,A){const T=A[g];if(null!==T)for(let F=0;F<T.length;)mT(_,y,T[F++],T[F++],T[F++],T[F++])}function uN(p,g,y){let _=null,M=0;for(;M<y.length;){const A=y[M];if(0!==A)if(5!==A){if("number"==typeof A)break;if(p.hasOwnProperty(A)){null===_&&(_=[]);const T=p[A];for(let F=0;F<T.length;F+=3)if(T[F]===g){_.push(A,T[F+1],T[F+2],y[M+1]);break}}M+=2}else M+=2;else M+=4}return _}function TT(p,g){const y=p.contentQueries;if(null!==y){const _=H(null);try{for(let M=0;M<y.length;M+=2){const T=y[M+1];if(-1!==T){const F=p.data[T];Qo(y[M]),F.contentQueries(2,g[T],T)}}}finally{H(_)}}}function zm(p,g){return p[dh]?p[ma][pa]=g:p[dh]=g,p[ma]=g,g}function dv(p,g,y){Qo(0);const _=H(null);try{g(p,y)}finally{H(_)}}function hv(p,g,y,_,M){for(let A=0;A<y.length;){const T=y[A++],F=y[A++],Y=y[A++];mT(p.data[T],g[T],_,F,Y,M)}}function cN(p,g){const y=ho(g,p),_=y[vn];!function dN(p,g){for(let y=g.length;y<p.blueprint.length;y++)g.push(p.blueprint[y])}(_,y);const M=y[ps];null!==M&&null===y[fo]&&(y[fo]=x_(M,y[Pr])),pv(_,y,y[Yr])}function pv(p,g,y){vh(g);try{const _=p.viewQuery;null!==_&&dv(1,_,y);const M=p.template;null!==M&&gT(p,g,M,1,y),p.firstCreatePass&&(p.firstCreatePass=!1),g[Li]?.finishViewCreation(p),p.staticContentQueries&&TT(p,g),p.staticViewQueries&&dv(2,p.viewQuery,y);const A=p.components;null!==A&&function hN(p,g){for(let y=0;y<g.length;y++)cN(p,g[y])}(g,A)}catch(_){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),_}finally{g[or]&=-5,pc()}}function Cd(p,g){return!g||null===g.firstChild||Sm(p)}function Nf(p,g,y,_,M=!1){for(;null!==y;){const A=g[y.index];null!==A&&_.push(Qr(A)),it(A)&&bT(A,_);const T=y.type;if(8&T)Nf(p,g,y.child,_);else if(32&T){const F=z_(y,g);let Y;for(;Y=F();)_.push(Y)}else if(16&T){const F=uT(g,y);if(Array.isArray(F))_.push(...F);else{const Y=ja(g[Fs]);Nf(Y[vn],Y,F,_,!0)}}y=M?y.projectionNext:y.next}return _}function bT(p,g){for(let y=ne;y<p.length;y++){const _=p[y],M=_[vn].firstChild;null!==M&&Nf(_[vn],_,M,g)}p[ya]!==p[ps]&&g.push(p[ya])}let PT=[];const gN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:p=>{gu(p.lView)},consumerOnSignalRead(){this.lView[El]=this}},yN=100;function Jm(p,g=!0,y=0){const _=p[fa],M=_.rendererFactory;M.begin?.();try{!function _N(p,g){const y=In();try{Pn(!0),mv(p,g);let _=0;for(;Jo(p);){if(_===yN)throw new on(103,!1);_++,mv(p,1)}}finally{Pn(y)}}(p,y)}catch(T){throw g&&function Ym(p,g){const y=p[Pr],_=y?y.get(Ma,null):null;_&&_.handleError(g)}(p,T),T}finally{M.end?.(),_.inlineEffectRunner?.flush()}}function vN(p,g,y,_){const M=g[or];if(!(256&~M))return;g[fa].inlineEffectRunner?.flush(),vh(g);let F=null,Y=null;(function EN(p){return 2!==p.type})(p)&&(Y=function pN(p){return p[El]??function fN(p){const g=PT.pop()??Object.create(gN);return g.lView=p,g}(p)}(g),F=function C(p){return p&&(p.nextProducerIndex=0),H(p)}(Y));try{Go(g),function Nr(p){return hr.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==y&&gT(p,g,y,2,_);const ge=!(3&~M);if(ge){const nt=p.preOrderCheckHooks;null!==nt&&xt(g,nt,null)}else{const nt=p.preOrderHooks;null!==nt&&pn(g,nt,0,null),Sn(g,0)}if(function MN(p){for(let g=lD(p);null!==g;g=uD(g)){if(!(g[or]&Te.HasTransplantedViews))continue;const y=g[k];for(let _=0;_<y.length;_++)gh(y[_])}}(g),RT(g,0),null!==p.contentQueries&&TT(p,g),ge){const nt=p.contentCheckHooks;null!==nt&&xt(g,nt)}else{const nt=p.contentHooks;null!==nt&&pn(g,nt,1),Sn(g,1)}!function kx(p,g){const y=p.hostBindingOpCodes;if(null!==y)try{for(let _=0;_<y.length;_++){const M=y[_];if(M<0)Il(~M);else{const A=M,T=y[++_],F=y[++_];fs(T,A),F(2,g[A])}}}finally{Il(-1)}}(p,g);const Re=p.components;null!==Re&&xT(g,Re,0);const Ve=p.viewQuery;if(null!==Ve&&dv(2,Ve,_),ge){const nt=p.viewCheckHooks;null!==nt&&xt(g,nt)}else{const nt=p.viewHooks;null!==nt&&pn(g,nt,2),Sn(g,2)}if(!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),g[pd]){for(const nt of g[pd])nt();g[pd]=null}g[or]&=-73}catch(ge){throw gu(g),ge}finally{null!==Y&&(function b(p,g){if(H(g),p&&void 0!==p.producerNode&&void 0!==p.producerIndexOfThis&&void 0!==p.producerLastReadVersion){if(V(p))for(let y=p.nextProducerIndex;y<p.producerNode.length;y++)K(p.producerNode[y],p.producerIndexOfThis[y]);for(;p.producerNode.length>p.nextProducerIndex;)p.producerNode.pop(),p.producerLastReadVersion.pop(),p.producerIndexOfThis.pop()}}(Y,F),function mN(p){p.lView[El]!==p&&(p.lView=null,PT.push(p))}(Y)),pc()}}function RT(p,g){for(let y=lD(p);null!==y;y=uD(y))for(let _=ne;_<y.length;_++)LT(y[_],g)}function AN(p,g,y){LT(ho(g,p),y)}function LT(p,g){lc(p)&&mv(p,g)}function mv(p,g){const _=p[vn],M=p[or],A=p[El];let T=!!(0===g&&16&M);if(T||=!!(64&M&&0===g),T||=!!(1024&M),T||=!(!A?.dirty||!x(A)),T||=!1,A&&(A.dirty=!1),p[or]&=-9217,T)vN(_,p,_.template,p[Yr]);else if(8192&M){RT(p,1);const F=_.components;null!==F&&xT(p,F,1)}}function xT(p,g,y){for(let _=0;_<g.length;_++)AN(p,g[_],y)}function Bf(p,g){const y=In()?64:1088;for(p[fa].changeDetectionScheduler?.notify(g);p;){p[or]|=y;const _=ja(p);if(Vt(p)&&!_)return p;p=_}return null}class Ff{get rootNodes(){const g=this._lView,y=g[vn];return Nf(y,g,y.firstChild,[])}constructor(g,y,_=!0){this._lView=g,this._cdRefInjectingView=y,this.notifyErrorHandler=_,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(g){this._lView[Yr]=g}get destroyed(){return!(256&~this._lView[or])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[so];if(it(g)){const y=g[8],_=y?y.indexOf(this):-1;_>-1&&(wf(g,_),Ku(y,_))}this._attachedToViewContainer=!1}Vm(this._lView[vn],this._lView)}onDestroy(g){yu(this._lView,g)}markForCheck(){Bf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[or]&=-129}reattach(){gd(this._lView),this._lView[or]|=128}detectChanges(){this._lView[or]|=1024,Jm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new on(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const g=Vt(this._lView),y=this._lView[du];null!==y&&!g&&Q_(y,this._lView),eT(this._lView[vn],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new on(902,!1);this._appRef=g;const y=Vt(this._lView),_=this._lView[du];null!==_&&!y&&tT(_,this._lView),gd(this._lView)}}let Au=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=CN}return p})();const DN=Au,TN=class extends DN{constructor(g,y,_){super(),this._declarationLView=g,this._declarationTContainer=y,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(g,y){return this.createEmbeddedViewImpl(g,y)}createEmbeddedViewImpl(g,y,_){const M=function Bh(p,g,y,_){const M=H(null);try{const A=g.tView,Y=Gm(p,A,y,4096&p[or]?4096:16,null,g,null,null,_?.injector??null,_?.embeddedViewInjector??null,_?.dehydratedView??null);Y[du]=p[g.index];const Re=p[Li];return null!==Re&&(Y[Li]=Re.createEmbeddedView(A)),pv(A,Y,y),Y}finally{H(M)}}(this._declarationLView,this._declarationTContainer,g,{embeddedViewInjector:y,dehydratedView:_});return new Ff(M)}};function CN(){return Qm(Hr(),qt())}function Qm(p,g){return 4&p.type?new TN(g,p,Sh(p,g)):null}class Kf{}const Hf=new xn("",{providedIn:"root",factory:()=>!1}),tC=new xn("");class h6{}class nC{}class f6{resolveComponentFactory(g){throw function p6(p){const g=Error(`No component factory found for ${zt(p)}.`);return g.ngComponent=p,g}(g)}}class ng{static#e=this.NULL=new f6}class Cv{}let g6=(()=>{class p{static#e=this.\u0275prov=Jn({token:p,providedIn:"root",factory:()=>null})}return p})();const Sv={},sC=new Set;function Qi(p){sC.has(p)||(sC.add(p),performance?.mark?.("mark_feature_usage",{detail:{feature:p}}))}function oC(p){let g=!0;return setTimeout(()=>{g&&(g=!1,p())}),"function"==typeof At.requestAnimationFrame&&At.requestAnimationFrame(()=>{g&&(g=!1,p())}),()=>{g=!1}}function iC(p){let g=!0;return queueMicrotask(()=>{g&&p()}),()=>{g=!1}}function aC(...p){}class Ds{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:y=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fi(!1),this.onMicrotaskEmpty=new fi(!1),this.onStable=new fi(!1),this.onError=new fi(!1),typeof Zone>"u")throw new on(908,!1);Zone.assertZonePatched();const M=this;M._nesting=0,M._outer=M._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(M._inner=M._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(M._inner=M._inner.fork(Zone.longStackTraceZoneSpec)),M.shouldCoalesceEventChangeDetection=!_&&y,M.shouldCoalesceRunChangeDetection=_,M.callbackScheduled=!1,function v6(p){const g=()=>{!function _6(p){p.isCheckStableRunning||p.callbackScheduled||(p.callbackScheduled=!0,Zone.root.run(()=>{oC(()=>{p.callbackScheduled=!1,Ov(p),p.isCheckStableRunning=!0,Iv(p),p.isCheckStableRunning=!1})}),Ov(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(y,_,M,A,T,F)=>{if(function E6(p){return cC(p,"__ignore_ng_zone__")}(F))return y.invokeTask(M,A,T,F);try{return lC(p),y.invokeTask(M,A,T,F)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||p.shouldCoalesceRunChangeDetection)&&g(),uC(p)}},onInvoke:(y,_,M,A,T,F,Y)=>{try{return lC(p),y.invoke(M,A,T,F,Y)}finally{p.shouldCoalesceRunChangeDetection&&!p.callbackScheduled&&!function M6(p){return cC(p,"__scheduler_tick__")}(F)&&g(),uC(p)}},onHasTask:(y,_,M,A)=>{y.hasTask(M,A),_===M&&("microTask"==A.change?(p._hasPendingMicrotasks=A.microTask,Ov(p),Iv(p)):"macroTask"==A.change&&(p.hasPendingMacrotasks=A.macroTask))},onHandleError:(y,_,M,A)=>(y.handleError(M,A),p.runOutsideAngular(()=>p.onError.emit(A)),!1)})}(M)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new on(909,!1)}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new on(909,!1)}run(g,y,_){return this._inner.run(g,y,_)}runTask(g,y,_,M){const A=this._inner,T=A.scheduleEventTask("NgZoneEvent: "+M,g,y6,aC,aC);try{return A.runTask(T,y,_)}finally{A.cancelTask(T)}}runGuarded(g,y,_){return this._inner.runGuarded(g,y,_)}runOutsideAngular(g){return this._outer.run(g)}}const y6={};function Iv(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function Ov(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&!0===p.callbackScheduled)}function lC(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function uC(p){p._nesting--,Iv(p)}class bv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fi,this.onMicrotaskEmpty=new fi,this.onStable=new fi,this.onError=new fi}run(g,y,_){return g.apply(y,_)}runGuarded(g,y,_){return g.apply(y,_)}runOutsideAngular(g){return g()}runTask(g,y,_,M){return g.apply(y,_)}}function cC(p,g){return!(!Array.isArray(p)||1!==p.length)&&!0===p[0]?.data?.[g]}let Gf=(()=>{class p{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const y=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const _ of y)_()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Jn({token:p,providedIn:"root",factory:()=>new p})}return p})();function og(p,g,y){let _=y?p.styles:null,M=y?p.classes:null,A=0;if(null!==g)for(let T=0;T<g.length;T++){const F=g[T];"number"==typeof F?A=F:1==A?M=gn(M,F):2==A&&(_=gn(_,F+": "+g[++T]+";"))}y?p.styles=_:p.stylesWithoutHost=_,y?p.classes=M:p.classesWithoutHost=M}class gC extends ng{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const y=Sr(g);return new Jf(y,this.ngModule)}}function yC(p){const g=[];for(const y in p){if(!p.hasOwnProperty(y))continue;const _=p[y];void 0!==_&&g.push({propName:Array.isArray(_)?_[0]:_,templateName:y})}return g}class ig{constructor(g,y){this.injector=g,this.parentInjector=y}get(g,y,_){_=Zu(_);const M=this.injector.get(g,Sv,_);return M!==Sv||y===Sv?M:this.parentInjector.get(g,y,_)}}class Jf extends nC{get inputs(){const g=this.componentDef,y=g.inputTransforms,_=yC(g.inputs);if(null!==y)for(const M of _)y.hasOwnProperty(M.propName)&&(M.transform=y[M.propName]);return _}get outputs(){return yC(this.componentDef.outputs)}constructor(g,y){super(),this.componentDef=g,this.ngModule=y,this.componentType=g.type,this.selector=function Gu(p){return p.map(uh).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!y}create(g,y,_,M){const A=H(null);try{let T=(M=M||this.ngModule)instanceof ar?M:M?.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const F=T?new ig(g,T):g,Y=F.get(Cv,null);if(null===Y)throw new on(407,!1);const ge=F.get(g6,null),nt={rendererFactory:Y,sanitizer:ge,inlineEffectRunner:null,afterRenderEventManager:F.get(Gf,null),changeDetectionScheduler:F.get(Kf,null)},ft=Y.createRenderer(null,this.componentDef),It=this.componentDef.selectors[0][0]||"div",Ut=_?function $x(p,g,y,_){const A=_.get(OD,!1)||y===Js.ShadowDom,T=p.selectRootElement(g,A);return function Vx(p){_T(p)}(T),T}(ft,_,this.componentDef.encapsulation,F):$m(ft,It,function I6(p){const g=p.toLowerCase();return"svg"===g?"svg":"math"===g?"math":null}(It));let Jt=512;this.componentDef.signals?Jt|=4096:this.componentDef.onPush||(Jt|=16);let rn=null;null!==Ut&&(rn=x_(Ut,F,!0));const Yt=av(0,null,null,1,0,null,null,null,null,null,null),Tn=Gm(null,Yt,null,Jt,null,null,nt,ft,F,null,rn);let Zn,Ar;vh(Tn);try{const rs=this.componentDef;let To,ef=null;rs.findHostDirectiveDefs?(To=[],ef=new Map,rs.findHostDirectiveDefs(rs,To,ef),To.push(rs)):To=[rs];const LR=function b6(p,g){const y=p[vn],_=sr;return p[_]=g,Nh(y,_,2,"#host",null)}(Tn,Ut),NH=function P6(p,g,y,_,M,A,T){const F=M[vn];!function w6(p,g,y,_){for(const M of p)g.mergedAttrs=dl(g.mergedAttrs,M.hostAttrs);null!==g.mergedAttrs&&(og(g,g.mergedAttrs,!0),null!==y&&pT(_,y,g))}(_,p,g,T);let Y=null;null!==g&&(Y=x_(g,M[Pr]));const ge=A.rendererFactory.createRenderer(g,y);let Re=16;y.signals?Re=4096:y.onPush&&(Re=64);const Ve=Gm(M,yT(y),null,Re,M[p.index],p,A,ge,null,null,Y);return F.firstCreatePass&&uv(F,p,_.length-1),zm(M,Ve),M[p.index]=Ve}(LR,Ut,rs,To,Tn,nt,ft);Ar=function mu(p,g){return p.data[g]}(Yt,sr),Ut&&function L6(p,g,y,_){if(_)So(p,y,["ng-version","18.0.0"]);else{const{attrs:M,classes:A}=function zu(p){const g=[],y=[];let _=1,M=2;for(;_<p.length;){let A=p[_];if("string"==typeof A)2===M?""!==A&&g.push(A,p[++_]):8===M&&y.push(A);else{if(!Ho(M))break;M=A}_++}return{attrs:g,classes:y}}(g.selectors[0]);M&&So(p,y,M),A&&A.length>0&&hT(p,y,A.join(" "))}}(ft,rs,Ut,_),void 0!==y&&function x6(p,g,y){const _=p.projection=[];for(let M=0;M<g.length;M++){const A=y[M];_.push(null!=A?Array.from(A):null)}}(Ar,this.ngContentSelectors,y),Zn=function R6(p,g,y,_,M,A){const T=Hr(),F=M[vn],Y=ls(T,M);MT(F,M,T,y,null,_);for(let Re=0;Re<y.length;Re++)ii(Dd(M,F,T.directiveStart+Re,T),M);AT(F,M,T),Y&&ii(Y,M);const ge=Dd(M,F,T.directiveStart+T.componentOffset,T);if(p[Yr]=M[Yr]=ge,null!==A)for(const Re of A)Re(ge,g);return sv(F,T,M),ge}(NH,rs,To,ef,Tn,[N6]),pv(Yt,Tn,null)}finally{pc()}return new O6(this.componentType,Zn,Sh(Ar,Tn),Tn,Ar)}finally{H(A)}}}class O6 extends h6{constructor(g,y,_,M,A){super(),this.location=_,this._rootLView=M,this._tNode=A,this.previousInputValues=null,this.instance=y,this.hostView=this.changeDetectorRef=new Ff(M,void 0,!1),this.componentType=g}setInput(g,y){const _=this._tNode.inputs;let M;if(null!==_&&(M=_[g])){if(this.previousInputValues??=new Map,this.previousInputValues.has(g)&&Object.is(this.previousInputValues.get(g),y))return;const A=this._rootLView;hv(A[vn],A,M,g,y),this.previousInputValues.set(g,y),Bf(ho(this._tNode.index,A),1)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}function N6(){const p=Hr();ze(qt()[vn],p)}let $a=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=B6}return p})();function B6(){return EC(Hr(),qt())}const F6=$a,_C=class extends F6{constructor(g,y,_){super(),this._lContainer=g,this._hostTNode=y,this._hostLView=_}get element(){return Sh(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const g=Dm(this._hostTNode,this._hostLView);if(hn(g)){const y=dr(g,this._hostLView),_=Ln(g);return new jo(y[vn].data[_+8],y)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const y=vC(this._lContainer);return null!==y&&y[g]||null}get length(){return this._lContainer.length-ne}createEmbeddedView(g,y,_){let M,A;"number"==typeof _?M=_:null!=_&&(M=_.index,A=_.injector);const F=g.createEmbeddedViewImpl(y||{},A,null);return this.insertImpl(F,M,Cd(this._hostTNode,null)),F}createComponent(g,y,_,M,A){const T=g&&!function uu(p){return"function"==typeof p}(g);let F;if(T)F=y;else{const It=y||{};F=It.index,_=It.injector,M=It.projectableNodes,A=It.environmentInjector||It.ngModuleRef}const Y=T?g:new Jf(Sr(g)),ge=_||this.parentInjector;if(!A&&null==Y.ngModule){const Ut=(T?ge:this.parentInjector).get(ar,null);Ut&&(A=Ut)}Sr(Y.componentType??{});const ft=Y.create(ge,M,null,A);return this.insertImpl(ft.hostView,F,Cd(this._hostTNode,null)),ft}insert(g,y){return this.insertImpl(g,y,!0)}insertImpl(g,y,_){const M=g._lView;if(function Cl(p){return it(p[so])}(M)){const F=this.indexOf(g);if(-1!==F)this.detach(F);else{const Y=M[so],ge=new _C(Y,Y[Fo],Y[so]);ge.detach(ge.indexOf(g))}}const A=this._adjustIndex(y),T=this._lContainer;return function Fh(p,g,y,_=!0){const M=g[vn];if(function bx(p,g,y,_){const M=ne+_,A=y.length;_>0&&(y[M-1][pa]=g),_<A-ne?(g[pa]=y[M],td(y,ne+_,g)):(y.push(g),g[pa]=null),g[so]=y;const T=g[du];null!==T&&y!==T&&tT(T,g);const F=g[Li];null!==F&&F.insertView(p),gd(g),g[or]|=128}(M,g,p,y),_){const T=tv(y,p),F=g[Mn],Y=Zm(F,p[ya]);null!==Y&&function Ix(p,g,y,_,M,A){_[ps]=M,_[Fo]=g,Hm(p,_,y,1,M,A)}(M,p[Fo],F,g,Y,T)}const A=g[fo];null!==A&&null!==A.firstChild&&(A.firstChild=null)}(T,M,A,_),g.attachToViewContainerRef(),td(Lv(T),A,g),g}move(g,y){return this.insert(g,y)}indexOf(g){const y=vC(this._lContainer);return null!==y?y.indexOf(g):-1}remove(g){const y=this._adjustIndex(g,-1),_=wf(this._lContainer,y);_&&(Ku(Lv(this._lContainer),y),Vm(_[vn],_))}detach(g){const y=this._adjustIndex(g,-1),_=wf(this._lContainer,y);return _&&null!=Ku(Lv(this._lContainer),y)?new Ff(_):null}_adjustIndex(g,y=0){return g??this.length+y}};function vC(p){return p[8]}function Lv(p){return p[8]||(p[8]=[])}function EC(p,g){let y;const _=g[p.index];return it(_)?y=_:(y=function DT(p,g,y,_){return[p,!0,0,g,null,_,null,y,null,null]}(_,g,null,p),g[p.index]=y,zm(g,y)),MC(y,g,p,_),new _C(y,p,g)}let MC=function DC(p,g,y,_){if(p[ya])return;let M;M=8&y.type?Qr(_):function U6(p,g){const y=p[Mn],_=y.createComment(""),M=ls(g,p);return Td(y,Zm(y,M),_,function Lx(p,g){return p.nextSibling(g)}(y,M),!1),_}(g,y),p[ya]=M};class Nv{constructor(g){this.queryList=g,this.matches=null}clone(){return new Nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bv{constructor(g=[]){this.queries=g}createEmbeddedView(g){const y=g.queries;if(null!==y){const _=null!==g.contentQueries?g.contentQueries[0]:y.length,M=[];for(let A=0;A<_;A++){const T=y.getByIndex(A);M.push(this.queries[T.indexInDeclarationView].clone())}return new Bv(M)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}finishViewCreation(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let y=0;y<this.queries.length;y++)null!==Wv(g,y).matches&&this.queries[y].setDirty()}}class TC{constructor(g,y,_=null){this.flags=y,this.read=_,this.predicate="string"==typeof g?function H6(p){return p.split(",").map(g=>g.trim())}(g):g}}class Fv{constructor(g=[]){this.queries=g}elementStart(g,y){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(g,y)}elementEnd(g){for(let y=0;y<this.queries.length;y++)this.queries[y].elementEnd(g)}embeddedTView(g){let y=null;for(let _=0;_<this.length;_++){const M=null!==y?y.length:0,A=this.getByIndex(_).embeddedTView(g,M);A&&(A.indexInDeclarationView=_,null!==y?y.push(A):y=[A])}return null!==y?new Fv(y):null}template(g,y){for(let _=0;_<this.queries.length;_++)this.queries[_].template(g,y)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class Uv{constructor(g,y=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=y}elementStart(g,y){this.isApplyingToNode(y)&&this.matchTNode(g,y)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,y){this.elementStart(g,y)}embeddedTView(g,y){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,y),new Uv(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1&~this.metadata.flags){const y=this._declarationNodeIndex;let _=g.parent;for(;null!==_&&8&_.type&&_.index!==y;)_=_.parent;return y===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(g,y){const _=this.metadata.predicate;if(Array.isArray(_))for(let M=0;M<_.length;M++){const A=_[M];this.matchTNodeWithReadOption(g,y,$6(y,A)),this.matchTNodeWithReadOption(g,y,Tm(y,g,A,!1,!1))}else _===Au?4&y.type&&this.matchTNodeWithReadOption(g,y,-1):this.matchTNodeWithReadOption(g,y,Tm(y,g,_,!1,!1))}matchTNodeWithReadOption(g,y,_){if(null!==_){const M=this.metadata.read;if(null!==M)if(M===fc||M===$a||M===Au&&4&y.type)this.addMatch(y.index,-2);else{const A=Tm(y,g,M,!1,!1);null!==A&&this.addMatch(y.index,A)}else this.addMatch(y.index,_)}}addMatch(g,y){null===this.matches?this.matches=[g,y]:this.matches.push(g,y)}}function $6(p,g){const y=p.localNames;if(null!==y)for(let _=0;_<y.length;_+=2)if(y[_]===g)return y[_+1];return null}function Z6(p,g,y,_){return-1===y?function V6(p,g){return 11&p.type?Sh(p,g):4&p.type?Qm(p,g):null}(g,p):-2===y?function K6(p,g,y){return y===fc?Sh(g,p):y===Au?Qm(g,p):y===$a?EC(g,p):void 0}(p,g,_):Dd(p,p[vn],y,g)}function CC(p,g,y,_){const M=g[Li].queries[_];if(null===M.matches){const A=p.data,T=y.matches,F=[];for(let Y=0;null!==T&&Y<T.length;Y+=2){const ge=T[Y];F.push(ge<0?null:Z6(g,A[ge],T[Y+1],y.metadata.read))}M.matches=F}return M.matches}function jv(p,g,y,_){const M=p.queries.getByIndex(y),A=M.matches;if(null!==A){const T=CC(p,g,M,y);for(let F=0;F<A.length;F+=2){const Y=A[F];if(Y>0)_.push(T[F/2]);else{const ge=A[F+1],Re=g[-Y];for(let Ve=ne;Ve<Re.length;Ve++){const nt=Re[Ve];nt[du]===nt[so]&&jv(nt[vn],nt,ge,_)}if(null!==Re[k]){const Ve=Re[k];for(let nt=0;nt<Ve.length;nt++){const ft=Ve[nt];jv(ft[vn],ft,ge,_)}}}}}return _}function SC(p,g,y){const _=new T_(!(4&~y));return function Hx(p,g,y,_){const M=function CT(p){return p[yl]||(p[yl]=[])}(g);M.push(y),p.firstCreatePass&&function ST(p){return p.cleanup||(p.cleanup=[])}(p).push(_,M.length-1)}(p,g,_,_.destroy),(g[Li]??=new Bv).queries.push(new Nv(_))-1}function IC(p,g,y){const _=wr();return _.firstCreatePass&&(function bC(p,g,y){null===p.queries&&(p.queries=new Fv),p.queries.track(new Uv(g,y))}(_,new TC(p,g,y),-1),!(2&~g)&&(_.staticViewQueries=!0)),SC(_,qt(),g)}function Wv(p,g){return p.queries.getByIndex(g)}function PC(p,g){const y=p[vn],_=Wv(y,g);return _.crossesNgTemplate?jv(y,p,g,[]):CC(y,p,_,g)}class bd{}class JC{}class Vv extends bd{constructor(g,y,_){super(),this._parent=y,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gC(this);const M=Es(g);this._bootstrapComponents=Ji(M.bootstrap),this._r3Injector=zA(g,y,[{provide:bd,useValue:this},{provide:ng,useValue:this.componentFactoryResolver},..._],zt(g),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(g)}get injector(){return this._r3Injector}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(y=>y()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class Zv extends JC{constructor(g){super(),this.moduleType=g}create(g){return new Vv(this.moduleType,g,[])}}class QC extends bd{constructor(g){super(),this.componentFactoryResolver=new gC(this),this.instance=null;const y=new ss([...g.providers,{provide:bd,useValue:this},{provide:ng,useValue:this.componentFactoryResolver}],g.parent||Xn(),g.debugName,new Set(["environment"]));this.injector=y,g.runEnvironmentInitializers&&y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(g){this.injector.onDestroy(g)}}function Kv(p,g,y=null){return new QC({providers:p,parent:g,debugName:y,runEnvironmentInitializers:!0}).injector}let Pd=(()=>{class p{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const y=this.taskId++;return this.pendingTasks.add(y),y}remove(y){this.pendingTasks.delete(y),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function iE(p,g,y,_,M){const T=M?"class":"style";hv(p,y,g.inputs[T],T,_)}function dE(p,g,y,_){const M=qt(),A=wr(),T=sr+p,F=M[Mn],Y=A.firstCreatePass?function H5(p,g,y,_,M,A){const T=g.consts,Y=Nh(g,p,2,_,Uo(T,M));return function lv(p,g,y,_){if(St()){const M=null===_?null:{"":-1},A=function nN(p,g){const y=p.directiveRegistry;let _=null,M=null;if(y)for(let A=0;A<y.length;A++){const T=y[A];if(nu(g,T.selectors,!1))if(_||(_=[]),Bt(T))if(null!==T.findHostDirectiveDefs){const F=[];M=M||new Map,T.findHostDirectiveDefs(T,F,M),_.unshift(...F,T),uv(p,g,F.length)}else _.unshift(T),uv(p,g,0);else M=M||new Map,T.findHostDirectiveDefs?.(T,_,M),_.push(T)}return null===_?null:[_,M]}(p,y);let T,F;null===A?T=F=null:[T,F]=A,null!==T&&MT(p,g,y,T,M,F),M&&function rN(p,g,y){if(g){const _=p.localNames=[];for(let M=0;M<g.length;M+=2){const A=y[g[M+1]];if(null==A)throw new on(-301,!1);_.push(g[M],A)}}}(y,_,M)}y.mergedAttrs=dl(y.mergedAttrs,y.attrs)}(g,y,Y,Uo(T,A)),null!==Y.attrs&&og(Y,Y.attrs,!1),null!==Y.mergedAttrs&&og(Y,Y.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,Y),Y}(T,A,M,g,y,_):A.data[T],ge=QS(A,M,Y,F,g,p);M[T]=ge;const Re=function Nt(p){return!(1&~p.flags)}(Y);return Io(Y,!0),pT(F,ge,Y),!function kh(p){return!(32&~p.flags)}(Y)&&function z(){return vf}()&&Km(A,M,ge,Y),0===function pf(){return hr.lFrame.elementDepthCount}()&&ii(ge,M),function ff(){hr.lFrame.elementDepthCount++}(),Re&&(function ov(p,g,y){St()&&(function eN(p,g,y,_){const M=y.directiveStart,A=y.directiveEnd;Tt(y)&&function aN(p,g,y){const _=ls(g,p),M=yT(y);let T=16;y.signals?T=4096:y.onPush&&(T=64);const F=zm(p,Gm(p,M,null,T,_,g,null,p[fa].rendererFactory.createRenderer(_,y),null,null,null));p[g.index]=F}(g,y,p.data[M+y.componentOffset]),p.firstCreatePass||Am(y,g),ii(_,g);const T=y.initialInputs;for(let F=M;F<A;F++){const Y=p.data[F],ge=Dd(g,p,F,y);ii(ge,g),null!==T&&lN(0,F-M,ge,Y,0,T),Bt(Y)&&(ho(y.index,g)[Yr]=Dd(g,p,F,y))}}(p,g,y,ls(y,g)),!(64&~y.flags)&&AT(p,g,y))}(A,M,Y),sv(A,Y,M)),null!==_&&function iv(p,g,y=ls){const _=g.localNames;if(null!==_){let M=g.index+1;for(let A=0;A<_.length;A+=2){const T=_[A+1],F=-1===T?y(g,p):p[T];p[M++]=F}}}(M,Y),dE}function hE(){let p=Hr();Ea()?function at(){hr.lFrame.isParent=!1}():(p=p.parent,Io(p,!1));const g=p;(function yh(p){return hr.skipHydrationRootTNode===p})(g)&&function _h(){hr.skipHydrationRootTNode=null}(),function pi(){hr.lFrame.elementDepthCount--}();const y=wr();return y.firstCreatePass&&(ze(y,p),ct(p)&&y.queries.elementEnd(p)),null!=g.classesWithoutHost&&function vm(p){return!!(8&p.flags)}(g)&&iE(y,g,qt(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function Em(p){return!!(16&p.flags)}(g)&&iE(y,g,qt(),g.stylesWithoutHost,!1),hE}function Eg(p,g,y,_){return dE(p,g,y,_),hE(),Eg}let QS=(p,g,y,_,M,A)=>(function he(p){vf=p}(!0),$m(_,M,function Ed(){return hr.lFrame.currentNamespace}()));const sp="en-US";let sI=sp;function ME(){return function kv(p,g){return p[Li].queries[g].queryList}(qt(),bo())}let v8=(()=>{class p{constructor(y){this._injector=y,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(y){if(!y.standalone)return null;if(!this.cachedInjectors.has(y)){const _=fl(0,y.type),M=_.length>0?Kv([_],this._injector,`Standalone[${y.type.name}]`):null;this.cachedInjectors.set(y,M)}return this.cachedInjectors.get(y)}ngOnDestroy(){try{for(const y of this.cachedInjectors.values())null!==y&&y.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Jn({token:p,providedIn:"environment",factory:()=>new p(br(ar))})}return p})();function IE(p){Qi("NgStandalone"),p.getStandaloneInjector=g=>g.get(v8).getOrCreateStandaloneInjector(p)}let IO=(()=>{class p{log(y){console.log(y)}warn(y){console.warn(y)}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"platform"})}return p})();const RO=new xn("");function bg(p){return!!p&&"function"==typeof p.then}function LO(p){return!!p&&"function"==typeof p.subscribe}const L4=new xn("");let BE=(()=>{class p{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,_)=>{this.resolve=y,this.reject=_}),this.appInits=fn(L4,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const y=[];for(const M of this.appInits){const A=M();if(bg(A))y.push(A);else if(LO(A)){const T=new Promise((F,Y)=>{A.subscribe({complete:F,error:Y})});y.push(T)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(y).then(()=>{_()}).catch(M=>{this.reject(M)}),0===y.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Pg=new xn("");let Ka=(()=>{class p{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fn(JA),this.afterRenderEffectManager=fn(Gf),this.zonelessEnabled=fn(Hf),this.externalTestViews=new Set,this.beforeRender=new fr,this.afterTick=new fr,this.componentTypes=[],this.components=[],this.isStable=fn(Pd).hasPendingTasks.pipe(Hn(y=>!y)),this._injector=fn(ar)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(y,_){const M=y instanceof nC;if(!this._injector.get(BE).done)throw!M&&function hi(p){const g=Sr(p)||Bs(p)||ro(p);return null!==g&&g.standalone}(y),new on(405,!1);let T;T=M?y:this._injector.get(ng).resolveComponentFactory(y),this.componentTypes.push(T.componentType);const F=function x4(p){return p.isBoundToModule}(T)?void 0:this._injector.get(bd),ge=T.create(Xo.NULL,[],_||T.selector,F),Re=ge.location.nativeElement,Ve=ge.injector.get(RO,null);return Ve?.registerApplication(Re),ge.onDestroy(()=>{this.detachView(ge.hostView),wg(this.components,ge),Ve?.unregisterApplication(Re)}),this._loadComponent(ge),ge}tick(){this._tick(!0)}_tick(y){if(this._runningTick)throw new on(101,!1);const _=H(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(y)}catch(M){this.internalErrorHandler(M)}finally{this._runningTick=!1,H(_),this.afterTick.next()}}detectChangesInAttachedViews(y){let _=null;this._injector.destroyed||(_=this._injector.get(Cv,null,{optional:!0}));let M=0;const A=this.afterRenderEffectManager;for(;M<10;){const T=0===M;if(y||!T){this.beforeRender.next(T);for(let{_lView:F,notifyErrorHandler:Y}of this._views)B4(F,Y,T,this.zonelessEnabled)}else _?.begin?.(),_?.end?.();if(M++,A.executeInternalCallbacks(),!this.allViews.some(({_lView:F})=>Jo(F))&&(A.execute(),!this.allViews.some(({_lView:F})=>Jo(F))))break}}attachView(y){const _=y;this._views.push(_),_.attachToAppRef(this)}detachView(y){const _=y;wg(this._views,_),_.detachFromAppRef()}_loadComponent(y){this.attachView(y.hostView),this.tick(),this.components.push(y);const _=this._injector.get(Pg,[]);[...this._bootstrapListeners,..._].forEach(M=>M(y))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(y=>y()),this._views.slice().forEach(y=>y.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(y){return this._destroyListeners.push(y),()=>wg(this._destroyListeners,y)}destroy(){if(this._destroyed)throw new on(406,!1);const y=this._injector;y.destroy&&!y.destroyed&&y.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function wg(p,g){const y=p.indexOf(g);y>-1&&p.splice(y,1)}function B4(p,g,y,_){(y||Jo(p))&&Jm(p,g,y&&!_?0:1)}class F4{constructor(g,y){this.ngModuleFactory=g,this.componentFactories=y}}let U4=(()=>{class p{compileModuleSync(y){return new Zv(y)}compileModuleAsync(y){return Promise.resolve(this.compileModuleSync(y))}compileModuleAndAllComponentsSync(y){const _=this.compileModuleSync(y),A=Ji(Es(y).declarations).reduce((T,F)=>{const Y=Sr(F);return Y&&T.push(new Jf(Y)),T},[]);return new F4(_,A)}compileModuleAndAllComponentsAsync(y){return Promise.resolve(this.compileModuleAndAllComponentsSync(y))}clearCache(){}clearCacheFor(y){}getModuleId(y){}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const W4=!0;let Lg=(()=>{class p{constructor(){this.appRef=fn(Ka),this.taskService=fn(Pd),this.ngZone=fn(Ds),this.zonelessEnabled=fn(Hf),this.disableScheduling=fn(tC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bv||!this.zoneIsDefined)}notify(y){if(!this.zonelessEnabled&&5===y)return;switch(y){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const _=this.useMicrotaskScheduler?iC:oC;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=_(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=_(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ds.isInAngularZone())}tick(y){if(this.runningTick||this.appRef.destroyed)return;const _=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(y)},void 0,this.schedulerTickApplyArgs)}catch(M){throw this.taskService.remove(_),M}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(_)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const y=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(y)}}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),$4=(()=>{class p{constructor(){this.zone=fn(Ds),this.changeDetectionScheduler=fn(Kf,{optional:!0}),this.applicationRef=fn(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler?.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function UE({ngZoneFactory:p,ignoreChangesOutsideZone:g}){return p??=()=>new Ds(jE()),[{provide:Ds,useFactory:p},{provide:Ys,multi:!0,useFactory:()=>{const y=fn($4,{optional:!0});return()=>y.initialize()}},{provide:Ys,multi:!0,useFactory:()=>{const y=fn(K4);return()=>{y.initialize()}}},{provide:JA,useFactory:V4},!0===g?{provide:tC,useValue:!0}:[],W4||!1===g?{provide:Kf,useExisting:Lg}:[]]}function V4(){const p=fn(Ds),g=fn(Ma);return y=>p.runOutsideAngular(()=>g.handleError(y))}function jE(p){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:p?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:p?.runCoalescing??!1}}let K4=(()=>{class p{constructor(){this.subscription=new Xe,this.initialized=!1,this.zone=fn(Ds),this.pendingTasks=fn(Pd)}initialize(){if(this.initialized)return;this.initialized=!0;let y=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(y=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),queueMicrotask(()=>{null!==y&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(y),y=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),y??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Du=new xn("",{providedIn:"root",factory:()=>fn(Du,xr.Optional|xr.SkipSelf)||function H4(){return typeof $localize<"u"&&$localize.locale||sp}()}),kE=new xn("");let Ac=null;let xg=(()=>{class p{static#e=this.__NG_ELEMENT_ID__=X4}return p})();function X4(p){return function q4(p,g,y){if(Tt(p)&&!y){const _=ho(p.index,g);return new Ff(_,_)}return 47&p.type?new Ff(g[Fs],g):null}(Hr(),qt(),!(16&~p))}function CF(p){try{const{rootComponent:g,appProviders:y,platformProviders:_}=p,M=function Q4(p=[]){if(Ac)return Ac;const g=function VO(p=[],g){return Xo.create({name:g,providers:[{provide:wt,useValue:"platform"},{provide:kE,useValue:new Set([()=>Ac=null])},...p]})}(p);return Ac=g,function xO(){!function ye(p){fe=p}(()=>{throw new on(600,!1)})}(),function ZO(p){p.get(_D,null)?.forEach(y=>y())}(g),g}(_),A=[UE({}),...y||[]],F=new QC({providers:A,parent:M,debugName:"",runEnvironmentInitializers:!1}).injector,Y=F.get(Ds);return Y.run(()=>{F.resolveInjectorInitializers();const ge=F.get(Ma,null);let Re;Y.runOutsideAngular(()=>{Re=Y.onError.subscribe({next:ft=>{ge.handleError(ft)}})});const Ve=()=>F.destroy(),nt=M.get(kE);return nt.add(Ve),F.onDestroy(()=>{Re.unsubscribe(),nt.delete(Ve)}),function NO(p,g,y){try{const _=y();return bg(_)?_.catch(M=>{throw g.runOutsideAngular(()=>p.handleError(M)),M}):_}catch(_){throw g.runOutsideAngular(()=>p.handleError(_)),_}}(ge,Y,()=>{const ft=F.get(BE);return ft.runInitializers(),ft.donePromise.then(()=>{!function oI(p){"string"==typeof p&&(sI=p.toLowerCase().replace(/_/g,"-"))}(F.get(Du,sp)||sp);const Ut=F.get(Ka);return void 0!==g&&Ut.bootstrap(g),Ut})})})}catch(g){return Promise.reject(g)}}let D2=null;function up(){return D2}class XF{}const Rl=new xn("");let T2=(()=>{class p{historyGo(y){throw new Error("")}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(qF),providedIn:"platform"})}return p})(),qF=(()=>{class p extends T2{constructor(){super(),this._doc=fn(Rl),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return up().getBaseHref(this._doc)}onPopState(y){const _=up().getGlobalEventTarget(this._doc,"window");return _.addEventListener("popstate",y,!1),()=>_.removeEventListener("popstate",y)}onHashChange(y){const _=up().getGlobalEventTarget(this._doc,"window");return _.addEventListener("hashchange",y,!1),()=>_.removeEventListener("hashchange",y)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(y){this._location.pathname=y}pushState(y,_,M){this._history.pushState(y,_,M)}replaceState(y,_,M){this._history.replaceState(y,_,M)}forward(){this._history.forward()}back(){this._history.back()}historyGo(y=0){this._history.go(y)}getState(){return this._history.state}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>new p,providedIn:"platform"})}return p})();function C2(p,g){if(0==p.length)return g;if(0==g.length)return p;let y=0;return p.endsWith("/")&&y++,g.startsWith("/")&&y++,2==y?p+g.substring(1):1==y?p+g:p+"/"+g}function S2(p){const g=p.match(/#|\?|$/),y=g&&g.index||p.length;return p.slice(0,y-("/"===p[y-1]?1:0))+p.slice(y)}function Bd(p){return p&&"?"!==p[0]?"?"+p:p}let Vg=(()=>{class p{historyGo(y){throw new Error("")}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(tU),providedIn:"root"})}return p})();const eU=new xn("");let tU=(()=>{class p extends Vg{constructor(y,_){super(),this._platformLocation=y,this._removeListenerFns=[],this._baseHref=_??this._platformLocation.getBaseHrefFromDOM()??fn(Rl).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(y){this._removeListenerFns.push(this._platformLocation.onPopState(y),this._platformLocation.onHashChange(y))}getBaseHref(){return this._baseHref}prepareExternalUrl(y){return C2(this._baseHref,y)}path(y=!1){const _=this._platformLocation.pathname+Bd(this._platformLocation.search),M=this._platformLocation.hash;return M&&y?`${_}${M}`:_}pushState(y,_,M,A){const T=this.prepareExternalUrl(M+Bd(A));this._platformLocation.pushState(y,_,T)}replaceState(y,_,M,A){const T=this.prepareExternalUrl(M+Bd(A));this._platformLocation.replaceState(y,_,T)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(y=0){this._platformLocation.historyGo?.(y)}static#e=this.\u0275fac=function(_){return new(_||p)(br(T2),br(eU,8))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),g0=(()=>{class p{constructor(y){this._subject=new fi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=y;const _=this._locationStrategy.getBaseHref();this._basePath=function sU(p){if(new RegExp("^(https?:)?//").test(p)){const[,y]=p.split(/\/\/[^\/]+/);return y}return p}(S2(I2(_))),this._locationStrategy.onPopState(M=>{this._subject.emit({url:this.path(!0),pop:!0,state:M.state,type:M.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(y=!1){return this.normalize(this._locationStrategy.path(y))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(y,_=""){return this.path()==this.normalize(y+Bd(_))}normalize(y){return p.stripTrailingSlash(function rU(p,g){if(!p||!g.startsWith(p))return g;const y=g.substring(p.length);return""===y||["/",";","?","#"].includes(y[0])?y:g}(this._basePath,I2(y)))}prepareExternalUrl(y){return y&&"/"!==y[0]&&(y="/"+y),this._locationStrategy.prepareExternalUrl(y)}go(y,_="",M=null){this._locationStrategy.pushState(M,"",y,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(y+Bd(_)),M)}replaceState(y,_="",M=null){this._locationStrategy.replaceState(M,"",y,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(y+Bd(_)),M)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(y=0){this._locationStrategy.historyGo?.(y)}onUrlChange(y){return this._urlChangeListeners.push(y),this._urlChangeSubscription??=this.subscribe(_=>{this._notifyUrlChangeListeners(_.url,_.state)}),()=>{const _=this._urlChangeListeners.indexOf(y);this._urlChangeListeners.splice(_,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(y="",_){this._urlChangeListeners.forEach(M=>M(y,_))}subscribe(y,_,M){return this._subject.subscribe({next:y,error:_,complete:M})}static#e=this.normalizeQueryParams=Bd;static#t=this.joinWithSlash=C2;static#n=this.stripTrailingSlash=S2;static#r=this.\u0275fac=function(_){return new(_||p)(br(Vg))};static#s=this.\u0275prov=Jn({token:p,factory:()=>function nU(){return new g0(br(Vg))}(),providedIn:"root"})}return p})();function I2(p){return p.replace(/\/index.html$/,"")}function V2(p){return"server"===p}class Jj extends XF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h1 extends Jj{static makeCurrent(){!function QF(p){D2??=p}(new h1)}onAndCancel(g,y,_){return g.addEventListener(y,_),()=>{g.removeEventListener(y,_)}}dispatchEvent(g,y){g.dispatchEvent(y)}remove(g){g.parentNode&&g.parentNode.removeChild(g)}createElement(g,y){return(y=y||this.getDefaultDocument()).createElement(g)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(g){return g.nodeType===Node.ELEMENT_NODE}isShadowRoot(g){return g instanceof DocumentFragment}getGlobalEventTarget(g,y){return"window"===y?window:"document"===y?g:"body"===y?g.body:null}getBaseHref(g){const y=function Qj(){return E0=E0||document.querySelector("base"),E0?E0.getAttribute("href"):null}();return null==y?null:function Xj(p){return new URL(p,document.baseURI).pathname}(y)}resetBaseElement(){E0=null}getUserAgent(){return window.navigator.userAgent}getCookie(g){return function $U(p,g){g=encodeURIComponent(g);for(const y of p.split(";")){const _=y.indexOf("="),[M,A]=-1==_?[y,""]:[y.slice(0,_),y.slice(_+1)];if(M.trim()===g)return decodeURIComponent(A)}return null}(document.cookie,g)}}let E0=null,e7=(()=>{class p{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();const p1=new xn("");let X2=(()=>{class p{constructor(y,_){this._zone=_,this._eventNameToPlugin=new Map,y.forEach(M=>{M.manager=this}),this._plugins=y.slice().reverse()}addEventListener(y,_,M){return this._findPluginFor(_).addEventListener(y,_,M)}getZone(){return this._zone}_findPluginFor(y){let _=this._eventNameToPlugin.get(y);if(_)return _;if(_=this._plugins.find(A=>A.supports(y)),!_)throw new on(5101,!1);return this._eventNameToPlugin.set(y,_),_}static#e=this.\u0275fac=function(_){return new(_||p)(br(p1),br(Ds))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();class q2{constructor(g){this._doc=g}}const f1="ng-app-id";let eb=(()=>{class p{constructor(y,_,M,A={}){this.doc=y,this.appId=_,this.nonce=M,this.platformId=A,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=V2(A),this.resetHostNodes()}addStyles(y){for(const _ of y)1===this.changeUsageCount(_,1)&&this.onStyleAdded(_)}removeStyles(y){for(const _ of y)this.changeUsageCount(_,-1)<=0&&this.onStyleRemoved(_)}ngOnDestroy(){const y=this.styleNodesInDOM;y&&(y.forEach(_=>_.remove()),y.clear());for(const _ of this.getAllStyles())this.onStyleRemoved(_);this.resetHostNodes()}addHost(y){this.hostNodes.add(y);for(const _ of this.getAllStyles())this.addStyleToHost(y,_)}removeHost(y){this.hostNodes.delete(y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(y){for(const _ of this.hostNodes)this.addStyleToHost(_,y)}onStyleRemoved(y){const _=this.styleRef;_.get(y)?.elements?.forEach(M=>M.remove()),_.delete(y)}collectServerRenderedStyles(){const y=this.doc.head?.querySelectorAll(`style[${f1}="${this.appId}"]`);if(y?.length){const _=new Map;return y.forEach(M=>{null!=M.textContent&&_.set(M.textContent,M)}),_}return null}changeUsageCount(y,_){const M=this.styleRef;if(M.has(y)){const A=M.get(y);return A.usage+=_,A.usage}return M.set(y,{usage:_,elements:[]}),_}getStyleElement(y,_){const M=this.styleNodesInDOM,A=M?.get(_);if(A?.parentNode===y)return M.delete(_),A.removeAttribute(f1),A;{const T=this.doc.createElement("style");return this.nonce&&T.setAttribute("nonce",this.nonce),T.textContent=_,this.platformIsServer&&T.setAttribute(f1,this.appId),y.appendChild(T),T}}addStyleToHost(y,_){const M=this.getStyleElement(y,_),A=this.styleRef,T=A.get(_)?.elements;T?T.push(M):A.set(_,{elements:[M],usage:1})}resetHostNodes(){const y=this.hostNodes;y.clear(),y.add(this.doc.head)}static#e=this.\u0275fac=function(_){return new(_||p)(br(Rl),br(Pm),br(vD,8),br(Oh))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();const m1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},g1=/%COMP%/g,s7=new xn("",{providedIn:"root",factory:()=>!0});function nb(p,g){return g.map(y=>y.replace(g1,p))}let rb=(()=>{class p{constructor(y,_,M,A,T,F,Y,ge=null){this.eventManager=y,this.sharedStylesHost=_,this.appId=M,this.removeStylesOnCompDestroy=A,this.doc=T,this.platformId=F,this.ngZone=Y,this.nonce=ge,this.rendererByCompId=new Map,this.platformIsServer=V2(F),this.defaultRenderer=new y1(y,T,Y,this.platformIsServer)}createRenderer(y,_){if(!y||!_)return this.defaultRenderer;this.platformIsServer&&_.encapsulation===Js.ShadowDom&&(_={..._,encapsulation:Js.Emulated});const M=this.getOrCreateRenderer(y,_);return M instanceof ob?M.applyToHost(y):M instanceof _1&&M.applyStyles(),M}getOrCreateRenderer(y,_){const M=this.rendererByCompId;let A=M.get(_.id);if(!A){const T=this.doc,F=this.ngZone,Y=this.eventManager,ge=this.sharedStylesHost,Re=this.removeStylesOnCompDestroy,Ve=this.platformIsServer;switch(_.encapsulation){case Js.Emulated:A=new ob(Y,ge,_,this.appId,Re,T,F,Ve);break;case Js.ShadowDom:return new l7(Y,ge,y,_,T,F,this.nonce,Ve);default:A=new _1(Y,ge,_,Re,T,F,Ve)}M.set(_.id,A)}return A}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(_){return new(_||p)(br(X2),br(eb),br(Pm),br(s7),br(Rl),br(Oh),br(Ds),br(vD))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();class y1{constructor(g,y,_,M){this.eventManager=g,this.doc=y,this.ngZone=_,this.platformIsServer=M,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(g,y){return y?this.doc.createElementNS(m1[y]||y,g):this.doc.createElement(g)}createComment(g){return this.doc.createComment(g)}createText(g){return this.doc.createTextNode(g)}appendChild(g,y){(sb(g)?g.content:g).appendChild(y)}insertBefore(g,y,_){g&&(sb(g)?g.content:g).insertBefore(y,_)}removeChild(g,y){g&&g.removeChild(y)}selectRootElement(g,y){let _="string"==typeof g?this.doc.querySelector(g):g;if(!_)throw new on(-5104,!1);return y||(_.textContent=""),_}parentNode(g){return g.parentNode}nextSibling(g){return g.nextSibling}setAttribute(g,y,_,M){if(M){y=M+":"+y;const A=m1[M];A?g.setAttributeNS(A,y,_):g.setAttribute(y,_)}else g.setAttribute(y,_)}removeAttribute(g,y,_){if(_){const M=m1[_];M?g.removeAttributeNS(M,y):g.removeAttribute(`${_}:${y}`)}else g.removeAttribute(y)}addClass(g,y){g.classList.add(y)}removeClass(g,y){g.classList.remove(y)}setStyle(g,y,_,M){M&(yc.DashCase|yc.Important)?g.style.setProperty(y,_,M&yc.Important?"important":""):g.style[y]=_}removeStyle(g,y,_){_&yc.DashCase?g.style.removeProperty(y):g.style[y]=""}setProperty(g,y,_){null!=g&&(g[y]=_)}setValue(g,y){g.nodeValue=y}listen(g,y,_){if("string"==typeof g&&!(g=up().getGlobalEventTarget(this.doc,g)))throw new Error(`Unsupported event target ${g} for event ${y}`);return this.eventManager.addEventListener(g,y,this.decoratePreventDefault(_))}decoratePreventDefault(g){return y=>{if("__ngUnwrap__"===y)return g;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>g(y)):g(y))&&y.preventDefault()}}}function sb(p){return"TEMPLATE"===p.tagName&&void 0!==p.content}class l7 extends y1{constructor(g,y,_,M,A,T,F,Y){super(g,A,T,Y),this.sharedStylesHost=y,this.hostEl=_,this.shadowRoot=_.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ge=nb(M.id,M.styles);for(const Re of ge){const Ve=document.createElement("style");F&&Ve.setAttribute("nonce",F),Ve.textContent=Re,this.shadowRoot.appendChild(Ve)}}nodeOrShadowRoot(g){return g===this.hostEl?this.shadowRoot:g}appendChild(g,y){return super.appendChild(this.nodeOrShadowRoot(g),y)}insertBefore(g,y,_){return super.insertBefore(this.nodeOrShadowRoot(g),y,_)}removeChild(g,y){return super.removeChild(this.nodeOrShadowRoot(g),y)}parentNode(g){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(g)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _1 extends y1{constructor(g,y,_,M,A,T,F,Y){super(g,A,T,F),this.sharedStylesHost=y,this.removeStylesOnCompDestroy=M,this.styles=Y?nb(Y,_.styles):_.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ob extends _1{constructor(g,y,_,M,A,T,F,Y){const ge=M+"-"+_.id;super(g,y,_,A,T,F,Y,ge),this.contentAttr=function o7(p){return"_ngcontent-%COMP%".replace(g1,p)}(ge),this.hostAttr=function i7(p){return"_nghost-%COMP%".replace(g1,p)}(ge)}applyToHost(g){this.applyStyles(),this.setAttribute(g,this.hostAttr,"")}createElement(g,y){const _=super.createElement(g,y);return super.setAttribute(_,this.contentAttr,""),_}}let u7=(()=>{class p extends q2{constructor(y){super(y)}supports(y){return!0}addEventListener(y,_,M){return y.addEventListener(_,M,!1),()=>this.removeEventListener(y,_,M)}removeEventListener(y,_,M){return y.removeEventListener(_,M)}static#e=this.\u0275fac=function(_){return new(_||p)(br(Rl))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();const ib=["alt","control","meta","shift"],c7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d7={alt:p=>p.altKey,control:p=>p.ctrlKey,meta:p=>p.metaKey,shift:p=>p.shiftKey};let h7=(()=>{class p extends q2{constructor(y){super(y)}supports(y){return null!=p.parseEventName(y)}addEventListener(y,_,M){const A=p.parseEventName(_),T=p.eventCallback(A.fullKey,M,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>up().onAndCancel(y,A.domEventName,T))}static parseEventName(y){const _=y.toLowerCase().split("."),M=_.shift();if(0===_.length||"keydown"!==M&&"keyup"!==M)return null;const A=p._normalizeKey(_.pop());let T="",F=_.indexOf("code");if(F>-1&&(_.splice(F,1),T="code."),ib.forEach(ge=>{const Re=_.indexOf(ge);Re>-1&&(_.splice(Re,1),T+=ge+".")}),T+=A,0!=_.length||0===A.length)return null;const Y={};return Y.domEventName=M,Y.fullKey=T,Y}static matchEventFullKeyCode(y,_){let M=c7[y.key]||y.key,A="";return _.indexOf("code.")>-1&&(M=y.code,A="code."),!(null==M||!M)&&(M=M.toLowerCase()," "===M?M="space":"."===M&&(M="dot"),ib.forEach(T=>{T!==M&&(0,d7[T])(y)&&(A+=T+".")}),A+=M,A===_)}static eventCallback(y,_,M){return A=>{p.matchEventFullKeyCode(A,y)&&M.runGuarded(()=>_(A))}}static _normalizeKey(y){return"esc"===y?"escape":y}static#e=this.\u0275fac=function(_){return new(_||p)(br(Rl))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac})}return p})();function ab(p){return{appProviders:[...v7,...p?.providers??[]],platformProviders:y7}}const y7=[{provide:Oh,useValue:"browser"},{provide:_D,useValue:function f7(){h1.makeCurrent()},multi:!0},{provide:Rl,useFactory:function g7(){return function SL(p){I_=p}(document),document},deps:[]}],v7=[{provide:wt,useValue:"root"},{provide:Ma,useFactory:function m7(){return new Ma},deps:[]},{provide:p1,useClass:u7,multi:!0,deps:[Rl,Ds,Oh]},{provide:p1,useClass:h7,multi:!0,deps:[Rl]},rb,eb,X2,{provide:Cv,useExisting:rb},{provide:class Aj{},useClass:e7,deps:[]},[]];let E7=(()=>{class p{constructor(y){this._doc=y}getTitle(){return this._doc.title}setTitle(y){this._doc.title=y||""}static#e=this.\u0275fac=function(_){return new(_||p)(br(Rl))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function Dc(p){return this instanceof Dc?(this.v=p,this):new Dc(p)}function pb(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,g=p[Symbol.asyncIterator];return g?g.call(p):(p=function A1(p){var g="function"==typeof Symbol&&Symbol.iterator,y=g&&p[g],_=0;if(y)return y.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&_>=p.length&&(p=void 0),{value:p&&p[_++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(p),y={},_("next"),_("throw"),_("return"),y[Symbol.asyncIterator]=function(){return this},y);function _(A){y[A]=p[A]&&function(T){return new Promise(function(F,Y){!function M(A,T,F,Y){Promise.resolve(Y).then(function(ge){A({value:ge,done:F})},T)}(F,Y,(T=p[A](T)).done,T.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fb=p=>p&&"number"==typeof p.length&&"function"!=typeof p;function mb(p){return Oe(p?.then)}function gb(p){return Oe(p[an])}function yb(p){return Symbol.asyncIterator&&Oe(p?.[Symbol.asyncIterator])}function _b(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vb=function H7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Eb(p){return Oe(p?.[vb])}function Mb(p){return function hb(p,g,y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,_=y.apply(p,g||[]),A=[];return M={},T("next"),T("throw"),T("return"),M[Symbol.asyncIterator]=function(){return this},M;function T(nt){_[nt]&&(M[nt]=function(ft){return new Promise(function(It,Ut){A.push([nt,ft,It,Ut])>1||F(nt,ft)})})}function F(nt,ft){try{!function Y(nt){nt.value instanceof Dc?Promise.resolve(nt.value.v).then(ge,Re):Ve(A[0][2],nt)}(_[nt](ft))}catch(It){Ve(A[0][3],It)}}function ge(nt){F("next",nt)}function Re(nt){F("throw",nt)}function Ve(nt,ft){nt(ft),A.shift(),A.length&&F(A[0][0],A[0][1])}}(this,arguments,function*(){const y=p.getReader();try{for(;;){const{value:_,done:M}=yield Dc(y.read());if(M)return yield Dc(void 0);yield yield Dc(_)}}finally{y.releaseLock()}})}function Ab(p){return Oe(p?.getReader)}function Su(p){if(p instanceof Cn)return p;if(null!=p){if(gb(p))return function G7(p){return new Cn(g=>{const y=p[an]();if(Oe(y.subscribe))return y.subscribe(g);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if(fb(p))return function z7(p){return new Cn(g=>{for(let y=0;y<p.length&&!g.closed;y++)g.next(p[y]);g.complete()})}(p);if(mb(p))return function Y7(p){return new Cn(g=>{p.then(y=>{g.closed||(g.next(y),g.complete())},y=>g.error(y)).then(null,lt)})}(p);if(yb(p))return Db(p);if(Eb(p))return function J7(p){return new Cn(g=>{for(const y of p)if(g.next(y),g.closed)return;g.complete()})}(p);if(Ab(p))return function Q7(p){return Db(Mb(p))}(p)}throw _b(p)}function Db(p){return new Cn(g=>{(function X7(p,g){var y,_,M,A;return function cb(p,g,y,_){return new(y||(y=Promise))(function(A,T){function F(Re){try{ge(_.next(Re))}catch(Ve){T(Ve)}}function Y(Re){try{ge(_.throw(Re))}catch(Ve){T(Ve)}}function ge(Re){Re.done?A(Re.value):function M(A){return A instanceof y?A:new y(function(T){T(A)})}(Re.value).then(F,Y)}ge((_=_.apply(p,g||[])).next())})}(this,void 0,void 0,function*(){try{for(y=pb(p);!(_=yield y.next()).done;)if(g.next(_.value),g.closed)return}catch(T){M={error:T}}finally{try{_&&!_.done&&(A=y.return)&&(yield A.call(y))}finally{if(M)throw M.error}}g.complete()})})(p,g).catch(y=>g.error(y))})}function Iu(p,g,y,_=0,M=!1){const A=g.schedule(function(){y(),M?p.add(this.schedule(null,_)):this.unsubscribe()},_);if(p.add(A),!M)return A}function Tb(p,g=0){return tr((y,_)=>{y.subscribe(jn(_,M=>Iu(_,p,()=>_.next(M),g),()=>Iu(_,p,()=>_.complete(),g),M=>Iu(_,p,()=>_.error(M),g)))})}function Cb(p,g=0){return tr((y,_)=>{_.add(p.schedule(()=>y.subscribe(_),g))})}function Sb(p,g){if(!p)throw new Error("Iterable cannot be null");return new Cn(y=>{Iu(y,g,()=>{const _=p[Symbol.asyncIterator]();Iu(y,g,()=>{_.next().then(M=>{M.done?y.complete():y.next(M.value)})},0,!0)})})}function _i(p,g){return g?function s9(p,g){if(null!=p){if(gb(p))return function q7(p,g){return Su(p).pipe(Cb(g),Tb(g))}(p,g);if(fb(p))return function t9(p,g){return new Cn(y=>{let _=0;return g.schedule(function(){_===p.length?y.complete():(y.next(p[_++]),y.closed||this.schedule())})})}(p,g);if(mb(p))return function e9(p,g){return Su(p).pipe(Cb(g),Tb(g))}(p,g);if(yb(p))return Sb(p,g);if(Eb(p))return function n9(p,g){return new Cn(y=>{let _;return Iu(y,g,()=>{_=p[vb](),Iu(y,g,()=>{let M,A;try{({value:M,done:A}=_.next())}catch(T){return void y.error(T)}A?y.complete():y.next(M)},0,!0)}),()=>Oe(_?.return)&&_.return()})}(p,g);if(Ab(p))return function r9(p,g){return Sb(Mb(p),g)}(p,g)}throw _b(p)}(p,g):Su(p)}function D1(p){return p[p.length-1]}function oy(p){return function o9(p){return p&&Oe(p.schedule)}(D1(p))?p.pop():void 0}function Br(...p){return _i(p,oy(p))}const iy=_e(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:a9}=Array,{getPrototypeOf:l9,prototype:u9,keys:c9}=Object;const{isArray:p9}=Array;function Ib(...p){const g=oy(p),y=function i9(p){return Oe(D1(p))?p.pop():void 0}(p),{args:_,keys:M}=function d9(p){if(1===p.length){const g=p[0];if(a9(g))return{args:g,keys:null};if(function h9(p){return p&&"object"==typeof p&&l9(p)===u9}(g)){const y=c9(g);return{args:y.map(_=>g[_]),keys:y}}}return{args:p,keys:null}}(p);if(0===_.length)return _i([],g);const A=new Cn(function y9(p,g,y=mn){return _=>{Ob(g,()=>{const{length:M}=p,A=new Array(M);let T=M,F=M;for(let Y=0;Y<M;Y++)Ob(g,()=>{const ge=_i(p[Y],g);let Re=!1;ge.subscribe(jn(_,Ve=>{A[Y]=Ve,Re||(Re=!0,F--),F||_.next(y(A.slice()))},()=>{--T||_.complete()}))},_)},_)}}(_,g,M?T=>function g9(p,g){return p.reduce((y,_,M)=>(y[_]=g[M],y),{})}(M,T):mn));return y?A.pipe(function m9(p){return Hn(g=>function f9(p,g){return p9(g)?p(...g):p(g)}(p,g))}(y)):A}function Ob(p,g,y){p?Iu(y,p,g):g()}function vi(p,g,y=1/0){return Oe(g)?vi((_,M)=>Hn((A,T)=>g(_,A,M,T))(Su(p(_,M))),y):("number"==typeof g&&(y=g),tr((_,M)=>function _9(p,g,y,_,M,A,T,F){const Y=[];let ge=0,Re=0,Ve=!1;const nt=()=>{Ve&&!Y.length&&!ge&&g.complete()},ft=Ut=>ge<_?It(Ut):Y.push(Ut),It=Ut=>{A&&g.next(Ut),ge++;let Jt=!1;Su(y(Ut,Re++)).subscribe(jn(g,rn=>{M?.(rn),A?ft(rn):g.next(rn)},()=>{Jt=!0},void 0,()=>{if(Jt)try{for(ge--;Y.length&&ge<_;){const rn=Y.shift();T?Iu(g,T,()=>It(rn)):It(rn)}nt()}catch(rn){g.error(rn)}}))};return p.subscribe(jn(g,ft,()=>{Ve=!0,nt()})),()=>{F?.()}}(_,M,p,y)))}function C1(...p){return function v9(){return function T1(p=1/0){return vi(mn,p)}(1)}()(_i(p,oy(p)))}function bb(p){return new Cn(g=>{Su(p()).subscribe(g)})}function ay(p,g){const y=Oe(p)?p:()=>p,_=M=>M.error(y());return new Cn(g?M=>g.schedule(_,0,M):_)}const Ll=new Cn(p=>p.complete());function S1(){return tr((p,g)=>{let y=null;p._refCount++;const _=jn(g,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(y=null);const M=p._connection,A=y;y=null,M&&(!A||M===A)&&M.unsubscribe(),g.unsubscribe()});p.subscribe(_),_.closed||(y=p.connect())})}class Pb extends Cn{constructor(g,y){super(),this.source=g,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,Er(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Xe;const y=this.getSubject();g.add(this.source.subscribe(jn(y,void 0,()=>{this._teardown(),y.complete()},_=>{this._teardown(),y.error(_)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Xe.EMPTY)}return g}refCount(){return S1()(this)}}function Ou(p,g){return tr((y,_)=>{let M=null,A=0,T=!1;const F=()=>T&&!M&&_.complete();y.subscribe(jn(_,Y=>{M?.unsubscribe();let ge=0;const Re=A++;Su(p(Y,Re)).subscribe(M=jn(_,Ve=>_.next(g?g(Y,Ve,Re,ge++):Ve),()=>{M=null,F()}))},()=>{T=!0,F()}))})}function dp(p){return p<=0?()=>Ll:tr((g,y)=>{let _=0;g.subscribe(jn(y,M=>{++_<=p&&(y.next(M),p<=_&&y.complete())}))})}function Ud(p,g){return tr((y,_)=>{let M=0;y.subscribe(jn(_,A=>p.call(g,A,M++)&&_.next(A)))})}function ly(p){return tr((g,y)=>{let _=!1;g.subscribe(jn(y,M=>{_=!0,y.next(M)},()=>{_||y.next(p),y.complete()}))})}function wb(p=A9){return tr((g,y)=>{let _=!1;g.subscribe(jn(y,M=>{_=!0,y.next(M)},()=>_?y.complete():y.error(p())))})}function A9(){return new iy}function jd(p,g){const y=arguments.length>=2;return _=>_.pipe(p?Ud((M,A)=>p(M,A,_)):mn,dp(1),y?ly(g):wb(()=>new iy))}function uy(p,g){return Oe(g)?vi(p,g,1):vi(p,1)}function Ei(p,g,y){const _=Oe(p)||g||y?{next:p,error:g,complete:y}:p;return _?tr((M,A)=>{var T;null===(T=_.subscribe)||void 0===T||T.call(_);let F=!0;M.subscribe(jn(A,Y=>{var ge;null===(ge=_.next)||void 0===ge||ge.call(_,Y),A.next(Y)},()=>{var Y;F=!1,null===(Y=_.complete)||void 0===Y||Y.call(_),A.complete()},Y=>{var ge;F=!1,null===(ge=_.error)||void 0===ge||ge.call(_,Y),A.error(Y)},()=>{var Y,ge;F&&(null===(Y=_.unsubscribe)||void 0===Y||Y.call(_)),null===(ge=_.finalize)||void 0===ge||ge.call(_)}))}):mn}function hp(p){return tr((g,y)=>{let A,_=null,M=!1;_=g.subscribe(jn(y,void 0,void 0,T=>{A=Su(p(T,hp(p)(g))),_?(_.unsubscribe(),_=null,A.subscribe(y)):M=!0})),M&&(_.unsubscribe(),_=null,A.subscribe(y))})}function I1(p){return p<=0?()=>Ll:tr((g,y)=>{let _=[];g.subscribe(jn(y,M=>{_.push(M),p<_.length&&_.shift()},()=>{for(const M of _)y.next(M);y.complete()},void 0,()=>{_=null}))})}function O1(p){return tr((g,y)=>{try{g.subscribe(y)}finally{y.add(p)}})}const Ur="primary",M0=Symbol("RouteTitle");class O9{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const y=this.params[g];return Array.isArray(y)?y[0]:y}return null}getAll(g){if(this.has(g)){const y=this.params[g];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function pp(p){return new O9(p)}function b9(p,g,y){const _=y.path.split("/");if(_.length>p.length||"full"===y.pathMatch&&(g.hasChildren()||_.length<p.length))return null;const M={};for(let A=0;A<_.length;A++){const T=_[A],F=p[A];if(":"===T[0])M[T.substring(1)]=F;else if(T!==F.path)return null}return{consumed:p.slice(0,_.length),posParams:M}}function xl(p,g){const y=p?b1(p):void 0,_=g?b1(g):void 0;if(!y||!_||y.length!=_.length)return!1;let M;for(let A=0;A<y.length;A++)if(M=y[A],!Rb(p[M],g[M]))return!1;return!0}function b1(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}function Rb(p,g){if(Array.isArray(p)&&Array.isArray(g)){if(p.length!==g.length)return!1;const y=[...p].sort(),_=[...g].sort();return y.every((M,A)=>_[A]===M)}return p===g}function Lb(p){return p.length>0?p[p.length-1]:null}function Tc(p){return function T7(p){return!!p&&(p instanceof Cn||Oe(p.lift)&&Oe(p.subscribe))}(p)?p:bg(p)?_i(Promise.resolve(p)):Br(p)}const w9={exact:function Bb(p,g,y){if(!kd(p.segments,g.segments)||!cy(p.segments,g.segments,y)||p.numberOfChildren!==g.numberOfChildren)return!1;for(const _ in g.children)if(!p.children[_]||!Bb(p.children[_],g.children[_],y))return!1;return!0},subset:Fb},xb={exact:function R9(p,g){return xl(p,g)},subset:function L9(p,g){return Object.keys(g).length<=Object.keys(p).length&&Object.keys(g).every(y=>Rb(p[y],g[y]))},ignored:()=>!0};function Nb(p,g,y){return w9[y.paths](p.root,g.root,y.matrixParams)&&xb[y.queryParams](p.queryParams,g.queryParams)&&!("exact"===y.fragment&&p.fragment!==g.fragment)}function Fb(p,g,y){return Ub(p,g,g.segments,y)}function Ub(p,g,y,_){if(p.segments.length>y.length){const M=p.segments.slice(0,y.length);return!(!kd(M,y)||g.hasChildren()||!cy(M,y,_))}if(p.segments.length===y.length){if(!kd(p.segments,y)||!cy(p.segments,y,_))return!1;for(const M in g.children)if(!p.children[M]||!Fb(p.children[M],g.children[M],_))return!1;return!0}{const M=y.slice(0,p.segments.length),A=y.slice(p.segments.length);return!!(kd(p.segments,M)&&cy(p.segments,M,_)&&p.children[Ur])&&Ub(p.children[Ur],g,A,_)}}function cy(p,g,y){return g.every((_,M)=>xb[y](p[M].parameters,_.parameters))}class fp{constructor(g=new Os([],{}),y={},_=null){this.root=g,this.queryParams=y,this.fragment=_}get queryParamMap(){return this._queryParamMap??=pp(this.queryParams),this._queryParamMap}toString(){return B9.serialize(this)}}class Os{constructor(g,y){this.segments=g,this.children=y,this.parent=null,Object.values(y).forEach(_=>_.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hy(this)}}class A0{constructor(g,y){this.path=g,this.parameters=y}get parameterMap(){return this._parameterMap??=pp(this.parameters),this._parameterMap}toString(){return Wb(this)}}function kd(p,g){return p.length===g.length&&p.every((y,_)=>y.path===g[_].path)}let mp=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>new dy,providedIn:"root"})}return p})();class dy{parse(g){const y=new G9(g);return new fp(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(g){const y=`/${D0(g.root,!0)}`,_=function j9(p){const g=Object.entries(p).map(([y,_])=>Array.isArray(_)?_.map(M=>`${py(y)}=${py(M)}`).join("&"):`${py(y)}=${py(_)}`).filter(y=>y);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${y}${_}${"string"==typeof g.fragment?`#${function F9(p){return encodeURI(p)}(g.fragment)}`:""}`}}const B9=new dy;function hy(p){return p.segments.map(g=>Wb(g)).join("/")}function D0(p,g){if(!p.hasChildren())return hy(p);if(g){const y=p.children[Ur]?D0(p.children[Ur],!1):"",_=[];return Object.entries(p.children).forEach(([M,A])=>{M!==Ur&&_.push(`${M}:${D0(A,!1)}`)}),_.length>0?`${y}(${_.join("//")})`:y}{const y=function N9(p,g){let y=[];return Object.entries(p.children).forEach(([_,M])=>{_===Ur&&(y=y.concat(g(M,_)))}),Object.entries(p.children).forEach(([_,M])=>{_!==Ur&&(y=y.concat(g(M,_)))}),y}(p,(_,M)=>M===Ur?[D0(p.children[Ur],!1)]:[`${M}:${D0(_,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[Ur]?`${hy(p)}/${y[0]}`:`${hy(p)}/(${y.join("//")})`}}function jb(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function py(p){return jb(p).replace(/%3B/gi,";")}function P1(p){return jb(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fy(p){return decodeURIComponent(p)}function kb(p){return fy(p.replace(/\+/g,"%20"))}function Wb(p){return`${P1(p.path)}${function U9(p){return Object.entries(p).map(([g,y])=>`;${P1(g)}=${P1(y)}`).join("")}(p.parameters)}`}const k9=/^[^\/()?;#]+/;function w1(p){const g=p.match(k9);return g?g[0]:""}const W9=/^[^\/()?;=#]+/,V9=/^[^=?&#]+/,K9=/^[^&#]+/;class G9{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Os([],{}):new Os([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let _={};return this.peekStartsWith("(")&&(_=this.parseParens(!1)),(g.length>0||Object.keys(y).length>0)&&(_[Ur]=new Os(g,y)),_}parseSegment(){const g=w1(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new on(4009,!1);return this.capture(g),new A0(fy(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const y=function $9(p){const g=p.match(W9);return g?g[0]:""}(this.remaining);if(!y)return;this.capture(y);let _="";if(this.consumeOptional("=")){const M=w1(this.remaining);M&&(_=M,this.capture(_))}g[fy(y)]=fy(_)}parseQueryParam(g){const y=function Z9(p){const g=p.match(V9);return g?g[0]:""}(this.remaining);if(!y)return;this.capture(y);let _="";if(this.consumeOptional("=")){const T=function H9(p){const g=p.match(K9);return g?g[0]:""}(this.remaining);T&&(_=T,this.capture(_))}const M=kb(y),A=kb(_);if(g.hasOwnProperty(M)){let T=g[M];Array.isArray(T)||(T=[T],g[M]=T),T.push(A)}else g[M]=A}parseParens(g){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _=w1(this.remaining),M=this.remaining[_.length];if("/"!==M&&")"!==M&&";"!==M)throw new on(4010,!1);let A;_.indexOf(":")>-1?(A=_.slice(0,_.indexOf(":")),this.capture(A),this.capture(":")):g&&(A=Ur);const T=this.parseChildren();y[A]=1===Object.keys(T).length?T[Ur]:new Os([],T),this.consumeOptional("//")}return y}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new on(4011,!1)}}function $b(p){return p.segments.length>0?new Os([],{[Ur]:p}):p}function Vb(p){const g={};for(const[_,M]of Object.entries(p.children)){const A=Vb(M);if(_===Ur&&0===A.segments.length&&A.hasChildren())for(const[T,F]of Object.entries(A.children))g[T]=F;else(A.segments.length>0||A.hasChildren())&&(g[_]=A)}return function z9(p){if(1===p.numberOfChildren&&p.children[Ur]){const g=p.children[Ur];return new Os(p.segments.concat(g.segments),g.children)}return p}(new Os(p.segments,g))}function T0(p){return p instanceof fp}function Zb(p){let g;const M=$b(function y(A){const T={};for(const Y of A.children){const ge=y(Y);T[Y.outlet]=ge}const F=new Os(A.url,T);return A===p&&(g=F),F}(p.root));return g??M}function Kb(p,g,y,_){let M=p;for(;M.parent;)M=M.parent;if(0===g.length)return R1(M,M,M,y,_);const A=function J9(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new Gb(!0,0,p);let g=0,y=!1;const _=p.reduce((M,A,T)=>{if("object"==typeof A&&null!=A){if(A.outlets){const F={};return Object.entries(A.outlets).forEach(([Y,ge])=>{F[Y]="string"==typeof ge?ge.split("/"):ge}),[...M,{outlets:F}]}if(A.segmentPath)return[...M,A.segmentPath]}return"string"!=typeof A?[...M,A]:0===T?(A.split("/").forEach((F,Y)=>{0==Y&&"."===F||(0==Y&&""===F?y=!0:".."===F?g++:""!=F&&M.push(F))}),M):[...M,A]},[]);return new Gb(y,g,_)}(g);if(A.toRoot())return R1(M,M,new Os([],{}),y,_);const T=function Q9(p,g,y){if(p.isAbsolute)return new gy(g,!0,0);if(!y)return new gy(g,!1,NaN);if(null===y.parent)return new gy(y,!0,0);const _=my(p.commands[0])?0:1;return function X9(p,g,y){let _=p,M=g,A=y;for(;A>M;){if(A-=M,_=_.parent,!_)throw new on(4005,!1);M=_.segments.length}return new gy(_,!1,M-A)}(y,y.segments.length-1+_,p.numberOfDoubleDots)}(A,M,p),F=T.processChildren?S0(T.segmentGroup,T.index,A.commands):zb(T.segmentGroup,T.index,A.commands);return R1(M,T.segmentGroup,F,y,_)}function my(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function C0(p){return"object"==typeof p&&null!=p&&p.outlets}function R1(p,g,y,_,M){let T,A={};_&&Object.entries(_).forEach(([Y,ge])=>{A[Y]=Array.isArray(ge)?ge.map(Re=>`${Re}`):`${ge}`}),T=p===g?y:Hb(p,g,y);const F=$b(Vb(T));return new fp(F,A,M)}function Hb(p,g,y){const _={};return Object.entries(p.children).forEach(([M,A])=>{_[M]=A===g?y:Hb(A,g,y)}),new Os(p.segments,_)}class Gb{constructor(g,y,_){if(this.isAbsolute=g,this.numberOfDoubleDots=y,this.commands=_,g&&_.length>0&&my(_[0]))throw new on(4003,!1);const M=_.find(C0);if(M&&M!==Lb(_))throw new on(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gy{constructor(g,y,_){this.segmentGroup=g,this.processChildren=y,this.index=_}}function zb(p,g,y){if(p??=new Os([],{}),0===p.segments.length&&p.hasChildren())return S0(p,g,y);const _=function ek(p,g,y){let _=0,M=g;const A={match:!1,pathIndex:0,commandIndex:0};for(;M<p.segments.length;){if(_>=y.length)return A;const T=p.segments[M],F=y[_];if(C0(F))break;const Y=`${F}`,ge=_<y.length-1?y[_+1]:null;if(M>0&&void 0===Y)break;if(Y&&ge&&"object"==typeof ge&&void 0===ge.outlets){if(!Jb(Y,ge,T))return A;_+=2}else{if(!Jb(Y,{},T))return A;_++}M++}return{match:!0,pathIndex:M,commandIndex:_}}(p,g,y),M=y.slice(_.commandIndex);if(_.match&&_.pathIndex<p.segments.length){const A=new Os(p.segments.slice(0,_.pathIndex),{});return A.children[Ur]=new Os(p.segments.slice(_.pathIndex),p.children),S0(A,0,M)}return _.match&&0===M.length?new Os(p.segments,{}):_.match&&!p.hasChildren()?L1(p,g,y):_.match?S0(p,0,M):L1(p,g,y)}function S0(p,g,y){if(0===y.length)return new Os(p.segments,{});{const _=function q9(p){return C0(p[0])?p[0].outlets:{[Ur]:p}}(y),M={};if(Object.keys(_).some(A=>A!==Ur)&&p.children[Ur]&&1===p.numberOfChildren&&0===p.children[Ur].segments.length){const A=S0(p.children[Ur],g,y);return new Os(p.segments,A.children)}return Object.entries(_).forEach(([A,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(M[A]=zb(p.children[A],g,T))}),Object.entries(p.children).forEach(([A,T])=>{void 0===_[A]&&(M[A]=T)}),new Os(p.segments,M)}}function L1(p,g,y){const _=p.segments.slice(0,g);let M=0;for(;M<y.length;){const A=y[M];if(C0(A)){const Y=tk(A.outlets);return new Os(_,Y)}if(0===M&&my(y[0])){_.push(new A0(p.segments[g].path,Yb(y[0]))),M++;continue}const T=C0(A)?A.outlets[Ur]:`${A}`,F=M<y.length-1?y[M+1]:null;T&&F&&my(F)?(_.push(new A0(T,Yb(F))),M+=2):(_.push(new A0(T,{})),M++)}return new Os(_,{})}function tk(p){const g={};return Object.entries(p).forEach(([y,_])=>{"string"==typeof _&&(_=[_]),null!==_&&(g[y]=L1(new Os([],{}),0,_))}),g}function Yb(p){const g={};return Object.entries(p).forEach(([y,_])=>g[y]=`${_}`),g}function Jb(p,g,y){return p==y.path&&xl(g,y.parameters)}const I0="imperative";var es=function(p){return p[p.NavigationStart=0]="NavigationStart",p[p.NavigationEnd=1]="NavigationEnd",p[p.NavigationCancel=2]="NavigationCancel",p[p.NavigationError=3]="NavigationError",p[p.RoutesRecognized=4]="RoutesRecognized",p[p.ResolveStart=5]="ResolveStart",p[p.ResolveEnd=6]="ResolveEnd",p[p.GuardsCheckStart=7]="GuardsCheckStart",p[p.GuardsCheckEnd=8]="GuardsCheckEnd",p[p.RouteConfigLoadStart=9]="RouteConfigLoadStart",p[p.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",p[p.ChildActivationStart=11]="ChildActivationStart",p[p.ChildActivationEnd=12]="ChildActivationEnd",p[p.ActivationStart=13]="ActivationStart",p[p.ActivationEnd=14]="ActivationEnd",p[p.Scroll=15]="Scroll",p[p.NavigationSkipped=16]="NavigationSkipped",p}(es||{});class Nl{constructor(g,y){this.id=g,this.url=y}}class x1 extends Nl{constructor(g,y,_="imperative",M=null){super(g,y),this.type=es.NavigationStart,this.navigationTrigger=_,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wd extends Nl{constructor(g,y,_){super(g,y),this.urlAfterRedirects=_,this.type=es.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ea=function(p){return p[p.Redirect=0]="Redirect",p[p.SupersededByNewNavigation=1]="SupersededByNewNavigation",p[p.NoDataFromResolver=2]="NoDataFromResolver",p[p.GuardRejected=3]="GuardRejected",p}(ea||{}),N1=function(p){return p[p.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",p[p.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",p}(N1||{});class $d extends Nl{constructor(g,y,_,M){super(g,y),this.reason=_,this.code=M,this.type=es.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class O0 extends Nl{constructor(g,y,_,M){super(g,y),this.reason=_,this.code=M,this.type=es.NavigationSkipped}}class B1 extends Nl{constructor(g,y,_,M){super(g,y),this.error=_,this.target=M,this.type=es.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qb extends Nl{constructor(g,y,_,M){super(g,y),this.urlAfterRedirects=_,this.state=M,this.type=es.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nk extends Nl{constructor(g,y,_,M){super(g,y),this.urlAfterRedirects=_,this.state=M,this.type=es.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rk extends Nl{constructor(g,y,_,M,A){super(g,y),this.urlAfterRedirects=_,this.state=M,this.shouldActivate=A,this.type=es.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sk extends Nl{constructor(g,y,_,M){super(g,y),this.urlAfterRedirects=_,this.state=M,this.type=es.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ok extends Nl{constructor(g,y,_,M){super(g,y),this.urlAfterRedirects=_,this.state=M,this.type=es.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik{constructor(g){this.route=g,this.type=es.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ak{constructor(g){this.route=g,this.type=es.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lk{constructor(g){this.snapshot=g,this.type=es.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uk{constructor(g){this.snapshot=g,this.type=es.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ck{constructor(g){this.snapshot=g,this.type=es.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dk{constructor(g){this.snapshot=g,this.type=es.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F1{}class yy{constructor(g,y){this.url=g,this.navigationBehaviorOptions=y}}class hk{constructor(g){this.injector=g,this.outlet=null,this.route=null,this.children=new b0(this.injector),this.attachRef=null}}let b0=(()=>{class p{constructor(y){this.parentInjector=y,this.contexts=new Map}onChildOutletCreated(y,_){const M=this.getOrCreateContext(y);M.outlet=_,this.contexts.set(y,M)}onChildOutletDestroyed(y){const _=this.getContext(y);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let _=this.getContext(y);return _||(_=new hk(this.parentInjector),this.contexts.set(y,_)),_}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(_){return new(_||p)(br(ar))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();class Xb{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const y=this.pathFromRoot(g);return y.length>1?y[y.length-2]:null}children(g){const y=U1(g,this._root);return y?y.children.map(_=>_.value):[]}firstChild(g){const y=U1(g,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(g){const y=j1(g,this._root);return y.length<2?[]:y[y.length-2].children.map(M=>M.value).filter(M=>M!==g)}pathFromRoot(g){return j1(g,this._root).map(y=>y.value)}}function U1(p,g){if(p===g.value)return g;for(const y of g.children){const _=U1(p,y);if(_)return _}return null}function j1(p,g){if(p===g.value)return[g];for(const y of g.children){const _=j1(p,y);if(_.length)return _.unshift(g),_}return[]}class za{constructor(g,y){this.value=g,this.children=y}toString(){return`TreeNode(${this.value})`}}function gp(p){const g={};return p&&p.children.forEach(y=>g[y.value.outlet]=y),g}class qb extends Xb{constructor(g,y){super(g),this.snapshot=y,k1(this,g)}toString(){return this.snapshot.toString()}}function eP(p){const g=function pk(p){const A=new vy([],{},{},"",{},Ur,p,null,{});return new tP("",new za(A,[]))}(p),y=new wn([new A0("",{})]),_=new wn({}),M=new wn({}),A=new wn({}),T=new wn(""),F=new yp(y,_,A,T,M,Ur,p,g.root);return F.snapshot=g.root,new qb(new za(F,[]),g)}class yp{constructor(g,y,_,M,A,T,F,Y){this.urlSubject=g,this.paramsSubject=y,this.queryParamsSubject=_,this.fragmentSubject=M,this.dataSubject=A,this.outlet=T,this.component=F,this._futureSnapshot=Y,this.title=this.dataSubject?.pipe(Hn(ge=>ge[M0]))??Br(void 0),this.url=g,this.params=y,this.queryParams=_,this.fragment=M,this.data=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Hn(g=>pp(g))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Hn(g=>pp(g))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _y(p,g,y="emptyOnly"){let _;const{routeConfig:M}=p;return _=null===g||"always"!==y&&""!==M?.path&&(g.component||g.routeConfig?.loadComponent)?{params:{...p.params},data:{...p.data},resolve:{...p.data,...p._resolvedData??{}}}:{params:{...g.params,...p.params},data:{...g.data,...p.data},resolve:{...p.data,...g.data,...M?.data,...p._resolvedData}},M&&rP(M)&&(_.resolve[M0]=M.title),_}class vy{get title(){return this.data?.[M0]}constructor(g,y,_,M,A,T,F,Y,ge){this.url=g,this.params=y,this.queryParams=_,this.fragment=M,this.data=A,this.outlet=T,this.component=F,this.routeConfig=Y,this._resolve=ge}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pp(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_=>_.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tP extends Xb{constructor(g,y){super(y),this.url=g,k1(this,y)}toString(){return nP(this._root)}}function k1(p,g){g.value._routerState=p,g.children.forEach(y=>k1(p,y))}function nP(p){const g=p.children.length>0?` { ${p.children.map(nP).join(", ")} } `:"";return`${p.value}${g}`}function W1(p){if(p.snapshot){const g=p.snapshot,y=p._futureSnapshot;p.snapshot=y,xl(g.queryParams,y.queryParams)||p.queryParamsSubject.next(y.queryParams),g.fragment!==y.fragment&&p.fragmentSubject.next(y.fragment),xl(g.params,y.params)||p.paramsSubject.next(y.params),function P9(p,g){if(p.length!==g.length)return!1;for(let y=0;y<p.length;++y)if(!xl(p[y],g[y]))return!1;return!0}(g.url,y.url)||p.urlSubject.next(y.url),xl(g.data,y.data)||p.dataSubject.next(y.data)}else p.snapshot=p._futureSnapshot,p.dataSubject.next(p._futureSnapshot.data)}function $1(p,g){const y=xl(p.params,g.params)&&function x9(p,g){return kd(p,g)&&p.every((y,_)=>xl(y.parameters,g[_].parameters))}(p.url,g.url);return y&&!(!p.parent!=!g.parent)&&(!p.parent||$1(p.parent,g.parent))}function rP(p){return"string"==typeof p.title||null===p.title}let sP=(()=>{class p{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ur,this.activateEvents=new fi,this.deactivateEvents=new fi,this.attachEvents=new fi,this.detachEvents=new fi,this.parentContexts=fn(b0),this.location=fn($a),this.changeDetector=fn(xg),this.inputBinder=fn(Ey,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:_,previousValue:M}=y.name;if(_)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new on(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new on(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new on(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,_){this.activated=y,this._activatedRoute=_,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,_){if(this.isActivated)throw new on(4013,!1);this._activatedRoute=y;const M=this.location,T=y.snapshot.component,F=this.parentContexts.getOrCreateContext(this.name).children,Y=new V1(y,F,M.injector);this.activated=M.createComponent(T,{index:M.length,injector:Y,environmentInjector:_}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275dir=uo({type:p,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_a]})}return p})();class V1{__ngOutletInjector(g){return new V1(this.route,this.childContexts,g)}constructor(g,y,_){this.route=g,this.childContexts=y,this.parent=_}get(g,y){return g===yp?this.route:g===b0?this.childContexts:this.parent.get(g,y)}}const Ey=new xn("");function P0(p,g,y){if(y&&p.shouldReuseRoute(g.value,y.value.snapshot)){const _=y.value;_._futureSnapshot=g.value;const M=function mk(p,g,y){return g.children.map(_=>{for(const M of y.children)if(p.shouldReuseRoute(_.value,M.value.snapshot))return P0(p,_,M);return P0(p,_)})}(p,g,y);return new za(_,M)}{if(p.shouldAttach(g.value)){const A=p.retrieve(g.value);if(null!==A){const T=A.route;return T.value._futureSnapshot=g.value,T.children=g.children.map(F=>P0(p,F)),T}}const _=function gk(p){return new yp(new wn(p.url),new wn(p.params),new wn(p.queryParams),new wn(p.fragment),new wn(p.data),p.outlet,p.component,p)}(g.value),M=g.children.map(A=>P0(p,A));return new za(_,M)}}class Z1{constructor(g,y){this.redirectTo=g,this.navigationBehaviorOptions=y}}const iP="ngNavigationCancelingError";function My(p,g){const{redirectTo:y,navigationBehaviorOptions:_}=T0(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,M=aP(!1,ea.Redirect);return M.url=y,M.navigationBehaviorOptions=_,M}function aP(p,g){const y=new Error(`NavigationCancelingError: ${p||""}`);return y[iP]=!0,y.cancellationCode=g,y}function lP(p){return!!p&&p[iP]}let uP=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275cmp=da({type:p,selectors:[["ng-component"]],standalone:!0,features:[IE],decls:1,vars:0,template:function(_,M){1&_&&Eg(0,"router-outlet")},dependencies:[sP],encapsulation:2})}return p})();function K1(p){const g=p.children&&p.children.map(K1),y=g?{...p,children:g}:{...p};return!y.component&&!y.loadComponent&&(g||y.loadChildren)&&y.outlet&&y.outlet!==Ur&&(y.component=uP),y}function Ya(p){return p.outlet||Ur}function w0(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let g=p.parent;g;g=g.parent){const y=g.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Tk{constructor(g,y,_,M,A){this.routeReuseStrategy=g,this.futureState=y,this.currState=_,this.forwardEvent=M,this.inputBindingEnabled=A}activate(g){const y=this.futureState._root,_=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,_,g),W1(this.futureState.root),this.activateChildRoutes(y,_,g)}deactivateChildRoutes(g,y,_){const M=gp(y);g.children.forEach(A=>{const T=A.value.outlet;this.deactivateRoutes(A,M[T],_),delete M[T]}),Object.values(M).forEach(A=>{this.deactivateRouteAndItsChildren(A,_)})}deactivateRoutes(g,y,_){const M=g.value,A=y?y.value:null;if(M===A)if(M.component){const T=_.getContext(M.outlet);T&&this.deactivateChildRoutes(g,y,T.children)}else this.deactivateChildRoutes(g,y,_);else A&&this.deactivateRouteAndItsChildren(y,_)}deactivateRouteAndItsChildren(g,y){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,y):this.deactivateRouteAndOutlet(g,y)}detachAndStoreRouteSubtree(g,y){const _=y.getContext(g.value.outlet),M=_&&g.value.component?_.children:y,A=gp(g);for(const T of Object.values(A))this.deactivateRouteAndItsChildren(T,M);if(_&&_.outlet){const T=_.outlet.detach(),F=_.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:T,route:g,contexts:F})}}deactivateRouteAndOutlet(g,y){const _=y.getContext(g.value.outlet),M=_&&g.value.component?_.children:y,A=gp(g);for(const T of Object.values(A))this.deactivateRouteAndItsChildren(T,M);_&&(_.outlet&&(_.outlet.deactivate(),_.children.onOutletDeactivated()),_.attachRef=null,_.route=null)}activateChildRoutes(g,y,_){const M=gp(y);g.children.forEach(A=>{this.activateRoutes(A,M[A.value.outlet],_),this.forwardEvent(new dk(A.value.snapshot))}),g.children.length&&this.forwardEvent(new uk(g.value.snapshot))}activateRoutes(g,y,_){const M=g.value,A=y?y.value:null;if(W1(M),M===A)if(M.component){const T=_.getOrCreateContext(M.outlet);this.activateChildRoutes(g,y,T.children)}else this.activateChildRoutes(g,y,_);else if(M.component){const T=_.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const F=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),T.children.onOutletReAttached(F.contexts),T.attachRef=F.componentRef,T.route=F.route.value,T.outlet&&T.outlet.attach(F.componentRef,F.route.value),W1(F.route.value),this.activateChildRoutes(g,null,T.children)}else{const F=w0(M.snapshot);T.attachRef=null,T.route=M,T.injector=F??T.injector,T.outlet&&T.outlet.activateWith(M,T.injector),this.activateChildRoutes(g,null,T.children)}}else this.activateChildRoutes(g,null,_)}}class cP{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class Ay{constructor(g,y){this.component=g,this.route=y}}function Ck(p,g,y){const _=p._root;return R0(_,g?g._root:null,y,[_.value])}function _p(p,g){const y=Symbol(),_=g.get(p,y);return _===y?"function"!=typeof p||function Zc(p){return null!==Ki(p)}(p)?g.get(p):p:_}function R0(p,g,y,_,M={canDeactivateChecks:[],canActivateChecks:[]}){const A=gp(g);return p.children.forEach(T=>{(function Ik(p,g,y,_,M={canDeactivateChecks:[],canActivateChecks:[]}){const A=p.value,T=g?g.value:null,F=y?y.getContext(p.value.outlet):null;if(T&&A.routeConfig===T.routeConfig){const Y=function Ok(p,g,y){if("function"==typeof y)return y(p,g);switch(y){case"pathParamsChange":return!kd(p.url,g.url);case"pathParamsOrQueryParamsChange":return!kd(p.url,g.url)||!xl(p.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$1(p,g)||!xl(p.queryParams,g.queryParams);default:return!$1(p,g)}}(T,A,A.routeConfig.runGuardsAndResolvers);Y?M.canActivateChecks.push(new cP(_)):(A.data=T.data,A._resolvedData=T._resolvedData),R0(p,g,A.component?F?F.children:null:y,_,M),Y&&F&&F.outlet&&F.outlet.isActivated&&M.canDeactivateChecks.push(new Ay(F.outlet.component,T))}else T&&L0(g,F,M),M.canActivateChecks.push(new cP(_)),R0(p,null,A.component?F?F.children:null:y,_,M)})(T,A[T.value.outlet],y,_.concat([T.value]),M),delete A[T.value.outlet]}),Object.entries(A).forEach(([T,F])=>L0(F,y.getContext(T),M)),M}function L0(p,g,y){const _=gp(p),M=p.value;Object.entries(_).forEach(([A,T])=>{L0(T,M.component?g?g.children.getContext(A):null:g,y)}),y.canDeactivateChecks.push(new Ay(M.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,M))}function x0(p){return"function"==typeof p}function dP(p){return p instanceof iy||"EmptyError"===p?.name}const Dy=Symbol("INITIAL_VALUE");function vp(){return Ou(p=>Ib(p.map(g=>g.pipe(dp(1),function M9(...p){const g=oy(p);return tr((y,_)=>{(g?C1(p,y,g):C1(p,y)).subscribe(_)})}(Dy)))).pipe(Hn(g=>{for(const y of g)if(!0!==y){if(y===Dy)return Dy;if(!1===y||Nk(y))return y}return!0}),Ud(g=>g!==Dy),dp(1)))}function Nk(p){return T0(p)||p instanceof Z1}function hP(p){return function Kn(...p){return kn(p)}(Ei(g=>{if("boolean"!=typeof g)throw My(0,g)}),Hn(g=>!0===g))}class H1{constructor(g){this.segmentGroup=g||null}}class Ty extends Error{constructor(g){super(),this.urlTree=g}}function Ep(p){return ay(new H1(p))}class zk{constructor(g,y){this.urlSerializer=g,this.urlTree=y}lineralizeSegments(g,y){let _=[],M=y.root;for(;;){if(_=_.concat(M.segments),0===M.numberOfChildren)return Br(_);if(M.numberOfChildren>1||!M.children[Ur])return ay(new on(4e3,!1));M=M.children[Ur]}}applyRedirectCommands(g,y,_,M,A){if("string"!=typeof y){const F=y,{queryParams:Y,fragment:ge,routeConfig:Re,url:Ve,outlet:nt,params:ft,data:It,title:Ut}=M,Jt=Ri(A,()=>F({params:ft,data:It,queryParams:Y,fragment:ge,routeConfig:Re,url:Ve,outlet:nt,title:Ut}));if(Jt instanceof fp)throw new Ty(Jt);y=Jt}const T=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),g,_);if("/"===y[0])throw new Ty(T);return T}applyRedirectCreateUrlTree(g,y,_,M){const A=this.createSegmentGroup(g,y.root,_,M);return new fp(A,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(g,y){const _={};return Object.entries(g).forEach(([M,A])=>{if("string"==typeof A&&":"===A[0]){const F=A.substring(1);_[M]=y[F]}else _[M]=A}),_}createSegmentGroup(g,y,_,M){const A=this.createSegments(g,y.segments,_,M);let T={};return Object.entries(y.children).forEach(([F,Y])=>{T[F]=this.createSegmentGroup(g,Y,_,M)}),new Os(A,T)}createSegments(g,y,_,M){return y.map(A=>":"===A.path[0]?this.findPosParam(g,A,M):this.findOrReturn(A,_))}findPosParam(g,y,_){const M=_[y.path.substring(1)];if(!M)throw new on(4001,!1);return M}findOrReturn(g,y){let _=0;for(const M of y){if(M.path===g.path)return y.splice(_),M;_++}return g}}const G1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yk(p,g,y,_,M){const A=z1(p,g,y);return A.matched?(_=function _k(p,g){return p.providers&&!p._injector&&(p._injector=Kv(p.providers,g,`Route: ${p.path}`)),p._injector??g}(g,_),function Kk(p,g,y,_){const M=g.canMatch;return M&&0!==M.length?Br(M.map(T=>{const F=_p(T,p);return Tc(function xk(p){return p&&x0(p.canMatch)}(F)?F.canMatch(g,y):Ri(p,()=>F(g,y)))})).pipe(vp(),hP()):Br(!0)}(_,g,y).pipe(Hn(T=>!0===T?A:{...G1}))):Br(A)}function z1(p,g,y){if("**"===g.path)return function Jk(p){return{matched:!0,parameters:p.length>0?Lb(p).parameters:{},consumedSegments:p,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===g.path)return"full"===g.pathMatch&&(p.hasChildren()||y.length>0)?{...G1}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const M=(g.matcher||b9)(y,p,g);if(!M)return{...G1};const A={};Object.entries(M.posParams??{}).forEach(([F,Y])=>{A[F]=Y.path});const T=M.consumed.length>0?{...A,...M.consumed[M.consumed.length-1].parameters}:A;return{matched:!0,consumedSegments:M.consumed,remainingSegments:y.slice(M.consumed.length),parameters:T,positionalParamSegments:M.posParams??{}}}function pP(p,g,y,_){return y.length>0&&function qk(p,g,y){return y.some(_=>Cy(p,g,_)&&Ya(_)!==Ur)}(p,y,_)?{segmentGroup:new Os(g,Xk(_,new Os(y,p.children))),slicedSegments:[]}:0===y.length&&function eW(p,g,y){return y.some(_=>Cy(p,g,_))}(p,y,_)?{segmentGroup:new Os(p.segments,Qk(p,y,_,p.children)),slicedSegments:y}:{segmentGroup:new Os(p.segments,p.children),slicedSegments:y}}function Qk(p,g,y,_){const M={};for(const A of y)if(Cy(p,g,A)&&!_[Ya(A)]){const T=new Os([],{});M[Ya(A)]=T}return{..._,...M}}function Xk(p,g){const y={};y[Ur]=g;for(const _ of p)if(""===_.path&&Ya(_)!==Ur){const M=new Os([],{});y[Ya(_)]=M}return y}function Cy(p,g,y){return(!(p.hasChildren()||g.length>0)||"full"!==y.pathMatch)&&""===y.path}class rW{}class iW{constructor(g,y,_,M,A,T,F){this.injector=g,this.configLoader=y,this.rootComponentType=_,this.config=M,this.urlTree=A,this.paramsInheritanceStrategy=T,this.urlSerializer=F,this.applyRedirects=new zk(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(g){return new on(4002,`'${g.segmentGroup}'`)}recognize(){const g=pP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(g).pipe(Hn(({children:y,rootSnapshot:_})=>{const M=new za(_,y),A=new tP("",M),T=function Y9(p,g,y=null,_=null){return Kb(Zb(p),g,y,_)}(_,[],this.urlTree.queryParams,this.urlTree.fragment);return T.queryParams=this.urlTree.queryParams,A.url=this.urlSerializer.serialize(T),{state:A,tree:T}}))}match(g){const y=new vy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ur,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,g,Ur,y).pipe(Hn(_=>({children:_,rootSnapshot:y})),hp(_=>{if(_ instanceof Ty)return this.urlTree=_.urlTree,this.match(_.urlTree.root);throw _ instanceof H1?this.noMatchError(_):_}))}processSegmentGroup(g,y,_,M,A){return 0===_.segments.length&&_.hasChildren()?this.processChildren(g,y,_,A):this.processSegment(g,y,_,_.segments,M,!0,A).pipe(Hn(T=>T instanceof za?[T]:[]))}processChildren(g,y,_,M){const A=[];for(const T of Object.keys(_.children))"primary"===T?A.unshift(T):A.push(T);return _i(A).pipe(uy(T=>{const F=_.children[T],Y=function Ak(p,g){const y=p.filter(_=>Ya(_)===g);return y.push(...p.filter(_=>Ya(_)!==g)),y}(y,T);return this.processSegmentGroup(g,Y,F,T,M)}),function T9(p,g){return tr(function D9(p,g,y,_,M){return(A,T)=>{let F=y,Y=g,ge=0;A.subscribe(jn(T,Re=>{const Ve=ge++;Y=F?p(Y,Re,Ve):(F=!0,Re),_&&T.next(Y)},M&&(()=>{F&&T.next(Y),T.complete()})))}}(p,g,arguments.length>=2,!0))}((T,F)=>(T.push(...F),T)),ly(null),function C9(p,g){const y=arguments.length>=2;return _=>_.pipe(p?Ud((M,A)=>p(M,A,_)):mn,I1(1),y?ly(g):wb(()=>new iy))}(),vi(T=>{if(null===T)return Ep(_);const F=fP(T);return function aW(p){p.sort((g,y)=>g.value.outlet===Ur?-1:y.value.outlet===Ur?1:g.value.outlet.localeCompare(y.value.outlet))}(F),Br(F)}))}processSegment(g,y,_,M,A,T,F){return _i(y).pipe(uy(Y=>this.processSegmentAgainstRoute(Y._injector??g,y,Y,_,M,A,T,F).pipe(hp(ge=>{if(ge instanceof H1)return Br(null);throw ge}))),jd(Y=>!!Y),hp(Y=>{if(dP(Y))return function nW(p,g,y){return 0===g.length&&!p.children[y]}(_,M,A)?Br(new rW):Ep(_);throw Y}))}processSegmentAgainstRoute(g,y,_,M,A,T,F,Y){return function tW(p,g,y,_){return!!(Ya(p)===_||_!==Ur&&Cy(g,y,p))&&z1(g,p,y).matched}(_,M,A,T)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(g,M,_,A,T,Y):this.allowRedirects&&F?this.expandSegmentAgainstRouteUsingRedirect(g,M,y,_,A,T,Y):Ep(M):Ep(M)}expandSegmentAgainstRouteUsingRedirect(g,y,_,M,A,T,F){const{matched:Y,parameters:ge,consumedSegments:Re,positionalParamSegments:Ve,remainingSegments:nt}=z1(y,M,A);if(!Y)return Ep(y);"string"==typeof M.redirectTo&&"/"===M.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ft=new vy(A,ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mP(M),Ya(M),M.component??M._loadedComponent??null,M,gP(M)),It=_y(ft,F,this.paramsInheritanceStrategy);ft.params=Object.freeze(It.params),ft.data=Object.freeze(It.data);const Ut=this.applyRedirects.applyRedirectCommands(Re,M.redirectTo,Ve,ft,g);return this.applyRedirects.lineralizeSegments(M,Ut).pipe(vi(Jt=>this.processSegment(g,_,y,Jt.concat(nt),T,!1,F)))}matchSegmentAgainstRoute(g,y,_,M,A,T){const F=Yk(y,_,M,g);return"**"===_.path&&(y.children={}),F.pipe(Ou(Y=>Y.matched?this.getChildConfig(g=_._injector??g,_,M).pipe(Ou(({routes:ge})=>{const Re=_._loadedInjector??g,{parameters:Ve,consumedSegments:nt,remainingSegments:ft}=Y,It=new vy(nt,Ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mP(_),Ya(_),_.component??_._loadedComponent??null,_,gP(_)),Ut=_y(It,T,this.paramsInheritanceStrategy);It.params=Object.freeze(Ut.params),It.data=Object.freeze(Ut.data);const{segmentGroup:Jt,slicedSegments:rn}=pP(y,nt,ft,ge);if(0===rn.length&&Jt.hasChildren())return this.processChildren(Re,ge,Jt,It).pipe(Hn(Tn=>new za(It,Tn)));if(0===ge.length&&0===rn.length)return Br(new za(It,[]));const Yt=Ya(_)===A;return this.processSegment(Re,ge,Jt,rn,Yt?Ur:A,!0,It).pipe(Hn(Tn=>new za(It,Tn instanceof za?[Tn]:[])))})):Ep(y)))}getChildConfig(g,y,_){return y.children?Br({routes:y.children,injector:g}):y.loadChildren?void 0!==y._loadedRoutes?Br({routes:y._loadedRoutes,injector:y._loadedInjector}):function Zk(p,g,y,_){const M=g.canLoad;return void 0===M||0===M.length?Br(!0):Br(M.map(T=>{const F=_p(T,p);return Tc(function Pk(p){return p&&x0(p.canLoad)}(F)?F.canLoad(g,y):Ri(p,()=>F(g,y)))})).pipe(vp(),hP())}(g,y,_).pipe(vi(M=>M?this.configLoader.loadChildren(g,y).pipe(Ei(A=>{y._loadedRoutes=A.routes,y._loadedInjector=A.injector})):function Gk(p){return ay(aP(!1,ea.GuardRejected))}())):Br({routes:[],injector:g})}}function lW(p){const g=p.value.routeConfig;return g&&""===g.path}function fP(p){const g=[],y=new Set;for(const _ of p){if(!lW(_)){g.push(_);continue}const M=g.find(A=>_.value.routeConfig===A.value.routeConfig);void 0!==M?(M.children.push(..._.children),y.add(M)):g.push(_)}for(const _ of y){const M=fP(_.children);g.push(new za(_.value,M))}return g.filter(_=>!y.has(_))}function mP(p){return p.data||{}}function gP(p){return p.resolve||{}}function yP(p){const g=p.children.map(y=>yP(y)).flat();return[p,...g]}function Y1(p){return Ou(g=>{const y=p(g);return y?_i(y).pipe(Hn(()=>g)):Br(g)})}let _P=(()=>{class p{buildTitle(y){let _,M=y.root;for(;void 0!==M;)_=this.getResolvedTitleForRoute(M)??_,M=M.children.find(A=>A.outlet===Ur);return _}getResolvedTitleForRoute(y){return y.data[M0]}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(fW),providedIn:"root"})}return p})(),fW=(()=>{class p extends _P{constructor(y){super(),this.title=y}updateTitle(y){const _=this.buildTitle(y);void 0!==_&&this.title.setTitle(_)}static#e=this.\u0275fac=function(_){return new(_||p)(br(E7))};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const N0=new xn("",{providedIn:"root",factory:()=>({})}),Sy=new xn("");let vP=(()=>{class p{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fn(U4)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return Br(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const _=Tc(y.loadComponent()).pipe(Hn(EP),Ei(A=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=A}),O1(()=>{this.componentLoaders.delete(y)})),M=new Pb(_,()=>new fr).pipe(S1());return this.componentLoaders.set(y,M),M}loadChildren(y,_){if(this.childrenLoaders.get(_))return this.childrenLoaders.get(_);if(_._loadedRoutes)return Br({routes:_._loadedRoutes,injector:_._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(_);const A=function mW(p,g,y,_){return Tc(p.loadChildren()).pipe(Hn(EP),vi(M=>M instanceof JC||Array.isArray(M)?Br(M):_i(g.compileModuleAsync(M))),Hn(M=>{_&&_(p);let A,T,F=!1;return Array.isArray(M)?(T=M,!0):(A=M.create(y).injector,T=A.get(Sy,[],{optional:!0,self:!0}).flat()),{routes:T.map(K1),injector:A}}))}(_,this.compiler,y,this.onLoadEndListener).pipe(O1(()=>{this.childrenLoaders.delete(_)})),T=new Pb(A,()=>new fr).pipe(S1());return this.childrenLoaders.set(_,T),T}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function EP(p){return function gW(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let J1=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(yW),providedIn:"root"})}return p})(),yW=(()=>{class p{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,_){return y}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const MP=new xn(""),DP=new xn("");let Iy=(()=>{class p{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fr,this.transitionAbortSubject=new fr,this.configLoader=fn(vP),this.environmentInjector=fn(ar),this.urlSerializer=fn(mp),this.rootContexts=fn(b0),this.location=fn(g0),this.inputBindingEnabled=null!==fn(Ey,{optional:!0}),this.titleStrategy=fn(_P),this.options=fn(N0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=fn(J1),this.createViewTransition=fn(MP,{optional:!0}),this.navigationErrorHandler=fn(DP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Br(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new ak(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new ik(M))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const _=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:_})}setupNavigations(y,_,M){return this.transitions=new wn({id:0,currentUrlTree:_,currentRawUrl:_,extractedUrl:this.urlHandlingStrategy.extract(_),urlAfterRedirects:this.urlHandlingStrategy.extract(_),rawUrl:_,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:I0,restoredState:null,currentSnapshot:M.snapshot,targetSnapshot:null,currentRouterState:M,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ud(A=>0!==A.id),Hn(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),Ou(A=>{let T=!1,F=!1;return Br(A).pipe(Ou(Y=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",ea.SupersededByNewNavigation),Ll;this.currentTransition=A,this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ge=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ge&&"reload"!==(Y.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Ve="";return this.events.next(new O0(Y.id,this.urlSerializer.serialize(Y.rawUrl),Ve,N1.IgnoredSameUrlNavigation)),Y.resolve(!1),Ll}if(this.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return Br(Y).pipe(Ou(Ve=>{const nt=this.transitions?.getValue();return this.events.next(new x1(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),Ve.source,Ve.restoredState)),nt!==this.transitions?.getValue()?Ll:Promise.resolve(Ve)}),function uW(p,g,y,_,M,A){return vi(T=>function sW(p,g,y,_,M,A,T="emptyOnly"){return new iW(p,g,y,_,M,T,A).recognize()}(p,g,y,_,T.extractedUrl,M,A).pipe(Hn(({state:F,tree:Y})=>({...T,targetSnapshot:F,urlAfterRedirects:Y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),Ei(Ve=>{A.targetSnapshot=Ve.targetSnapshot,A.urlAfterRedirects=Ve.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ve.urlAfterRedirects};const nt=new Qb(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),this.urlSerializer.serialize(Ve.urlAfterRedirects),Ve.targetSnapshot);this.events.next(nt)}));if(ge&&this.urlHandlingStrategy.shouldProcessUrl(Y.currentRawUrl)){const{id:Ve,extractedUrl:nt,source:ft,restoredState:It,extras:Ut}=Y,Jt=new x1(Ve,this.urlSerializer.serialize(nt),ft,It);this.events.next(Jt);const rn=eP(this.rootComponentType).snapshot;return this.currentTransition=A={...Y,targetSnapshot:rn,urlAfterRedirects:nt,extras:{...Ut,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=nt,Br(A)}{const Ve="";return this.events.next(new O0(Y.id,this.urlSerializer.serialize(Y.extractedUrl),Ve,N1.IgnoredByUrlHandlingStrategy)),Y.resolve(!1),Ll}}),Ei(Y=>{const ge=new nk(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(ge)}),Hn(Y=>(this.currentTransition=A={...Y,guards:Ck(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)},A)),function Bk(p,g){return vi(y=>{const{targetSnapshot:_,currentSnapshot:M,guards:{canActivateChecks:A,canDeactivateChecks:T}}=y;return 0===T.length&&0===A.length?Br({...y,guardsResult:!0}):function Fk(p,g,y,_){return _i(p).pipe(vi(M=>function Vk(p,g,y,_,M){const A=g&&g.routeConfig?g.routeConfig.canDeactivate:null;return A&&0!==A.length?Br(A.map(F=>{const Y=w0(g)??M,ge=_p(F,Y);return Tc(function Lk(p){return p&&x0(p.canDeactivate)}(ge)?ge.canDeactivate(p,g,y,_):Ri(Y,()=>ge(p,g,y,_))).pipe(jd())})).pipe(vp()):Br(!0)}(M.component,M.route,y,g,_)),jd(M=>!0!==M,!0))}(T,_,M,p).pipe(vi(F=>F&&function bk(p){return"boolean"==typeof p}(F)?function Uk(p,g,y,_){return _i(g).pipe(uy(M=>C1(function kk(p,g){return null!==p&&g&&g(new lk(p)),Br(!0)}(M.route.parent,_),function jk(p,g){return null!==p&&g&&g(new ck(p)),Br(!0)}(M.route,_),function $k(p,g,y){const _=g[g.length-1],A=g.slice(0,g.length-1).reverse().map(T=>function Sk(p){const g=p.routeConfig?p.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:p,guards:g}:null}(T)).filter(T=>null!==T).map(T=>bb(()=>Br(T.guards.map(Y=>{const ge=w0(T.node)??y,Re=_p(Y,ge);return Tc(function Rk(p){return p&&x0(p.canActivateChild)}(Re)?Re.canActivateChild(_,p):Ri(ge,()=>Re(_,p))).pipe(jd())})).pipe(vp())));return Br(A).pipe(vp())}(p,M.path,y),function Wk(p,g,y){const _=g.routeConfig?g.routeConfig.canActivate:null;if(!_||0===_.length)return Br(!0);const M=_.map(A=>bb(()=>{const T=w0(g)??y,F=_p(A,T);return Tc(function wk(p){return p&&x0(p.canActivate)}(F)?F.canActivate(g,p):Ri(T,()=>F(g,p))).pipe(jd())}));return Br(M).pipe(vp())}(p,M.route,y))),jd(M=>!0!==M,!0))}(_,A,p,g):Br(F)),Hn(F=>({...y,guardsResult:F})))})}(this.environmentInjector,Y=>this.events.next(Y)),Ei(Y=>{if(A.guardsResult=Y.guardsResult,Y.guardsResult&&"boolean"!=typeof Y.guardsResult)throw My(0,Y.guardsResult);const ge=new rk(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.events.next(ge)}),Ud(Y=>!!Y.guardsResult||(this.cancelNavigationTransition(Y,"",ea.GuardRejected),!1)),Y1(Y=>{if(Y.guards.canActivateChecks.length)return Br(Y).pipe(Ei(ge=>{const Re=new sk(ge.id,this.urlSerializer.serialize(ge.extractedUrl),this.urlSerializer.serialize(ge.urlAfterRedirects),ge.targetSnapshot);this.events.next(Re)}),Ou(ge=>{let Re=!1;return Br(ge).pipe(function cW(p,g){return vi(y=>{const{targetSnapshot:_,guards:{canActivateChecks:M}}=y;if(!M.length)return Br(y);const A=new Set(M.map(Y=>Y.route)),T=new Set;for(const Y of A)if(!T.has(Y))for(const ge of yP(Y))T.add(ge);let F=0;return _i(T).pipe(uy(Y=>A.has(Y)?function dW(p,g,y,_){const M=p.routeConfig,A=p._resolve;return void 0!==M?.title&&!rP(M)&&(A[M0]=M.title),function hW(p,g,y,_){const M=b1(p);if(0===M.length)return Br({});const A={};return _i(M).pipe(vi(T=>function pW(p,g,y,_){const M=w0(g)??_,A=_p(p,M);return Tc(A.resolve?A.resolve(g,y):Ri(M,()=>A(g,y)))}(p[T],g,y,_).pipe(jd(),Ei(F=>{if(F instanceof Z1)throw My(new dy,F);A[T]=F}))),I1(1),function S9(p){return Hn(()=>p)}(A),hp(T=>dP(T)?Ll:ay(T)))}(A,p,g,_).pipe(Hn(T=>(p._resolvedData=T,p.data=_y(p,p.parent,y).resolve,null)))}(Y,_,p,g):(Y.data=_y(Y,Y.parent,p).resolve,Br(void 0))),Ei(()=>F++),I1(1),vi(Y=>F===T.size?Br(y):Ll))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ei({next:()=>Re=!0,complete:()=>{Re||this.cancelNavigationTransition(ge,"",ea.NoDataFromResolver)}}))}),Ei(ge=>{const Re=new ok(ge.id,this.urlSerializer.serialize(ge.extractedUrl),this.urlSerializer.serialize(ge.urlAfterRedirects),ge.targetSnapshot);this.events.next(Re)}))}),Y1(Y=>{const ge=Re=>{const Ve=[];Re.routeConfig?.loadComponent&&!Re.routeConfig._loadedComponent&&Ve.push(this.configLoader.loadComponent(Re.routeConfig).pipe(Ei(nt=>{Re.component=nt}),Hn(()=>{})));for(const nt of Re.children)Ve.push(...ge(nt));return Ve};return Ib(ge(Y.targetSnapshot.root)).pipe(ly(null),dp(1))}),Y1(()=>this.afterPreactivation()),Ou(()=>{const{currentSnapshot:Y,targetSnapshot:ge}=A,Re=this.createViewTransition?.(this.environmentInjector,Y.root,ge.root);return Re?_i(Re).pipe(Hn(()=>A)):Br(A)}),Hn(Y=>{const ge=function fk(p,g,y){const _=P0(p,g._root,y?y._root:void 0);return new qb(_,g)}(y.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return this.currentTransition=A={...Y,targetRouterState:ge},this.currentNavigation.targetRouterState=ge,A}),Ei(()=>{this.events.next(new F1)}),((p,g,y,_)=>Hn(M=>(new Tk(g,M.targetRouterState,M.currentRouterState,y,_).activate(p),M)))(this.rootContexts,y.routeReuseStrategy,Y=>this.events.next(Y),this.inputBindingEnabled),dp(1),Ei({next:Y=>{T=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wd(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects))),this.titleStrategy?.updateTitle(Y.targetRouterState.snapshot),Y.resolve(!0)},complete:()=>{T=!0}}),function I9(p){return tr((g,y)=>{Su(p).subscribe(jn(y,()=>y.complete(),_t)),!y.closed&&g.subscribe(y)})}(this.transitionAbortSubject.pipe(Ei(Y=>{throw Y}))),O1(()=>{!T&&!F&&this.cancelNavigationTransition(A,"",ea.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),hp(Y=>{if(F=!0,lP(Y))this.events.next(new $d(A.id,this.urlSerializer.serialize(A.extractedUrl),Y.message,Y.cancellationCode)),function yk(p){return lP(p)&&T0(p.url)}(Y)?this.events.next(new yy(Y.url,Y.navigationBehaviorOptions)):A.resolve(!1);else{const ge=new B1(A.id,this.urlSerializer.serialize(A.extractedUrl),Y,A.targetSnapshot??void 0);try{const Re=Ri(this.environmentInjector,()=>this.navigationErrorHandler?.(ge));if(Re instanceof Z1){const{message:Ve,cancellationCode:nt}=My(0,Re);this.events.next(new $d(A.id,this.urlSerializer.serialize(A.extractedUrl),Ve,nt)),this.events.next(new yy(Re.redirectTo,Re.navigationBehaviorOptions))}else{this.events.next(ge);const Ve=y.errorHandler(Y);A.resolve(!!Ve)}}catch(Re){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(Re)}}return Ll}))}))}cancelNavigationTransition(y,_,M){const A=new $d(y.id,this.urlSerializer.serialize(y.extractedUrl),_,M);this.events.next(A),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function EW(p){return p!==I0}let MW=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(DW),providedIn:"root"})}return p})();class AW{shouldDetach(g){return!1}store(g,y){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,y){return g.routeConfig===y.routeConfig}}let DW=(()=>{class p extends AW{static#e=this.\u0275fac=(()=>{let y;return function(M){return(y||(y=v_(p)))(M||p)}})();static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),TP=(()=>{class p{static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:()=>fn(TW),providedIn:"root"})}return p})(),TW=(()=>{class p extends TP{constructor(){super(...arguments),this.location=fn(g0),this.urlSerializer=fn(mp),this.options=fn(N0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=fn(J1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fp,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(_=>{"popstate"===_.type&&y(_.url,_.state)})}handleRouterEvent(y,_){if(y instanceof x1)this.stateMemento=this.createStateMemento();else if(y instanceof O0)this.rawUrlTree=_.initialUrl;else if(y instanceof Qb){if("eager"===this.urlUpdateStrategy&&!_.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(_.finalUrl,_.initialUrl);this.setBrowserUrl(M,_)}}else y instanceof F1?(this.currentUrlTree=_.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(_.finalUrl,_.initialUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_))):y instanceof $d&&(y.code===ea.GuardRejected||y.code===ea.NoDataFromResolver)?this.restoreHistory(_):y instanceof B1?this.restoreHistory(_,!0):y instanceof Wd&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,_){const M=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(M)||_.extras.replaceUrl){const T={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId)};this.location.replaceState(M,"",T)}else{const A={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId+1)};this.location.go(M,"",A)}}restoreHistory(y,_=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-this.browserPageId;0!==A?this.location.historyGo(A):this.currentUrlTree===y.finalUrl&&0===A&&(this.resetState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(_&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,_){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:_}:{navigationId:y}}static#e=this.\u0275fac=(()=>{let y;return function(M){return(y||(y=v_(p)))(M||p)}})();static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();var B0=function(p){return p[p.COMPLETE=0]="COMPLETE",p[p.FAILED=1]="FAILED",p[p.REDIRECTING=2]="REDIRECTING",p}(B0||{});function CW(p){throw p}const SW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cc=(()=>{class p{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=fn(IO),this.stateManager=fn(TP),this.options=fn(N0,{optional:!0})||{},this.pendingTasks=fn(Pd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=fn(Iy),this.urlSerializer=fn(mp),this.location=fn(g0),this.urlHandlingStrategy=fn(J1),this._events=new fr,this.errorHandler=this.options.errorHandler||CW,this.navigated=!1,this.routeReuseStrategy=fn(MW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=fn(Sy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!fn(Ey,{optional:!0}),this.eventsSubscription=new Xe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(_=>{try{const M=this.navigationTransitions.currentTransition,A=this.navigationTransitions.currentNavigation;if(null!==M&&null!==A)if(this.stateManager.handleRouterEvent(_,A),_ instanceof $d&&_.code!==ea.Redirect&&_.code!==ea.SupersededByNewNavigation)this.navigated=!0;else if(_ instanceof Wd)this.navigated=!0;else if(_ instanceof yy){const T=_.navigationBehaviorOptions,F=this.urlHandlingStrategy.merge(_.url,M.currentRawUrl),Y={info:M.extras.info,skipLocationChange:M.extras.skipLocationChange,replaceUrl:M.extras.replaceUrl||"eager"===this.urlUpdateStrategy||EW(M.source),...T};this.scheduleNavigation(F,I0,null,Y,{resolve:M.resolve,reject:M.reject,promise:M.promise})}(function bW(p){return!(p instanceof F1||p instanceof yy)})(_)&&this._events.next(_)}catch(M){this.navigationTransitions.transitionAbortSubject.next(M)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),I0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,_)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(y,"popstate",_)},0)})}navigateToSyncWithBrowser(y,_,M){const A={replaceUrl:!0},T=M?.navigationId?M:null;if(M){const Y={...M};delete Y.navigationId,delete Y.\u0275routerPageId,0!==Object.keys(Y).length&&(A.state=Y)}const F=this.parseUrl(y);this.scheduleNavigation(F,_,T,A)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(K1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,_={}){const{relativeTo:M,queryParams:A,fragment:T,queryParamsHandling:F,preserveFragment:Y}=_,ge=Y?this.currentUrlTree.fragment:T;let Ve,Re=null;switch(F){case"merge":Re={...this.currentUrlTree.queryParams,...A};break;case"preserve":Re=this.currentUrlTree.queryParams;break;default:Re=A||null}null!==Re&&(Re=this.removeEmptyProps(Re));try{Ve=Zb(M?M.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Ve=this.currentUrlTree.root}return Kb(Ve,y,Re,ge??null)}navigateByUrl(y,_={skipLocationChange:!1}){const M=T0(y)?y:this.parseUrl(y),A=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(A,I0,null,_)}navigate(y,_={skipLocationChange:!1}){return function OW(p){for(let g=0;g<p.length;g++)if(null==p[g])throw new on(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,_),_)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,_){let M;if(M=!0===_?{...SW}:!1===_?{...IW}:_,T0(y))return Nb(this.currentUrlTree,y,M);const A=this.parseUrl(y);return Nb(this.currentUrlTree,A,M)}removeEmptyProps(y){return Object.entries(y).reduce((_,[M,A])=>(null!=A&&(_[M]=A),_),{})}scheduleNavigation(y,_,M,A,T){if(this.disposed)return Promise.resolve(!1);let F,Y,ge;T?(F=T.resolve,Y=T.reject,ge=T.promise):ge=new Promise((Ve,nt)=>{F=Ve,Y=nt});const Re=this.pendingTasks.add();return function CP(p,g){p.events.pipe(Ud(y=>y instanceof Wd||y instanceof $d||y instanceof B1||y instanceof O0),Hn(y=>y instanceof Wd||y instanceof O0?B0.COMPLETE:y instanceof $d&&(y.code===ea.Redirect||y.code===ea.SupersededByNewNavigation)?B0.REDIRECTING:B0.FAILED),Ud(y=>y!==B0.REDIRECTING),dp(1)).subscribe(()=>{g()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Re))}),this.navigationTransitions.handleNavigationRequest({source:_,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:A,resolve:F,reject:Y,promise:ge,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ge.catch(Ve=>Promise.reject(Ve))}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275prov=Jn({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const X1=new xn("");function IP(p){return p.routerState.root}function OP(){const p=fn(Xo);return g=>{const y=p.get(Ka);if(g!==y.components[0])return;const _=p.get(Cc),M=p.get(bP);1===p.get(q1)&&_.initialNavigation(),p.get(PP,null,xr.Optional)?.setUpPreloading(),p.get(X1,null,xr.Optional)?.init(),_.resetRootComponentType(y.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const bP=new xn("",{factory:()=>new fr}),q1=new xn("",{providedIn:"root",factory:()=>1}),PP=new xn(""),jW={providers:[function Z4(p){const g=p?.ignoreChangesOutsideZone,y=UE({ngZoneFactory:()=>{const _=jE(p);return _.shouldCoalesceEventChangeDetection&&Qi("NgZone_CoalesceEvent"),new Ds(_)},ignoreChangesOutsideZone:g});return ha([[],{provide:Hf,useValue:!1},y])}({eventCoalescing:!0}),function xW(p,...g){return ha([{provide:Sy,multi:!0,useValue:p},[],{provide:yp,useFactory:IP,deps:[Cc]},{provide:Pg,multi:!0,useFactory:OP},g.map(y=>y.\u0275providers)])}([])]};var Mr=v(10467),Ue=v(8189),kW=v(77469),WW=v(4360),Oy=v(31336),Gr=v(98877),by=v(2993),Mp=v(42425),Ts=v(11432),Ge=v(85211),Vd=v(48669),Mi=(v(40707),v(3248)),On=v(76576),Py=v(17715),Dn=v(48900);const wy=new WeakMap;function RP(p){return!p.destroyed&&(wy.has(p)||p.addHandles([(0,Dn.wB)(()=>{const g=p.parent;return!(!g||!("type"in g))&&("catalog-dynamic-group"===g.type||RP(g))},g=>wy.set(p,g),Dn.pc),(0,Py.hA)(()=>wy.delete(p))]),wy.get(p))}var Fl=v(58443);function VW(p){return!(!function $W(p){return"object"==typeof p&&null!=p&&"loaded"in p&&!0===p.loaded&&"type"in p}(p)||!(0,Fl.BR)(p)?.operations?.supportsEditing||"editingEnabled"in p&&!(0,Fl.tk)(p)||RP(p))}var eM=v(71470),Ry=v(76227),os=v(35150),Ul=v(55739);const LP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var KW=v(74613),HW=v(93480);let Ja=class extends((0,HW.l)((0,KW.Q)(Mp.A.EventedMixin(Gr.A)))){constructor(p){super(p),this.allLayers=new by.A({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:g=>"layers"in g?g.layers:null}),this.allTables=(0,Ry.Z)(this),this.basemap=null,this.editableLayers=new by.A({getCollections:()=>[this.allLayers],itemFilterFunction:VW}),this.ground=new Oy.A,this._basemapCache=(0,eM.VC)()}destroy(){(0,eM.jj)(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,Ts.pR)(this.basemap),(0,Ts.pR)(this.ground),this._set("ground",null)}castBasemap(p){return(0,eM.dp)(p,this._basemapCache)}castGround(p){return function ZW(p){let g=null;return"string"==typeof p?p in LP?g=new Oy.A({resourceInfo:{data:{layers:[LP[p]]}}}):os.A.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${p}. Try "world-elevation"`):g=(0,Ul.dp)(Oy.A,p),g}(p)??this._get("ground")}findLayerById(p){return this.allLayers.find(g=>g.id===p)}findTableById(p){return this.allTables.find(g=>g.id===p)}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0,dependsOn:[]})],Ja.prototype,"allLayers",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ja.prototype,"allTables",void 0),(0,Ue._)([(0,Ge.MZ)({type:WW.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Ja.prototype,"basemap",void 0),(0,Ue._)([(0,Vd.w)("basemap")],Ja.prototype,"castBasemap",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ja.prototype,"editableLayers",void 0),(0,Ue._)([(0,Ge.MZ)({type:Oy.A,nonNullable:!0})],Ja.prototype,"ground",void 0),(0,Ue._)([(0,Vd.w)("ground")],Ja.prototype,"castGround",null),(0,Ue._)([(0,Ge.MZ)()],Ja.prototype,"undoRedo",void 0),Ja=(0,Ue._)([(0,On.$)("esri.Map")],Ja);const xP=Ja;var ai=v(20351),Sc=v(89952),Xs=v(31178),ns=v(5922),tM=v(55098),GW=v(4879),zW=v(39693),nM=v(64261),bs=v(56492),rM=v(45272),Ic=v(17221),Sa=v(50305),YW=v(34813),F0=v(32034),JW=v(71169),QW=v(46577),XW=v(69927),Ps=v(71065);let Oc=class extends Ps.oY{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Oc.prototype,"facilityIdField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Oc.prototype,"layerId",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Oc.prototype,"nameField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Oc.prototype,"siteIdField",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Oc.prototype,"sublayerId",void 0),Oc=(0,Ue._)([(0,On.$)("esri.layers.support.FacilityLayerInfo")],Oc);const qW=Oc;let Qa=class extends Ps.oY{constructor(p){super(p),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"facilityIdField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"layerId",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"levelIdField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"levelNumberField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"longNameField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"shortNameField",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Qa.prototype,"sublayerId",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Qa.prototype,"verticalOrderField",void 0),Qa=(0,Ue._)([(0,On.$)("esri.layers.support.LevelLayerInfo")],Qa);const e$=Qa;let Zd=class extends Ps.oY{constructor(p){super(p),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Zd.prototype,"layerId",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Zd.prototype,"nameField",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Zd.prototype,"siteIdField",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Zd.prototype,"sublayerId",void 0),Zd=(0,Ue._)([(0,On.$)("esri.layers.support.SiteLayerInfo")],Zd);const t$=Zd;let Ap=class extends Ps.oY{constructor(p){super(p),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,Ue._)([(0,Ge.MZ)({type:e$,json:{write:!0}})],Ap.prototype,"levelLayer",void 0),(0,Ue._)([(0,Ge.MZ)({type:qW,json:{write:!0}})],Ap.prototype,"facilityLayer",void 0),(0,Ue._)([(0,Ge.MZ)({type:t$,json:{write:!0}})],Ap.prototype,"siteLayer",void 0),Ap=(0,Ue._)([(0,On.$)("esri.support.MapFloorInfo")],Ap);const n$=Ap;var jl=v(90660),bc=v(15463),U0=v(49976);let Dp=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.expression=null,this.returnType="string",this.title=null}};(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{isRequired:!0}}})],Dp.prototype,"expression",void 0),(0,Ue._)([(0,Ge.MZ)({type:["number","string"],json:{write:!0}})],Dp.prototype,"returnType",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Dp.prototype,"title",void 0),Dp=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.ExpressionInfo")],Dp);const NP=Dp,Ly=new U0.J({deviceLocation:"device-location"});let j0=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.filterExpression=null,this.type="device-location"}};(0,Ue._)([(0,Ge.MZ)({type:NP,json:{write:!0}})],j0.prototype,"filterExpression",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ly.apiValues,readOnly:!0,json:{type:Ly.jsonValues,read:Ly.read,write:Ly.write}})],j0.prototype,"type",void 0),j0=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],j0);const r$=j0;var s$=v(21152),o$=v(61320);let k0=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.geometry=null,this.where=null}};(0,Ue._)([(0,Ge.MZ)({types:s$.yR,json:{read:o$.rS,write:!0}})],k0.prototype,"geometry",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],k0.prototype,"where",void 0),k0=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.FeatureFilter")],k0);const i$=k0;let Tp=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],Tp.prototype,"layerId",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],Tp.prototype,"layerUrl",void 0),(0,Ue._)([(0,bc.e)({featureLayer:"feature-layer"},{readOnly:!0})],Tp.prototype,"type",void 0),Tp=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Tp);const a$=Tp;let Kd=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,Ue._)([(0,Ge.MZ)({type:a$,json:{write:{isRequired:!0}}})],Kd.prototype,"fenceSource",void 0),(0,Ue._)([(0,Ge.MZ)({type:i$,json:{write:!0}})],Kd.prototype,"filter",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,json:{write:!0}})],Kd.prototype,"bufferDistance",void 0),(0,Ue._)([(0,bc.e)({features:"features"},{readOnly:!0})],Kd.prototype,"type",void 0),Kd=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],Kd);const l$=Kd;let xy=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.type="fence"}};(0,Ue._)([(0,bc.e)({fence:"fence"},{readOnly:!0})],xy.prototype,"type",void 0),xy=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.Geotrigger")],xy);const BP=xy;let W0=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.expressionInfo=null,this.requestedActions=null}};(0,Ue._)([(0,Ge.MZ)({type:NP,json:{write:!0}})],W0.prototype,"expressionInfo",void 0),(0,Ue._)([(0,Ge.MZ)({type:[String],json:{write:!0}})],W0.prototype,"requestedActions",void 0),W0=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],W0);const u$=W0,c$=new U0.J({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),d$=new U0.J({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),Ny=new U0.J({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Xa=class extends BP{constructor(p){super(p),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,Ue._)([(0,bc.e)(c$)],Xa.prototype,"enterExitRule",void 0),(0,Ue._)([(0,Ge.MZ)({type:r$,json:{write:{isRequired:!0}}})],Xa.prototype,"feed",void 0),(0,Ue._)([(0,bc.e)(d$)],Xa.prototype,"feedAccuracyMode",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ny.apiValues,json:{type:Ny.jsonValues,read:Ny.read,write:{writer:Ny.write,isRequired:!0}}})],Xa.prototype,"fenceNotificationRule",void 0),(0,Ue._)([(0,Ge.MZ)({type:l$,json:{write:{isRequired:!0}}})],Xa.prototype,"fenceParameters",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Xa.prototype,"name",void 0),(0,Ue._)([(0,Ge.MZ)({type:u$,json:{write:!0}})],Xa.prototype,"notificationOptions",void 0),(0,Ue._)([(0,bc.e)({fence:"fence"},{readOnly:!0})],Xa.prototype,"type",void 0),Xa=(0,Ue._)([(0,On.$)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Xa);const h$={base:BP,key:"type",typeMap:{fence:Xa}};let By=class extends((0,jl.O)(Ps.oY)){constructor(p){super(p),this.geotriggers=null}};(0,Ue._)([(0,Ge.MZ)({types:[h$],json:{write:{isRequired:!0}}})],By.prototype,"geotriggers",void 0),By=(0,Ue._)([(0,On.$)("esri.webdoc.GeotriggersInfo")],By);const p$=By;var sM,Fy=v(71655),qa=v(77806);let Cp=sM=class extends Ps.oY{constructor(p){super(p),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new sM((0,qa.o8)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,Ue._)([(0,Ge.MZ)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],Cp.prototype,"activeRange",void 0),(0,Ue._)([(0,Ge.MZ)({type:[Number],json:{write:!0}})],Cp.prototype,"currentRangeExtent",void 0),(0,Ue._)([(0,Ge.MZ)({type:[Number],json:{write:!0}})],Cp.prototype,"fullRangeExtent",void 0),Cp=sM=(0,Ue._)([(0,On.$)("esri.webdoc.RangeInfo")],Cp);const oM=Cp;var iM;let kl=iM=class extends Ps.oY{constructor(p){super(p),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new iM((0,qa.o8)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],kl.prototype,"enabled",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],kl.prototype,"longNames",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],kl.prototype,"minimized",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],kl.prototype,"pinnedLevels",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],kl.prototype,"site",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],kl.prototype,"facility",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],kl.prototype,"level",void 0),kl=iM=(0,Ue._)([(0,On.$)("esri.webdoc.widgets.FloorFilter")],kl);const f$=kl;var aM;const Uy=new U0.J({slider:"slider",picker:"picker"});let Sp=aM=class extends Ps.oY{constructor(p){super(p),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new aM({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,Ue._)([(0,Ge.MZ)({type:Uy.apiValues,nonNullable:!0,json:{type:Uy.jsonValues,default:null,read:{reader:Uy.read},write:{isRequired:!0,writer:Uy.write}}})],Sp.prototype,"interactionMode",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ul.jz,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const p=null!=this.stopInterval;return{enabled:!p,isRequired:!p}}}}})],Sp.prototype,"numStops",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],Sp.prototype,"stopInterval",void 0),Sp=aM=(0,Ue._)([(0,On.$)("esri.webdoc.widgets.Range")],Sp);const m$=Sp;var uM,Ip=v(12849),FP=v(99980),lM=v(89221),g$=v(26957);let $o=uM=class extends Ps.oY{constructor(p){super(p),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(p){if(!p)return;const g=null!=p[0]?new Date(p[0]):null,y=null!=p[1]?new Date(p[1]):null;return new Ip.A({start:g,end:y})}writeCurrentTimeExtent(p,g,y){p&&(0,lM.sM)(y,[null!=p.start?p.start.getTime():null,null!=p.end?p.end.getTime():null],g)}readFullTimeExtent(p,g){const y=g.properties;if(!y)return;const _=null!=y.endTime?new Date(y.endTime):null,M=null!=y.startTime?new Date(y.startTime):null;return new Ip.A({start:M,end:_})}writeFullTimeExtent(p,g){if(!p)return;const y=g.properties=g.properties||{},_=p.end,M=p.start;_&&(y.endTime=null!=_?_.getTime():null),M&&(y.startTime=null!=M?M.getTime():null)}readStopInterval(p,g,y){return p?FP.A.fromJSON({value:p.interval,unit:p.units},y):null}writeStopInterval(p,g,y,_){if(!p)return;const M=p.toJSON(_);(0,lM.sM)("properties.timeStopInterval",{interval:M.value,units:M.unit},g)}readStops(p){return p?.length?p.map(g=>new Date(g)):null}writeStops(p,g,y){p?.length&&(0,lM.sM)(y,p.map(_=>_.getTime()),g)}clone(){return new uM((0,qa.o8)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,Ue._)([(0,Ge.MZ)({type:Ip.A,json:{type:[[Ul.jz,Ul.Uv]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],$o.prototype,"currentTimeExtent",void 0),(0,Ue._)([(0,Ic.w)("currentTimeExtent")],$o.prototype,"readCurrentTimeExtent",null),(0,Ue._)([(0,Sa.K)("currentTimeExtent")],$o.prototype,"writeCurrentTimeExtent",null),(0,Ue._)([(0,Ge.MZ)({type:Ip.A,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],$o.prototype,"fullTimeExtent",void 0),(0,Ue._)([(0,Ic.w)("fullTimeExtent")],$o.prototype,"readFullTimeExtent",null),(0,Ue._)([(0,Sa.K)("fullTimeExtent")],$o.prototype,"writeFullTimeExtent",null),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],$o.prototype,"loop",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ul.jz,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const y=!(this.stopInterval||this.stops?.length);return{enabled:y,isRequired:y}}}}})],$o.prototype,"numStops",void 0),(0,Ue._)([(0,Ge.MZ)({type:[1,2],nonNullable:!0,json:{type:Ul.jz,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],$o.prototype,"numThumbs",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],$o.prototype,"stopDelay",void 0),(0,Ue._)([(0,Ge.MZ)({type:FP.A,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:g$.j.jsonValues.filter(p=>"esriTimeUnitsUnknown"!==p)}},overridePolicy(){const p=null!=this.numStops,g=!!this.stops?.length;return{enabled:!g,isRequired:!(p||g)}}}}})],$o.prototype,"stopInterval",void 0),(0,Ue._)([(0,Ic.w)("stopInterval")],$o.prototype,"readStopInterval",null),(0,Ue._)([(0,Sa.K)("stopInterval")],$o.prototype,"writeStopInterval",null),(0,Ue._)([(0,Ge.MZ)({type:[Date],json:{type:[Ul.jz],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],$o.prototype,"stops",void 0),(0,Ue._)([(0,Ic.w)("stops")],$o.prototype,"readStops",null),(0,Ue._)([(0,Sa.K)("stops")],$o.prototype,"writeStops",null),$o=uM=(0,Ue._)([(0,On.$)("esri.webdoc.widgets.TimeSlider")],$o);const y$=$o;var cM;let Op=cM=class extends Ps.oY{constructor(p){super(p),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new cM((0,qa.o8)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,Ue._)([(0,Ge.MZ)({type:m$,json:{write:!0}})],Op.prototype,"range",void 0),(0,Ue._)([(0,Ge.MZ)({type:y$,json:{write:!0}})],Op.prototype,"timeSlider",void 0),(0,Ue._)([(0,Ge.MZ)({type:f$,json:{write:!0}})],Op.prototype,"floorFilter",void 0),Op=cM=(0,Ue._)([(0,On.$)("esri.webdoc.Widgets")],Op);const _$=Op,v$={width:600,height:400};var dM=v(55039),M$=v(73874),A$=v(15764),D$=v(66456),T$=v(77436);function UP(p,g,y){const _={context:{...y,layerContainerType:"operational-layers"}};return p.portalItem&&(_.context.portal=p.portalItem.portal||M$.A.getDefault()),Promise.all([v.e(5565),v.e(2076)]).then(v.bind(v,66323)).then(({populateOperationalLayers:M})=>{const A=[],T=g.operationalLayers;T?.length&&A.push(M(p.layers,T,_));const F={..._,context:{..._.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},Y=g.tables;return Y?.length&&A.push(M(p.tables,Y,F)),Promise.allSettled(A).then(()=>{})})}function hM(){return hM=(0,Mr.A)(function*(p,g,y){if(yield y.load().catch(T=>{throw new ns.A(`${p.name}:load-portal-item`,"Failed to load portal item",{error:T})}),y.type!==p.itemType)throw new ns.A(`${p.name}:invalid-portal-item`,`Invalid portal item type '${y.type}', expected '${p.itemType}'`,{type:y.type});const _=yield y.fetchData();g.resourceInfo=_;const M=(0,A$.v)(y,p.origin);yield function I$(p,g,y,_){const M=function O$(p,g){const y=p.parseVersion(g.version||"",p.name);return p.currentVersion.validate(y),g.version=`${y.major}.${y.minor}`,g}(p,y);return g.read(M,_),UP(g,M,_)}(p,g,_,M),g.resourceReferences={portalItem:y,paths:M.readResourcePaths};const A=yield function b$(p,g,y){return pM.apply(this,arguments)}(g.initialViewProperties,y,os.A.getLogger(g));if(A){const T=g.initialViewProperties?.clone()??p.createInitialViewProperties();T.viewpoint=A,g.initialViewProperties=T}}),hM.apply(this,arguments)}function pM(){return pM=(0,Mr.A)(function*(p,g,y){if(p?.viewpoint?.targetGeometry)return null;const M=yield function P$(p,g,y){return fM.apply(this,arguments)}(p,g,y);return M?new ai.A({targetGeometry:M}):null}),pM.apply(this,arguments)}function fM(){return(fM=(0,Mr.A)(function*(p,g,y){const _=p?.spatialReference,M=g?.extent;if(!_||!M)return null;if(_.isWGS84)return M.clone();if(_.isWebMercator)return(0,dM.Gh)(M);const{getGeometryServiceURL:A}=yield v.e(5385).then(v.bind(v,65385));try{const T=yield A(g),F=new T$.A({geometries:[M],outSpatialReference:_});return(yield(0,D$.C)(T,F))[0]}catch(T){y.error("Error projecting item's extent:",T)}return null})).apply(this,arguments)}var w$=v(85263);function jP(p){return{enabled:!!p?.length}}var mM,kP=v(38965);let bp=mM=class extends Ps.oY{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new mM({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{write:!0}})],bp.prototype,"exactMatch",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],bp.prototype,"name",void 0),(0,Ue._)([(0,bc.e)(kP.m)],bp.prototype,"type",void 0),bp=mM=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.SearchLayerField")],bp);const R$=bp;var gM;let Pp=gM=class extends Ps.oY{constructor(p){super(p),this.field=null,this.id=null,this.subLayer=null}clone(){return new gM((0,qa.o8)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,Ue._)([(0,Ge.MZ)({type:R$,json:{write:{isRequired:!0}}})],Pp.prototype,"field",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{isRequired:!0}}})],Pp.prototype,"id",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ul.jz,json:{write:!0}})],Pp.prototype,"subLayer",void 0),Pp=gM=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.SearchLayer")],Pp);const L$=Pp;var yM;let wp=yM=class extends Ps.oY{constructor(p){super(p),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new yM({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,json:{write:!0}})],wp.prototype,"exactMatch",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],wp.prototype,"name",void 0),(0,Ue._)([(0,bc.e)(kP.m)],wp.prototype,"type",void 0),wp=yM=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.SearchTableField")],wp);const x$=wp;var _M;let $0=_M=class extends Ps.oY{constructor(p){super(p),this.field=null,this.id=null}clone(){return new _M((0,qa.o8)({field:this.field,id:this.id}))}};(0,Ue._)([(0,Ge.MZ)({type:x$,json:{write:{isRequired:!0}}})],$0.prototype,"field",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{isRequired:!0}}})],$0.prototype,"id",void 0),$0=_M=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.SearchTable")],$0);const N$=$0;var vM;const WP=Xs.A.ofType(L$),$P=Xs.A.ofType(N$);let Wl=vM=class extends Ps.oY{constructor(p){super(p),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new WP,this.tables=new $P}readAddressSearchEnabled(p){return!p}writeAddressSearchEnabled(p,g,y){g[y]=!p}clone(){return new vM((0,qa.o8)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Wl.prototype,"addressSearchEnabled",void 0),(0,Ue._)([(0,Ic.w)("addressSearchEnabled")],Wl.prototype,"readAddressSearchEnabled",null),(0,Ue._)([(0,Sa.K)("addressSearchEnabled")],Wl.prototype,"writeAddressSearchEnabled",null),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Wl.prototype,"enabled",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:!0}})],Wl.prototype,"hintText",void 0),(0,Ue._)([(0,Ge.MZ)({type:WP,json:{write:{overridePolicy:jP},origins:{"web-scene":{write:{isRequired:!0}}}}})],Wl.prototype,"layers",void 0),(0,Ue._)([(0,Ge.MZ)({type:$P,json:{read:!0,write:{overridePolicy:jP}}})],Wl.prototype,"tables",void 0),Wl=vM=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.Search")],Wl);const B$=Wl;var EM;let ky=EM=class extends Ps.oY{constructor(p){super(p),this.search=null}clone(){return new EM((0,qa.o8)({search:this.search}))}};(0,Ue._)([(0,Ge.MZ)({type:B$,json:{write:!0}})],ky.prototype,"search",void 0),ky=EM=(0,Ue._)([(0,On.$)("esri.webdoc.applicationProperties.Viewing")],ky);const F$=ky;var MM;let Rp=MM=class extends Ps.oY{constructor(p){super(p),this.editing=null,this.offline=null,this.viewing=null}clone(){return new MM((0,qa.o8)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,Ue._)([(0,Ge.MZ)({json:{write:!0}})],Rp.prototype,"editing",void 0),(0,Ue._)([(0,Ge.MZ)({json:{write:!0}})],Rp.prototype,"offline",void 0),(0,Ue._)([(0,Ge.MZ)({type:F$,json:{write:!0}})],Rp.prototype,"viewing",void 0),Rp=MM=(0,Ue._)([(0,On.$)("esri.webmap.ApplicationProperties")],Rp);const U$=Rp;var AM,V0=v(3046);let ta=AM=class extends Ps.oY{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return function k$(p){return!!p&&/^https:\/\/.*/i.test(p)}(this.url)}get isDataURI(){return function W$(p){return!!p&&/data:([-\w]+\/[-+\w.]+)?(;?\w+=[-\w]+)*(;base64)?,.*/gu.test(p)}(this.url)}clone(){return new AM({url:this.url})}};var DM;(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{isRequired:!0}}})],ta.prototype,"url",void 0),(0,Ue._)([(0,Ge.MZ)()],ta.prototype,"isSecureUrl",null),(0,Ue._)([(0,Ge.MZ)()],ta.prototype,"isDataURI",null),ta=AM=(0,Ue._)([(0,On.$)("esri.webdoc.support.SlideThumbnail")],ta);let $l=DM=class extends((0,V0.sA)(Ps.oY)){constructor(p){super(p),this.name=null,this.thumbnail=new ta,this.timeExtent=null}castThumbnail(p){return"string"==typeof p?new ta({url:p}):(0,Ul.dp)(ta,p)}set viewpoint(p){const{targetGeometry:g,scale:y}=p;null!=g&&"point"===g.type&&null==y&&os.A.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",p),this._set("viewpoint",p)}readViewpoint(p,g){const{extent:y,viewpoint:_}=g;return ai.A.fromJSON(_||{targetGeometry:y})}writeViewpoint(p,g,y,_){if(!p)return;const{targetGeometry:M}=p;if(null==M||"extent"===M.type)null!=M&&(g.extent=M.toJSON()),g[y]=p.toJSON();else{const A="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";_?.messages?_.messages.push(new ns.A("property:unsupported",A)):os.A.getLogger(this).error(A)}}clone(){return new DM((0,qa.o8)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,Ue._)([(0,Ge.MZ)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],$l.prototype,"name",void 0),(0,Ue._)([(0,Ge.MZ)({type:ta,json:{write:{overridePolicy:p=>({enabled:!(!p||!p.url)})}}})],$l.prototype,"thumbnail",void 0),(0,Ue._)([(0,Vd.w)("thumbnail")],$l.prototype,"castThumbnail",null),(0,Ue._)([(0,Ge.MZ)({type:Ip.A,json:{write:!0}})],$l.prototype,"timeExtent",void 0),(0,Ue._)([(0,Ge.MZ)({type:ai.A,nonNullable:!0,json:{write:!0}})],$l.prototype,"viewpoint",null),(0,Ue._)([(0,Ic.w)("viewpoint",["extent","viewpoint"])],$l.prototype,"readViewpoint",null),(0,Ue._)([(0,Sa.K)("viewpoint")],$l.prototype,"writeViewpoint",null),$l=DM=(0,Ue._)([(0,On.$)("esri.webmap.Bookmark")],$l);const TM=$l;var CM,Lp=v(22639),xp=v(68677);let Wy=CM=class extends Ps.oY{constructor(p){super(p),this.color=new xp.A([0,0,0,1])}clone(){return new CM((0,qa.o8)({color:this.color}))}};(0,Ue._)([(0,Ge.MZ)({type:xp.A,json:{write:!0}})],Wy.prototype,"color",void 0),Wy=CM=(0,Ue._)([(0,On.$)("esri.webmap.background.ColorBackground")],Wy);const $y=Wy;let Pc=class extends((0,jl.O)(Gr.A)){constructor(p){super(p),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeZone=Lp.qU,this.viewpoint=null}};(0,Ue._)([(0,Ge.MZ)({type:$y})],Pc.prototype,"background",void 0),(0,Ue._)([(0,Ge.MZ)({type:oM})],Pc.prototype,"rangeInfo",void 0),(0,Ue._)([(0,Ge.MZ)({type:F0.A})],Pc.prototype,"spatialReference",void 0),(0,Ue._)([(0,Ge.MZ)({nonNullable:!0})],Pc.prototype,"timeZone",void 0),(0,Ue._)([(0,Ge.MZ)({type:ai.A})],Pc.prototype,"viewpoint",void 0),Pc=(0,Ue._)([(0,On.$)("esri.webmap.InitialViewProperties")],Pc);const Vy=Pc;var $$=v(43420);class Np extends $$.R{constructor(g,y){super(g,y,"webmap")}}const Z0=new Np(2,31),SM="web-map",VP=Xs.A.ofType(TM),K$=Xs.A.ofType(JW.default),H$=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),z$=XW.mm.JSAPI,IM={currentVersion:Z0,createInitialViewProperties:()=>new Vy,parseVersion:Np.parse,itemType:"Web Map",name:"webmap",origin:SM};let ds=class extends((0,zW.P)(tM.A.LoadableMixin((0,nM.g)(xP)))){constructor(p){var g;super(p),g=this,this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new VP,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new Vy,this.ipsInfo=null,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this._debouncedSaveOperations=(0,bs.sg)(function(){var y=(0,Mr.A)(function*(_,M,A){const{save:T,saveAs:F}=yield v.e(3137).then(v.bind(v,53137));switch(_){case Fy.X.SAVE:return T(IM,g,M);case Fy.X.SAVE_AS:return F(IM,g,A,M)}});return function(_,M,A){return y.apply(this,arguments)}}()),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){if(this.portalItem=(0,Ts.pR)(this.portalItem),this.utilityNetworks){const p=this.utilityNetworks.removeAll();for(const g of p)g.destroy();this.utilityNetworks.destroy()}}initialize(){if(this.when().catch(p=>{os.A.getLogger(this).error("#load()","Failed to load web map",p)}),this.resourceInfo){let p;try{p=this._validateJSON(this.resourceInfo)}catch(g){return void this.addResolvingPromise(Promise.reject(g))}this.read(p)}}set authoringApp(p){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",p)}writeAuthoringApp(p,g){g.authoringApp=p&&this._isAuthoringAppSetByUser?p:z$}set authoringAppVersion(p){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",p)}writeAuthoringAppVersion(p,g){g.authoringAppVersion=p&&this._isAuthoringAppVersionSetByUser?p:kW.rE}readInitialViewProperties(p,g){const y=new Vy;g.background&&(y.background=$y.fromJSON(g.background));const _=g.initialState?.viewpoint;return _&&(_.rotation&&Np.parse(g.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===g.authoringApp&&(_.rotation*=-1),y.viewpoint=ai.A.fromJSON(_)),g.mapRangeInfo&&(y.rangeInfo=oM.fromJSON(g.mapRangeInfo)),g.spatialReference&&(y.spatialReference=F0.A.fromJSON(g.spatialReference)),g.timeZone&&(y.timeZone=g.timeZone),y}writeInitialViewProperties(p,g,y,_){p&&(p.background?.color&&(g.background=p.background.write({},_)),p.viewpoint&&(g.initialState={viewpoint:p.viewpoint.write({},_)}),p.rangeInfo&&(g.mapRangeInfo=p.rangeInfo.toJSON(_)),p.spatialReference&&(g.spatialReference=p.spatialReference.write({},_)),g.timeZone=p.timeZone)}writeLayers(p,g,y,_){g[y]=this._writeLayers(p,_,"operational-layers")}readSourceVersion(p,g){const[y,_]=g.version.split(".");return new Np(parseInt(y,10),parseInt(_,10))}writeSourceVersion(p,g,y){g[y]=`${Z0.major}.${Z0.minor}`}writeTables(p,g,y,_){const M=this._writeLayers(p,_,"tables");M.length&&(g[y]=M)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(p){p?(this._override("thumbnailUrl",p),this._thumbnailFilename=this._generateCustomThumbnailFilename(p)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(p){return this.addResolvingPromise(function C$(p,g){return g.resourceInfo?UP(g,g.resourceInfo,{origin:p.origin}):g.portalItem?.id?function S$(p,g,y){return hM.apply(this,arguments)}(p,g,g.portalItem):Promise.resolve()}(IM,this)),Promise.resolve(this)}loadAll(){return(0,GW.g)(this,p=>{p(this.ground,this.basemap,this.layers,this.tables)})}read(p,g){g={...g,origin:SM};const y=this._getAuthoringPropsState();(0,YW.t)(this,p,_=>super.read(p,_),g),this._restoreAuthoringPropsFromState(y)}write(p,g){if("loaded"!==this.loadStatus){const y=new ns.A("webmap:not-loaded","Web map must be loaded before it can be serialized");throw os.A.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),y}return this._removeDanglingLayerRefs(),g={...g,origin:SM,restrictedWebMapWriting:!0,webmap:this},super.write(p,g)}save(p){var g=this;return(0,Mr.A)(function*(){return g._debouncedSaveOperations(Fy.X.SAVE,p)})()}saveAs(p,g){var y=this;return(0,Mr.A)(function*(){return y._debouncedSaveOperations(Fy.X.SAVE_AS,g,p)})()}updateFrom(p,g){var y=this;return(0,Mr.A)(function*(){const _=y._updateFromInternal(p,g);y._updateFromPromise=_,yield _,_===y._updateFromPromise&&(y._updateFromPromise=null)})()}getLayerJSONFromResourceInfo(p){const g=this.resourceInfo;return this._collectAllLayersJSON([...g?.baseMap?.baseMapLayers||[],...g?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(y=>y.id===p.id)}updateItemThumbnail(){var p=this;return(0,Mr.A)(function*(){p.thumbnailUrl&&p._isOverridden("thumbnailUrl")&&(yield p.portalItem?.updateThumbnail({thumbnail:p.thumbnailUrl,filename:p._thumbnailFilename}),p._clearThumbnailOverride())})()}getThumbnailState(){let p=this.thumbnailUrl;return p&&(p=this._isOverridden("thumbnailUrl")?p:(0,rM.rs)(p,"w","8192")),{thumbnailUrl:p,filename:this._thumbnailFilename}}restoreThumbnailFromState(p){this.thumbnailUrl=p.thumbnailUrl,this._thumbnailFilename=p.filename}_collectAllLayersJSON(p){return p.reduce((g,y)=>(g.push(y),"GroupLayer"===y.layerType&&(g=g.concat(this._collectAllLayersJSON(y.layers||[]))),g),[])}_writeLayers(p,g,y){return g={...g,layerContainerType:y},p.map(_=>(0,w$.CJ)(_,"tables"===y?null:this.getLayerJSONFromResourceInfo(_),g)).filter(Sc.Ru).toArray()}_validateJSON(p){const g=Np.parse(p.version||"","webmap");return Z0.validate(g),p.version=`${g.major}.${g.minor}`,p}_removeDanglingLayerRefs(){const p=this.applicationProperties,g=p?.viewing?.search,y=M=>this.allLayers.some(A=>A.id===M);if(g?.layers&&(g.layers=g.layers.filter(M=>y(M.id))),g?.tables&&(g.tables=g.tables.filter(M=>this.tables.some(A=>A.id===M.id))),p){const M=p.editing?.locationTracking;M?.info&&!y(M.info.layerId)&&(p.editing=null)}const _=this.presentation?.slides;_&&_.forEach(M=>{M.visibleLayers&&(M.visibleLayers=M.visibleLayers.filter(A=>y(A.id)))})}_updateFromInternal(p,g){var y=this;return(0,Mr.A)(function*(){if(g??={},yield(0,Dn.C_)(()=>p.ready),y._updateInitialViewProperties(p,g),p.map===y)for(const _ of p.allLayerViews)"visible"in _&&"visible"in _.layer&&_._isOverridden("visible")&&(_.layer.visible=_.visible),"featureEffect"in _&&"featureEffect"in _.layer&&_._isOverridden("featureEffect")&&(_.layer.featureEffect=_.featureEffect);yield y._updateThumbnailUrl(p,g)})()}_updateInitialViewProperties(p,g){if(g.backgroundExcluded||(this.initialViewProperties.background=p.background?.clone()),this.initialViewProperties.spatialReference=p.spatialReference?.clone(),this.initialViewProperties.timeZone=p.timeZone,g.viewpointExcluded||(this.initialViewProperties.viewpoint=new ai.A({rotation:p.rotation,scale:g.scalePreserved?p.scale:null,targetGeometry:this._getViewExtent(p)})),!g.widgetsExcluded)for(const y of p.persistableViewModels)y.updateWebDocument(this)}_getViewExtent(p){const g=p.center.clone().normalize(),y=p.extent.clone(),_=y.width/2;return y.xmin=g.x-_,y.xmax=g.x+_,y}_updateThumbnailUrl(p,g){var y=this;return(0,Mr.A)(function*(){if(g.thumbnailExcluded)return;const _=function E$(p,g){g=g||v$;let{width:y,height:_}=g;const M=y/_;return M<1.5?_=y/1.5:M>1.5&&(y=1.5*_),y>p.width&&(_*=p.width/y,y=p.width),_>p.height&&(y*=p.height/_,_=p.height),{width:Math.round(y),height:Math.round(_)}}(p,g.thumbnailSize),M=yield p.takeScreenshot({format:"png",width:_.width,height:_.height});y._setAutoGeneratedThumbnail(M.dataUrl)})()}_setAutoGeneratedThumbnail(p){this.thumbnailUrl=p,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(p){if((0,rM.DB)(p)){const g=(0,rM.r$)(p),y=g?.mediaType,_=y&&H$.get(y.toLowerCase())||null,M=`thumbnail${Date.now()}`;return _?`${M}.${_}`:M}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(p){p.isAuthoringAppSetByUser?this.authoringApp=p.authoringApp:this._isAuthoringAppSetByUser=!1,p.isAuthoringAppVersionSetByUser?this.authoringAppVersion=p.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}static fromJSON(p){const g=p;if(!g)throw new ns.A("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:g})}};ds.VERSION=Z0,(0,Ue._)([(0,Ge.MZ)()],ds.prototype,"_updateFromPromise",void 0),(0,Ue._)([(0,Ge.MZ)({type:U$,json:{write:!0}})],ds.prototype,"applicationProperties",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ds.prototype,"authoringApp",null),(0,Ue._)([(0,Sa.K)("authoringApp")],ds.prototype,"writeAuthoringApp",null),(0,Ue._)([(0,Ge.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ds.prototype,"authoringAppVersion",null),(0,Ue._)([(0,Sa.K)("authoringAppVersion")],ds.prototype,"writeAuthoringAppVersion",null),(0,Ue._)([(0,Ge.MZ)({type:VP,json:{write:{overridePolicy:p=>({enabled:!!(p&&p.length>0),ignoreOrigin:!0})}}})],ds.prototype,"bookmarks",void 0),(0,Ue._)([(0,Ge.MZ)({type:n$,json:{name:"mapFloorInfo",write:!0}})],ds.prototype,"floorInfo",void 0),(0,Ue._)([(0,Ge.MZ)({type:p$,json:{write:!0}})],ds.prototype,"geotriggersInfo",void 0),(0,Ue._)([(0,Ge.MZ)({type:Vy,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:$y},"initialState.viewpoint":{type:ai.A},mapRangeInfo:{type:oM},spatialReference:{type:F0.A},"timeZone:":{type:String}}}}})],ds.prototype,"initialViewProperties",void 0),(0,Ue._)([(0,Ic.w)("initialViewProperties")],ds.prototype,"readInitialViewProperties",null),(0,Ue._)([(0,Sa.K)("initialViewProperties")],ds.prototype,"writeInitialViewProperties",null),(0,Ue._)([(0,Ge.MZ)({json:{write:!0,name:"mapIPSInfo"}})],ds.prototype,"ipsInfo",void 0),(0,Ue._)([(0,Ge.MZ)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],ds.prototype,"layers",void 0),(0,Ue._)([(0,Sa.K)("layers")],ds.prototype,"writeLayers",null),(0,Ue._)([(0,Ge.MZ)({type:QW.default})],ds.prototype,"portalItem",void 0),(0,Ue._)([(0,Ge.MZ)({json:{write:!0}})],ds.prototype,"presentation",void 0),(0,Ue._)([(0,Ge.MZ)()],ds.prototype,"resourceInfo",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:Np,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],ds.prototype,"sourceVersion",void 0),(0,Ue._)([(0,Ic.w)("sourceVersion")],ds.prototype,"readSourceVersion",null),(0,Ue._)([(0,Sa.K)("sourceVersion")],ds.prototype,"writeSourceVersion",null),(0,Ue._)([(0,Ge.MZ)({json:{read:!1,write:{ignoreOrigin:!0}}})],ds.prototype,"tables",void 0),(0,Ue._)([(0,Sa.K)("tables")],ds.prototype,"writeTables",null),(0,Ue._)([(0,Ge.MZ)()],ds.prototype,"thumbnailUrl",null),(0,Ue._)([(0,Ge.MZ)()],ds.prototype,"updatingFromView",null),(0,Ue._)([(0,Ge.MZ)({type:_$,json:{write:!0}})],ds.prototype,"widgets",void 0),(0,Ue._)([(0,Ge.MZ)({type:K$,json:{read:!0,write:!0}})],ds.prototype,"utilityNetworks",void 0),ds=(0,Ue._)([(0,On.$)("esri.WebMap")],ds);const Y$=ds;var J$=v(19284),Hd=v(11817),Q$=v(11333),Zy=v(56595);const Ky={widthBreakpoint:{getValue(p){const g=p.viewSize[0],y=p.breakpoints,_=this.values;return g<=y.xsmall?_.xsmall:g<=y.small?_.small:g<=y.medium?_.medium:g<=y.large?_.large:_.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(p){const g=p.viewSize[1],y=p.breakpoints,_=this.values;return g<=y.xsmall?_.xsmall:g<=y.small?_.small:g<=y.medium?_.medium:g<=y.large?_.large:_.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(p){const g=p.viewSize,M=this.values;return g[1]>=g[0]?M.portrait:M.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},OM={xsmall:544,small:768,medium:992,large:1200};function bM(p,g){return g?Ky[p].valueToClassName[g].split(" "):[]}const q$=p=>{let g=class extends p{constructor(...y){super(...y),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=OM}initialize(){this.addHandles((0,Dn.wB)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Dn.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(y){if(y!==this._get("breakpoints")){if(!function X$(p){return p&&p.xsmall<p.small&&p.small<p.medium&&p.medium<p.large}(y)){const _=JSON.stringify(OM,null,2);console.warn("provided breakpoints are not valid, using defaults:"+_),y=OM}this._set("breakpoints",{...y})}}_updateClassNames(){if(!this.container)return;const y=Zy.A.acquire(),_=Zy.A.acquire();let M,A=!1;for(M in Ky){const T=this[M],F=Ky[M].getValue({viewSize:this.size,breakpoints:this.breakpoints});T!==F&&(A=!0,this[M]=F,bM(M,T).forEach(Y=>_.push(Y)),bM(M,F).forEach(Y=>y.push(Y)))}A&&(this._applyClassNameChanges(y,_),Zy.A.release(y),Zy.A.release(_))}_applyClassNameChanges(y,_){const M=this.container;M&&(_.forEach(A=>M.classList.remove(A)),y.forEach(A=>M.classList.add(A)))}_removeActiveClassNames(){const y=this.container;if(!y)return;let _;for(_ in Ky)bM(_,this[_]).forEach(M=>y.classList.remove(M))}};return(0,Ue._)([(0,Ge.MZ)()],g.prototype,"breakpoints",null),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"orientation",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"widthBreakpoint",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"heightBreakpoint",void 0),g=(0,Ue._)([(0,On.$)("esri.views.BreakpointsOwner")],g),g};var wc=v(52827),eV=v(40611),Gd=v(3804),Hy=v(56985),ZP=(v(92129),v(76062));let Rc=class extends Gr.A{constructor(){super(...arguments),this.items=new Xs.A,this._watchUpdatingTracking=new Hy.U,this._callbacks=new Map,this._projector=(0,ZP.F)(),this._hiddenProjector=(0,ZP.F)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const p=document.createElement("div");p.className="esri-overlay-surface",this._set("surface",p),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),p.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,g=>{for(const y of g.added){const _=()=>y.render();this._callbacks.set(y,_),this._projector.append(this.surface,_)}for(const y of g.removed){const _=this._projector.detach(this._callbacks.get(y));this.surface.removeChild(_.domNode),this._callbacks.delete(y)}})}addItem(p){this.items.add(p)}removeItem(p){this.items.remove(p)}destroy(){this.items.removeAll(),this._callbacks.forEach(p=>this._projector.detach(p)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(p){const g=this._hiddenSurface,y=this._hiddenProjector;let _;const M=()=>(_=p.render(),_);y.append(g,M),y.renderNow();const A={left:0,top:0,right:0,bottom:0};if(_?.domNode){const T=_.domNode.getBoundingClientRect();A.left=T.left,A.top=T.top,A.right=T.right,A.bottom=T.bottom}for(y.detach(M);g.firstChild;)g.removeChild(g.firstChild);return A}overlaps(p,g){const y=this.computeBoundingRect(p),_=this.computeBoundingRect(g);return Math.max(y.left,_.left)<=Math.min(y.right,_.right)&&Math.max(y.top,_.top)<=Math.min(y.bottom,_.bottom)}get hasVisibleItems(){return this.items.some(p=>p.visible)}prepare(){var p=this;return(0,Mr.A)(function*(){yield document.fonts.load(p._fontString()).catch(()=>{})})()}renderCanvas(p,g){const y=!!g?.disableDecorations;if(!this.items.some(M=>M.visible&&!(y&&M.isDecoration)))return;const _=p.getContext("2d");_.save(),_.font=this._fontString(),this.items.forEach(M=>{y&&M.isDecoration||(_.save(),M.renderCanvas(_),_.restore())}),_.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Rc.prototype,"surface",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Rc.prototype,"items",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Rc.prototype,"needsRender",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Rc.prototype,"_watchUpdatingTracking",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Rc.prototype,"updating",null),Rc=(0,Ue._)([(0,On.$)("esri.views.overlay.ViewOverlay")],Rc);const KP=Rc,PM=[0,0];function HP(p){p&&((0,wc.Ie)(p),p.parentNode&&p.parentNode.removeChild(p))}const oV=p=>{let g=class extends p{constructor(...y){super(...y),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,Dn.wB)(()=>this.cursor,_=>{const{surface:M}=this;M&&M.setAttribute("data-cursor",_)}),(0,Dn.wB)(()=>this.navigating,_=>{const{surface:M}=this;M&&M.setAttribute("data-navigating",_.toString())})])}initialize(){this.addHandles([(0,Dn.wB)(()=>this.ui,(y,_)=>this._handleUIChange(y,_),Dn.Vh),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui=(0,Ts.pR)(this.ui),this.container=null)}get container(){return this._get("container")??null}set container(y){const _=this._get("container"),M=(0,wc.$H)(y);if(M||"string"!=typeof y||os.A.getLogger(this).error("#container",`element with id '${y}' not found`),_===M)return;if(this._stopMeasuring(),_&&(_.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(HP(this.root),this._set("root",null)),this.userContent&&((0,wc.yC)(this.userContent,_),HP(this.userContent),this._set("userContent",null))),!M)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);M.classList.add("esri-view");const A=document.createElement("div");A.className="esri-view-user-storage",(0,wc.yC)(M,A),M.appendChild(A),this._set("userContent",A);const T=document.createElement("div");T.className="esri-view-root",M.insertBefore(T,M.firstChild),this._set("root",T);const F=document.createElement("div");F.className="esri-view-surface",F.setAttribute("role","application"),F.tabIndex=0,T.appendChild(F),this._set("surface",F);const Y=new KP;T.appendChild(Y.surface),this._set("overlay",Y),this.addHandles((0,Dn.wB)(()=>Y.needsRender,ge=>{this._overlayRenderTaskHandle=ge&&!this._overlayRenderTaskHandle?(0,Gd.mg)({render:()=>this.overlay?.render()}):(0,Ts.xt)(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",M),this._startMeasuring()}get focused(){const y=document.activeElement===this.surface;return document.hasFocus()&&y}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(y,_,M){const A=this.position;return y-=A?A[0]:0,_-=A?A[1]:0,M?(M[0]=y,M[1]=_):M=[y,_],M}containerToPage(y,_,M){const A=this.position;return y+=A?A[0]:0,_+=A?A[1]:0,M?(M[0]=y,M[1]=_):M=[y,_],M}_handleUIChange(y,_){this.removeHandles("ui"),_&&_!==y&&_.destroy(),y&&(y.view=this,this.addHandles((0,Dn.wB)(()=>this.root,M=>{y.container=M?function nV(p){const g=document.createElement("div");return p.appendChild(g),g}(M):null},Dn.Vh),"ui")),this._set("ui",y)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const y=this._freqInfo;y.freq=16,y.time=750,this.addHandles([(0,eV.on)(window,"resize",()=>{y.freq=16,y.time=750}),(0,Gd.mg)({prepare:_=>{const M=this._measure(),A=this._freqInfo;if(A.time+=_.deltaTime,M&&(A.freq=16,this._get("resizing")||this._set("resizing",!0)),A.time<A.freq)return;A.time=0;const T=this._position();A.freq=T||M?16:Math.min(750,2*A.freq),!M&&A.freq>=512&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const y=this.container,_=y?y.clientWidth:0,M=y?y.clientHeight:0;if(0===_||0===M)return this.suspended||this._set("suspended",!0),!1;const A=this.width,T=this.height;return _===A&&M===T?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",_),this._set("height",M),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:A,oldHeight:T,width:_,height:M}),!0)}_position(){const y=this.container,_=this.position,M=y&&function tV(p){const g=(p.ownerDocument||window.document).defaultView,y=p.getBoundingClientRect();return PM[0]=y.left+(g?.pageXOffset??0),PM[1]=y.top+(g?.pageYOffset??0),PM}(y);return!(!M||_&&M[0]===_[0]&&M[1]===_[1]||(this._set("position",[M[0],M[1]]),0))}forceDOMReadyCycle(){}};return(0,Ue._)([(0,Ge.MZ)()],g.prototype,"container",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"focused",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"height",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"messagesCommon",void 0),(0,Ue._)([(0,Ge.MZ)({type:KP})],g.prototype,"overlay",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"position",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"resizing",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"root",void 0),(0,Ue._)([(0,Ge.MZ)({value:null,readOnly:!0})],g.prototype,"size",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"surface",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"suspended",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"ui",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"userContent",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],g.prototype,"width",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"widthBreakpoint",void 0),g=(0,Ue._)([(0,On.$)("esri.views.DOMContainer")],g),g};var zy=v(89447),Bp=v(23159),Fp=v(21765);function bu(p){return null!=p&&"open"in p&&"declaredClass"in p}function GP(p){return null!=p&&"declaredClass"in p&&"dockOptions"in p}const iV=p=>{let g=class extends p{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){var y=this;this.addHandles([(0,Dn.wB)(()=>[this.ui,this.popup],([_,M],A)=>{const T="popup";if(A){const[Y,ge]=A;Y&&bu(ge)&&(ge.view=null,GP(ge)&&Y.remove(ge,T))}_&&bu(M)&&(M.view=this,GP(M)&&_.add(M,{key:T,position:"manual",internal:!0}))},Dn.Vh),this.on("click",_=>{this.popup&&this.popupEnabled&&("mouse"!==_.pointerType||0===_.button)&&(bu(this.popup)?this.popup.viewModel.handleViewClick(_):_.async((0,Mr.A)(function*(){yield y.setupPopup(),bu(y.popup)&&!y.destroyed&&y.ready&&y.popupEnabled&&y.popup.viewModel.handleViewClick(_)})))},Fp.o.WIDGET)]),(0,Dn.C_)(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Promise.all([v.e(1277),v.e(2076),v.e(1747)]).then(v.bind(v,87935))})}destroy(){this.destroyed||this.closePopup()}openPopup(y){var _=this;return(0,Mr.A)(function*(){if(bu(_.popup))return _.popup.open(y);try{if(yield _.setupPopup(),!_.popup)return void os.A.getLogger(_).error(new ns.A("view:null-popup","Popup is null and can't be opened"));_.popup.open(y)}catch{}})()}closePopup(){this._popupSetupTask?.abort(),bu(this.popup)&&this.popup.close()}fetchPopupFeatures(y,_){var M=this;return(0,Mr.A)(function*(){return yield M.when(),M._popupHitsToFeatures(yield M._getPopupHits(y,_),_)})()}setupPopup(){var y=this;return(0,Mr.A)(function*(){if(y._popupSetupTask?.abort(),y.popup&&!bu(y.popup))return y._popupSetupTask=(0,zy.UT)(function(){var _=(0,Mr.A)(function*(M){const{default:A}=yield Promise.all([v.e(1277),v.e(2076),v.e(1747)]).then(v.bind(v,87935));if((0,bs.Te)(M),!y.popup||bu(y.popup))return;const T=y.popup;delete T.open,delete T.close,y.popup=new A(T)});return function(M){return _.apply(this,arguments)}}()),y._popupSetupTask.promise})()}_popupHitsToFeatures({location:y,hits:_},M){return(0,Mr.A)(function*(){const A=[],T=[];let F=!1;const Y=(0,bs.YL)(M,(0,Mi.A)("popup-view-fetch-timeout")??lV),Re=nt=>{const ft=T.at(-1);return ft&&ft.layerView===nt&&!F?ft:(nt=>{const ft=new aV(nt);return T.push(ft),A.push(ft.promise),ft})(nt)};for(const nt of _)"graphic"in nt?(Re(nt.layerView).graphics.push(nt.graphic),F=!1):(A.push(nt.layerView.fetchPopupFeaturesAtLocation(nt.mapPoint,Y)),F=!0);T.map(nt=>nt.resolve(Y));const Ve=(0,bs.nA)(A).then(nt=>nt.filter(ft=>!!ft).flat());return{pendingFeatures:A,allGraphicsPromise:Ve,location:y}})()}_getPopupHits(y,_){var M=this;return(0,Mr.A)(function*(){const{hits:A,location:T}=yield M.popupHitTest(y);(0,bs.Te)(_);const F=[];for(const Y of A)if("graphic"in Y){if(M._isValidPopupGraphic(Y.graphic,_)){const ge=M._isValidPopupGraphicsLayerView(Y.layerView)?Y.layerView:void 0;F.push({graphic:Y.graphic,layerView:ge})}}else M._isValidPopupLocationLayerView(Y.layerView)&&F.push({mapPoint:Y.mapPoint,layerView:Y.layerView});return{hits:F,location:T}})()}_isValidPopupGraphic(y,_){return y&&!!y.getEffectivePopupTemplate(_?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(y){return!y||(!("layer"in y)||!y.suspended)&&"fetchPopupFeaturesFromGraphics"in y}_isValidPopupLocationLayerView(y){return(!("layer"in y)||!y.suspended)&&"fetchPopupFeaturesAtLocation"in y}};return(0,Ue._)([(0,Ge.MZ)({cast(y){return!y||bu(y)||"object"==typeof y&&(y.open=_=>((0,Bp.io)(os.A.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(_)),y.close=()=>((0,Bp.io)(os.A.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),y}})],g.prototype,"popup",void 0),(0,Ue._)([(0,Ge.MZ)()],g.prototype,"popupEnabled",void 0),g=(0,Ue._)([(0,On.$)("esri.views.PopupView")],g),g};class aV{constructor(g){this.layerView=g,this._resolver=(0,bs.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(g){const{layerView:y,graphics:_,_resolver:M}=this;if(!y)return M.resolve(_),M.promise;let A;return y.fetchPopupFeaturesFromGraphics(_,g).catch(T=>(A=T,null)).then(T=>{T?M.resolve(T):M.reject(A)}),M.promise}}const lV=5e3;var zP=v(86807),wM=v(88494),H0=v(28067),RM=v(33119),LM=v(58701);let Yy=class extends wM.X{constructor(p){super(p),this.addHandles(this.on("before-add",g=>{null!=g.item&&g.item.parent===this.owner&&(os.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(p){p.parent=this.owner}_release(p){p.parent=null}};Yy=(0,Ue._)([(0,On.$)("esri.support.AnalysesCollection")],Yy);var YP=v(27641);let Lc=class extends Gr.A{constructor(p){super(p),this.view=null,this.baseLayerViews=new Xs.A,this.referenceLayerViews=new Xs.A,this._loadingHandle=(0,Dn.wB)(()=>this.view?.map?.basemap,g=>{g&&g.load().catch(()=>{})},Dn.Vh)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const p of this.baseLayerViews)p.destroy();this.baseLayerViews.length=0;for(const p of this.referenceLayerViews)p.destroy();this.referenceLayerViews.length=0}get suspended(){return!this.view||this.view.suspended}get updating(){if(this.view?.suspended)return!1;const p=this.view?.map?.basemap;return!!p&&!!p.loaded&&(this.baseLayerViews.some(g=>g.updating)||this.referenceLayerViews.some(g=>g.updating))}};(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Lc.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Lc.prototype,"baseLayerViews",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Lc.prototype,"referenceLayerViews",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Lc.prototype,"suspended",null),(0,Ue._)([(0,Ge.MZ)({type:Boolean,readOnly:!0})],Lc.prototype,"updating",null),Lc=(0,Ue._)([(0,On.$)("esri.views.BasemapView")],Lc);var G0=v(60797),xM=v(92073);function cV(p){return null!=p&&"object"==typeof p&&"layerViews"in p}class dV{constructor(g,y,_){this.layer=g,this.view=y,this.layerViewImporter=_,this._controller=new AbortController,this._deferred=(0,bs.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,bs.u7)(this._controller.signal,()=>{const M=new ns.A("cancelled:layerview-create","layerview creation cancelled",{layer:g});this._deferred.reject(M)})}tryRecycle(g){if(!this.done||!this.layerView||!function uV(p){return"tryRecycleWith"in p}(this.layerView))return null;const y=this.layer.type,_=this._controller.signal;for(let M=0;M<g.length;M++){const A=g[M];if(A.type!==y)continue;const T=this.layerView.tryRecycleWith(A,{signal:_});if(T){g.splice(M,1),this.layer=A;const F=this.layerView,Y=F.view;return this.promise=Promise.race([T.then(()=>((0,bs.Te)(this._controller.signal),A.emit("layerview-destroy",{view:Y,layerView:F}),Y.emit("layerview-destroy",{view:Y,layerView:F}),A.emit("layerview-create",{view:Y,layerView:F}),Y.emit("layerview-create",{view:Y,layerView:F}),F)),new Promise((ge,Re)=>(0,bs.u7)(this._controller.signal,()=>Re((0,bs.NK)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:g}=this;if(g){const{layer:y,view:_}=this;y.emit("layerview-destroy",{view:_,layerView:g}),_.emit("layerview-destroy",{layer:y,layerView:g})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}start(){var g=this;return(0,Mr.A)(function*(){if(g._started)return;g._started=!0;const{_controller:{signal:y},layer:_,view:M}=g;g._map=M.map;try{let A,T;if(yield _.load({signal:y}),_.prefetchResources&&(yield _.prefetchResources({signal:y})),function pV(p){return"createLayerView"in p&&null!=p.createLayerView}(_))A=yield _.createLayerView(M,{signal:y});else{if(!g.layerViewImporter.hasLayerViewModule(_))throw new ns.A("layer:view-not-supported","No layerview implementation was found");const ge=yield g.layerViewImporter.importLayerView(_);(0,bs.Te)(y),A="default"in ge?new ge.default({layer:_,view:M}):new ge({layer:_,view:M})}const F=()=>{T=(0,Ts.xt)(T),A.destroyed||A.destroy(),A.layer=null,A.parent=null,A.view=null,g.done=!0};T=(0,bs.u7)(y,F),(0,bs.Te)(y);try{yield A.when()}catch(ge){throw F(),ge}if(!g._map?.allLayers?.includes(_))return F(),void g._deferred.reject(new ns.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:_}));g.layerView=A,_.emit("layerview-create",{view:M,layerView:A}),M.emit("layerview-create",{layer:_,layerView:A}),g.done=!0,g._deferred.resolve(A)}catch(A){_.emit("layerview-create-error",{view:M,error:A}),M.emit("layerview-create-error",{layer:_,error:A}),g.done=!0,g._deferred.reject(new ns.A("layerview:create-error","layerview creation failed",{layer:_,error:A}))}})()}}let Ia=class extends Gr.A{constructor(p){super(p),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Hy.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const g=this.view.map?.allLayers;if(g)for(const y of g)this.layerViewImporter.hasLayerViewModule(y)&&this.layerViewImporter.importLayerView(y)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,bs.Tw)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,Gd._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const g=this.view.map;if(this._map!==g&&(this.clear(),this._map=g),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const y=new Set,_=[],M=this.view.ready,A=F=>{if(null!=F)for(const Y of F)if(Y){y.add(Y);const ge=this._layerLayerViewInfoMap.get(Y);ge&&M?ge.start():ge||this._recyclingInfoMap.has(Y)||_.push(Y),"layers"in Y&&Y.layers&&A(Y.layers)}};for(const F of this._rootCollectionNames)A((0,xM.Jt)(this,F));for(const[F,Y]of this._layerLayerViewInfoMap)if(!y.has(F)){this._layerLayerViewInfoMap.delete(Y.layer);const ge=Y.tryRecycle(_);ge?(this.notifyChange("updating"),this._recyclingInfoMap.set(Y.layer,Y),ge.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(Y.layer),this._layerLayerViewInfoMap.set(Y.layer,Y),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(Y.layer),Y.destroy(),this._reschedule()})):Y.destroy()}for(const[F,Y]of this._recyclingInfoMap)y.has(F)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(Y.layer),Y.destroy());for(const F of _)this._createLayerView(F);this._refreshCollections();const T=[g?.ground?.layers,g?.basemap?.baseLayers,g?.basemap?.referenceLayers,g?.layers].filter(F=>!!F);y.forEach(F=>"layers"in F&&T.push(F.layers)),this.addHandles(T.map(F=>this._watchUpdatingTracking.addOnCollectionChange(()=>F,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,Dn.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,Dn.wB)(()=>{const p=this.view,g=p?.map;return[g?.basemap,g?.ground,g?.layers,p?.ready]},()=>this._reschedule(),Dn.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,Ry.X)(this._recyclingInfoMap),(0,Ry.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,bs.NK)()),this._workPromise=null)}get _layersToLayerViews(){const p=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&p.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(p)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,G0.Bs)(this._layerLayerViewInfoMap,p=>!p.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let p=0;for(const g of this._layerLayerViewInfoMap.values())g.done||++p;return p}clear(){this.destroyed||((0,Ry.X)(this._layerLayerViewInfoMap),this._refreshCollections())}whenLayerView(p){var g=this;return(0,Mr.A)(function*(){if(yield g._reschedule(),!g._layerLayerViewInfoMap.has(p)){if(g._recyclingInfoMap.has(p))return g._recyclingInfoMap.get(p).promise;throw new ns.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:p})}return g._layerLayerViewInfoMap.get(p).promise})()}isCreatingLayerViewsForLayer(p,g){this.commitProperty("updatingRemaining");const y=this._layerLayerViewInfoMap.get(p);if(!y?.done)return!0;const _=y.layerView;return!(!_||!g||_.parent===g)||!!(y.done&&_&&"layers"in p&&p.layers?.length)&&p.layers.some(M=>this.isCreatingLayerViewsForLayer(M,_))}_refreshCollections(){for(const[p,g]of this._layersToLayerViews)this._populateLayerViewsOwners((0,xM.Jt)(this,p),(0,xM.Jt)(this,g),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(p,g,y){if(!p||!g)return void(g&&g.removeAll());let _=0;for(const M of p){const A=this._layerLayerViewInfoMap.get(M);if(!A?.layerView)continue;const T=A.layerView;T.layer=M,T.parent=y,g.at(_)!==T&&g.splice(_,0,T),"layers"in M&&cV(T)&&this._populateLayerViewsOwners(M.layers,T.layerViews,T),_+=1}_<g.length&&g.splice(_,g.length)}_createLayerView(p){p.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(p)&&this.layerViewImporter.importLayerView(p);const g=new dV(p,this.view,this.layerViewImporter);g.promise.then(()=>this._refreshCollections(),y=>{y&&((0,bs.zf)(y)||"cancelled:layerview-create"===y.name)||os.A.getLogger(this).error(`Failed to create layerview for layer title:'${p.title??"no title"}', id:'${p.id??"no id"}' of type '${p.type}'.`,{layer:p,error:y}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(p,g),this.view.ready&&g.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,Ue._)([(0,Ge.MZ)()],Ia.prototype,"_workPromise",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ia.prototype,"_watchUpdatingTracking",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ia.prototype,"_layersToLayerViews",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ia.prototype,"_rootCollectionNames",null),(0,Ue._)([(0,Ge.MZ)()],Ia.prototype,"layerViewImporter",void 0),(0,Ue._)([(0,Ge.MZ)()],Ia.prototype,"supportsGround",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ia.prototype,"updating",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Ia.prototype,"updatingRemaining",null),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Ia.prototype,"view",void 0),Ia=(0,Ue._)([(0,On.$)("esri.views.LayerViewManager")],Ia);const hV=Ia;var qo=v(67685);let na=class extends Gr.A{constructor(p){super(p),this.factor=1.5,this.offset=(0,qo.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,Ue._)([(0,Ge.MZ)({type:Number})],na.prototype,"factor",void 0),(0,Ue._)([(0,Ge.MZ)({nonNullable:!0})],na.prototype,"offset",void 0),(0,Ue._)([(0,Ge.MZ)()],na.prototype,"position",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,range:{min:0}})],na.prototype,"size",void 0),(0,Ue._)([(0,Ge.MZ)()],na.prototype,"maskUrl",void 0),(0,Ue._)([(0,Ge.MZ)()],na.prototype,"maskEnabled",void 0),(0,Ue._)([(0,Ge.MZ)()],na.prototype,"overlayUrl",void 0),(0,Ue._)([(0,Ge.MZ)()],na.prototype,"overlayEnabled",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],na.prototype,"version",null),(0,Ue._)([(0,Ge.MZ)({type:Boolean})],na.prototype,"visible",void 0),na=(0,Ue._)([(0,On.$)("esri.views.Magnifier")],na);const JP=na;var fV=v(5605),mV=v(12619),gV=v(17435),QP=v(87086);let Pu=class extends Mp.A.EventedAccessor{constructor(p){super(p),this._selectionMap=new mV.A,this._sources=new Xs.A,this._trashCan=[],this._layerEditHandles=new Xs.A,this._vizTaskId=0,this.showHighlight=!0}initialize(){this.addHandles([(0,Dn.wB)(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),(0,Dn.on)(()=>this.sources,"change",g=>{const y=this._selectionMap;for(const _ of g.removed)y.delete(_);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const p=new Xs.A;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(g=>"sublayers"in g&&g.sublayers?g.sublayers:null).forEach(g=>{(Jy(g)&&!(0,Fl.F2)(g)||(0,Fl.Sv)(g))&&p.add(g)}),this.sources=p)})}destroy(){this._layerEditHandles.drain(Ts.xt)}get selections(){return Array.from(this._selectionMap.entries()).map(p=>{const[g,y]=p;return{layer:g,selection:[...y.selection]}})}get count(){let p=0;for(const g of this._selectionMap.values())p+=g.selection.length;return p}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(p){(0,fV.V)(p,this._sources)}getSelectedFeatures(p,g={},y="layerView"){var _=this;return(0,Mr.A)(function*(){const{view:M,selections:A}=_,T=(void 0!==p?A.filter(F=>p.includes(F.layer)):A).filter(F=>F.selection.length>0).map(function(){var F=(0,Mr.A)(function*(Y){const{layer:ge,selection:Re}=Y,Ve=(0,Fl.Sv)(ge)?ge.parent:ge;if(null==Ve||!qP(Ve))return null;if("layer"===y)return ew(Ve,Re,g);if(XP(Ve))return null;const nt=yield M.whenLayerView(Ve);return ew(nt,Re,g)});return function(Y){return F.apply(this,arguments)}}());return(yield Promise.all(T)).filter(F=>null!==F)})()}updateSelection(p){const g=new Map;for(const[M,A]of this._selectionMap)g.set(M,[...A.selection]);let y=!1;const _=p.current.concat(p.added);for(const M of _){const A=M.sourceLayer,T=M.getObjectId();if(this.sources.includes(A)&&(Jy(A)||(0,Fl.Sv)(A))&&null!==T){const F=(0,G0.tE)(g,A,()=>[]);F.includes(T)||(F.push(T),y=!0)}}for(const M of p.removed){const A=M.sourceLayer,T=M.getObjectId();if(this.sources.includes(A)&&(Jy(A)||(0,Fl.Sv)(A))&&null!==T){const F=g.get(A),Y=F?.indexOf(T);void 0!==Y&&Y>=0&&(F?.splice(Y,1),y=!0)}}if(y){const{_selectionMap:M,_trashCan:A}=this,T=[];for(const[F,Y]of g){const ge=M.get(F);void 0!==ge&&A.push(ge),M.set(F,{selection:Y}),T.push({layer:F,selection:Y,...(0,Sc.iv)(void 0!==ge?ge.selection:[],Y)})}this._onSelectionChange(T)}}setSelection(p,g){this._setSelection(p,g)}getSelection(p){return this._selectionMap.get(p)?.selection}appendToSelection(p,g){const y=this._selectionMap.get(p),_=void 0!==y?[...y.selection]:[];for(const M of g)_.includes(M)||_.push(M);this._setSelection(p,_)}removeFromSelection(p,g){const y=this._selectionMap.get(p);if(!y)return;const _=[];for(const M of y.selection)g.includes(M)||_.push(M);this._setSelection(p,_)}toggleInSelection(p,g){const y=this._selectionMap.get(p);if(!y||0===y.selection.length)return void this._setSelection(p,g);const _=new Set(y.selection),M=new Set(g),A=(0,gV.BT)(_,M);this._setSelection(p,Array.from(A))}clear(){const p=this._selectionMap.values();this._trashCan.push(...p);const g=[];for(const[y,_]of this._selectionMap.entries())g.push({layer:y,added:[],removed:[..._.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(g)}_onSelectionChange(p){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:p})}_refreshVisualization(){if(null==this.view||null==this.sources)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();const{sources:p,view:g,_selectionMap:y,showHighlight:_}=this,M=this._vizTaskId;for(const A of p){const T=y.get(A),F=(0,Fl.Sv)(A)?A.parent:A;if(null!=F&&qP(F)){if(XP(F))continue;g.whenLayerView(F).then(Y=>{T?.highlightHandle?.remove(),void 0!==T&&_&&M===this._vizTaskId&&"highlight"in Y&&"function"==typeof Y.highlight&&T.selection.length>0&&(T.highlightHandle=Y.highlight(T.selection,"selection"))})}}}_refreshListeners(){this._layerEditHandles.drain(Ts.xt);for(const p of this.sources){const g=(0,Fl.Sv)(p)?p.parent:p;if(null!=g&&Jy(g)){const y=g.on("edits",_=>{this._handleEditChanges(_,p)});this._layerEditHandles.push(y)}}}_handleEditChanges(p,g){if(void 0!==p.deletedFeatures&&p.deletedFeatures.length>0&&this._selectionMap.has(g)){const y=p.deletedFeatures.filter(_=>null==_.error).map(_=>_.objectId).filter(Sc.Ru);this.removeFromSelection(g,y)}}_setSelection(p,g){if(!this.sources.includes(p))throw new Error(`Cannot set selection on layer ${p.title} because it is not in 'sources'`);const y=this._selectionMap.get(p);if(void 0===y||!_V(y,{selection:g})){void 0!==y&&this._trashCan.push(y),this._selectionMap.set(p,{selection:[...g]});const _={layer:p,selection:[...g],...(0,Sc.iv)(void 0!==y?y.selection:[],g)};this._onSelectionChange([_])}}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0,nonNullable:!0})],Pu.prototype,"selections",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,nonNullable:!0})],Pu.prototype,"count",null),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0,nonNullable:!0})],Pu.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,nonNullable:!0})],Pu.prototype,"hasSelection",null),(0,Ue._)([(0,Ge.MZ)()],Pu.prototype,"showHighlight",void 0),(0,Ue._)([(0,Ge.MZ)()],Pu.prototype,"sources",null),Pu=(0,Ue._)([(0,On.$)("esri.views.SelectionManager")],Pu);const XP=p=>(0,Fl.Sv)(p)?!0===p.parent?.isTable:p.isTable,Jy=p=>void 0!==p.createQuery&&void 0!==p.on,qP=p=>void 0!==p?.when,_V=(p,g)=>{if(null==p&&null==g)return!0;if(null!=p&&null==g||null==p&&null!=g)return!1;if(null!=p&&null!=g&&null!=p.selection&&null!=g.selection){const y=[...p.selection],_=[...g.selection];if(y.length!==_.length)return!1;y.sort(),_.sort();for(let M=0;M<y.length;M++)if(y[M]!==_[M])return!1}return!0},ew=function(){var p=(0,Mr.A)(function*(g,y,_={}){let M;if((p=>void 0!==p.layer)(g)){const A=g;M=void 0===A?null:yield A.queryFeatures(new QP.A({..._,objectIds:y})).then(T=>({data:T,layer:g.layer}))}else{const A=g;M=void 0===A?null:yield A.queryFeatures(new QP.A({..._,objectIds:y})).then(T=>({data:T,layer:A}))}return M});return function(y,_){return p.apply(this,arguments)}}(),vV=Pu;let z0=class extends((0,jl.O)(Gr.A)){constructor(p){super(p),this.accentColor=new xp.A([255,127,0]),this.textColor=new xp.A([255,255,255])}};(0,Ue._)([(0,Ge.MZ)({type:xp.A,nonNullable:!0})],z0.prototype,"accentColor",void 0),(0,Ue._)([(0,Ge.MZ)({type:xp.A,nonNullable:!0})],z0.prototype,"textColor",void 0),z0=(0,Ue._)([(0,On.$)("esri.views.Theme")],z0);const NM=z0;var tw,p,Y0=v(64294),xc=v(69287),ei=v(33171);(p=tw||(tw={}))[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right";const nw=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],rw={};function sw(p){return!!rw[p]}nw.forEach(p=>{rw[p]=!0});class MV{constructor(g){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=g,this.inputManager=null}connect(g){g&&this.disconnect(),this.inputManager=g,this._handlers.forEach(({handler:y,priority:_},M)=>this.inputManager?.installHandlers(M,[y],_))}disconnect(){this.inputManager&&this._handlers.forEach((g,y)=>this.inputManager?.uninstallHandlers(y)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(g,y,_,M){const A=Array.isArray(g)?g:g.split(",");if(!function EV(p){for(const g of p)if(!sw(g))return!1;return!0}(A))return A.some(sw)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let T,F;Array.isArray(y)?F=y:(T=y,F=[]),"function"==typeof _?T=_:M=_,M=M??Fp.o.DEFAULT;const Y=this._createUniqueGroupName(),ge=new AV(this.view,A,F,T);this._handlers.set(Y,{handler:ge,priority:M});for(const Re of A){const Ve=this._handlerCounts.get(Re)||0;this._handlerCounts.set(Re,Ve+1)}return this.inputManager&&this.inputManager.installHandlers(Y,[ge],M),(0,Py.hA)(()=>this._removeHandler(Y,A))}hasHandler(g){return!!this._handlerCounts.get(g)}_removeHandler(g,y){if(this._handlers.has(g)){this._handlers.delete(g);for(const _ of y){const M=this._handlerCounts.get(_);void 0===M||(1===M?this._handlerCounts.delete(_):this._handlerCounts.set(_,M-1))}}this.inputManager&&this.inputManager.uninstallHandlers(g)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class AV extends ei.l{constructor(g,y,_,M){super(!0),this._latestDragStart=void 0,this.view=g;for(const A of y)switch(A){case"click":this.registerIncoming("click",_,T=>M(CV(g,T)));break;case"double-click":this.registerIncoming("double-click",_,T=>M(SV(g,T)));break;case"immediate-click":this.registerIncoming("immediate-click",_,T=>M(IV(g,T)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",_,T=>M(OV(g,T)));break;case"hold":this.registerIncoming("hold",_,T=>M(bV(g,T)));break;case"drag":this.registerIncoming("drag",_,T=>{const F=this._wrapDrag(T);F&&M(F)});break;case"key-down":this.registerIncoming("key-down",_,T=>M(PV(T)));break;case"key-up":this.registerIncoming("key-up",_,T=>M(wV(T)));break;case"pointer-down":this.registerIncoming("pointer-down",_,T=>M(Q0(T,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",_,T=>M(Q0(T,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",_,T=>M(Q0(T,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",_,T=>M(RV(T)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",_,T=>M(LV(T)));break;case"pointer-enter":this.registerIncoming("pointer-enter",_,T=>M(Q0(T,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",_,T=>M(Q0(T,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",_,T=>{M(xV(T))});break;case"focus":this.registerIncoming("focus",_,T=>{M(DV(T))});break;case"blur":this.registerIncoming("blur",_,T=>{M(TV(T))})}}_wrapDrag(g){const y=g.data,{x:_,y:M}=y.center,{action:A,pointerType:T,button:F}=y;if("start"===A&&(this._latestDragStart=y),!this._latestDragStart)return;const Y=y.pointer.native,ge=y.buttons,{cancelable:Re,timestamp:Ve}=g,nt={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===A&&(this._latestDragStart=void 0),{type:"drag",action:A,x:_,y:M,origin:nt,pointerType:T,button:F,buttons:ge,radius:y.radius,angle:(0,xc.KJ)(y.angle),native:Y,timestamp:Ve,cancelable:Re,stopPropagation:()=>g.stopPropagation(),async:ft=>g.async(ft),preventDefault:()=>g.preventDefault()}}}function DV(p){return{type:"focus",timestamp:p.timestamp,native:p.data.native,cancelable:p.cancelable,stopPropagation:()=>p.stopPropagation(),async:g=>p.async(g),preventDefault:()=>p.preventDefault()}}function TV(p){return{type:"blur",timestamp:p.timestamp,native:p.data.native,cancelable:p.cancelable,stopPropagation:()=>p.stopPropagation(),async:g=>p.async(g),preventDefault:()=>p.preventDefault()}}function CV(p,g){const{pointerType:y,button:_,buttons:M,x:A,y:T,native:F,eventId:Y}=g.data,{cancelable:ge,timestamp:Re}=g;return{type:"click",pointerType:y,button:_,buttons:M,x:A,y:T,native:F,timestamp:Re,screenPoint:(0,qo.tc)(A,T),mapPoint:J0(p,A,T),eventId:Y,cancelable:ge,stopPropagation:()=>g.stopPropagation(),async:Ve=>g.async(Ve),preventDefault:()=>g.preventDefault()}}function SV(p,g){const{pointerType:y,button:_,buttons:M,x:A,y:T,native:F,eventId:Y}=g.data,{cancelable:ge,timestamp:Re}=g;return{type:"double-click",pointerType:y,button:_,buttons:M,x:A,y:T,native:F,timestamp:Re,mapPoint:J0(p,A,T),eventId:Y,cancelable:ge,stopPropagation:()=>g.stopPropagation(),async:Ve=>g.async(Ve),preventDefault:()=>g.preventDefault()}}function IV(p,g){const{pointerType:y,button:_,buttons:M,x:A,y:T,native:F,eventId:Y}=g.data,ge=F.pointerId,{cancelable:Re,timestamp:Ve}=g;return{type:"immediate-click",pointerId:ge,pointerType:y,button:_,buttons:M,x:A,y:T,native:F,timestamp:Ve,mapPoint:J0(p,A,T),eventId:Y,cancelable:Re,stopPropagation:()=>g.stopPropagation(),async:nt=>g.async(nt),preventDefault:()=>g.preventDefault()}}function OV(p,g){const{pointerType:y,button:_,buttons:M,x:A,y:T,native:F,eventId:Y}=g.data,ge=F.pointerId,{cancelable:Re,timestamp:Ve}=g;return{type:"immediate-double-click",pointerId:ge,pointerType:y,button:_,buttons:M,x:A,y:T,native:F,timestamp:Ve,mapPoint:J0(p,A,T),eventId:Y,cancelable:Re,stopPropagation:()=>g.stopPropagation(),async:nt=>g.async(nt),preventDefault:()=>g.preventDefault()}}function bV(p,g){const{pointerType:y,button:_,buttons:M,x:A,y:T,native:F}=g.data,{cancelable:Y,timestamp:ge}=g;return{type:"hold",pointerType:y,button:_,buttons:M,x:A,y:T,native:F,timestamp:ge,mapPoint:J0(p,A,T),cancelable:Y,stopPropagation:()=>g.stopPropagation(),async:Re=>g.async(Re),preventDefault:()=>g.preventDefault()}}function J0(p,g,y){return p.toMap((0,qo.tc)(g,y),{exclude:[]})}function PV(p){const{key:g,repeat:y,native:_}=p.data,{cancelable:M,timestamp:A}=p;return{type:"key-down",key:g,repeat:y,native:_,timestamp:A,cancelable:M,stopPropagation:()=>p.stopPropagation(),async:T=>p.async(T),preventDefault:()=>p.preventDefault()}}function wV(p){const{key:g,native:y}=p.data,{cancelable:_,timestamp:M}=p;return{type:"key-up",key:g,native:y,timestamp:M,cancelable:_,stopPropagation:()=>p.stopPropagation(),async:A=>p.async(A),preventDefault:()=>p.preventDefault()}}function Q0(p,g){const{x:y,y:_,button:M,buttons:A,native:T,eventId:F}=p.data,Y=T.pointerId,ge=T.pointerType,{cancelable:Re,timestamp:Ve}=p;return{type:g,x:y,y:_,pointerId:Y,pointerType:ge,button:M,buttons:A,native:T,timestamp:Ve,eventId:F,cancelable:Re,stopPropagation:()=>p.stopPropagation(),async:nt=>p.async(nt),preventDefault:()=>p.preventDefault()}}function RV(p){const{x:g,y,buttons:_,native:M,eventId:A}=p.data.currentEvent,{button:T}=p.data.startEvent,F=p.data.startEvent.native.pointerId,Y=p.data.startEvent.native.pointerType,ge=p.data.action,Re={x:p.data.startEvent.x,y:p.data.startEvent.y},{cancelable:Ve,timestamp:nt}=p;return{type:"pointer-drag",x:g,y,pointerId:F,pointerType:Y,button:T,buttons:_,action:ge,origin:Re,native:M,timestamp:nt,eventId:A,cancelable:Ve,stopPropagation:()=>p.stopPropagation(),async:ft=>p.async(ft),preventDefault:()=>p.preventDefault()}}function LV(p){const{cancelable:g,data:y,timestamp:_}=p,{x:M,y:A,deltaY:T,native:F}=y;return{type:"mouse-wheel",x:M,y:A,deltaY:T,native:F,timestamp:_,cancelable:g,stopPropagation:()=>p.stopPropagation(),async:Y=>p.async(Y),preventDefault:()=>p.preventDefault()}}function xV(p){const{action:g,state:y,device:_}=p.data,{cancelable:M,timestamp:A}=p,{buttons:T,axes:F}=y;return{type:"gamepad",device:_,timestamp:A,action:g,buttons:T,axes:F,cancelable:M,stopPropagation:()=>p.stopPropagation(),async:Y=>p.async(Y),preventDefault:()=>p.preventDefault()}}var X0,ow,iw;function NV(p){return[p.on("before-add",g=>{const y=g.item;if(null==y||p.includes(y))return os.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void g.preventDefault();y.onAdd()}),p.on("after-remove",g=>{const y=g.item;y.active&&(y.view.activeTool=null),y.destroy()})]}function BM(p){return p.visible&&null!=p.getEditableFlag&&p.getEditableFlag(X0.USER)&&p.getEditableFlag(X0.MANAGER)}(function(p){p[p.USER=0]="USER",p[p.MANAGER=1]="MANAGER"})(X0||(X0={})),function(p){p[p.None=0]="None",p[p.Unfocused=1]="Unfocused",p[p.Focused=2]="Focused",p[p.Unselected=4]="Unselected",p[p.Selected=8]="Selected",p[p.All=15]="All"}(ow||(ow={})),function(p){p[p.None=0]="None",p[p.Custom1=16]="Custom1",p[p.Custom2=32]="Custom2",p[p.Custom3=64]="Custom3",p[p.Custom4=128]="Custom4",p[p.Custom5=256]="Custom5",p[p.Custom6=512]="Custom6",p[p.Custom7=1024]="Custom7",p[p.Custom8=2048]="Custom8",p[p.Custom9=4096]="Custom9",p[p.Custom10=8192]="Custom10",p[p.Custom11=16384]="Custom11",p[p.Custom12=32768]="Custom12",p[p.All=65520]="All"}(iw||(iw={}));var FM=v(5191);function Vl(p){return(0,qo.tc)(p.x,p.y)}function aw(p,g){const y=(p instanceof HTMLElement?p:p.surface)?.getBoundingClientRect();return y?(0,qo.tc)(g.clientX-y.left,g.clientY-y.top):(0,qo.tc)(0,0)}function lw(p,g){return g instanceof Event?aw(p,g):Vl(g)}function uw(p){if(p instanceof Event)return!0;if("object"==typeof p&&"type"in p)switch(p.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class BV{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(g,y){const _=()=>g.stopPropagation();switch(g.type){case"pointer-move":dw(g.pointerType)&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(_(),"end"===g.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!hw(g))break;const M=Vl(g),A=Up(M,g.pointerType,y.forEachTool);if(null==A)break;const T=A.manipulator,F=A.tool;null==T||null==F||!T.interactive||T.grabbable&&T.grabbableForEvent(g)||!T.grabbing||T.dragging||this._releaseManipulatorBeforeDragging(T,g,y),null!=T&&null!=F&&T.interactive&&T.grabbable&&T.grabbableForEvent(g)&&!T.grabbing&&(this._grabbedManipulators.set(g.pointerId,{manipulator:T,tool:F,start:M,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&null==y.activeTool&&(this._revertToNullActiveTool=!0,y.setActiveTool(A.tool)),T.grabbing=!0,T.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:M}),_());break}case"pointer-up":this._draggedManipulators.has(g.pointerId)||this._handlePointerEnd(g,y);break;case"pointer-drag":{if(!hw(g))break;const M=this._grabbedManipulators.get(g.pointerId),A=M?.manipulator,T=M?.tool;if(null==A||null==T)break;const F=Vl(g);F.x=(0,xc.qE)(F.x,0,y.view.width),F.y=(0,xc.qE)(F.y,0,y.view.height);const Y=M.start,ge=this._draggedManipulators.get(g.pointerId);switch(g.action){case"start":case"update":"update"!==g.action&&1!==this._grabbedManipulators.size||(A.dragging=!0,A.events.emit("drag",ge?{action:"update",start:Y,screenPoint:F}:{action:"start",start:Y,screenPoint:F,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{tool:T,manipulator:A,start:Y}));break;case"end":A.dragging=!1,ge&&A.events.emit("drag",{action:"end",start:Y,screenPoint:F}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,y)}_();break}case"immediate-click":{const M=Vl(g),A=Up(M,g.pointerType,y.forEachTool);if(function FV(p){return!!p.native.shiftKey}(g)||y.forEachTool(ge=>{if((null==A||A.tool!==ge||ge.automaticManipulatorSelection)&&ge.manipulators){let Re=!1;ge.manipulators.forEach(({manipulator:Ve})=>{Ve.selected&&(Ve.selected=!1,Re=!0)}),Re&&ge.onManipulatorSelectionChanged&&ge.onManipulatorSelectionChanged()}}),null==A)break;const{manipulator:T,tool:F}=A;if(!T.interactive)break;T.selectable&&F.automaticManipulatorSelection&&(T.selected=!T.selected,F.onManipulatorSelectionChanged&&F.onManipulatorSelectionChanged()),T.events.emit("immediate-click",{screenPoint:M,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:_}),UM(T,_);break}case"click":{const M=Vl(g),A=Up(M,g.pointerType,y.forEachTool),T=A?.manipulator;if(null==T||!T.interactive)break;T.events.emit(g.type,{screenPoint:M,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey}),_();break}case"double-click":{const M=Vl(g),A=Up(M,g.pointerType,y.forEachTool),T=null!=A?A.manipulator:null;if(null==T||!T.interactive)break;T.events.emit("double-click",{screenPoint:M,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:_}),UM(T,_);break}case"immediate-double-click":{const M=Vl(g),A=Up(M,g.pointerType,y.forEachTool),T=null!=A?A.manipulator:null;if(null==T||!T.interactive)break;T.events.emit("immediate-double-click",{screenPoint:M,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:_}),UM(T,_);break}}this._onFocusChange(y.forEachTool)}_releaseManipulatorBeforeDragging(g,y,_){g.grabbing=!1,g.events.emit("grab-changed",{action:"end",pointerType:y.pointerType,screenPoint:Vl(y)}),this._grabbedManipulators.forEach(({manipulator:M},A)=>{M===g&&this._grabbedManipulators.delete(A)}),this._afterManipulatorRelease(_.setActiveTool)}_handlePointerEnd(g,y){const _=this._grabbedManipulators.get(g.pointerId)?.manipulator;null!=_&&_.grabbing&&(_.grabbing=!1,_.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:Vl(g)}),this._grabbedManipulators.delete(g.pointerId),this._afterManipulatorRelease(y.setActiveTool))}_onFocusChange(g){this._updateCursor(),this._updateFocusedManipulatorTools(g)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?cw(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?cw(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(g){const y=new Set,_=new Set;this._grabbedManipulators.forEach(({tool:M})=>{y.add(M)}),this._hoveredManipulators.forEach(({tool:M})=>{_.add(M)}),g(M=>{M.hasGrabbedManipulators=y.has(M),M.hasHoveredManipulators=_.has(M);const A=this._grabbedManipulators.values(),T=(0,FM.I6)(A,({tool:F})=>F===M);M.firstGrabbedManipulator=null!=T?T.manipulator:null})}clearPointers(g,{forEachTool:y,setActiveTool:_},M=!0,A){const T=(F,Y)=>F===g&&(null==A||A===Y);this._grabbedManipulators.forEach(({tool:F,manipulator:Y,pointerType:ge},Re)=>{T(F,Y)&&(this._grabbedManipulators.delete(Re),Y.grabbing=!1,Y.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:ge}))}),this._draggedManipulators.forEach(({tool:F,manipulator:Y},ge)=>{T(F,Y)&&(this._draggedManipulators.delete(ge),Y.dragging=!1,Y.events.emit("drag",{action:"cancel"}))}),M&&this._hoveredManipulators.forEach(({tool:F,manipulator:Y},ge)=>{T(F,Y)&&(this._hoveredManipulators.delete(ge),Y.hovering=!1)}),this._afterManipulatorRelease(_),this._onFocusChange(y)}updateHoveredStateFromKnownPointers(g){this._pointerLocations.forEach((y,_)=>{this._updateHoveredStateForPointerAtScreenPosition((0,qo.tc)(y.x,y.y),_,y.pointerType,g)})}handleHoverEvent(g,y){"pointer-up"!==g.type&&"immediate-click"!==g.type&&"pointer-move"!==g.type||!dw(g.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Vl(g),g.pointerId,g.pointerType,y)}_updateHoveredStateForPointerAtScreenPosition(g,y,_,M){let A=Up(g,_,M);const T=this._hoveredManipulators.get(y)?.manipulator;null==A||A.manipulator.interactive||(A=null),null!=A&&T===A.manipulator||(null!=T&&(T.hovering=!1),null!=A?(A.manipulator.hovering=!0,this._hoveredManipulators.set(y,A)):this._hoveredManipulators.delete(y),this._onFocusChange(M))}_afterManipulatorRelease(g){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(g(null),this._revertToNullActiveTool=!1)}}function cw(p){let g=null;return(0,G0.Bs)(p,({manipulator:y})=>!(null==y||!y.interactive||(y.grabbing&&y.grabCursor?(g=y.grabCursor,0):!y.cursor||(g=y.cursor,0)))),g}function Up(p,g,y){let _=null;return y(M=>{if(null==M.manipulators||!BM(M))return!1;const A=M.manipulators.intersect(p,g);return null!=A&&(_={tool:M,manipulator:A},!0)}),_}function dw(p){return"mouse"===p}function hw(p){return"mouse"!==p.pointerType||0===p.button}function UM(p,g){p?.consumesClicks&&g()}const pw="attached",jM="tools";let Zl=class extends Gr.A{constructor(p){super(p),this._updatingHandles=new Hy.U,this._clock=Y0.p,this._manipulatorState=new BV,this.tools=new Xs.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=g=>{for(const y of this.tools.items)if(g(y))return}}initialize(){this.addHandles([this.view.on(nw,p=>{this._handleInputEvent(p)},Fp.o.TOOL),...NV(this.tools),this.tools.on("before-add",({item:p})=>{this._updateToolEditableFlag(p)}),this.tools.on("before-remove",({item:p})=>{this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(p=>p.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:p=>{this.activeTool=p},view:this.view}}set activeTool(p){if(null!=p&&!this.view.ready)return void os.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(p===this.activeTool)return;const g=this.activeTool;this._set("activeTool",p),g?.deactivate(),p?.activate(),this._removeIncompleteTools(p);for(const y of this.tools){this._updateToolEditableFlag(y);const _=BM(y);null!=this.activeTool&&_||this._manipulatorState.clearPointers(y,this._manipulatorStateEventArgs,!_)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(p=>p.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,Ts.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,Dn.wB)(()=>{const{state:p}=this.view;return"camera"in p&&p.camera},()=>this._forEachManipulator(p=>p.onViewChange())),this.view.elevationProvider?.on("elevation-change",p=>this._forEachManipulator(g=>g.onElevationChange(p)))],pw):this.addHandles((0,Dn.wB)(()=>this.view.extent,()=>this._forEachManipulator(p=>p.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(pw),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(p){this._forEachTool(g=>{g.manipulators&&g.manipulators.forEach(({manipulator:y})=>p(y,g))})}_handleInputEvent(p){let g=!1;const y={...p,stopPropagation:()=>{g=!0,p.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(y):this._forEachTool(_=>{!g&&_.visible&&_.handleInputEvent(y)}),!g&&"key-down"===p.type&&"Escape"===p.key&&this.activeTool&&(p.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(y,this._manipulatorStateEventArgs),g||null==this.activeTool||this.activeTool.handleInputEventAfter(y),this._manipulatorState.handleHoverEvent(y,this._forEachTool),this._updateCursor(),"pointer-move"===p.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(jM),this._forEachTool(p=>{if(p instanceof Gr.A){const g=(0,Dn.wB)(()=>[p.cursor,p.visible,p.editable],()=>{BM(p)||this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(g,jM)}p.manipulators&&this.addHandles([p.manipulators.on("after-remove",g=>{this._manipulatorState.clearPointers(p,this._manipulatorStateEventArgs,!0,g.item.manipulator)}),p.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],jM)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(p){p.setEditableFlag?.(X0.MANAGER,null==this.activeTool||p===this.activeTool)}_updateCursor(){let p=this._manipulatorState.cursor;null==p&&this._forEachTool(g=>!(null==g.cursor||!g.visible||(p=g.cursor,0))),this._get("cursor")!==p&&this._set("cursor",p)}_removeIncompleteTools(p){this.tools.filter(g=>(null==p||g!==p)&&!g.created&&g.removeIncompleteOnCancel).forEach(g=>{this.tools.remove(g)})}get test(){}};(0,Ue._)([(0,Ge.MZ)({constructOnly:!0,nonNullable:!0})],Zl.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)({value:null})],Zl.prototype,"activeTool",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:Xs.A})],Zl.prototype,"tools",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Zl.prototype,"cursor",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Zl.prototype,"updating",null),(0,Ue._)([(0,Ge.MZ)()],Zl.prototype,"_interacting",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Zl.prototype,"interacting",null),Zl=(0,Ue._)([(0,On.$)("esri.views.ToolViewManager")],Zl);let jp=class extends Gr.A{constructor(p){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===p.mapping?"standard":jV.test(p.id)?"spacemouse":"unknown",this.nativeIndex=p.index}get native(){const p=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<p.length?p[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return kV[this.deviceType]}};(0,Ue._)([(0,Ge.MZ)({nonNullable:!0,readOnly:!0})],jp.prototype,"nativeIndex",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,readOnly:!0})],jp.prototype,"deviceType",null),(0,Ue._)([(0,Ge.MZ)({type:Number,readOnly:!0})],jp.prototype,"axisThreshold",null),jp=(0,Ue._)([(0,On.$)("esri.views.input.gamepad.GamepadInputDevice")],jp);const kM=jp,jV=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),kV={standard:.15,spacemouse:.025,unknown:0};let q0=class extends Gr.A{constructor(...p){super(...p),this.devices=new Xs.A,this.enabledFocusMode="document"}};(0,Ue._)([(0,Ge.MZ)({type:Xs.A.ofType(kM),readOnly:!0})],q0.prototype,"devices",void 0),(0,Ue._)([(0,Ge.MZ)({type:["document","view","none"]})],q0.prototype,"enabledFocusMode",void 0),q0=(0,Ue._)([(0,On.$)("esri.views.input.gamepad.GamepadSettings")],q0);const WV=q0;let Qy=class extends Gr.A{constructor(){super(...arguments),this.gamepad=new WV}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qy.prototype,"gamepad",void 0),Qy=(0,Ue._)([(0,On.$)("esri.views.input.Input")],Qy);const $V=Qy;var fw=v(76157);let Nc=class extends Gr.A{constructor(p){super(p),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],Nc.prototype,"enabled",void 0),(0,Ue._)([(0,Ge.MZ)({type:kM})],Nc.prototype,"device",void 0),(0,Ue._)([(0,Ge.MZ)({type:["pan","zoom"],nonNullable:!0})],Nc.prototype,"mode",void 0),(0,Ue._)([(0,Ge.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],Nc.prototype,"tiltDirection",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number,nonNullable:!0})],Nc.prototype,"velocityFactor",void 0),Nc=(0,Ue._)([(0,On.$)("esri.views.navigation.gamepad.GamepadSettings")],Nc);const mw=Nc;let zd=class extends Gr.A{constructor(p){super(p),this.browserTouchPanEnabled=!0,this.gamepad=new mw,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,fw.O)()}};(0,Ue._)([(0,Ge.MZ)({type:Boolean})],zd.prototype,"browserTouchPanEnabled",void 0),(0,Ue._)([(0,Ge.MZ)({type:mw,nonNullable:!0})],zd.prototype,"gamepad",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean})],zd.prototype,"momentumEnabled",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean})],zd.prototype,"mouseWheelZoomEnabled",void 0),zd=(0,Ue._)([(0,On.$)("esri.views.navigation.Navigation")],zd);const gw=zd;var ki,VV=v(68438);function yw(p){if("integrated-mesh-3dtiles"===p.type)return null;const g=p.url?(0,VV.qg)(p.url):void 0;return(null!=p.spatialReference?.vcsWkid||null==g||"ImageServer"!==g.serverType)&&_w(p)&&p.heightModelInfo?p.heightModelInfo:function Ew(p){return vw(p)?!!(p.capabilities&&p.capabilities.data&&p.capabilities.data.supportsZ):Mw(p)}(p)?RM.A.deriveUnitFromSR(GV,p.spatialReference):null}function _w(p){return"heightModelInfo"in p}function vw(p){if("unknown"===p.type||!("capabilities"in p))return!1;switch(p.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function HV(p){return null!=p.layers||Mw(p)||vw(p)||_w(p)}function Mw(p){switch(p.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(p){p[p.Ok=0]="Ok",p[p.Units=1]="Units",p[p.HeightModel=2]="HeightModel",p[p.CRS=3]="CRS",p[p.Unsupported=4]="Unsupported"}(ki||(ki={}));const GV=new RM.A({heightModel:"gravity-related-height"});var Aw=v(23191);let $M,VM=null;function zV(p){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Mr.A)(function*(p){VM||(VM=v.e(5385).then(v.bind(v,65385)).then(g=>$M=g)),yield VM,(0,bs.Te)(p)}),ZM.apply(this,arguments)}function Dw(p,g,y,_){return KM.apply(this,arguments)}function KM(){return KM=(0,Mr.A)(function*(p,g,y,_){if(!p)return null;const M=p.spatialReference;return(0,Hd.isLoaded)()||(0,Hd.canProjectWithoutEngine)(M,g)?(0,Hd.project)(p,g):$M?$M.projectGeometry(p,g,y,_):(yield Promise.race([zV(_),(0,Hd.load)(_)]),Dw(p,g,y,_))}),KM.apply(this,arguments)}let Cs=class extends Gr.A{constructor(p){super(p),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Ts.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const p=this.map?.(),g=[];return null!=this.priorityCollection&&g.push(this.priorityCollection),g.push({parent:p?.basemap,layers:p?.basemap?.baseLayers},{layers:p?.layers},{parent:p?.ground,layers:p?.ground?.layers},{parent:p?.basemap,layers:p?.basemap?.referenceLayers}),g}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:p,updating:g}=this._allLayers;let y=null;for(const M of p){const A=this._getSupportedSpatialReferences(M);if(A.length>0){const T=this._narrowDownSpatialReferenceCandidates(y,A);null!=T&&(y=T)}if(null!=y&&1===y.length)break}if(g&&(null==y||1!==y.length))return{updating:!0};const _=this._pickSpatialReferenceCandidate(y);return{spatialReference:_?.spatialReference??null,viewingMode:_?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:p,updating:g}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(p&&p.length>0&&"tileInfo"in p[0]){const y=p[0].tileInfo;return{tileInfo:y?.spatialReference.equals(this.spatialReference)?y:null,updating:!1}}return{updating:g}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:p,updating:g}=this._allLayers;for(const y of p)if(HV(y)){const _=yw(y);if(_)return{heightModelInfo:_,vcsWkid:y.spatialReference?.vcsWkid,latestVcsWkid:y.spatialReference?.latestVcsWkid,updating:!1}}return{updating:g}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const p=this._allLayers,g=p.updating,y=[];for(const _ of p.layers){const M="fullExtents"in _&&_.fullExtents||(null!=_.fullExtent?[_.fullExtent]:[]),A=this.requiresExtentInSpatialReference?null:M[0],T=M.find(F=>F.spatialReference.equals(this.spatialReference))??A;if(T)return{candidates:[{extent:T,layer:_}],updating:!1};if(this._getSupportedSpatialReferences(_).length>0)for(const F of M)y.push({extent:F,layer:_})}return{candidates:y,updating:g}}get _extentTask(){var p=this;const{candidates:g,updating:y}=this._extentCandidatesTask;if(y)return{updating:y};if(null==g||0===g.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const _=this._pickExtentCandidate(g),M=this.spatialReference;return _.extent.equals(this._projectExtentTask.input)&&M.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,Ts.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:_.extent.clone(),output:null,spatialReference:M.clone(),task:(0,zy.UT)(function(){var A=(0,Mr.A)(function*(T){try{const F=yield Dw(_.extent,M,"portalItem"in _.layer?_.layer.portalItem:void 0,T);p._projectExtentTask={...p._projectExtentTask,task:null,output:F}}catch{if((0,bs.G4)(T))return;p._projectExtentTask={...p._projectExtentTask,task:null}}});return function(T){return A.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(p,g){if(null==p)return g;const y=new Array;for(const _ of p)for(const M of g){if(!_.spatialReference.equals(M.spatialReference))continue;const A=JV(_.viewingMode,M.viewingMode);if(!1!==A){y.push({spatialReference:_.spatialReference,viewingMode:A});break}}return y.length>0?y:null}_pickSpatialReferenceCandidate(p){const g=this.defaultSpatialReference;return null==p||p.length<1?g?{spatialReference:g,viewingMode:null}:null:(null!=g&&p.length>1&&p.some(({spatialReference:y})=>y.equals(g))&&(p=p.filter(({spatialReference:y})=>y.equals(g))),p.length>1&&p.some(({viewingMode:y})=>y!==Aw.RT.Local)&&(p=p.filter(({viewingMode:y})=>y!==Aw.RT.Local)),p[0])}_getSupportedSpatialReferences(p){const g="supportedSpatialReferences"in p&&p.supportedSpatialReferences||(p.spatialReference?[p.spatialReference]:[]);if(0===g.length)return[];const y=[];for(const _ of g){const M=this.getSpatialReferenceSupport(_,p);if(null!=M){const A=M.constraints??[{spatialReference:_,viewingMode:null}];for(const{spatialReference:T,viewingMode:F}of A)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!T.equals(this.userSpatialReference)||y.push({spatialReference:T,viewingMode:F})}}return y}_pickExtentCandidate(p){const g=this.spatialReference;return p.find(({extent:y})=>g.equals(y.spatialReference))||p[0]}_collectLayers(p){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const g=new YV;for(const y of p)if(this._collectCollection(y,g),g.preloading===this.sourcePreloadCount)break;return{layers:g.layers,updating:g.updating}}_collectCollection(p,g){if(p.layers){switch(this._loadMaybe(p.parent)){case"loading":return g.updating=!0,void++g.preloading;case"failed":return}for(const y of p.layers){switch(this._loadMaybe(y)){case"failed":continue;case"loading":g.updating=!0,++g.preloading;break;case"loaded":g.updating||g.layers.push(y),"layers"in y&&this._collectCollection({layers:y.layers},g)}if(g.preloading===this.sourcePreloadCount)break}}}_loadMaybe(p){return p&&"loadStatus"in p&&null!=p.loadStatus?"not-loaded"===p.loadStatus?(p.load().catch(g=>{(0,bs.zf)(g)||console.log(g)}),"loading"):p.loadStatus:"loaded"}};(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"required",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Cs.prototype,"map",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Cs.prototype,"getSpatialReferenceSupport",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"defaultSpatialReference",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"userSpatialReference",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"sourcePreloadCount",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"priorityCollection",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"requiresExtentInSpatialReference",void 0),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"suspended",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"ready",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"heightModelInfoReady",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"spatialReference",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"extent",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"heightModelInfo",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"vcsWkid",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"latestVcsWkid",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"viewingMode",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"tileInfo",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"mapCollections",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"_allLayers",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"_spatialReferenceTask",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"_tileInfoTask",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"_heightModelInfoTask",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Cs.prototype,"_extentCandidatesTask",null),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"_extentTask",null),(0,Ue._)([(0,Ge.MZ)()],Cs.prototype,"_projectExtentTask",void 0),Cs=(0,Ue._)([(0,On.$)("esri.views.support.DefaultsFromMap")],Cs);class YV{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1}}function JV(p,g){return null!=p?null!=g?p===g&&p:p:g}var em;let Qn=em=class extends(Mp.A.EventedMixin((0,nM.g)(Gr.A))){constructor(p){super(p),this._userSpatialReference=null,this._cursor=null,this.handles=new zP.A,this.updatingHandles=new Hy.U,this.allLayerViews=new by.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:XV}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new YP.Y,this.analyses=new Yy,this.typeSpecificPreconditionsReady=!0,this.layerViews=new Xs.A,this.magnifier=new JP,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new $V,this.navigation=new gw,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new MV(this),this.persistableViewModels=new Xs.A,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this.theme=null,this.handles.add((0,Dn.wB)(()=>this.preconditionsReady,g=>{const y=this.ready;if(g?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,em.views.add(this)):(this._lockedSpatialReference=null,em.views.remove(this)),this.notifyChange("spatialReference"),!g&&y)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(g&&!y){try{this._startup()}catch(_){return void queueMicrotask(()=>{this.fatalError=new ns.A("startup-error",null,_)})}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Dn.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,(0,Dn.C_)(()=>this.ready)))),this.basemapView=new Lc({view:this}),this.layerViewManager=new hV({view:this,layerViewImporter:{importLayerView:p=>this.importLayerView(p),hasLayerViewModule:p=>this.hasLayerViewModule(p)},supportsGround:this.supportsGround}),this.toolViewManager=new Zl({view:this}),this._setupSpatialReferenceLogger(),this.selectionManager=new vV({view:this}),this.addHandles([(0,Dn.wB)(()=>this.initialExtentRequired,p=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:p},Dn.pc),(0,Dn.wB)(()=>this.ready,p=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=p,this.defaultsFromMap.userSpatialReference=p?this.spatialReference:this._userSpatialReference)},Dn.OH),(0,Dn.wB)(()=>this._userSpatialReference,p=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=p)},Dn.pc)])}_setupSpatialReferenceLogger(){var p=this;let g=null;this.addHandles([(0,Dn.wB)(()=>this.defaultsFromMap?.ready,y=>{if(y&&!this.spatialReference&&this.map?.allLayers.length>0){if(null!=g)return;const M=(0,Py.hA)(()=>g=(0,Ts.DC)(g));g=(0,zy.UT)(function(){var A=(0,Mr.A)(function*(T){try{yield(0,bs.Pl)(p.spatialReferenceWarningDelay,null,T)}catch{return}finally{g=null}os.A.getLogger(p).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")});return function(T){return A.apply(this,arguments)}}()),this.addHandles(M,"spatial-reference-logger-task")}else this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(em.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,Ts.pR)(this.graphics),this.analyses=(0,Ts.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,Ts.pR)(this.analysisViewManager),this.toolViewManager=(0,Ts.pR)(this.toolViewManager),this.layerViewManager=(0,Ts.pR)(this.layerViewManager),this.selectionManager=(0,Ts.pR)(this.selectionManager),this.basemapView=(0,Ts.pR)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(p=>p.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,Ts.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return os.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(p){this.toolViewManager&&(this.toolViewManager.activeTool=p)}get animation(){return this._get("animation")}set animation(p){this._set("animation",p)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Cs({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(p,g)=>this.getSpatialReferenceSupport(p,g),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(p){this._set("extent",p)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||tM.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(p){p!==this._get("map")&&(p?.destroyed&&(os.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:p}),p=null),tM.A.isLoadable(p)&&p.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",p))}get spatialReference(){const p=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(p&&this.defaultsFromMap?.required?.heightModelInfo){const g=p.clone();return g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,g}return p}set spatialReference(p){const g=!(0,LM.aI)(p,this._get("spatialReference"));this._set("_userSpatialReference",p),g&&(this._set("spatialReference",p),this._spatialReferenceChanged(p))}_spatialReferenceChanged(p){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Lp.qU}set timeZone(p){const g=new Set(["etc/utc","etc/gmt","gmt"]),y=new Set(Intl.supportedValuesOf("timeZone").map(_=>_.toLowerCase()));this._userTimeZone=p,p===Lp.qU||p===Lp.L5||g.has(p.toLowerCase())||y.has(p.toLowerCase())||os.A.getLogger(this).warn("#timeZone",`the parsed value '${p}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(p){this._cursor=p,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new NM}whenLayerView(p){return this.layerViewManager?.whenLayerView(p)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(p){throw new ns.A("importLayerView() not implemented")}hasLayerViewModule(p){return!1}validate(){return(0,Mr.A)(function*(){})()}loadAsyncDependencies(){return(0,Mr.A)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(p){return null!=this.getSpatialReferenceSupport(p)}when(p,g){return this.isResolved()&&!this.ready&&os.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(p,g)}forceReadyCycle(){this.ready&&((0,Dn.z7)(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(p){this.toolViewManager.tools.add(p),this.activeTool=p}tryFatalErrorRecovery(){this.fatalError=null}};Qn.views=new Xs.A,(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_userSpatialReference",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"activeTool",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"allLayerViews",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"groundView",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"animation",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"basemapView",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"center",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"_defaultsFromMapSettings",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"defaultsFromMap",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"fatalError",void 0),(0,Ue._)([(0,Ge.MZ)({type:H0.A})],Qn.prototype,"extent",null),(0,Ue._)([(0,Ge.MZ)((0,wM.C)(YP.Y,"graphics"))],Qn.prototype,"graphics",void 0),(0,Ue._)([(0,Ge.MZ)((0,wM.C)(Yy,"analyses"))],Qn.prototype,"analyses",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:RM.A})],Qn.prototype,"heightModelInfo",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"interacting",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"navigating",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Qn.prototype,"preconditionsReady",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"typeSpecificPreconditionsReady",void 0),(0,Ue._)([(0,Ge.MZ)({type:Xs.A,readOnly:!0})],Qn.prototype,"layerViews",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"resolution",null),(0,Ue._)([(0,Ge.MZ)({type:JP})],Qn.prototype,"magnifier",void 0),(0,Ue._)([(0,Ge.MZ)({value:null,type:xP})],Qn.prototype,"map",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"padding",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"ready",void 0),(0,Ue._)([(0,Ge.MZ)({type:F0.A})],Qn.prototype,"spatialReference",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"spatialReferenceWarningDelay",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"stationary",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"supportsGround",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ip.A})],Qn.prototype,"timeExtent",void 0),(0,Ue._)([(0,Ge.MZ)({type:String,nonNullable:!0})],Qn.prototype,"timeZone",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"tools",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"toolViewManager",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"type",void 0),(0,Ue._)([(0,Ge.MZ)({type:Number})],Qn.prototype,"scale",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"updating",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"initialExtentRequired",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"initialExtent",null),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"cursor",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"input",void 0),(0,Ue._)([(0,Ge.MZ)({type:gw,nonNullable:!0})],Qn.prototype,"navigation",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"layerViewManager",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"analysisViewManager",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"selectionManager",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"width",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"height",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"resizing",void 0),(0,Ue._)([(0,Ge.MZ)({value:null,readOnly:!0})],Qn.prototype,"size",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"suspended",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"viewEvents",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Qn.prototype,"persistableViewModels",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_isValid",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_readyCycleForced",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_lockedSpatialReference",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_userTimeZone",void 0),(0,Ue._)([(0,Ge.MZ)()],Qn.prototype,"_lockedTimeZone",void 0),(0,Ue._)([(0,Ge.MZ)({type:NM})],Qn.prototype,"theme",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:NM})],Qn.prototype,"effectiveTheme",null),Qn=em=(0,Ue._)([(0,On.$)("esri.views.View")],Qn);const QV=Qn;function XV(p){return p.layerViews}var Ro=v(82595),HM=v(45475);let Bc=class extends nM.Z{constructor(p){super(p),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,bs.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new ns.A("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(p,g){g||(g=(0,bs.$X)(p)?"waiting-for-target":"running"),this._set("target",p),this._set("state",g)}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Bc.prototype,"done",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:String})],Bc.prototype,"state",void 0),(0,Ue._)([(0,Ge.MZ)()],Bc.prototype,"target",void 0),Bc=(0,Ue._)([(0,On.$)("esri.views.ViewAnimation")],Bc),function(p){p.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(Bc||(Bc={}));const GM=Bc;var ra=v(83953),ms=v(6126),qV=v(85952),Xy=v(76329),eZ=v(3672),zM=v(44999),kp=v(31610),YM=v(12273),Tw=v(88532);function JM(p){return function tZ(p){return p instanceof Float32Array&&p.length>=2}(p)||function nZ(p){return Array.isArray(p)&&p.length>=2}(p)}var QM,rZ=v(77098),Ai=v(1749);const wu=[0,0];let Fc=QM=class extends Ps.oY{constructor(p){super(p),this._viewpoint2D={center:(0,HM.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new H0.A,this.id=0,this.inverseTransform=(0,zM.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,zM.vt)(),this.transformNoRotation=(0,zM.vt)(),this.displayMat3=(0,YM.vt)(),this.displayViewMat3=(0,YM.vt)(),this.viewMat3=(0,YM.vt)(),this.viewMat2d=(0,eZ.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(p){this._set("pixelRatio",p),this._update()}set size(p){this._set("size",p),this._update()}set viewpoint(p){if(p){const g=this._viewpoint2D,y=p.targetGeometry;g.center[0]=y.x,g.center[1]=y.y,g.rotation=p.rotation,g.scale=p.scale,g.spatialReference=y.spatialReference}this._update()}copy(p){const g=this.size,y=this.viewpoint;return y&&g?(this.viewpoint=(0,ms.C)(y,p.viewpoint),this._set("size",(0,ra.C)(g,p.size))):(this.viewpoint=p.viewpoint.clone(),this._set("size",[p.size[0],p.size[1]])),this._set("pixelRatio",p.pixelRatio),this}clone(){return new QM({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(p,g,y){return JM(g)?(0,ra.l0)(p,g,this.inverseTransform):(wu[0]=g,wu[1]=y,(0,ra.l0)(p,wu,this.inverseTransform))}toScreen(p,g,y){return JM(g)?(0,ra.l0)(p,g,this.transform):(wu[0]=g,wu[1]=y,(0,ra.l0)(p,wu,this.transform))}toScreenNoRotation(p,g,y){return JM(g)?(0,ra.l0)(p,g,this.transformNoRotation):(wu[0]=g,wu[1]=y,(0,ra.l0)(p,wu,this.transformNoRotation))}wrapMapCoordinate(p,g){(0,ra.C)(p,g);const[y]=g,[_]=this.center,{extent:M,spatialReference:A}=this;let{xmin:T,xmax:F}=M;if(A.isWrappable){const Y=(0,ms.FT)(A)/2;T=Math.max(T,_-Y),F=Math.min(F,_+Y)}return(y<T||y>F)&&(p[0]=(0,rZ.O7)(y,_,A)),p}getScreenTransform(p,g){const{center:y}=this._viewpoint2D,_=this._get("pixelRatio")||1,M=this._get("size");return(0,ms.GL)(p,y,M,g,0,_),p}_update(){const{center:p,spatialReference:g,scale:y,rotation:_}=this._viewpoint2D,M=this._get("pixelRatio")||1,A=this._get("size"),T=new ai.A({targetGeometry:new Ai.A(p[0],p[1],g),scale:y,rotation:_});if(this._set("viewpoint",T),!A||!g||!y)return;this.resolution=(0,ms.Hn)(T),this.rotation=_,this.scale=y,this.spatialReference=g,(0,ra.C)(this.center,p),(0,kp.hZ)(this.displayMat3,0!==A[0]?2/A[0]:0,0,0,0,0!==A[1]?-2/A[1]:0,0,-1,1,1);const ge=(0,kp.D_)(this.viewMat3),Re=(0,Tw.fA)(A[0]/2,A[1]/2),Ve=(0,Tw.fA)(-A[0]/2,-A[1]/2),nt=(0,qV.DF)(_);(0,kp.Tl)(ge,ge,Re),(0,kp.e$)(ge,ge,nt),(0,kp.Tl)(ge,ge,Ve),(0,kp.lw)(this.displayViewMat3,this.displayMat3,ge);const ft=(0,Xy.kN)(this.viewMat2d,Re);return(0,Xy.e$)(ft,ft,nt),(0,Xy.Tl)(ft,ft,Ve),(0,ms.Z7)(this.extent,T,A),(0,ms.RG)(this.transform,T,A,M),(0,Xy.B8)(this.inverseTransform,this.transform),(0,ms.cp)(this.transformNoRotation,T,A,M),this.worldScreenWidth=(0,ms.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Fc.prototype,"id",void 0),(0,Ue._)([(0,Ge.MZ)({value:1,json:{write:!0}})],Fc.prototype,"pixelRatio",null),(0,Ue._)([(0,Ge.MZ)({json:{write:!0}})],Fc.prototype,"size",null),(0,Ue._)([(0,Ge.MZ)()],Fc.prototype,"spatialReference",void 0),(0,Ue._)([(0,Ge.MZ)({type:ai.A,json:{write:!0}})],Fc.prototype,"viewpoint",null),Fc=QM=(0,Ue._)([(0,On.$)("esri.views.2d.ViewState")],Fc);const Cw=Fc;var XM,qM;let Ru=XM=class extends Gr.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new XM({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,Ue._)([(0,Ge.MZ)()],Ru.prototype,"left",void 0),(0,Ue._)([(0,Ge.MZ)()],Ru.prototype,"top",void 0),(0,Ue._)([(0,Ge.MZ)()],Ru.prototype,"right",void 0),(0,Ue._)([(0,Ge.MZ)()],Ru.prototype,"bottom",void 0),Ru=XM=(0,Ue._)([(0,On.$)("esri.views.2d.PaddedViewState.Padding")],Ru);let Wp=qM=class extends Cw{constructor(...p){super(...p),this.paddedViewState=new Cw,this._updateContent=(()=>{const g=(0,HM.vt)();return()=>{const y=this._get("size"),_=this._get("padding");if(!y||!_)return;const M=this.paddedViewState;(0,ra.hZ)(g,_.left+_.right,_.top+_.bottom),(0,ra.Re)(g,y,g),(0,ra.C)(M.size,g);const A=M.viewpoint;A&&(this.viewpoint=A)}})(),this.addHandles((0,Dn.wB)(()=>[this.size,this.padding],()=>this._updateContent(),Dn.OH)),this.padding=new Ru,this.size=[0,0]}set padding(p){this._set("padding",p||new Ru)}set viewpoint(p){if(p){const g=p.clone();this.paddedViewState.viewpoint=p,(0,ms.nr)(g,p,this._get("size"),this._get("padding"));const y=this._viewpoint2D,_=g.targetGeometry;y.center[0]=_.x,y.center[1]=_.y,y.rotation=g.rotation,y.scale=g.scale,y.spatialReference=_.spatialReference,this._update()}}clone(){return new qM({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,Ue._)([(0,Ge.MZ)()],Wp.prototype,"paddedViewState",void 0),(0,Ue._)([(0,Ge.MZ)({type:Ru})],Wp.prototype,"padding",null),(0,Ue._)([(0,Ge.MZ)()],Wp.prototype,"viewpoint",null),Wp=qM=(0,Ue._)([(0,On.$)("esri.views.2d.PaddedViewState")],Wp);const Sw=Wp;var Iw=v(47461),sZ=v(15364);class Ow{constructor(g){this._view=g,this.viewpoint=new ai.A({targetGeometry:new Ai.A,scale:0,rotation:0})}get view(){return this._view}get size(){const[g,y]=this._view.size;return Math.sqrt(g*g+y*y)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,ms.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(g){return 1/(g*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(g){return 1/(g*this.scaleToResolutionFactor)}pixelsPerRotateAtZoom(g){return this.size/2}compareTo(g,y){y.pan=(0,sZ.Io)(this.center,g.center);const _=Math.abs(g.rotation-this.rotation);y.rotate=_>=180?360-_:_,y.sourceZoom=this.scale,y.targetZoom=g.scale}interpolate(g,y,_){const{pan:M,rotate:A,zoom:T,zoomOffset:F}=_,{center:Y}=this;Y.spatialReference=g.center.spatialReference,Y.x=(0,xc.Cc)(g.center.x,y.center.x,M),Y.y=(0,xc.Cc)(g.center.y,y.center.y,M),this.viewpoint.scale=(0,xc.Cc)(g.scale,y.scale+F,T);let ge=g.rotation;const Re=y.rotation;Math.abs(Re-ge)>=180&&(ge+=360*(ge<Re?1:-1)),this.viewpoint.rotation=(0,xc.Cc)(ge,Re,A)}copyFrom(g){(0,ms.C)(this.viewpoint,g.viewpoint),this._view=g.view}}const qy=p=>p*p,iA=p=>1-(p=>2**(10*(p-1)))(1-p);function Oa(p){const g=2*(p-Math.sqrt((p-1)*p)),y=g/2/p;return _=>_<y?p*_*_:g*_-g+1}function ba(p,g){return(y,_)=>y<g?g*p(y/g,_):1-p((1-y)/(1-g),_)*(1-g)}ba(Oa(1),1),ba(Oa(1),0);const lA=ba(Oa(1),.5);ba(Oa(2),1),ba(Oa(2),0),ba(Oa(2),.5),ba(Oa(3),1),ba(Oa(3),0),ba(Oa(3),.5),ba(Oa(4),1),ba(Oa(4),0),ba(Oa(4),.5);class TZ{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}const tm={desiredScreenFlow:2,minDuration:(0,Ro.l5)(500),maxDuration:(0,Ro.l5)(8e3)},xw={...tm,maxDuration:(0,Ro.l5)(4e3)};class uA{constructor(g){this._createCamera=g,this.compared=new TZ,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:tm.desiredScreenFlow},this.source=g(),this.target=g()}clone(){const g=new uA(this._createCamera);return g.copyFrom(this),g}copyFrom(g){this.update(g.source,g.target,g.settings)}update(g,y,_){this.source!==g&&this.source.copyFrom(g),this.target!==y&&this.target.copyFrom(y),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=null!=_.desiredScreenFlow?_.desiredScreenFlow:tm.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(g){const y=this.target.pixelsPerPanAtZoom(g);return this.halfWindowSize/y}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>1e-9}get hasFov(){return Math.abs(this.compared.fov)>1e-9}get hasRotate(){return this.compared.rotate>1e-9}}let SZ=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((p,g)=>(0,Ro.Kp)(p+g.time),(0,Ro.Kp)(0))}interpolateComponentsAt(p,g){p=Math.min(Math.max(p,0),1),p*=this.time;let y=0,_=0;const M=this.definition,A=this.segments.reduce((T,F)=>T||F.definition.hasZoom,!1);for(let T=0;T<this.segments.length;T++){const F=this.segments[T],Y=F.definition;if(p<=F.time||T===this.segments.length-1){if(this.segmentInterpolateComponentsAt(F,0===F.time?0:p/F.time,g),g.pan=M.hasPan&&!isNaN(g.pan)&&isFinite(M.compared.pan)?(y+Y.compared.pan*g.pan)/M.compared.pan:1,g.rotate=M.hasRotate&&!isNaN(g.rotate)&&isFinite(M.compared.rotate)?(_+Y.compared.rotate*g.rotate)/M.compared.rotate:1,A&&!isNaN(g.zoom)&&isFinite(Y.compared.targetZoom)){const{sourceZoom:ge,targetZoom:Re}=Y.compared,Ve=g.zoom*(Re-ge)+ge,nt=this.segments[0].definition.compared.sourceZoom,ft=this.segments[this.segments.length-1].definition.compared.targetZoom,It=Math.abs(Re-nt)>Math.abs(ge-nt)?Re:ge;g.zoomOffset=It-ft,g.zoom=(Ve-nt)/(It-nt)}else g.zoom=1;return g}p-=F.time,y+=Y.compared.pan,_+=Y.compared.rotate}}segmentInterpolateComponentsAt(p,g,y){p.interpolateComponentsAt(g,y)}};class cA{get time(){return this._time}constructor(g){g&&this.update(g)}update(g){g&&(this.definition?this.definition.copyFrom(g):this.definition=g.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const g=this.definition,y=g.compared,_=y.sourceZoom,M=y.targetZoom;this._zoomSign=_>M?1:-1,this._panPixelsAtSource=y.pan*g.source.pixelsPerPanAtZoom(_);const A=(g.source.pixelsPerRotateAtZoom(_)+g.target.pixelsPerRotateAtZoom(M))/2;this._rotatePixels=y.rotate*A}_updatePixelFlow(){const g=this.definition.compared.sourceZoom,y=this.definition.compared.targetZoom,{hasZoom:_,hasPan:M,hasRotate:A}=this.definition;let T=0,F=0;_&&(M&&(T=(y/g-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),A&&(F=this._zoomSign*(Math.log(g/y)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const Y=this.definition.desiredPixelFlow;if(_&&M&&A){const ge=T+F+T*F;this._zoomPixelFlow=T*F/ge*Y,this._panPixelFlow=F/ge*Y,this._rotatePixelFlow=T/ge*Y}else if(_&&M){const ge=1+T;this._zoomPixelFlow=T/ge*Y,this._panPixelFlow=1/ge*Y}else if(_&&A){const ge=1+F;this._zoomPixelFlow=F/ge*Y,this._rotatePixelFlow=1/ge*Y}else if(M&&A){const ge=this._panPixelsAtSource/this._rotatePixels,Re=1+ge;this._panPixelFlow=ge/Re*Y,this._rotatePixelFlow=1/Re*Y}else M?this._panPixelFlow=Y:_?this._zoomPixelFlow=Y:A&&(this._rotatePixelFlow=Y);this._time=this.rotateTime??this.zoomTime??this.panTime??this.fovTime??(0,Ro.Kp)(0)}get rotateTime(){return this.definition.hasRotate?(0,Ro.Kp)(this._rotatePixels/this._rotatePixelFlow):null}get zoomTime(){return this.definition.hasZoom?(0,Ro.Kp)(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):null}get fovTime(){return this.definition.hasFov?(0,Ro.Kp)(Math.abs(this.definition.compared.fov)/IZ):null}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const g=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2;return(0,Ro.Kp)(Math.log(g*this._panPixelsAtSource*(this._zoomPixelFlow/this._panPixelFlow)+1)/(g*this._zoomPixelFlow))}return(0,Ro.Kp)(this._panPixelsAtSource/this._panPixelFlow)}}_interpolateComponentsZoom(g){if(0===g||1===g)return g;if(this.definition.hasZoom){const y=this.definition.compared.sourceZoom,_=this.definition.compared.targetZoom;return(y*(y/_)**-g-y)/(_-y)}return g}_interpolateComponentsFov(g){if(0===g)return this.definition.segmentStart;if(1===g)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:y,segmentEnd:_}=this.definition;return console.log(y,_,y+g*(_-y)),y+g*(_-y)}return this.definition.segmentStart}_interpolateComponentsPan(g){if(0===g||1===g)return g;if(this.definition.hasPan&&this.definition.hasZoom){const y=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(y*g*this._time)-1))/(y*Math.LN2)}return g}_interpolateComponentsRotate(g){return g}interpolateComponentsAt(g,y){g=Math.min(Math.max(g,0),1),y.zoom=this._interpolateComponentsZoom(g),y.pan=this._interpolateComponentsPan(g),y.rotate=this._interpolateComponentsRotate(g),y.zoomOffset=0,y.fov=this._interpolateComponentsFov(g)}}const IZ=(0,xc.kU)(90);function OZ(p,g,y){const M=p.halfWindowPanAtZoom(g-p.compared.sourceZoom);return-p.halfWindowSize*(y.ascensionFactor*Math.LN2*p.compared.pan+M)*Math.log(p.compared.sourceZoom/g)/(p.desiredPixelFlow*Math.LN2*M)}function bZ(p,g,y){const _=1/g,M=Math.log(p.compared.sourceZoom*_),A=1/p.desiredPixelFlow,T=1/Math.LN2,F=g-p.compared.sourceZoom,Y=1/F,ge=(y.ascensionFactor*Math.LN2*p.compared.pan+p.halfWindowPanAtZoom(F))/p.halfWindowPanAtZoom(1);return p.halfWindowSize*_*A*T*Y*ge-p.halfWindowSize*M*A*T*Y+p.halfWindowSize*M*A*T*ge/(F*F)}function PZ(p,g,y){const _=g-p.compared.sourceZoom,M=1/_,A=1/g,T=Math.log(p.compared.sourceZoom*A),F=(y.ascensionFactor*Math.LN2*p.compared.pan+p.halfWindowPanAtZoom(_))/p.halfWindowPanAtZoom(1);return p.halfWindowSize*M*(-2*M*A*F+2*M*T+2*A-2*T*F/(_*_)-F/(g*g))/(p.desiredPixelFlow*Math.LN2)}function wZ(p,g){return-p.halfWindowSize*Math.log(p.compared.sourceZoom/g)/(p.desiredPixelFlow*Math.LN2)}function RZ(p,g){return p.halfWindowSize/(g*p.desiredPixelFlow*Math.LN2)}function LZ(p,g){return-p.halfWindowSize/(g*g*p.desiredPixelFlow*Math.LN2)}function FZ(p,g,y){return p.halfWindowSize*(-p.halfWindowPanAtZoom(g)-y.descensionFactor*Math.LN2*p.compared.pan+p.halfWindowPanAtZoom(p.compared.targetZoom))*Math.log(g/p.compared.targetZoom)/(p.desiredPixelFlow*Math.LN2*p.halfWindowPanAtZoom(-g+p.compared.targetZoom))}function UZ(p,g,y){const _=Math.log(g/p.compared.targetZoom),M=1/p.desiredPixelFlow,A=1/Math.LN2,T=-g+p.compared.targetZoom,F=1/T,Y=(-p.halfWindowPanAtZoom(g)-y.descensionFactor*Math.LN2*p.compared.pan+p.halfWindowPanAtZoom(p.compared.targetZoom))/p.halfWindowPanAtZoom(1);return-p.halfWindowSize*_*M*A*F+p.halfWindowSize*_*M*A*Y/(T*T)+p.halfWindowSize*M*A*F*Y/g}function jZ(p,g,y){const _=g-p.compared.targetZoom,M=1/_,A=1/g,T=Math.log(g/p.compared.targetZoom),F=(p.halfWindowPanAtZoom(g)+y.descensionFactor*Math.LN2*p.compared.pan-p.halfWindowPanAtZoom(p.compared.targetZoom))/p.halfWindowPanAtZoom(1);return p.halfWindowSize*M*(-2*M*A*F-2*M*T+2*A+2*T*F/(_*_)-F/(g*g))/(p.desiredPixelFlow*Math.LN2)}function kZ(p,g){return p.halfWindowSize*Math.log(g/p.compared.targetZoom)/(p.desiredPixelFlow*Math.LN2)}function WZ(p,g){return p.halfWindowSize/(g*p.desiredPixelFlow*Math.LN2)}function $Z(p,g){return-p.halfWindowSize/(g*g*p.desiredPixelFlow*Math.LN2)}class HZ extends SZ{constructor(g,y){super(),this._preallocSegments=[new cA,new cA,new cA],this._ascensionSegment=null,this._descensionSegment=null,this.update(g,y)}update(g,y){if(!g)return;this.definition?this.definition.copyFrom(g):this.definition=g.clone();const _=y?.apex?function ZZ(p,g){let y=function KZ(p,g){const y=Math.max(p.compared.sourceZoom,p.compared.targetZoom),_=p.source.zoomAtPixelsPerPan(p.desiredPixelFlow/p.compared.pan)/2;return _<y?null!=g.maximumDistance?y+(g.maximumDistance-y)/2:1.5*y:g.maximumDistance?Math.min(g.maximumDistance,_):_}(p,g);const _={ascensionFactor:null!=g.ascensionFactor?g.ascensionFactor:.5,descensionFactor:null!=g.descensionFactor?g.descensionFactor:.5},M=0===_.ascensionFactor,A=0===_.descensionFactor,T=M?wZ:OZ,F=M?RZ:bZ,Y=M?LZ:PZ,ge=A?kZ:FZ,Re=A?WZ:UZ,Ve=A?$Z:jZ,nt=Zn=>T(p,Zn,_)+function xZ(p,g,y){return-p.compared.pan*p.halfWindowSize*(y.ascensionFactor+y.descensionFactor-1)/(p.desiredPixelFlow*p.halfWindowPanAtZoom(g))}(p,Zn,_)+ge(p,Zn,_),ft=Zn=>F(p,Zn,_)+function NZ(p,g,y){return p.compared.pan*p.halfWindowSize*(y.ascensionFactor+y.descensionFactor-1)/(p.desiredPixelFlow*p.halfWindowPanAtZoom(g*g))}(p,Zn,_)+Re(p,Zn,_),It=Zn=>Y(p,Zn,_)+function BZ(p,g,y){return-2*p.compared.pan*p.halfWindowSize*(y.ascensionFactor+y.descensionFactor-1)/(p.desiredPixelFlow*p.halfWindowPanAtZoom(g*g*g))}(p,Zn,_)+Ve(p,Zn,_);let Ut=nt(y);const Jt=function VZ(p){const g=p.compared.sourceZoom-p.compared.targetZoom;if(0===g)return p.compared.pan*p.halfWindowSize/(p.desiredPixelFlow*p.halfWindowPanAtZoom(p.compared.sourceZoom));const y=Math.LN2*p.compared.pan,M=p.halfWindowPanAtZoom(g),A=p.halfWindowSize*Math.log(p.compared.sourceZoom/p.compared.targetZoom)/(p.desiredPixelFlow*Math.LN2*M);return p.compared.sourceZoom<=p.compared.targetZoom?A*(y-M):A*(y+M)}(p);let rn;const Yt=g.maximumIterations||20,Tn=null!=g.maximumDistance?g.maximumDistance:1/0;for(rn=0;rn<Yt;rn++){const Zn=g.desiredSlope??1e-6;let Ar=ft(y);Math.abs(Ar)>Zn&&(Ar+=Zn);const rs=Ar/It(y);if(isNaN(rs)||y>=Tn&&rs<0){if(!isFinite(Tn))return null;y=Tn,Ut=nt(y);break}if(y-=rs,y<p.compared.sourceZoom||y<p.compared.targetZoom)return null;const To=nt(y);if(Math.abs(To-Ut)/Ut<=.005)break;Ut=To}return Ut>.7*Jt||y<p.compared.sourceZoom||y<p.compared.targetZoom?null:y}(g,y.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,_?this._updateWithApex(_,y?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(g,y,_){g.interpolateComponentsAt(y,_),g===this._ascensionSegment?_.zoom=(p=>1-qy(1-p))(_.zoom):g===this._descensionSegment&&(_.zoom=qy(_.zoom))}_updateWithApex(g,y){const[_,M,A]=this._preallocSegments,T=y?.ascensionFactor??.5,F=Math.min(1-T,null!=y?.ascensionFactor&&null!=y.descensionFactor?y.descensionFactor:.5),Y=1-T-F;_.definition?_.definition.copyFrom(this.definition):_.definition=this.definition.clone(),_.definition.compared.targetZoom=g,_.definition.compared.pan=this.definition.compared.pan*T,_.definition.compared.rotate=this.definition.compared.rotate*T,_.definition.segmentEnd=T,_.update(),this._ascensionSegment=_,this.segments.push(_),Y>0&&(M.definition?M.definition.copyFrom(this.definition):M.definition=this.definition.clone(),M.definition.copyFrom(this.definition),M.definition.compared.sourceZoom=g,M.definition.compared.targetZoom=g,M.definition.compared.pan=this.definition.compared.pan*Y,M.definition.compared.rotate=this.definition.compared.rotate*Y,M.definition.segmentStart=_.definition.segmentEnd,M.definition.segmentEnd=_.definition.segmentEnd+Y,M.update(),this.segments.push(M)),A.definition?A.definition.copyFrom(this.definition):A.definition=this.definition.clone(),A.definition.compared.sourceZoom=g,A.definition.compared.pan=this.definition.compared.pan*F,A.definition.compared.rotate=this.definition.compared.rotate*F,A.definition.segmentStart=T+Y,A.update(),this._descensionSegment=A,this.segments.push(A)}_updateWithoutApex(){const[g]=this._preallocSegments;g.update(this.definition),this.segments.push(g)}}const GZ=new class CZ{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};let zZ=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(p){this._time=(0,Ro.l5)(0),this._easing=lA,this.definition=new uA(p),this.path=new HZ}update(p,g,y){this.definition.update(p,g,y),this.path.update(this.definition,y),this._time=this._applyTimeSettings((0,Ro.gr)(isFinite(this.path.time)?this.path.time:(0,Ro.Kp)(0)),y),this._easing=y.easing??(this._time>=1e3?lA:iA)}cameraAt(p,g){p=Math.min(Math.max(0,p),1),p=this._normalizedEasing(p);const y=this.path.interpolateComponentsAt(p,GZ);g.interpolate(this.definition.source,this.definition.target,y)}_normalizedEasing(p){const g=this._easing(0,this._time),y=this._easing(1,this._time);return(this._easing(p,this._time)-g)/(y-g)}_applyTimeSettings(p,g){const y=null!=g.speedFactor?g.speedFactor:1,M=g.maxDuration??tm.maxDuration/y;return null!=g.duration?g.duration:(0,Ro.l5)(Math.min(Math.max(p/y,g.minDuration??tm.minDuration/y),M))}};class JZ{constructor(g){this._view=g,this._animation=new zZ(()=>new Ow(this._view)),this._current=new Ow(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(g,y,_={}){(0,ms.C)(this._current.viewpoint,g),(0,ms.C)(this._source.viewpoint,g),(0,ms.C)(this._target.viewpoint,y),this._animation.update(this._source,this._target,_)}applyRatio(g,y){this._animation.cameraAt(y,this._current),(0,ms.C)(g,this._current.viewpoint)}}let $p=class extends Gr.A{constructor(p){super(p),this._animation=null,this._destinationViewState=new Sw,this.updateFunction=null,this.easing=Iw.Z0.ease,this.viewpoint=new ai.A({targetGeometry:new Ai.A,scale:0,rotation:0}),this._updateTask=(0,Gd.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new JZ(p.view)}destroy(){this._updateTask=(0,Ts.xt)(this._updateTask)}get animation(){return this._animation}set animation(p){this._animation=p,this.view.animation=p}animate(p,g,y){this.stop(),(0,ms.C)(this.viewpoint,g);const M=("string"==typeof y?.easing?(0,Iw.qg)(y.easing):y?.easing)||this.easing,A=p.target;this._transition.update(this.viewpoint,A,{apex:{maximumDistance:Math.min(64*Math.min(g.scale,A.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:y?.duration,maxDuration:"auto"===y?.animationMode?(0,Ro.l5)(1/0):y?.maxDuration??xw.maxDuration,speedFactor:y?.speedFactor,easing:"function"==typeof M?F=>M(F):void 0}),"auto"===y?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=A,function QZ(p,g,y,_){if(null!=g?.duration)return!0;const{time:M,isLinear:A}=p,T=g?.speedFactor||1,F=g?.maxDuration??xw.maxDuration/T;if((0,Mi.A)("esri-goto-debug")&&(console.log("speed factor:",T),console.log("adjusted duration:\t\t",M),console.log("adjusted max duration:\t",F),console.log("is linear:",A)),M>F)return(0,Mi.A)("esri-goto-debug")&&console.warn(`failed "auto" heuristic: animations must be shorter than ${F/1e3}s`),!1;if(A){const ge=(0,HM.vt)(),Re=(0,qo.tc)(..._.toScreen(ge,...y.center)),Ve=(0,qo.tc)(...y.toScreen(ge,..._.center)),nt=null!=Ve&&Ve.x>-1*y.size[0]&&Ve.x<2*y.size[0]&&Ve.y>-1*y.size[1]&&Ve.y<2*y.size[1],ft=null!=Re&&Re.x>-1*_.size[0]&&Re.x<2*_.size[0]&&Re.y>-1*_.size[1]&&Re.y<2*_.size[1];if((0,Mi.A)("esri-goto-debug")&&(console.log("dest is within 1.5 screens at start view:",nt),console.log("start is within 1.5 screens at dest view:",ft)),M>2e3/T&&!nt&&!ft)return(0,Mi.A)("esri-goto-debug")&&console.warn(`failed "auto" heuristic: linear animations must be...\n  - shorter than ${2/T}s, or\n  - shorter than ${F/1e3}s and the destination is close enough to the starting screen, or\n  - shorter than ${F/1e3}s and the start point is close enough to the destination screen`),!1}return!0}(this._transition.animation,y,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,A,{duration:(0,Ro.l5)(0)}));const T=()=>{this.animation===p&&this._updateTask&&("finished"===p.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return p.when(T,T),this._startTime=performance.now(),this._updateTask.resume(),this.animation=p,p}animateContinuous(p,g){this.stop(),this.updateFunction=g,this.viewpoint=p;const y=new GM({target:p.clone()}),_=()=>{this.animation===y&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return y.when(_,_),this._startTime=performance.now(),this._updateTask.resume(),this.animation=y,y}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(p){const g=this.animation;if(g&&g.state!==GM.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,p.deltaTime);else{const y=performance.now()-this._startTime,_=this._transition.duration,M=_>0?y/_:1,A=M>=1;this._transition.applyRatio(this.viewpoint,M),A&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,Ue._)([(0,Ge.MZ)()],$p.prototype,"easing",void 0),(0,Ue._)([(0,Ge.MZ)()],$p.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)()],$p.prototype,"viewpoint",void 0),$p=(0,Ue._)([(0,On.$)("esri.views.2d.AnimationManager")],$p);const XZ=$p;class qZ{constructor(g){this.view=g,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions)},this.update=()=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:y,graphicsView:_,labelManager:M,state:{id:A}}=this.view;y.forEach(this._updateLayerView,this),null!=M&&(M.lastUpdateId!==A&&(M.viewChange(),M.lastUpdateId=A),M.updateRequested&&M.processUpdate(this._updateParameters)),null!=_&&(_.lastUpdateId!==A&&(_.viewChange(),_.lastUpdateId=A),_.updateRequested&&_.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause()}}destroy(){this.stop()}start(){if(this._frameTaskHandle)return;const g=this.view;this.stationary=g.stationary,this._updateParameters={state:g.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:g.renderingOptions},this._stationaryHandle=(0,Dn.wB)(()=>g.stationary,y=>{this.stationary=y,this.requestFrame()}),this._frameTaskHandle=(0,Gd.mg)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(g){if(!g.attached)return void this.requestUpdate();const y=this.view.state,_=g.lastUpdateId;null!=_&&(this.stationary||g.moving)||(g.moving=!0),_!==y.id&&g.viewChange(),this.stationary&&g.moving&&(g.moving=!1,g.moveEnd()),g.lastUpdateId=y.id,g.updateRequested&&g.processUpdate(this._updateParameters),"layerViews"in g&&g.layerViews?.forEach(this._updateLayerView,this)}}let e_=class extends Gr.A{constructor(p){super(p),this._gotoTask=null}destroy(){this._gotoTask=null}goTo(p,g){var y=this;return(0,Mr.A)(function*(){if(!p)return void os.A.getLogger(y).error("#goTo()","target cannot be null or undefined");const _=new GM;y.view.animation=_,yield(0,Dn.C_)(()=>y.view.ready,g);const M={...g,animate:g?.animate??!(0,fw.O)(),animationMode:g?.animationMode??"auto"},{extent:A,spatialReference:T,size:F,viewpoint:Y,constraints:ge,padding:Re,allLayerViews:Ve}=y.view,nt=(0,ms.vt)(p,{extent:A,spatialReference:T,size:F,viewpoint:Y,constraints:ge,padding:Re,allLayerViews:Ve,pickClosestTarget:g?.pickClosestTarget??!0});return _?.update(nt),y._gotoTask={},M.animate?y._gotoAnimated(nt,M):y._gotoImmediate(nt,M)})()}_gotoImmediate(p,g){const y=this._gotoTask,_=this.view.animation,M=p.then(A=>{if((0,bs.Te)(g),y!==this._gotoTask)throw new ns.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=_.target=A,_.finish()});return this._cancellableGoTo(y,_,M,g)}_gotoAnimated(p,g){const y=this._gotoTask,_=this.view.animation;if(!_)return Promise.resolve();const M=p.then(A=>{if((0,bs.Te)(g),y!==this._gotoTask)throw new ns.A("view:goto-interrupted","Goto was interrupted");return _.update(A),this.view.animationManager.animate(_,this.view.viewpoint,g),_.when().then(()=>{},()=>{})});return this._cancellableGoTo(y,_,M,g)}_cancellableGoTo(p,g,y,_){const M=()=>p===this._gotoTask;return(0,bs.qr)(y,_).finally(()=>{M()&&(g.done||g.stop())})}};function Vs(){return Promise.all([Promise.all([v.e(6136),v.e(1091),v.e(7361)]).then(v.bind(v,67361)),Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(9087),v.e(5507),v.e(6913),v.e(3027),v.e(2076),v.e(9760)]).then(v.bind(v,99760))])}(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],e_.prototype,"view",void 0),e_=(0,Ue._)([(0,On.$)("esri.views.2d.GoToManager")],e_);const nm=()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(9087),v.e(5507),v.e(65),v.e(2379),v.e(1283),v.e(9867)]).then(v.bind(v,39867))),Vp=()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2614),v.e(6747),v.e(1332),v.e(992),v.e(8581),v.e(9285)]).then(v.bind(v,79285))),Bw={"base-dynamic":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2076),v.e(3222)]).then(v.bind(v,50201))),"base-tile":nm,"bing-maps":nm,catalog:()=>Vs().then(()=>Promise.all([v.e(6136),v.e(8766),v.e(5774)]).then(v.bind(v,95774))),"catalog-dynamic-group":()=>Vs().then(()=>Promise.all([v.e(6136),v.e(8766),v.e(4204)]).then(v.bind(v,94204))),"catalog-footprint":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2614),v.e(6747),v.e(1332),v.e(992),v.e(8581),v.e(9285),v.e(7683)]).then(v.bind(v,87683))),csv:Vp,"geo-rss":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(6698)]).then(v.bind(v,46698))),feature:Vp,geojson:Vp,graphics:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(8312)]).then(v.bind(v,28312))),group:()=>Vs().then(()=>Promise.all([v.e(6136),v.e(8766),v.e(3119)]).then(v.bind(v,83119))),imagery:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(8581),v.e(9642),v.e(18),v.e(65),v.e(7630),v.e(2076),v.e(3388)]).then(v.bind(v,3388))),"imagery-tile":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(8581),v.e(9642),v.e(18),v.e(7630),v.e(2076),v.e(5656)]).then(v.bind(v,95656))),kml:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(18),v.e(6913),v.e(2076),v.e(3871)]).then(v.bind(v,11393))),"knowledge-graph":()=>Vs().then(()=>Promise.all([v.e(6136),v.e(8766),v.e(6083)]).then(v.bind(v,96083))),"link-chart":()=>Vs().then(()=>Promise.all([v.e(6136),v.e(8766),v.e(6083)]).then(v.bind(v,96083))),"knowledge-graph-sublayer":Vp,"map-image":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(8581),v.e(65),v.e(2379),v.e(2076),v.e(3548)]).then(v.bind(v,93548))),"map-notes":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(7074)]).then(v.bind(v,57074))),media:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(9087),v.e(5507),v.e(2076),v.e(3987)]).then(v.bind(v,70246))),"ogc-feature":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2614),v.e(6747),v.e(1332),v.e(992),v.e(8581),v.e(9285),v.e(2345)]).then(v.bind(v,12345))),"open-street-map":nm,"oriented-imagery":Vp,route:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(709),v.e(9652)]).then(v.bind(v,89652))),stream:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2614),v.e(6747),v.e(1332),v.e(992),v.e(8581),v.e(9285),v.e(9426)]).then(v.bind(v,79426))),"subtype-group":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(2614),v.e(6747),v.e(1332),v.e(992),v.e(8581),v.e(9285),v.e(4012)]).then(v.bind(v,94012))),tile:nm,"vector-tile":()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(6517),v.e(2076),v.e(4788)]).then(v.bind(v,90143))),video:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(2076),v.e(1520)]).then(v.bind(v,81520))),wcs:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(8581),v.e(9642),v.e(18),v.e(7630),v.e(2076),v.e(5656)]).then(v.bind(v,95656))),"web-tile":nm,wfs:Vp,wms:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(8581),v.e(2076),v.e(7493)]).then(v.bind(v,45400))),wmts:()=>Vs().then(()=>Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(4382),v.e(1283),v.e(1868)]).then(v.bind(v,57216))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};var hA,tK=v(29598),dA=v(8190),nK=v(15268);let Yd=hA=class extends((0,V0.PH)(Gr.A)){constructor(p){super(p),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,Hd.project)(this.geometry,this.spatialReference)}catch(p){return os.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:p}),null}return this.geometry}constrain(p,g){if(null==this.normalizedGeometry)return p;const y=p.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,dA.qz)(this.normalizedGeometry,y):(0,dA.m3)(this.normalizedGeometry,y))return p;const{coordinate:_}=function rK(p,g){const{spatialReference:y}=g,_=[g.x,g.y];let M=Number.POSITIVE_INFINITY,A=0,T=0;const F=[0,0],Y="extent"===p.type?[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]:p.rings;for(const ge of Y)for(let Re=0;Re<ge.length-1;Re++){(0,nK.B1)(F,_,ge,Re);const Ve=(0,ra.Io)(_,F);Ve<M&&(M=Ve,A=F[0],T=F[1])}return{coordinate:new Ai.A({x:A,y:T,spatialReference:y}),distance:M}}(this.normalizedGeometry,y);return _&&(p.targetGeometry=_),p}clone(){return new hA({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var pA;(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Yd.prototype,"geometry",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Yd.prototype,"normalizedGeometry",null),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],Yd.prototype,"spatialReference",void 0),Yd=hA=(0,Ue._)([(0,On.$)("esri.views.2d.constraints.GeometryConstraint")],Yd);let rm=pA=class extends((0,V0.PH)(Gr.A)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(p,g){return this.enabled&&g&&(this.rotationEnabled||(p.rotation=g.rotation)),p}clone(){return new pA({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,Ue._)([(0,Ge.MZ)()],rm.prototype,"enabled",void 0),(0,Ue._)([(0,Ge.MZ)()],rm.prototype,"rotationEnabled",void 0),rm=pA=(0,Ue._)([(0,On.$)("esri.views.2d.constraints.RotationConstraint")],rm);const Uw=rm;var fA;let Wi=fA=class extends((0,V0.PH)(Gr.A)){constructor(p){super(p),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let p,{lods:g,minScale:y,maxScale:_,minZoom:M,maxZoom:A}=this,T=-1,F=-1,Y=!1,ge=!1;if(0!==y&&0!==_&&y<_&&([y,_]=[_,y]),!g?.length)return this._set("effectiveMinScale",y),void this._set("effectiveMaxScale",_);g=g.map(Re=>Re.clone()),g.sort((Re,Ve)=>Ve.scale-Re.scale),g.forEach((Re,Ve)=>Re.level=Ve);for(const Re of g)!Y&&y>0&&y>=Re.scale&&(T=Re.level,Y=!0),!ge&&_>0&&_>=Re.scale&&(F=p?p.level:-1,ge=!0),p=Re;-1===M&&(M=0===y?0:T),-1===A&&(A=0===_?g.length-1:F),M=Math.max(M,0),M=Math.min(M,g.length-1),A=Math.max(A,0),A=Math.min(A,g.length-1),M>A&&([M,A]=[A,M]),y=g[M].scale,_=g[A].scale,g.splice(0,M),g.splice(A-M+1,g.length),g.forEach((Re,Ve)=>{this._lodByScale[Re.scale]=Re,this._scales[Ve]=Re.scale}),this._set("effectiveLODs",g),this._set("effectiveMinZoom",M),this._set("effectiveMaxZoom",A),this._set("effectiveMinScale",y),this._set("effectiveMaxScale",_)}constrain(p,g){if(g&&p.scale===g.scale)return p;const y=this.effectiveMinScale,_=this.effectiveMaxScale,M=p.targetGeometry,A=g&&g.targetGeometry,F=0!==y&&p.scale>y;if(0!==_&&p.scale<_||F){const Y=F?y:_;if(g&&A){const ge=(Y-g.scale)/(p.scale-g.scale);M.x=A.x+(M.x-A.x)*ge,M.y=A.y+(M.y-A.y)*ge}p.scale=Y}return this.snapToZoom&&this.effectiveLODs&&(p.scale=this._getClosestScale(p.scale)),p}fit(p){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(p,null);const g=this.scaleToZoom(p.scale),y=Math.abs(g-Math.floor(g));return p.scale=this.zoomToScale(y>.99?Math.round(g):Math.floor(g)),p}zoomToScale(p){if(!this.effectiveLODs)return 0;p-=this.effectiveMinZoom,p=Math.max(0,p);const g=this._scales;if(p<=0)return g[0];if(p>=g.length)return g[g.length-1];const y=Math.floor(p),_=Math.ceil(p);return g[y]+(p-y)*(g[_]-g[y])}scaleToZoom(p){if(!this.effectiveLODs)return-1;const g=this._scales;let y,_;if(p>=g[0])return this.effectiveMinZoom;if(p<=g[g.length-1])return this.effectiveMaxZoom;for(let M=0;M<g.length-1;M++){if(y=g[M],_=g[M+1],_===p)return M+this.effectiveMinZoom+1;if(y>p&&_<p)return M+this.effectiveMinZoom+1-(p-_)/(y-_)}return-1}snapToClosestScale(p){if(!this.effectiveLODs)return p;const g=this.scaleToZoom(p);return this.zoomToScale(Math.round(g))}snapToNextScale(p,g=.5){if(!this.effectiveLODs)return p*g;const y=Math.round(this.scaleToZoom(p));return this.zoomToScale(y+1)}snapToPreviousScale(p,g=2){if(!this.effectiveLODs)return p*g;const y=Math.round(this.scaleToZoom(p));return this.zoomToScale(y-1)}clone(){return new fA({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(p){return this._lodByScale[p]||(p=this._scales.reduce((g,y)=>Math.abs(y-p)<=Math.abs(g-p)?y:g,this._scales[0])),this._lodByScale[p].scale}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Wi.prototype,"effectiveLODs",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Wi.prototype,"effectiveMinZoom",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Wi.prototype,"effectiveMaxZoom",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Wi.prototype,"effectiveMinScale",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Wi.prototype,"effectiveMaxScale",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"lods",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"minZoom",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"maxZoom",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"minScale",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"maxScale",void 0),(0,Ue._)([(0,Ge.MZ)()],Wi.prototype,"snapToZoom",void 0),Wi=fA=(0,Ue._)([(0,On.$)("esri.views.2d.constraints.ZoomConstraint")],Wi);const jw=Wi;var sK=v(55861);const oK={base:null,key:"type",typeMap:{extent:H0.A,polygon:sK.A}};let po=class extends Gr.A{constructor(p){super(p),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new Xs.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(p){this._set("geometry",p||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const p=this._get("_geometry");return p&&this.geometry===p.geometry&&this.view?.constraintsInfo.spatialReference===p.spatialReference?p:new Yd({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new Uw({rotationEnabled:this.rotationEnabled})}get _zoom(){const p=this._get("_zoom"),g=this.lods||this.view?.constraintsInfo.lods,y=this.minZoom,_=this.maxZoom,M=this.minScale,A=this.maxScale,T=this.snapToZoom;return p&&p.lods===g&&p.minZoom===y&&p.maxZoom===_&&p.minScale===M&&p.maxScale===A&&p.snapToZoom===T?p:new jw({lods:g,minZoom:y,maxZoom:_,minScale:M,maxScale:A,snapToZoom:T})}canZoomInTo(p){const g=this.effectiveMaxScale;return 0===g||p>=g}canZoomOutTo(p){const g=this.effectiveMinScale;return 0===g||p<=g}constrain(p,g){return this._zoom.constrain(p,g),this._rotation.constrain(p,g),this._geometry.constrain(p,g),this.customConstraints.forEach(y=>y.constrain(p,g)),p}constrainByGeometry(p){return this._geometry.constrain(p),this.customConstraints.forEach(g=>g.applyPanConstraint?.(p)),p}fit(p){return this._zoom.fit(p)}zoomToScale(p){return this._zoom.zoomToScale(p)}scaleToZoom(p){return this._zoom.scaleToZoom(p)}snapScale(p){return this._zoom.snapToClosestScale(p)}snapToNextScale(p){return this._zoom.snapToNextScale(p)}snapToPreviousScale(p){return this._zoom.snapToPreviousScale(p)}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"effectiveLODs",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"effectiveMinScale",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"effectiveMaxScale",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"effectiveMinZoom",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"effectiveMaxZoom",null),(0,Ue._)([(0,Ge.MZ)({types:oK,value:null})],po.prototype,"geometry",null),(0,Ue._)([(0,Ge.MZ)({type:[tK.A]})],po.prototype,"lods",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"minScale",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"maxScale",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"minZoom",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"maxZoom",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"rotationEnabled",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"snapToZoom",void 0),(0,Ue._)([(0,Ge.MZ)({type:Xs.A})],po.prototype,"customConstraints",void 0),(0,Ue._)([(0,Ge.MZ)()],po.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],po.prototype,"version",null),(0,Ue._)([(0,Ge.MZ)({type:Yd,readOnly:!0})],po.prototype,"_geometry",null),(0,Ue._)([(0,Ge.MZ)({type:Uw})],po.prototype,"_rotation",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:jw})],po.prototype,"_zoom",null),po=(0,Ue._)([(0,On.$)("esri.views.2d.MapViewConstraints")],po);const kw=po;var iK=v(54290),aK=v(74847),Ww=(v(67347),v(77031),v(96996)),lK=v(33658);let Di=class extends Gr.A{constructor(p){super(p),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,Dn.wB)(()=>this.constraints?.version,g=>{this.constraints&&g&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Dn.OH)])}get center(){if(!this.ready)return this._get("center");const{center:p,spatialReference:g}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ai.A({x:p[0],y:p[1],spatialReference:g})}set center(p){if(null==p)return;if(!this.ready)return void this._set("center",p);let g;try{g=this._project(p,this.state.spatialReference)}catch(_){return void os.A.getLogger(this).error(new ns.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:p,error:_}))}const y=this.viewpoint;(0,ms.Ji)(y,y,g),this.viewpoint=y}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(p){if(null==p)return;if(!p.width||!p.height)return void os.A.getLogger(this).error(new ns.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",p),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let g;try{g=this._project(p,this.state.spatialReference)}catch(_){return void os.A.getLogger(this).error(new ns.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:_}))}const y=this.viewpoint;(0,ms.b)(y,y,g,this.state.size,{constraints:this.constraints}),this.viewpoint=y}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(p){this.ready?(this.state.padding=p,this._set("padding",this.state.padding)):this._set("padding",p)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(p){if(isNaN(p))return;if(!this.ready)return void this._set("rotation",p);const g=this.viewpoint;(0,ms.$0)(g,g,p),this.viewpoint=g}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(p){if(!p||isNaN(p))return;if(!this.ready){this._set("scale",p),this._set("zoom",void 0);const y=this._get("extent");return void(y&&(this._set("extent",void 0),this._set("center",y.center)))}const g=this.viewpoint;(0,ms.UR)(g,g,p),this.viewpoint=g}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(p){if(null==p)return;if(!this.ready)return this._set("viewpoint",p),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let g,y;try{g=this._project(p,this.state.spatialReference),!p.scale||isNaN(p.scale)?y=new ns.A("mapview:invalid-viewpoint",`invalid scale value of ${p.scale}`):null==p.targetGeometry&&(y=new ns.A("mapview:invalid-viewpoint","geometry not defined"))}catch(M){y=new ns.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:M})}if(y)return void os.A.getLogger(this).error(y);this._scaleBeforeChangingSpatialReference=null;const _=new ai.A({targetGeometry:new Ai.A,scale:0,rotation:0});(0,ms.C)(_,g),this.constraints?.constrain(_,this.state.paddedViewState.viewpoint),this.state.viewpoint=_,this._set("viewpoint",_)}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(p){if(!(p>=0))return;if(!this.ready){this._set("zoom",p),this._set("scale",void 0);const _=this._get("extent");return void(_&&(this._set("extent",void 0),this._set("center",_.center)))}const g=this.constraints?.zoomToScale(p)??0;if(!g)return void this._set("zoom",-1);const y=this.viewpoint;(0,ms.UR)(y,y,g),this.viewpoint=y,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(p){if(!p[0]&&!p[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:g,constraints:y}=this,_=this._get("center"),M=this._get("extent"),A=this._get("scale"),T=this._get("rotation"),F=this._get("viewpoint"),Y=this._get("zoom"),ge=null!=Y&&null!=y&&y.zoomToScale(Y)||void 0;let Re,Ve,nt;const ft=F?.rotation,It=F?.targetGeometry;"extent"===It?.type?Re=It:"point"===It?.type&&(Ve=It,nt=F?.scale);const Ut=M??Re;return{center:_??Ve??Ut?.center,rotation:T??ft,scale:(A??ge??nt??(Ut&&(0,ms.AU)(Ut,[p[0]-g.left-g.right,p[1]-g.top-g.bottom])))||void 0}}startup(p,g,y,_){const M=p.targetGeometry;try{this._project(p,y)}catch(A){os.A.getLogger(this).warn(new Ww.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:M.toJSON(),spatialReference:y,error:A})),p.targetGeometry=_||new Ai.A({x:0,y:0,spatialReference:y})}this.constraints?.fit(p),this._set("state",new Sw({padding:this.padding,size:g,viewpoint:p})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[p,g],spatialReference:y,rotation:_,scale:M}=this.state.paddedViewState,A=new Ai.A({x:p,y:g,spatialReference:y});this._set("viewpoint",null),this._set("extent",null),this._set("center",A),this._set("zoom",-1),this._set("rotation",_),this._set("scale",M),this._set("state",null)}changeSpatialReference(p){const g=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=g.scale;else{const F=g.viewpoint.clone();F.scale=this._scaleBeforeChangingSpatialReference,g.viewpoint=F}const y=g.clone(),[_,M]=g.center;let A=null;try{A=this._project(new Ai.A({x:_,y:M,spatialReference:g.spatialReference}),p)}catch(F){(0,lK.i)()||os.A.getLogger(this).warn(new Ww.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:A?.toJSON(),spatialReference:p,error:F}))}A||(A=new Ai.A({x:0,y:0,spatialReference:p}));const T=(0,ms.Ji)(new ai.A({targetGeometry:new Ai.A,scale:0,rotation:0}),g.viewpoint,A);y.viewpoint=T;try{const Y=[g.size[0]/2,g.size[1]/2],ge=[Y[0]+20,Y[1]],Re=g.toMap([0,0],ge),{x:Ve,y:nt}=this._project(new Ai.A({x:Re[0],y:Re[1],spatialReference:g.spatialReference}),p);Re[0]=Ve,Re[1]=nt,y.toScreen(Re,Re);const ft=(0,ms.s5)(Y,Re,ge),It=Math.hypot(Re[0]-Y[0],Re[1]-Y[1])/20;!Number.isFinite(It)||Math.abs(It)>4?(T.rotation=0,T.targetGeometry=new Ai.A({x:0,y:0,spatialReference:p})):(T.scale*=It,T.scale>(0,Mi.A)("mapview-srswitch-adjust-rotation-scale-threshold")?T.rotation=0:T.rotation+=Number.isFinite(ft)?ft:0)}catch{}this._get("constraints")?.constrain(T,void 0),this._get("state").viewpoint=T}resize(p,g){if(!this.ready)return;const y=this.state;let _=this.state.paddedViewState.viewpoint;const M=this.state.paddedViewState.size.concat();y.size=[p,g],(0,ms.XR)(_,_,M,this.state.paddedViewState.size,this.resizeAlign),_=this.constraints?.constrain(_,void 0)??_,this.state.viewpoint=_}toMap(p){if(!this.ready)return null;const[y,_]=this.state.toMap([0,0],[p.x,p.y]);return new Ai.A({x:y,y:_,spatialReference:this.state.spatialReference})}toScreen(p,g){if(!this.ready)return null;const y=this._project(p,this.state.spatialReference),_=[y.x,y.y];return!1===g?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(_,_),this.state.toScreen(_,_),(0,qo.tc)(_[0],_[1])}_project(p,g){const y=p?.targetGeometry||p;if(!g)return p;if(!y)return null;if(g.imageCoordinateSystem||y.spatialReference?.imageCoordinateSystem||(0,LM.aI)(g,y.spatialReference))return p;const _=(0,Hd.project)(y,g);if(!_)throw new ns.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:y,spatialReference:g});return function uK(p){return"esri.Viewpoint"===p?.declaredClass}(p)?(p.targetGeometry=_,p):_}};function mA(p,g){switch(g){case"primary":return"touch"===p.pointerType||0===p.button;case"secondary":return"touch"!==p.pointerType&&2===p.button;case"tertiary":return"touch"!==p.pointerType&&1===p.button}}(0,Ue._)([(0,Ge.MZ)({type:Ai.A})],Di.prototype,"center",null),(0,Ue._)([(0,Ge.MZ)()],Di.prototype,"constraints",void 0),(0,Ue._)([(0,Ge.MZ)({type:H0.A})],Di.prototype,"extent",null),(0,Ue._)([(0,Ge.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:p=>({top:0,right:0,bottom:0,left:0,...p})})],Di.prototype,"padding",null),(0,Ue._)([(0,Ge.MZ)()],Di.prototype,"ready",void 0),(0,Ue._)([(0,Ge.MZ)()],Di.prototype,"resizeAlign",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Di.prototype,"resolution",null),(0,Ue._)([(0,Ge.MZ)({type:Number})],Di.prototype,"rotation",null),(0,Ue._)([(0,Ge.MZ)({type:Number})],Di.prototype,"scale",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Di.prototype,"state",void 0),(0,Ue._)([(0,Ge.MZ)({type:ai.A})],Di.prototype,"viewpoint",null),(0,Ue._)([(0,Ge.MZ)()],Di.prototype,"zoom",null),Di=(0,Ue._)([(0,On.$)("esri.views.2d.ViewStateManager")],Di);class $w extends ei.l{constructor(g,y){super(!0),this._view=g,this.registerIncoming("double-click",y,_=>this._handleDoubleClick(_,y))}_handleDoubleClick(g,y){mA(g.data,"primary")&&(g.stopPropagation(),y?this._view.mapViewNavigation.zoomOut([g.data.x,g.data.y]):this._view.mapViewNavigation.zoomIn([g.data.x,g.data.y]))}}class cK extends ei.l{constructor(g,y,_){super(!0),this.view=g,this.pointerType=y,this.registerIncoming("double-tap-drag",_,M=>this._handleDoubleTapDrag(M))}_handleDoubleTapDrag(g){const{data:y}=g,{pointerType:_}=y;if(_!==this.pointerType)return;g.stopPropagation();const{action:M,delta:A}=y,{view:T}=this,{mapViewNavigation:F}=T;switch(M){case"begin":{const{scale:Y}=T;this._startScale=Y,this._currentScale=Y,this._previousDelta=A,F.begin();break}case"update":{if(this._previousDelta.y===A.y)return;this._previousDelta=A;const ge=this._startScale*1.015**A.y;F.setViewpointImmediate(ge/this._currentScale),this._currentScale=ge;break}case"end":{const{constraints:Y}=T,{effectiveLODs:ge,snapToZoom:Re}=Y;if(!Re||!ge)return void F.end();const Ve=Y.snapScale(this._currentScale),nt=(A.y>0?Math.max(Ve,Y.snapToPreviousScale(this._startScale)):Math.min(Ve,Y.snapToNextScale(this._startScale)))/this._currentScale;F.zoom(nt).then(()=>{F.end()});break}}}}class t_{constructor(g){this._callbacks=g,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(g){const y=g.data,_=y.pointers.size;switch(y.action){case"start":this._currentCount=_,this._emitStart(g);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=_,this._emitStart(g);break;case"update":this._emitUpdate(g);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=_,this._emitStart(g);break;case"end":this._emitEnd(g),this._currentCount=0}this._previousEvent=g}_emitStart(g){this._startEvent=g,this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.start(this._currentCount,g,this._startEvent)}_emitUpdate(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.update(this._currentCount,g,this._startEvent)}_emitEnd(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.end(this._currentCount,g,this._startEvent),this._startEvent=null}}class dK extends ei.l{constructor(g,y,_){super(!0),this.view=g,this.pointerAction=y,this.registerIncoming("drag",_,M=>this._handleDrag(M)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(g){super.onInstall(g),this._dragEventSeparator=new t_({start:(y,_)=>{this.view.mapViewNavigation.pan.begin(this.view,_.data),_.stopPropagation()},update:(y,_)=>{this.view.mapViewNavigation.pan.update(this.view,_.data),_.stopPropagation()},end:(y,_)=>{this.view.mapViewNavigation.pan.end(this.view,_.data),_.stopPropagation()},condition:(y,_)=>1===y&&mA(_.data,this.pointerAction)})}_handleDrag(g){const y=this.view.mapViewNavigation;y.pinch.zoomMomentum||y.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(g)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class hK extends ei.l{constructor(g,y,_){super(!0),this._view=g,this.pointerAction=y;const M=this._view.mapViewNavigation;this._dragEventSeparator=new t_({start:(A,T)=>{M.rotate.begin(this._view,T.data),T.stopPropagation()},update:(A,T)=>{M.rotate.update(this._view,T.data),T.stopPropagation()},end:(A,T)=>{M.rotate.end(),T.stopPropagation()},condition:(A,T)=>1===A&&mA(T.data,this.pointerAction)}),this.registerIncoming("drag",_,A=>this._dragEventSeparator.handle(A))}}var pK=v(28714);function el(p){let g=p*p;return p<0&&(g*=-1),g}class yK extends ei.l{constructor(g){super(!0),this._view=g,this._frameTask=null,this._watchHandles=new zP.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",y=>this._handleGamePadEvent(y)),this._handle.pause()}onInstall(g){super.onInstall(g),this._watchHandles.add([(0,Dn.wB)(()=>this._view.navigation.gamepad?.enabled,y=>{y?(this._handle.resume(),this._frameTask||(this._frameTask=(0,Gd.mg)({update:_=>this._frameUpdate(_.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Dn.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(g){const y=this._view.navigation.gamepad.device;y&&g.data.device!==y||this._currentDevice&&this._currentDevice!==g.data.device||("end"===g.data.action?(this._currentDevice=null,function fK(p){p.translation[0]=0,p.translation[1]=0,p.translation[2]=0,p.heading=0,p.tilt=0}(this._transformation)):(this._currentDevice=g.data.device,function mK(p,g,y){const _=y,M=p.state,A=p.device,T="forward-down"===g.tiltDirection?1:-1;"standard"===A.deviceType?(_.translation[0]=el(M.axes[0]),_.translation[1]=el(M.axes[1]),_.translation[2]=el(M.buttons[7])-el(M.buttons[6]),_.heading=el(M.axes[2]),_.tilt=el(M.axes[3])):"spacemouse"===A.deviceType&&(_.translation[0]=1.2*el(M.axes[0]),_.translation[1]=1.2*el(M.axes[1]),_.translation[2]=2*-el(M.axes[2]),_.heading=1.2*el(M.axes[5]),_.tilt=1.2*el(M.axes[3])),_.tilt*=T,(0,pK.j)(_.translation,_.translation,1)}(g.data,this._view.navigation.gamepad,this._transformation)))}_frameUpdate(g){const y=this._transformation;if(function gK(p){return 0===p.translation[0]&&0===p.translation[1]&&0===p.translation[2]&&0===p.heading&&0===p.tilt&&0===p.zoom}(y))return;const _=this._view.viewpoint.clone(),A=vK*this._view.navigation.gamepad.velocityFactor*g;(0,ms.aA)(_,_,[y.translation[0]*A,-y.translation[1]*A]);const Y=this._view.size;(0,ms.WK)(_,_,1+y.translation[2]*EK*g,this._view.constraints.rotationEnabled?-y.heading*_K*g:0,[Y[0]/2,Y[1]],Y);const Re=this._view.constraints.constrain(_,this._view.viewpoint);this._view.viewpoint=Re}}const _K=.06,vK=.7,EK=6e-4;function Vw(p){const g=()=>p("visible"===document.visibilityState);return document.addEventListener("visibilitychange",g),{remove:()=>document.addEventListener("visibilitychange",g)}}class MK extends ei.l{constructor(g,y,_){super(!0),this.view=g,this.keys=y,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=M=>{const A=this._keyMap[M.data.key];if(M.modifiers.has("Meta")||M.modifiers.has("Control"))return void this._stopMovement();if(null==A)return;M.stopPropagation(),M.preventDefault();const T="key-down"===M.type;if(this._pressedKeys[T?"add":"delete"](A),T){if(this._direction===A)return;this._direction=A,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else void 0===this._timeout||this._pressedKeys.size>0?this._handlePopKey():this._isSticky=!0},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[y.left]:"left",[y.right]:"right",[y.up]:"up",[y.down]:"down"},this.registerIncoming("key-down",_,this._handleKey),this.registerIncoming("key-up",_,this._handleKey),this.registerIncoming("blur",_,this._stopMovement),this._visibilityHandle=Vw(M=>M?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(g){const y=null!=this._currentDirection;if(null!=g){if(y||this.view.mapViewNavigation.begin(),this._currentDirection!==g)switch(g){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else y&&this.view.mapViewNavigation.stop();this._currentDirection=g}_setTimeout(g){clearTimeout(this._timeout),this._timeout=void 0===g?void 0:setTimeout(()=>{this._timeout=void 0,g()},this._stickyKeyDuration)}}class AK extends ei.l{constructor(g,y,_){super(!0),this.view=g,this.keys=y,this._pressed=!1,this._keyToDirection={[y.clockwiseOption1]:"clockwise",[y.clockwiseOption2]:"clockwise",[y.counterClockwiseOption1]:"counterClockwise",[y.counterClockwiseOption2]:"counterClockwise",[y.resetOption1]:"reset",[y.resetOption2]:"reset"},this.registerIncoming("key-down",_,M=>this._handleKeyDown(M)),this.registerIncoming("key-up",_,M=>this._handleKeyUp(M)),this.registerIncoming("blur",_,()=>this._handleStop()),this._visibilityHandle=Vw(M=>M?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,y){const _=g.modifiers;if(_.size>0&&!_.has("Shift")||!this.view.constraints.rotationEnabled)return;const M=this._keyToDirection[g.data.key];if(this._pressed=null!=M,this._pressed){if(g.preventDefault(),y)switch(this.view.mapViewNavigation.begin(),M){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}var Zp;!function(p){p[p.IN=0]="IN",p[p.OUT=1]="OUT"}(Zp||(Zp={}));class DK extends ei.l{constructor(g,y,_){super(!0),this.view=g,this.keys=y,this._keysToZoomAction={},this.registerIncoming("key-down",_,M=>this._handleKeyDown(M)),y.zoomIn.forEach(M=>this._keysToZoomAction[M]=Zp.IN),y.zoomOut.forEach(M=>this._keysToZoomAction[M]=Zp.OUT)}_handleKeyDown(g){this._handleKey(g)}_handleKey(g){const y=g.modifiers;if(y.size>0&&!y.has("Shift"))return;const{key:_}=g.data;if(!(_ in this._keysToZoomAction))return;const M=this._keysToZoomAction[_],{mapViewNavigation:A}=this.view;let T=null;switch(M){case Zp.IN:T=A.zoomIn();break;case Zp.OUT:T=A.zoomOut();break;default:return}A.begin(),T.then(()=>A.end()),g.stopPropagation()}}class CK extends ei.l{constructor(g,y){super(!0),this._view=g,this._canZoom=!0,this.registerIncoming("mouse-wheel",y,_=>this._handleMouseWheel(_))}_handleMouseWheel(g){if(!this._view.navigation.mouseWheelZoomEnabled||(g.preventDefault(),g.stopPropagation(),!this._canZoom))return;const y=this._view.mapViewNavigation,{x:_,y:M,deltaY:A}=g.data,F=y.zoom(1/.6**(1/60*A),[_,M]);F&&(this._canZoom=!1,F.catch(()=>{}).then(()=>{this._canZoom=!0,y.end()}))}}class SK extends ei.l{constructor(g){super(!0),this.view=g,this.registerIncoming("drag",_=>this._handleDrag(_)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const y=this.view.mapViewNavigation;this._dragEventSeparator=new t_({start:(_,M)=>{y.pinch.begin(this.view,M.data),M.stopPropagation()},update:(_,M)=>{y.pinch.update(this.view,M.data),M.stopPropagation()},end:(_,M)=>{y.pinch.end(this.view),M.stopPropagation()},condition:_=>_>=2})}_handleDrag(g){this._dragEventSeparator.handle(g)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function Zw(p){const g=p.native;return g?{buttons:g.buttons.map(y=>y.pressed?y.value||1:0),axes:g.axes.map(y=>function bK(p,g){const y=Math.abs(p);return y<g?0:Math.sign(p)*(y-g)/(1-g)}(y,p.axisThreshold))}:{buttons:[],axes:[]}}class PK{constructor(g,y){this._element=g,this._input=y,this._hasEventListeners=!1,this._onConnectGamepad=A=>{this._connectGamepad(A.gamepad)},this._onDisconnectGamepad=A=>{const T=A.gamepad,F=T.index,Y=this._inputDevices[F];Y&&(this._emitGamepadEvent(T,Zw(Y),!1),this._inputDevices.splice(F,1),this._latestUpdate.splice(F,1),this._input.gamepad.devices.remove(Y),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const _="getGamepads"in window.navigator,M=window.isSecureContext;this.supported=_&&M,this.supported&&(Kw(A=>this._connectGamepad(A)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(g){this._hasEventListeners!==g&&(this._hasEventListeners=g,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(g){this._callback=g}_connectGamepad(g){const y=new kM(g);"unknown"!==y.deviceType&&(this._inputDevices[g.index]=y,this._input.gamepad.devices.add(y)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,Gd.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const g=document.hasFocus(),y=this._element.contains(document.activeElement),_="document"===this._input.gamepad.enabledFocusMode&&!g||"view"===this._input.gamepad.enabledFocusMode&&!y;Kw(M=>{const A=this._inputDevices[M.index];if(!A)return;const T=this._latestUpdate[M.index],F=Zw(A),Y=_||function OK(p){for(let g=0;g<p.axes.length;g++)if(0!==p.axes[g])return!1;for(let g=0;g<p.buttons.length;g++)if(0!==p.buttons[g])return!1;return!0}(F);T&&(T.timestamp===M.timestamp||!T.active&&Y||function IK(p,g){if(p.axes.length!==g.axes.length||p.buttons.length!==g.buttons.length)return!1;for(let y=0;y<p.axes.length;y++)if(p.axes[y]!==g.axes[y])return!1;for(let y=0;y<p.buttons.length;y++)if(p.buttons[y]!==g.buttons[y])return!1;return!0}(T.state,F))||this._emitGamepadEvent(M,F,!Y)})}_emitGamepadEvent(g,y,_){const M=this._latestUpdate[g.index],A=M&&M.active;if(!A&&!_)return;const T=!A&&_?"start":A&&_?"update":"end";this._latestUpdate[g.index]={timestamp:g.timestamp,state:y,active:_},this._callback&&this._callback({device:this._inputDevices[g.index],state:y,action:T})}}function wK(p){if(!p||!p.connected)return!1;for(let g=0;g<p.axes.length;g++)if(isNaN(p.axes[g]))return!1;return!0}function Kw(p){const g=window.navigator.getGamepads();for(let y=0;y<g.length;y++){const _=g[y];wK(_)&&p(_)}}const Hw=(0,Mi.A)("edge"),RK=(0,Mi.A)("chrome"),LK=(0,Mi.A)("ff"),xK=(0,Mi.A)("safari"),Gw="esri-view-surface",Kp={touchNone:`${Gw}--touch-none`,touchPan:`${Gw}--touch-pan`};let NK=(()=>{class p{constructor(y,_){this._input=_,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=y,y.getAttribute("tabindex")||y.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new PK(y,this._input),this._gamepadSource.onEvent=M=>this._callback("gamepad",M)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(y=>{this._releasePointerCaptureSafe(y)}),this._gamepadSource=(0,Ts.pR)(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(y){this._browserTouchPanningEnabled=y,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(y){this._callback=y}set activeEvents(y){for(const _ in this._active)y&&y.has(_)||(this._element.removeEventListener(gA[_],this._active[_]),delete this._active[_]);y&&y.forEach(_=>{if(!this._active[_]&&gA[_]){const M=(this._eventHandlers[_]||this._handleDefault).bind(this,_);this._element.addEventListener(gA[_],M),this._active[_]=M}}),this._gamepadSource.hasEventListeners=y?.has("gamepad")??!1}setPointerCapture(y,_){_?this._setPointerCatpureSafe(y.pointerId):(this._releasePointerCaptureSafe(y.pointerId),this._activePointerCaptures.delete(y.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Kp.touchNone:Kp.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Kp.touchPan:Kp.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Kp.touchNone),this._element.classList.remove(Kp.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCatpureSafe(y){try{this._element.setPointerCapture(y),this._activePointerCaptures.add(y)}catch{}}_releasePointerCaptureSafe(y){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(y))return;this._element.releasePointerCapture(y)}catch{}}_updateNormalizedPointerLikeEvent(y,_){const M=aw(this._element,y);return p.test.disableSubpixelCoordinates&&(M.x=Math.round(M.x),M.y=Math.round(M.y)),_.x=M.x,_.y=M.y,_}_handleKey(y,_){const{key:M}=_;M&&"key-up"===y&&this._keyDownState.delete(M);const A={native:_,key:M,repeat:!!M&&this._keyDownState.has(M)};M&&"key-down"===y&&this._keyDownState.add(A.key),this._callback(y,A)}_handlePointer(y,_){const M=this._updateNormalizedPointerLikeEvent(_,{native:_,x:0,y:0,pointerType:_.pointerType,button:_.button,buttons:_.buttons,eventId:this._eventId++});this._callback(y,M)}_handlePointerPreventDefault(y,_){const M=this._updateNormalizedPointerLikeEvent(_,{native:_,x:0,y:0,pointerType:_.pointerType,button:_.button,buttons:_.buttons,eventId:this._eventId++});_.preventDefault(),this._callback(y,M)}_handleMouseWheel(y,_){let M=_.deltaY;switch(_.deltaMode){case 0:Hw&&(M=M/document.documentElement.clientHeight*600);break;case 1:M*=30;break;case 2:M*=900}Hw?M*=.7:RK||xK?M*=.6:LK&&(M*=1.375);const T=Math.abs(M);T>100&&(M=M/T*200/(1+Math.exp(-.02*(T-100))));const F=this._updateNormalizedPointerLikeEvent(_,{native:_,x:0,y:0,deltaY:M});this._callback(y,F)}_handlePointerCaptureLost(y,_){this._activePointerCaptures.delete(_.pointerId),this._handleDefault(y,_)}_handleDefault(y,_){const M={native:_};_.preventDefault(),this._callback(y,M)}_preventAltKeyDefault(y){"Alt"===y.key&&y.preventDefault()}_preventMultiTouchPanning(y){y.touches.length>1&&y.preventDefault()}}return p.test={disableSubpixelCoordinates:!1},p})();const gA={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class BK extends ei.l{constructor(){super(!0),this.registerIncoming("context-menu",g=>{g.data.native.preventDefault()})}}function n_(p,g){return Math.abs(g.x-p.x)+Math.abs(g.y-p.y)}function Jd(p){const{native:g}=p,{pointerId:y,button:_,pointerType:M}=g;return"mouse"===M?`${y}:${_}`:`${M}`}class jK extends ei.l{constructor(g=250,y=10,_=350,M=35,A=Y0.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=y,this._maximumDoubleTouchDelay=_,this._maximumDoubleTouchDistance=M,this._clock=A,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,qo.tc)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new t_({start:(T,F)=>this._dragStart(T,F),update:(T,F)=>this._dragUpdate(F),end:(T,F)=>this._dragEnd(F)}),this.registerIncoming("drag",T=>this._dragEventSeparator.handle(T)),this.registerIncoming("pointer-down",T=>this._handlePointerDown(T)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(g=>{g.doubleTapTimeout=(0,Ts.xt)(g.doubleTapTimeout)})}get hasPendingInputs(){return(0,G0.Bs)(this._pointerState,g=>null!=g.doubleTapTimeout)}_clearPointerDown(g){const y=this._pointerState.get(g);y&&(y.doubleTapTimeout=(0,Ts.xt)(y.doubleTapTimeout),this._pointerState.delete(g),this.refreshHasPendingInputs())}_dragStart(g,y){if(!this._doubleTapDragReady||1!==g)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:_,modifiers:M}=y,{center:A}=_;this._dragStartCenter=A;const T=yA("begin",(0,qo.tc)(0,0),_);this._doubleTapDrag.emit(T,void 0,M),y.stopPropagation()}_dragUpdate(g){if(!this._doubleTapDragActive)return;const{data:y,modifiers:_}=g,{center:M}=y,A=yA("update",(0,qo.tc)(M.x-this._dragStartCenter.x,M.y-this._dragStartCenter.y),y);this._doubleTapDrag.emit(A,void 0,_),g.stopPropagation()}_dragEnd(g){if(!this._doubleTapDragActive)return;const{data:y,modifiers:_}=g,{center:M}=y,A=yA("end",(0,qo.tc)(M.x-this._dragStartCenter.x,M.y-this._dragStartCenter.y),y);this._doubleTapDrag.emit(A,void 0,_),this._doubleTapDragActive=!1,g.stopPropagation()}_handlePointerDown(g){const{data:y}=g,_=Jd(y),M=this._pointerState.get(_),{pointerType:A}=y.native;if(M){const T="touch"===A?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(_),n_(M.event.data,y)>T?this._storePointerDown(g):this._doubleTapDragReady=!0}else this._storePointerDown(g)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(g){const{data:y}=g,{pointerType:_}=y.native,M=Jd(y),T=this._clock.setTimeout(()=>this._clearPointerDown(M),"touch"===_?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(M,{event:g,doubleTapTimeout:T}),this.refreshHasPendingInputs()}}function yA(p,g,y){const{button:_,buttons:M,pointer:A,pointers:T,pointerType:F,timestamp:Y}=y;return{action:p,delta:g,button:_,buttons:M,pointer:A,pointers:T,pointerType:F,timestamp:Y}}class kK extends ei.l{constructor(g){super(!1),this._navigationTouch=g,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(g,y,_,M){return{action:g,pointerType:this._pointerType,button:this._mouseButton,buttons:y.buttons,timestamp:M,pointers:WK(this._activePointerMap),pointer:y,angle:_.angle,radius:_.radius,center:_.center}}_addPointer(g){const y=g.native.pointerId,_=r_(this._activePointerMap).angle,M={event:g,initialAngle:0,lastAngle:0};this._activePointerMap.set(y,M);const A=s_(M,zw(this._activePointerMap));M.initialAngle=A,M.lastAngle=A,this._updatePointerAngles(_)}_updatePointer(g){if(g&&null==g.x&&null==g.y)return;const _=this._activePointerMap.get(g.native.pointerId);_?_.event=g:this._addPointer(g)}_removePointer(g){const y=r_(this._activePointerMap).angle;this._activePointerMap.delete(g),this._updatePointerAngles(y)}_updatePointerAngles(g){const y=r_(this._activePointerMap);this._activePointerMap.forEach(_=>{_.initialAngle=s_(_,y)-g,_.lastAngle=s_(_,y)-g})}_emitEvent(g,y,_){const M=r_(this._activePointerMap);this._drag.emit(this._createPayload(g,y,M,_),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(g){const y=g.data.native.pointerId,_=(0,Ro.l5)(g.timestamp);this._activePointerMap.get(y)&&(1===this._activePointerMap.size?(this._updatePointer(g.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",g.data,_),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(y)):(this._removePointer(y),this._emitEvent("removed",g.data,(0,Ro.l5)(g.timestamp))))}_handlePointerDrag(g){const y=g.data,_=y.currentEvent,M=(0,Ro.l5)(g.timestamp);switch(y.action){case"start":case"update":this._isDragging?this._activePointerMap.has(_.native.pointerId)?(this._updatePointer(_),!this._isCurrentDragSuppressed&&this._emitEvent("update",_,M)):(this._addPointer(_),this._emitEvent("added",_,M),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(_),this._pointerType=g.data.startEvent.pointerType,this._mouseButton=g.data.startEvent.button,this._startStateModifiers=g.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",_,M))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function zw(p){const g=[];return p.forEach(y=>{g.push((0,qo.tc)(y.event.x,y.event.y))}),function UK(p,g){if(g?(g.radius=0,g.center.x=0,g.center.y=0):g={radius:0,center:(0,qo.tc)()},0===p.length)return g;if(1===p.length)return g.center.x=p[0].x,g.center.y=p[0].y,g;if(2===p.length){const[Tn,Zn]=p,[Ar,rs]=[Zn.x-Tn.x,Zn.y-Tn.y];return g.radius=Math.sqrt(Ar*Ar+rs*rs)/2,g.center.x=(Tn.x+Zn.x)/2,g.center.y=(Tn.y+Zn.y)/2,g}let y=0,_=0;for(let Tn=0;Tn<p.length;Tn++)y+=p[Tn].x,_+=p[Tn].y;y/=p.length,_/=p.length;const M=p.map(Tn=>Tn.x-y),A=p.map(Tn=>Tn.y-_);let T=0,F=0,Y=0,ge=0,Re=0,Ve=0,nt=0;for(let Tn=0;Tn<M.length;Tn++){const Zn=M[Tn],Ar=A[Tn],rs=Zn*Zn,To=Ar*Ar;T+=rs,F+=To,Y+=Zn*Ar,ge+=rs*Zn,Re+=To*Ar,Ve+=Zn*To,nt+=Ar*rs}const ft=.5*(ge+Ve),It=.5*(Re+nt),Ut=T*F-Y*Y,Jt=(ft*F-It*Y)/Ut,rn=(T*It-Y*ft)/Ut,Yt=(0,qo.tc)(Jt+y,rn+_);return{radius:Math.sqrt(Jt*Jt+rn*rn+(T+F)/p.length),center:Yt}}(g)}function r_(p){const g=zw(p);let y=0;return p.forEach(_=>{let M=s_(_,g),A=M-_.lastAngle;for(;A>Math.PI;)A-=2*Math.PI;for(;A<-Math.PI;)A+=2*Math.PI;M=_.lastAngle+A,_.lastAngle=M,y+=M-_.initialAngle}),y/=p.size||1,{angle:y,radius:g.radius,center:g.center}}function WK(p){const g=new Map;return p.forEach((y,_)=>g.set(_,y.event)),g}function s_(p,g){const y=p.event;return Math.atan2(y.y-g.center.y,y.x-g.center.x)}var Yw;!function(p){p[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right",p[p.Back=3]="Back",p[p.Forward=4]="Forward",p[p.Undefined=-1]="Undefined"}(Yw||(Yw={}));class $K extends ei.l{constructor(g=250,y=10,_=350,M=35,A=Y0.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=y,this._maximumDoubleTouchDelay=_,this._maximumDoubleTouchDistance=M,this._clock=A,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(g=>{g.immediateDoubleClick&&g.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(g){const y=g.data,_=Jd(y);this._pointerState.has(_)||(this._pointerState.set(_,{downButton:y.native.button,x:y.x,y:y.y,immediateDoubleClick:null}),this.startCapturingPointer(y.native))}_handlePointerUp(g){const y=g.data,_=Jd(y),M=this._pointerState.get(_);if(M&&M.downButton===y.native.button){const A=M.immediateDoubleClick,T="touch"===g.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;A?(A.timeoutHandle.remove(),n_(A,g.data)>T?this._startImmediateDoubleClick(g,M):(this._immediateDoubleClick.emit(g.data,void 0,A.modifiers),this._removeState(y))):n_(M,g.data)>T?this._removeState(y):this._startImmediateDoubleClick(g,M)}}_startImmediateDoubleClick(g,y){y.immediateDoubleClick={x:g.data.x,y:g.data.y,modifiers:g.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(g.data),"touch"===g.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(g){const y=Jd(g);this._pointerState.delete(y),this.stopCapturingPointer(g.native),this.refreshHasPendingInputs()}}class VK extends ei.l{constructor(g=300,y=1.5,_=6,M=6,A=500,T=Y0.p){super(!1),this._maximumClickDelay=g,this._movementUntilMouseDrag=y,this._movementUntilPenDrag=_,this._movementUntilTouchDrag=M,this._holdDelay=A,this._clock=T,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",F=>{this._handlePointerLoss(F,"pointer-up")}),this.registerIncoming("pointer-capture-lost",F=>{this._handlePointerLoss(F,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",F=>{this._handlePointerLoss(F,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(g=>{g.holdTimeout=(0,Ts.xt)(g.holdTimeout)}),super.onUninstall()}_handlePointerDown(g){const y=g.data,_=y.native.pointerId;let M=null;0===this._pointerState.size&&(M=this._clock.setTimeout(()=>{const T=this._pointerState.get(_);T&&(T.isDragging||(this._pointerHold.emit(T.previousEvent,void 0,g.modifiers),T.holdEmitted=!0),T.holdTimeout=null)},this._holdDelay)),this._pointerState.set(_,{startEvent:y,previousEvent:y,startTimestamp:g.timestamp,isDragging:!1,downButton:y.native.button,holdTimeout:M,modifiers:new Set}),this.startCapturingPointer(y.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(g)}_handlePointerMove(g){const y=g.data,M=this._pointerState.get(y.native.pointerId);M&&(M.isDragging?this._pointerDrag.emit(o_("update",M,y),void 0,M.modifiers):function FK(p,g){const y=g.x-p.x,_=g.y-p.y;return Math.sqrt(y*y+_*_)}(y,M.startEvent)>this._getDragThreshold(y.native.pointerType)&&this._startDragging(g),M.previousEvent=y)}_getDragThreshold(g){switch(g){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(g){const y=g.data,_=y.native.pointerId;this._pointerState.forEach(M=>{null!=M.holdTimeout&&(M.holdTimeout.remove(),M.holdTimeout=null),M.isDragging||(M.modifiers=g.modifiers,M.isDragging=!0,_===M.startEvent.native.pointerId?this._pointerDrag.emit(o_("start",M,y)):this._pointerDrag.emit(o_("start",M,M.previousEvent),g.timestamp))})}_handlePointerLoss(g,y){const _=g.data,M=_.native.pointerId,A=this._pointerState.get(M);A&&(null!=A.holdTimeout&&(A.holdTimeout.remove(),A.holdTimeout=null),A.isDragging?this._pointerDrag.emit(o_("end",A,"pointer-up"===y?_:A.previousEvent),void 0,A.modifiers):"pointer-up"===y&&A.downButton===_.native.button&&g.timestamp-A.startTimestamp<=this._maximumClickDelay&&!A.holdEmitted&&this._immediateClick.emit(_),this._pointerState.delete(M),this.stopCapturingPointer(_.native),0===this._pointerState.size&&this._moveHandle.pause())}}function o_(p,g,y){return{action:p,startEvent:g.startEvent,previousEvent:g.previousEvent,currentEvent:y}}class ZK extends ei.l{constructor(g=250,y=10,_=350,M=35,A=Y0.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=y,this._maximumDoubleTouchDelay=_,this._maximumDoubleTouchDistance=M,this._clock=A,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this))}onUninstall(){this._pointerState.forEach(g=>g.doubleClickTimer=(0,Ts.xt)(g.doubleClickTimer))}get hasPendingInputs(){return(0,G0.Bs)(this._pointerState,g=>null!=g.doubleClickTimer)}_clearDoubleClickTimer(g,y){const _=this._pointerState.get(g);_&&(_.doubleClickTimer=(0,Ts.xt)(_.doubleClickTimer),y&&this._click.emit(_.event.data,void 0,_.event.modifiers),this._pointerState.delete(g),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(g){const y=this._pointerState.get(g);1===y.pointerDownCount&&this._click.emit(y.event.data,void 0,y.event.modifiers),y.doubleClickTimer=null,this._pointerState.delete(g),this.refreshHasPendingInputs()}_handleImmediateClick(g){const y=g.data,{pointerType:_}=y.native,M=function KK(p){const{pointerId:g,pointerType:y,button:_}=p.native;return"mouse"===y?`${g}:${_}`:`${y}`}(y);if(!this._pointerState.has(M))return void this._startClick(g);const A=this._pointerState.get(M),{data:T,modifiers:F}=A.event,Y="touch"===_?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;n_(T,y)>Y?(this._clearDoubleClickTimer(M,!0),this._startClick(g)):(this._clearDoubleClickTimer(M,!1),2===A.pointerDownCount&&this._doubleClick.emit(T,void 0,F))}_handlePointerDown(g){const y=Jd(g.data),_=this._pointerState.get(y);_&&(_.pointerDownCount+=1)}_startClick(g){const{data:y}=g,{native:{pointerType:_}}=y,M=Jd(y),T=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(M),"touch"===_?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(M,{event:g,doubleClickTimer:T,pointerDownCount:1}),this.refreshHasPendingInputs()}}const i__pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},i__zoom={zoomIn:["=","+"],zoomOut:["-","_"]},i__rotate={clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};let Qd=class extends Gr.A{initialize(){const p=()=>this.view?.ready;this.addHandles([(0,Dn.z7)(()=>!p(),()=>this._disconnect()),(0,Dn.z7)(p,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(p){return this._inputManager?.isModifierKeyDown(p)??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=(0,Ts.pR)(this._inputManager)}_connect(){const g=new NK(this.view.surface,this.view.input),y=[new $K,new VK,new ZK,new kK(this.view.navigation),new jK],_=new Fp.e({eventSource:g,recognizers:y});_.installHandlers("prevent-context-menu",[new BK],Fp.o.INTERNAL),_.installHandlers("navigation",[new SK(this.view),new yK(this.view),new CK(this.view),new $w(this.view),new $w(this.view,["Control"]),new dK(this.view,"primary"),new MK(this.view,i__pan),new DK(this.view,i__zoom),new AK(this.view,i__rotate),new hK(this.view,"secondary"),new cK(this.view,"touch")],Fp.o.INTERNAL),this.view.viewEvents.connect(_),this._source=g,this._inputManager=_,(0,Dn.wB)(()=>this.view?.navigation?.browserTouchPanEnabled,M=>{this._source&&(this._source.browserTouchPanningEnabled=!M)},Dn.Vh)}get test(){}};(0,Ue._)([(0,Ge.MZ)()],Qd.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)()],Qd.prototype,"latestPointerType",null),(0,Ue._)([(0,Ge.MZ)()],Qd.prototype,"latestPointerLocation",null),(0,Ue._)([(0,Ge.MZ)()],Qd.prototype,"multiTouchActive",null),Qd=(0,Ue._)([(0,On.$)("esri.views.2d.input.MapViewInputManager")],Qd);const HK=Qd;var GK=v(77413),Hp=v(51995),Jw=v(97233),zK=v(75324);const Xd={added:[],removed:[]},_A=new Set,YK=new aK.A(0,0,0,0);class QK extends Mp.A{constructor(g){super(),this._tiles=new Map,this._index=(0,GK.r)(9,(0,Mi.A)("esri-csp-restrictions")?y=>({minX:y.bounds[0],minY:y.bounds[1],maxX:y.bounds[2],maxY:y.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=g}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(g){return this._tiles.has(g)}get(g){return this._tiles.get(g)}getIntersectingTiles(g){if(!g||0===(0,Hp.VL)(g)||0===(0,Hp.uJ)(g))return[];const y=function JK(p,g){const y=(0,LM.Vp)(g);if(!y)return null;const[_,M]=y.valid;return p[2]>M?[(0,Hp.vt)([p[0],p[1],M,p[3]]),(0,Hp.vt)([_,p[1],_+p[2]-M,p[3]])]:p[0]<_?[(0,Hp.vt)([_,p[1],p[2],p[3]]),(0,Hp.vt)([M-(_-p[0]),p[1],M,p[3]])]:null}(g,this.tileScheme.spatialReference);return null!=y?[...new Set([...this.boundsIntersections(y[0]),...this.boundsIntersections(y[1])])]:this.boundsIntersections(g)}boundsIntersections(g){return this._index.search({minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]})}updateTiles(g){const y={added:[],removed:[]};for(const _ of g.added)if(!this.has(_)){const M=new Jw.F(this.tileScheme,_);this._tiles.set(_,M),this._index.insert(M),y.added.push(M)}for(const _ of g.removed)if(this.has(_)){const M=this.get(_);this._tiles.delete(_),this._index.remove(M),y.removed.push(M)}this.tiles.length=0,this._tiles.forEach(_=>this.tiles.push(_)),(y.added.length||y.removed.length)&&this.emit("update",y)}setViewState(g){const y=this.tileScheme.getTileCoverage(g,0);if(!y)return;const{spans:_,lodInfo:M}=y,{level:A}=M;if(_.length>0)for(const{row:T,colFrom:F,colTo:Y}of _)for(let ge=F;ge<=Y;ge++){const Re=YK.set(A,T,M.normalizeCol(ge),M.getWorldForColumn(ge)).id;if(_A.add(Re),!this.has(Re)){const Ve=new Jw.F(this.tileScheme,Re);this._tiles.set(Re,Ve),this._index.insert(Ve),this.tiles.push(Ve),Xd.added.push(Ve)}}for(let T=this.tiles.length-1;T>=0;T--){const F=this.tiles[T];_A.has(F.id)||(this._tiles.delete(F.id),this.tiles.splice(T,1),this._index.remove(F),Xd.removed.push(F))}(Xd.added.length||Xd.removed.length)&&this.emit("update",Xd),zK.A.pool.release(y),_A.clear(),Xd.added.length=0,Xd.removed.length=0}}var Qw=v(60746),XK=v(81098),qK=v(58349);function vA(){return vA=(0,Mr.A)(function*(p,g,y){const _=uw(g)?lw(p,g):g;if(!p.ready||isNaN(_.x)||isNaN(_.y))return{screenPoint:_,results:[]};let M=new Set;const A=new Set;let T=!1,F=null,Y=null;y?.include?qw(y.include,Xw(p,nt=>{M.add(nt),MA(nt,ft=>A.add(ft))},(nt,ft)=>{A.add(nt),M.add(ft)},nt=>{F||(F=new Set),F.add(nt)},nt=>M.add(nt),()=>T=!0)):(T=!0,M=new Set(p.allLayerViews),M.forEach(nt=>{MA(nt,ft=>A.add(ft))})),y?.exclude&&qw(y.exclude,Xw(p,nt=>{M.delete(nt),MA(nt,ft=>A.delete(ft))},nt=>A.delete(nt),nt=>{Y||(Y=new Set),Y.add(nt)}));const ge=p.toMap(_),Re=p.allLayerViews.filter(nt=>!nt.suspended&&M.has(nt)&&nt.clips.every(ft=>(0,qK.O)(p,ft,_,ge))).reverse();let Ve=[...T?p.graphicsView.hitTest(ge).map(nt=>({type:"graphic",graphic:nt,layer:null,mapPoint:ge})):[],...yield Promise.all(Re.map(nt=>nt.hitTest(ge,_)).toArray())].filter(Sc.Ru).flat().filter(Sc.Ru);return Ve=Ve.filter(nt=>"graphic"!==nt.type||"subtype-group"!==nt.layer?.type||A.has(nt.graphic.layer)),F&&(Ve=Ve.filter(nt=>!("graphic"in nt)||!nt.graphic||F?.has(EA(nt.graphic)))),Y&&(Ve=Ve.filter(nt=>!("graphic"in nt)||!nt.graphic||!Y?.has(EA(nt.graphic)))),{screenPoint:_,results:Ve}}),vA.apply(this,arguments)}function Xw(p,g,y,_,M,A){return T=>{if(T instanceof XK.A){if(T.layer===p)A?.();else{const F=p.allLayerViews.find(Y=>Y.layer===T.layer);F&&M?.(F)}_(EA(T))}else if(!("layer"in T)||!("element"in T))if("subtype-sublayer"===T.type){const F=p.allLayerViews.find(Y=>Y.layer===T.parent);F&&y(T,F)}else{const F=p.allLayerViews.find(Y=>Y.layer===T);F&&g(F)}}}function qw(p,g){if(p)if((0,FM.xZ)(p))for(const y of p)if((0,FM.xZ)(y))for(const _ of y)g(_);else g(y);else g(p)}function EA(p){const g=p.getObjectId();return g?`${p.layer?.uid??p.sourceLayer?.uid??"MapView"}/${g}`:`"MapView/${p.uid}`}function MA({layer:p},g){"subtype-group"===p?.type&&p.sublayers.forEach(y=>{g(y)})}var a_=v(14989);const eR={flipY:!0,premultipliedAlpha:!0};function AA(){return AA=(0,Mr.A)(function*(p,g){const y=yield tR(p,g),{format:_,quality:M}=(0,a_.Is)(g?.format,g?.quality);return(0,a_.lF)(y,{format:_,quality:M,rotation:0,disableDecorations:!1},eR)}),AA.apply(this,arguments)}function DA(){return DA=(0,Mr.A)(function*(p,g){const y=yield tR(p,g);return(0,a_.Rt)(y,eR)}),DA.apply(this,arguments)}function tR(p,g){const y=function oH(p,g,y,_){p.ignorePadding&&(_={left:0,right:0,top:0,bottom:0});let M=null;null!=p.width&&null!=p.height?M=[p.width,p.height]:null==p.width&&null!=p.height?M=[p.height,p.height]:null!=p.width&&null==p.height?M=[p.width,p.width]:null==p.width&&null==p.height&&(M=null);const A=y[0]-(_.left+_.right),T=y[1]-(_.top+_.bottom);let F,Y,ge=p.area||{x:0,y:0,width:A,height:T};if(M){const Ve=M[0]/M[1];if(Ve>A/T){const nt=ge.width/Ve;ge={x:ge.x,y:Math.round(ge.y+(ge.height-nt)/2),width:ge.width,height:Math.round(nt)}}else{const nt=ge.height*Ve;ge={x:Math.round(ge.x+(ge.width-nt)/2),y:ge.y,width:Math.round(nt),height:ge.height}}}else M=[ge.width,ge.height];return M[0]>ge.width?(F=Math.min(M[0]/ge.width,g),Y=M[0]/ge.width/F):(F=1,Y=M[0]/ge.width),{cropArea:{x:Math.round((ge.x+_.left)*F),y:Math.round((ge.y+_.top)*F),width:Math.round(ge.width*F),height:Math.round(ge.height*F)},outputScale:Y,resolutionScale:F}}(g||{},function sH(p,g){return Math.min(4,(0,a_.x2)(g,Math.min(4096,p.context.parameters.maxTextureSize)))}(p.stage,p.size),p.size,p.padding),_=function rH(p={},g){if(!p.layers)return;const y=[];return p.layers.forEach(_=>{const M=g.find(A=>A.layer.id===_.id);M?.container&&y.push(M.container)}),y}(g,p.allLayerViews);return p.stage.takeScreenshot(y,_,p.backgroundColor,g?.rotation)}let sm=class extends Gr.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=160&&this.clear()},160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,Ue._)([(0,Ge.MZ)()],sm.prototype,"_timer",void 0),(0,Ue._)([(0,Ge.MZ)()],sm.prototype,"stationary",null),sm=(0,Ue._)([(0,On.$)("esri.views.2d.support.StationaryManager")],sm);var rR=v(56551),iH=v(54551);let qd=class extends Gr.A{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(p){this._set("id",p)}set node(p){const g=this._get("node");p!==g&&(p&&p.classList.add("esri-component"),g&&g.classList.remove("esri-component"),this._set("node",p))}castNode(p){return this.widget?.destroy(),p?"string"==typeof p||function lH(p){return p&&"nodeType"in p}(p)?(this._set("widget",null),(0,wc.$H)(p)):(function uH(p){return p&&"function"==typeof p.render}(p)&&!p.domNode&&(p.domNode=document.createElement("div")),this._set("widget",p),p.domNode):(this._set("widget",null),null)}};(0,Ue._)([(0,Ge.MZ)()],qd.prototype,"id",null),(0,Ue._)([(0,Ge.MZ)()],qd.prototype,"node",null),(0,Ue._)([(0,Vd.w)("node")],qd.prototype,"castNode",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],qd.prototype,"widget",void 0),qd=(0,Ue._)([(0,On.$)("esri.views.ui.Component")],qd);const l_=qd;v(13242);var cH=v(67722),dH=v(60421),oR=v(88996);const hH={left:0,top:0,bottom:0,right:0},iR={bottom:30,top:15,right:15,left:15},Lu="esri-ui",$i={ui:Lu,corner:`${Lu}-corner`,innerContainer:`${Lu}-inner-container`,manualContainer:`${Lu}-manual-container`,cornerContainer:`${Lu}-corner-container`,topLeft:`${Lu}-top-left`,topRight:`${Lu}-top-right`,bottomLeft:`${Lu}-bottom-left`,bottomRight:`${Lu}-bottom-right`};function u_(p){return 0===p?"0":`${p}px`}function TA(p){const g="object"==typeof p&&null!==p&&Object.getPrototypeOf(p);return null!==g&&g!==Object.prototype||!("component"in p||"index"in p||"position"in p)?null:p}function CA(p,{top:g,bottom:y,left:_,right:M}){p.style.top=g,p.style.bottom=y,p.style.left=_,p.style.right=M}let Kl=class extends Mp.A.EventedAccessor{constructor(p){super(p),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,oR.JK)(),this.view=null,this._applyViewPadding=()=>{const g=this.container;g&&CA(g,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const g=this._innerContainer;g&&CA(g,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,Dn.wB)(()=>[this.view?.padding,this.container],this._applyViewPadding,Dn.Vh),(0,Dn.wB)(()=>this.padding,this._applyUIPadding,Dn.Vh),(0,Dn.wB)(()=>[this.container,this._locale],([p,g])=>{p&&p.setAttribute("lang",g)},Dn.Vh),(0,oR.oQ)(p=>{this._locale=p})])}destroy(){this.container=null;for(const p of this._components)p.destroy();this._components.length=0,this._componentMap.clear()}set container(p){const g=this._get("container");p!==g&&(p&&(p.classList.add($i.ui),(0,cH.hY)(p),this._attachContainers(p)),g&&(g.classList.remove($i.ui),CA(g,{top:"",bottom:"",left:"",right:""}),(0,wc.Ie)(g)),this._set("container",p))}get height(){const p=this.view?.height??0;if(0===p)return p;const g=this._getViewPadding(),{top:y,bottom:_}=g;return Math.max(p-y-_,0)}get padding(){return this._get("padding")}set padding(p){this._overrideIfSome("padding",p)}castPadding(p){return"number"==typeof p?{bottom:p,top:p,right:p,left:p}:{...iR,...p}}get width(){const p=this.view?.width??0;if(0===p)return p;const g=this._getViewPadding(),{left:y,right:_}=g;return Math.max(p-y-_,0)}add(p,g){let y,_,M;if(Array.isArray(p))return void p.forEach(T=>this.add(T,g));const A=TA(p);A&&({index:y,position:g,component:p,key:_}=A),g&&"object"==typeof g&&({index:y,key:_,position:g,internal:M}=g),!p||g&&!this._isValidPosition(g)||this._add(p,g,y,_,M)}remove(p,g){if(!p)return;if(Array.isArray(p))return p.map(_=>this.remove(_,g));const y=this._find(p);if(y){if(this._componentMap.has(y)&&this._componentMap.get(y)?.key!==g)return;const _=this._components.indexOf(y);return y.node.parentNode?.removeChild(y.node),this._componentMap.delete(y),y.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(_,1)[0]}}empty(p,g={removeInternal:!1}){if(Array.isArray(p)){for(const M of p)this.empty(M,g);return}const _=Array.prototype.slice.call(this._positionNameToContainerLookup[p??"manual"].children).map(M=>this._findByNode(M)).filter(M=>null!=M&&(!this._componentMap.get(M)?.internal||g.removeInternal));for(const M of _)this.remove(M)}move(p,g){if(Array.isArray(p)&&p.forEach(A=>this.move(A,g)),!p)return;let y;const _=TA(p)||TA(g);if(_&&(y=_.index,g=_.position,p=_.component||p),g&&!this._isValidPosition(g))return;const M=this.remove(p);M&&this.add(M,{position:g,index:y})}find(p){if(!p)return null;const g=this._findById(p);return g&&(g.widget||g.node)}getComponents(p,g={includeInternal:!1}){return p?Array.isArray(p)?p.flatMap(y=>this._getComponentsAtPosition(y,g)):this._getComponentsAtPosition(p,g):this._components.filter(y=>g.includeInternal||!this._componentMap.get(y)?.internal).map(({widget:y,node:_})=>y??_)}getPosition(p){for(const g in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[g].contains(p))return g;return null}_add(p,g,y,_,M){p instanceof l_||(p=new l_({node:p}));const{widget:A}=p;null!=A&&A instanceof Gr.A&&A.addHandles((0,Py.hA)(()=>{queueMicrotask(()=>this.remove(p))}),this._removeWidgetHandleKey),this._place({component:p,position:g,index:y}),this._components.push(p),this._componentMap.set(p,{key:_,internal:M})}_find(p){return p?p instanceof l_?this._findByComponent(p):"string"==typeof p?this._findById(p):this._findByNode(p.domNode||p):null}_getViewPadding(){return this.view?.padding??hH}_attachContainers(p){p.appendChild(this._innerContainer),p.appendChild(this._manualContainer)}_initContainers(){const p=document.createElement("div");p.classList.add($i.innerContainer,$i.cornerContainer);const g=document.createElement("div");g.classList.add($i.innerContainer,$i.manualContainer);const y=document.createElement("div");y.classList.add($i.topLeft,$i.corner),p.appendChild(y);const _=document.createElement("div");_.classList.add($i.topRight,$i.corner),p.appendChild(_);const M=document.createElement("div");M.classList.add($i.bottomLeft,$i.corner),p.appendChild(M);const A=document.createElement("div");A.classList.add($i.bottomRight,$i.corner),p.appendChild(A),this._innerContainer=p,this._manualContainer=g;const T=(0,dH.V8)();this._cornerNameToContainerLookup={"top-left":y,"top-right":_,"bottom-left":M,"bottom-right":A,"top-leading":T?_:y,"top-trailing":T?y:_,"bottom-leading":T?A:M,"bottom-trailing":T?M:A},this._positionNameToContainerLookup={manual:g,...this._cornerNameToContainerLookup}}_isValidPosition(p){return!!this._positionNameToContainerLookup[p]}_place(p){const g=p.position??"manual",{component:y,index:_}=p,M=this._positionNameToContainerLookup[g],A=null!=_&&_>-1;if(function pH(p){return p&&!p._started&&"function"==typeof p.postMixInProperties&&"function"==typeof p.buildRendering&&"function"==typeof p.postCreate&&"function"==typeof p.startup}(y.widget)&&y.widget.startup(),!A)return void M.appendChild(y.node);const T=Array.from(M.children);0!==_?_>=T.length?M.appendChild(y.node):(0,wc.nc)(y.node,T[_]):M.firstChild?(0,wc.nc)(y.node,M.firstChild):M.appendChild(y.node)}_toPixelPosition(p){return{top:u_(p.top),left:u_(p.left),right:u_(p.right),bottom:u_(p.bottom)}}_findByComponent(p){return this._components.find(g=>g===p)??null}_findById(p){return this._components.find(({id:g})=>g===p)??null}_findByNode(p){return this._components.find(({node:g})=>g===p)??null}_getComponentsAtPosition(p,g){return Array.prototype.slice.call(this._positionNameToContainerLookup[p].children).map(_=>this._findByNode(_)).filter(Sc.Ru).filter(_=>g.includeInternal||!this._componentMap.get(_)?.internal).map(({widget:_,node:M})=>_??M)}};(0,Ue._)([(0,Ge.MZ)()],Kl.prototype,"_locale",void 0),(0,Ue._)([(0,Ge.MZ)()],Kl.prototype,"container",null),(0,Ue._)([(0,Ge.MZ)()],Kl.prototype,"height",null),(0,Ue._)([(0,Ge.MZ)({value:iR})],Kl.prototype,"padding",null),(0,Ue._)([(0,Vd.w)("padding")],Kl.prototype,"castPadding",null),(0,Ue._)([(0,Ge.MZ)()],Kl.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)()],Kl.prototype,"width",null),Kl=(0,Ue._)([(0,On.$)("esri.views.ui.UI")],Kl);const fH=Kl;var Gp=v(2188);const zp=new Map;function aR(p,g){return p&&"copyright"in p&&(!g||"function"==typeof p.originOf&&"user"===p.originOf("copyright"))}function om(p,g,y){!y||!g||p.find(_=>_.layerView===g&&_.text===y)||p.push({text:y,layerView:g})}const xu=[];let Yp=class extends Gr.A{constructor(p){super(p),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new Xs.A,this.view=null,this._allLayerViewsChange=g=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const y=this.view?.allLayerViews;y&&(this.addHandles(y.map(_=>(0,Dn.wB)(()=>[_.suspended,_.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),y.forEach(_=>{"esri.views.3d.layers.Tiles3DLayerView3D"===_.declaredClass&&this.addHandles(_.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),g?.removed&&g.removed.forEach(_=>{this._pendingAttributions.delete(_),this._fetchedAttributionData.delete(_)}),this._updateAttributionItems()},this.addHandles([(0,Dn.on)(()=>this.view?.allLayerViews,"change",g=>this._allLayerViewsChange(g),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,Dn.z7)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const p=this.view,g=p?.allLayerViews;if(xu.length=0,!p||!g)return void this._clear();g.forEach(_=>{if(_.suspended||!_.layer?.attributionVisible)return;const M=_.layer;if(aR(M,"user"))om(xu,_,M.copyright);else if(M.hasAttributionData){if(this._fetchedAttributionData.has(_)){const T=this._fetchedAttributionData.get(_);return void(T?om(xu,_,this._getDynamicAttribution(T,p,M)):aR(M)&&om(xu,_,M.copyright))}this._fetchAttributionData(_)}else om(xu,_,("portalItem"in M?M.portalItem?.accessInformation:void 0)||M.copyright)});const y=g.find(_=>"integrated-mesh-3dtiles"===_.layer?.type);if(this.view&&y){const _=function mH(p){return zp.get(p)}(this.view);if(_){const M=_.getAttributionText();for(let A=0;A<M.length;++A)om(xu,y,M[A])}}(function gH(p,g){return p.length!==g.length||p.some((y,_)=>y.text!==g[_].text)})(this.items,xu)&&(this.items.removeAll(),this.items.addMany(xu)),xu.length=0,this.notifyChange("state")}_fetchAttributionData(p){var g=this;return(0,Mr.A)(function*(){if(g._pendingAttributions.has(p))return;g._pendingAttributions.add(p);const y=yield(0,zy.Ke)(p.layer.fetchAttributionData());if(g._pendingAttributions.has(p)){const _=y.ok?g._createContributionIndex(y.value,function yH(p){return"bing-maps"===p.type}(p.layer)):null;g._pendingAttributions.delete(p),g._fetchedAttributionData.set(p,_)}g._updateAttributionItems()})()}_createContributionIndex(p,g){const y=p.contributors,_={};if(!y)return _;for(let M=0;M<y.length;M++){const A=y[M],T=A.coverageAreas;if(!T)return;for(const F of T){const Y=F.bbox,ge=F.zoomMin-(g&&F.zoomMin?1:0),Re=F.zoomMax-(g&&F.zoomMax?1:0),Ve=new H0.A({xmin:Y[1],ymin:Y[0],xmax:Y[3],ymax:Y[2],spatialReference:F0.A.WGS84}),nt={extent:(0,dM.Gh)(Ve),attribution:A.attribution||"",score:null!=F.score?F.score:100,id:M};for(let ft=ge;ft<=Re;ft++)_[ft]??=[],_[ft].push(nt)}}return _.maxKey=Math.max.apply(null,Object.keys(_)),_}_getDynamicAttribution(p,g,y){const{extent:_,scale:M}=g;let A=y.tileInfo?.scaleToZoom(M)??0;if(A=Math.min(p.maxKey??0,Math.round(A)),!_||null==A||A<=-1)return"";const T=p[A],F=(0,dM.Cv)(_.center.clone().normalize(),g.spatialReference),Y=new Set;return T?T.filter(ge=>{const Re=ge.id,Ve=!Y.has(Re)&&F&&ge.extent&&(0,dA.qz)(ge.extent,F);return Ve&&Y.add(Re),Ve}).sort((ge,Re)=>Re.score-ge.score||ge.objectId-Re.objectId).map(ge=>ge.attribution).join(", "):""}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0,type:Xs.A})],Yp.prototype,"items",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Yp.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],Yp.prototype,"view",void 0),Yp=(0,Ue._)([(0,On.$)("esri.widgets.Attribution.AttributionViewModel")],Yp);const lR=Yp;var li=v(92190),_H=v(54737),Uc=v(5668),An=v(56295);const Jp="esri-attribution",Qp={base:Jp,poweredBy:`${Jp}__powered-by`,sources:`${Jp}__sources`,open:`${Jp}--open`,sourcesOpen:`${Jp}__sources--open`,link:`${Jp}__link`};let Ti=class extends Gp.A{constructor(p,g){super(p,g),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(y=>y.forEach(({target:_})=>this._checkSourceTextOverflow(_))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new lR}initialize(){this.addHandles((0,Dn.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((p,g)=>(p.includes(g.text)||p.push(g.text),p),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(p){this._overrideIfSome("icon",p)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}render(){return(0,An.K)("div",{bind:this,class:this.classes(Qp.base,li.D.widget,{[Qp.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,An.K)("div",{class:Qp.poweredBy},"Powered by"," ",(0,An.K)("a",{class:Qp.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const p=this._isOpen,g=this._isInteractive,y=g?0:void 0,{attributionText:_}=this;return(0,An.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Qp.sources,{[Qp.sourcesOpen]:p,[li.D.interactive]:g}),innerHTML:_,tabIndex:y})}_afterSourcesNodeCreate(p){this._prevSourceNodeHeight=p.clientWidth,this._resizeObserver.observe(p)}_checkSourceTextOverflow(p){let g=!1;const{clientHeight:y,clientWidth:_,scrollWidth:M}=p,A=M>_,T=this._attributionTextOverflowed!==A;if(this._attributionTextOverflowed=A,T&&(g=!0),this._isOpen){const F=y<this._prevSourceNodeHeight;this._prevSourceNodeHeight=y,F&&(this._isOpen=!1,g=!0)}g&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"_isOpen",void 0),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"_isInteractive",null),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"_attributionTextOverflowed",void 0),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"_prevSourceNodeHeight",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Ti.prototype,"attributionText",null),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"itemDelimiter",void 0),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/Attribution/t9n/Attribution")],Ti.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)()],Ti.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:lR})],Ti.prototype,"viewModel",void 0),(0,Ue._)([(0,_H.$)()],Ti.prototype,"_toggleState",null),Ti=(0,Ue._)([(0,On.$)("esri.widgets.Attribution")],Ti);const vH=Ti;var uR=v(10361);let eh=class extends((0,uR.R)(Gr.A)){constructor(p){super(p),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles((0,Dn.wB)(()=>this.view,this._updateRotationWatcher,Dn.Vh))}destroy(){this.view=null}get canShowNorth(){return function EH(p){return p?.spatialReference?.isWebMercator||p?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){if(!this.view?.ready)return;const p={};"2d"===this.view?.type?p.rotation=0:p.heading=0,this.callGoTo({target:p})}_updateForRotation(p){null!=p&&this._set("orientation",{z:p})}_updateForCamera(p){p&&this._set("orientation",{x:0,y:0,z:-p.heading})}_updateRotationWatcher(p){this.removeAllHandles(),p&&this.addHandles("2d"===p.type?(0,Dn.wB)(()=>p?.rotation,this._updateForRotation,Dn.Vh):(0,Dn.wB)(()=>p?.camera,this._updateForCamera,Dn.Vh))}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],eh.prototype,"canShowNorth",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],eh.prototype,"orientation",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],eh.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],eh.prototype,"view",void 0),eh=(0,Ue._)([(0,On.$)("esri.widgets.Compass.CompassViewModel")],eh);const cR=eh,dR="esri-compass",hR={base:dR,iconContainer:`${dR}__icon-container`};var im=v(98091);let Nu=class extends Gp.A{constructor(p,g){super(p,g),this.messages=null,this.viewModel=new cR,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=y=>({transform:`rotateZ(${y.z}deg)`})}loadDependencies(){return(0,im.W)({button:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(1319)]).then(v.bind(v,91319)),icon:()=>Promise.all([v.e(2597),v.e(8278)]).then(v.bind(v,8278))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(p){this.viewModel.goToOverride=p}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(p){this._overrideIfSome("icon",p)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}reset(){return this.viewModel.reset()}render(){const{orientation:p,state:g}=this.viewModel,{messages:y}=this;return(0,An.K)("div",{class:this.classes(hR.base,li.D.widget)},(0,An.K)("calcite-button",{class:li.D.widgetButton,disabled:"disabled"===g,kind:"neutral",label:y.reset,onclick:this._reset,round:!0,scale:"s",title:y.reset},(0,An.K)("div",{"aria-hidden":"true",class:hR.iconContainer,title:y.reset},(0,An.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(p)}))))}};(0,Ue._)([(0,Ge.MZ)()],Nu.prototype,"goToOverride",null),(0,Ue._)([(0,Ge.MZ)()],Nu.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],Nu.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/Compass/t9n/Compass")],Nu.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)()],Nu.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:cR})],Nu.prototype,"viewModel",void 0),Nu=(0,Ue._)([(0,On.$)("esri.widgets.Compass")],Nu);const MH=Nu,pR="esri-navigation-toggle",fR_base=pR,fR_isLayoutHorizontal=`${pR}--horizontal`;let Xp=class extends Gr.A{constructor(p){super(p),this.navigationMode="pan",this.view=null}initialize(){this.addHandles((0,Dn.z7)(()=>this.view?.inputManager,()=>this._setNavigationMode()))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){const p=this.view?.inputManager;p&&(p.primaryDragAction="pan"===this.navigationMode?"pan":"rotate")}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],Xp.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],Xp.prototype,"navigationMode",void 0),(0,Ue._)([(0,Ge.MZ)()],Xp.prototype,"view",void 0),Xp=(0,Ue._)([(0,On.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Xp);const mR=Xp;let Bu=class extends Gp.A{constructor(p,g){super(p,g),this.messages=null,this.viewModel=new mR,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{("pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton)?.setFocus(),this.toggle()}}loadDependencies(){return(0,im.W)({button:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(1319)]).then(v.bind(v,91319))})}get icon(){return"move"}set icon(p){this._overrideIfSome("icon",p)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}render(){const p="disabled"===this.viewModel?.state,g="pan"===this.viewModel?.navigationMode,y=this.messages.toggle;return(0,An.K)("div",{class:this.classes(fR_base,li.D.widget,{[fR_isLayoutHorizontal]:"horizontal"===this.layout})},(0,An.K)("calcite-button",{afterCreate:_=>{this._panButton=_},appearance:g?"outline-fill":"solid",class:li.D.widgetButton,disabled:p,iconStart:"move",kind:"neutral",label:y,onclick:this._toggle,tabIndex:g?void 0:-1,title:y}),(0,An.K)("calcite-button",{afterCreate:_=>{this._rotateButton=_},appearance:g?"solid":"outline-fill",class:li.D.widgetButton,disabled:p,iconStart:"rotate",kind:"neutral",label:y,onclick:this._toggle,tabIndex:g?-1:void 0,title:y}))}};(0,Ue._)([(0,Ge.MZ)()],Bu.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],Bu.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)({value:"vertical"})],Bu.prototype,"layout",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Bu.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)()],Bu.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:mR})],Bu.prototype,"viewModel",void 0),Bu=(0,Ue._)([(0,On.$)("esri.widgets.NavigationToggle")],Bu);const AH=Bu;let th=class extends Gr.A{get canZoomIn(){if(!this.view?.ready)return!1;const g=this.view?.constraints?.effectiveMaxScale;return 0===g||this._scale>g}get canZoomOut(){const{view:p}=this;if(!p?.ready)return!1;const y=p.constraints?.effectiveMinScale;return 0===y||this._scale<y}get _scale(){const p=this.view?.animation?.target;return(p&&"then"in p?void 0:p?.scale)??this.view?.scale??0}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],th.prototype,"canZoomIn",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],th.prototype,"canZoomOut",null),(0,Ue._)([(0,Ge.MZ)()],th.prototype,"view",void 0),(0,Ue._)([(0,Ge.MZ)()],th.prototype,"_scale",null),th=(0,Ue._)([(0,On.$)("esri.widgets.Zoom.ZoomConditions2D")],th);const DH=th;let qp=class extends Gr.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],qp.prototype,"canZoomIn",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],qp.prototype,"canZoomOut",null),(0,Ue._)([(0,Ge.MZ)()],qp.prototype,"view",void 0),qp=(0,Ue._)([(0,On.$)("esri.widgets.Zoom.ZoomConditions3D")],qp);const TH=qp;let jc=class extends Gr.A{constructor(p){super(p)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(p){p?"2d"===p.type?this._zoomConditions=new DH({view:p}):"3d"===p.type&&(this._zoomConditions=new TH({view:p})):this._zoomConditions=null,this._set("view",p)}zoomIn(){if(!this.canZoomIn)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomIn():(0,bs.QZ)(p.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const p=this.view;"2d"===p.type?p.mapViewNavigation.zoomOut():(0,bs.QZ)(p.goTo({zoomFactor:.5}))}};(0,Ue._)([(0,Ge.MZ)()],jc.prototype,"_zoomConditions",void 0),(0,Ue._)([(0,Ge.MZ)()],jc.prototype,"canZoomIn",null),(0,Ue._)([(0,Ge.MZ)()],jc.prototype,"canZoomOut",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],jc.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],jc.prototype,"view",null),jc=(0,Ue._)([(0,On.$)("esri.widgets.Zoom.ZoomViewModel")],jc);const gR=jc,yR_horizontalLayout="esri-zoom--horizontal";let Fu=class extends Gp.A{constructor(p,g){super(p,g),this.messages=null,this.viewModel=new gR,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,im.W)({button:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(1319)]).then(v.bind(v,91319))})}get icon(){return"magnifying-glass-plus"}set icon(p){this._overrideIfSome("icon",p)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}set layout(p){"horizontal"!==p&&(p="vertical"),this._set("layout",p)}set view(p){this.viewModel.view=p}get view(){return this.viewModel.view}render(){const p={[yR_horizontalLayout]:"horizontal"===this.layout},{canZoomIn:g,canZoomOut:y}=this.viewModel,{zoomIn:_,zoomOut:M}=this.messages;return(0,An.K)("div",{class:this.classes("esri-zoom",li.D.widget,p)},(0,An.K)("calcite-button",{class:li.D.widgetButton,disabled:!g,iconStart:"plus",kind:"neutral",label:_,onclick:this.zoomIn,title:_}),(0,An.K)("calcite-button",{class:li.D.widgetButton,disabled:!y,iconStart:"minus",kind:"neutral",label:M,onclick:this.zoomOut,title:M}))}};(0,Ue._)([(0,Ge.MZ)()],Fu.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],Fu.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)({value:"vertical"})],Fu.prototype,"layout",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/Zoom/t9n/Zoom")],Fu.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)()],Fu.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:gR})],Fu.prototype,"viewModel",void 0),Fu=(0,Ue._)([(0,On.$)("esri.widgets.Zoom")],Fu);const CH=Fu;let h_=class extends fH{constructor(p){super(p),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=g=>{this.components.forEach(y=>{const _=this._find(y),M=_?.widget;(function SH(p){return void 0!==p?.view})(M)&&(M.view=g)})},this._componentsWatcher=(g,y)=>{this._removeComponents(y),this._addComponents(g),this._adjustPadding(g)}}initialize(){this.addHandles([(0,Dn.wB)(()=>this.components,this._componentsWatcher,Dn.Vh),(0,Dn.wB)(()=>this.view,this._updateViewAwareWidgets,Dn.Vh)])}_add(p,g,y,_,M){let A=p;if("string"==typeof p&&this._defaultPositionLookup[p]){if(this._find(p))return;A=this._createComponent(p)}super._add(A,g,y,_,M)}_removeComponents(p){p.forEach(g=>{const y=this._find(g);y&&(this.remove(y),y.destroy())})}_adjustPadding(p){if(!p.includes("attribution")&&!this._isOverridden("padding")){const{top:g}=this.padding;this.padding=g}}_addComponents(p){this.constructed&&p.forEach(g=>this.add(this._createComponent(g),this._defaultPositionLookup[g]))}_createComponent(p){const g=this._createWidget(p);return new l_({id:p,node:g})}_createWidget(p){const g=this.view;switch(p){case"attribution":return new vH({view:g});case"compass":return new MH({view:g});case"navigation-toggle":return new AH({view:g});case"zoom":return new CH({view:g})}}};(0,Ue._)([(0,Ge.MZ)()],h_.prototype,"components",void 0),h_=(0,Ue._)([(0,On.$)("esri.views.ui.DefaultUI")],h_);const _R=h_;let p_=class extends _R{constructor(p){super(p),this.components=["attribution","zoom"]}};(0,Ue._)([(0,Ge.MZ)()],p_.prototype,"components",void 0),p_=(0,Ue._)([(0,On.$)("esri.views.ui.2d.DefaultUI2D")],p_);const vR=p_;function ER(p){return null!=p&&"object"==typeof p&&"declaredClass"in p&&"esri.WebMap"===p.declaredClass}let MR,AR,DR,TR,CR,SR;function IA(){return IA=(0,Mr.A)(function*(){const[,{GraphicsView2D:p,GraphicContainer:g,LabelManager:y,MapViewNavigation:_,MagnifierView2D:M,Stage:A}]=yield Promise.all([Promise.all([v.e(6136),v.e(1091),v.e(7361)]).then(v.bind(v,67361)),Promise.all([v.e(1732),v.e(6136),v.e(8766),v.e(1091),v.e(9093),v.e(5834),v.e(7936),v.e(4382),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(992),v.e(3428),v.e(3031),v.e(7052),v.e(9087),v.e(5507),v.e(6913),v.e(3027),v.e(2076),v.e(9760)]).then(v.bind(v,99760))]);AR=p,DR=g,TR=y,CR=_,SR=M,MR=A}),IA.apply(this,arguments)}let vr=class extends(q$(iV(oV(QV)))){constructor(p){var g,y;super(p),g=this,this._magnifierView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new by.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.goToManager=new e_({view:this}),this.graphicsView=null,this.stateManager=new Di({constraints:new kw({view:this})}),this.stationaryManager=new sm,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.frameTask=new qZ(this),this.floors=new Xs.A,this.highlightOptions=new Qw.A,this.inputManager=new HK({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new rR.K,this.type="2d",this.ui=new vR,this.test={takeScreenshot:(y=(0,Mr.A)(function*(_){return function nH(p,g){return DA.apply(this,arguments)}(g._getScreenshotView(_),_)}),function(M){return y.apply(this,arguments)})},this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,Dn.wB)(()=>this.viewpoint,()=>this.stationaryManager.flip(),Dn.OH),this.on("resize",y=>this.stateManager.resize(y.width,y.height))]),(0,J$.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,Ts.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new QK(this.featuresTilingScheme)}get constraintsInfo(){const p=this.defaultsFromMap?.tileInfo,g=this.spatialReference;return{lods:p?.spatialReference?.equals(g)?p.lods:null,spatialReference:g}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:p,constraints:g,center:y,viewpoint:_,extent:M}=this;let A=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||M||(g?.effectiveLODs||(A=-1),y&&(0!==p||-1!==A)||null!=_?.targetGeometry&&("extent"===_.targetGeometry.type||_.scale)))}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get typeSpecificPreconditionsReady(){const p=this._getDefaultViewpoint();return!!p&&(0,Hd.isLoadedOrLoadFor)(p.targetGeometry.spatialReference,this.spatialReference)}set animation(p){const g=this._get("animation");if(p===g)return;if(g&&g.stop(),p!==this.animationManager.animation&&this.animationManager.stop(),!p||p.isFulfilled())return this._set("animation",null),void(this.frameTask.animationInProgress=!1);this._set("animation",p),this.frameTask.animationInProgress=!0;const y=()=>{this.destroyed||(p===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask.animationInProgress=!1)};p.when(y,y)}get background(){return ER(this.map)?this.map.initialViewProperties.background:null}set background(p){this._override("background",p)}get center(){return this.stateManager?.center??null}set center(p){this.stateManager.center=p}get constraints(){return this.stateManager?.constraints}set constraints(p){p.view=this;const g=this.stateManager.constraints;this.stateManager.constraints=p,g?.destroy()}get extent(){return this.stateManager?.extent??null}set extent(p){this.stateManager.extent=p}get padding(){return this.stateManager?.padding}set padding(p){this.stateManager&&(this.stateManager.padding=p)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(p){this.stateManager.resizeAlign=p}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(p){const{rotationEnabled:g}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=p,this.constraints.rotationEnabled=g}get scale(){return this.stateManager?.scale??0}set scale(p){this.stateManager&&(this.stateManager.scale=p)}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const p=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),g=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(y=>!y.destroyed&&!("layerViews"in y)&&!0===y.updating)||p);if((0,Mi.A)("esri-2d-log-updating")){const y=this.allLayerViews.reduce((_,M)=>({..._,[`${M.layer.id}(${M.layer.type})`]:!M.destroyed&&!("layerViews"in M)&&M.updating}),{});console.log(`Updating MapView: ${g}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(y)}\n-> updatingMagnifier: ${p}\n`)}return g}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(p){this.stateManager.viewpoint=p,this.frameTask.requestFrame()}get zoom(){return this.stateManager.zoom??-1}set zoom(p){this.stateManager.zoom=p}get navigating(){return this.mapViewNavigation?.interacting??!1}goTo(p,g){return this.goToManager.goTo(p,g)}hitTest(p,g){var y=this;return(0,Mr.A)(function*(){return function eH(p,g,y){return vA.apply(this,arguments)}(y,p,g)})()}takeScreenshot(p){var g=this;return(0,Mr.A)(function*(){return function tH(p,g){return AA.apply(this,arguments)}(g._getScreenshotView(p),p)})()}toMap(p){if(!this.ready)return null;const g=uw(p)?lw(this,p):p;return this.stateManager.toMap(g)}toScreen(p,g){return this.stateManager.toScreen(p,g)}on(p,g,y,_){return this.inputManager&&this.viewEvents.on(p,g,y,_)||super.on(p,g)}hasEventListener(p){return super.hasEventListener(p)||this.viewEvents.hasHandler(p)}whenLayerView(p){return super.whenLayerView(p)}graphicChanged(p){this.graphicsView&&this.graphicsView.graphicUpdateHandler(p)}whenReady(){return new Promise(p=>{this.ready?p(this):this._resolveWhenReady.push(p)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return ER(this.map)?this.map.initialViewProperties.timeZone:null}hasLayerViewModule(p){return(p=>null!=Bw[p.type])(p)}importLayerView(p){return(p=>{const g=Bw[p.type];if(null==g)throw function eK(p){const g=p.declaredClass?p.declaredClass.slice(p.declaredClass.lastIndexOf(".")+1):"Unknown",y=g.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new ns.A(`${y}:view-not-supported`,`${g} is not supported in 2D`)}(p);return g(p)})(p)}pixelSizeAt(){return this.ready?this.resolution:(os.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(p){var g=this;return(0,Mr.A)(function*(){const y=g.toMap(p),_=yield g.hitTest(p),M=g.allLayerViews.toArray().reverse(),A=new globalThis.Map(M.map(ge=>[ge.layer.uid,ge])),T=[];let F=0,Y=0;for(;F<_.results.length||Y<M.length;){const ge=_.results.at(F);if(ge&&"graphic"!==ge.type){++F;continue}const Re=A.get((ge?.layer??ge?.graphic.layer)?.uid);if((!ge||Re)&&Y<M.length&&M.at(Y)!==Re){const Ve=M.at(Y);"fetchPopupFeaturesAtLocation"in Ve&&T.push({mapPoint:y,layerView:Ve}),++Y}else ge&&(T.push({graphic:ge.graphic,layerView:Re}),++F)}return{hits:T,location:y}})()}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){var p=this;return(0,Mr.A)(function*(){let g=function aH(p){const g=(0,iH.C)();return g.available?"3d"===p&&g.majorPerformanceCaveat?new ns.A("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist."):g.supportsHighPrecisionFragment?g.supportsVertexShaderSamplers?null:new ns.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new ns.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new ns.A("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}(p.type);if((0,Mi.A)("safari")&&(0,Mi.A)("safari")<9&&(g=new ns.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,Mi.A)("safari")})),null!=g)throw os.A.getLogger(p).warn("#validate()",g.message),g})()}loadAsyncDependencies(){return function IH(){return IA.apply(this,arguments)}()}_getDefaultViewpoint(){const{constraints:p,initialExtent:g,map:y,padding:_,size:M}=this;if(!p)return null;const A=y&&"initialViewProperties"in y?y.initialViewProperties:void 0,T=this.stateManager.getUserStartupOptions(this.size),F=A?.viewpoint,Y=F?.targetGeometry?.extent??g,ge=Y?.center,Re=F?.rotation??0,Ve=F?.scale||Y&&(0,ms.AU)(Y,[M[0]-_.left-_.right,M[1]-_.top-_.bottom]),nt=T.center??ge,It=T.scale??Ve;return nt&&It?new ai.A({targetGeometry:nt,scale:It,rotation:T.rotation??Re}):null}_startup(){this.timeline.begin("MapView Startup");const p=this._getDefaultViewpoint();this.stateManager.startup(p,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const g=new MR(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=g,this._magnifierView=new SR,this._magnifierView.magnifier=this.magnifier;const y=new TR({view:this});this._set("labelManager",y);const _=new XZ({view:this});this._set("animationManager",_);const M=new CR({view:this,animationManager:_});this._set("mapViewNavigation",M),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),g.on("webgl-error",T=>this.fatalError=T.error),(0,Dn.wB)(()=>this.stationary,T=>g.stationary=T,Dn.pc),(0,Dn.wB)(()=>this.background,T=>{g.backgroundColor=T?.color,this._magnifierView.backgroundColor=T?.color},Dn.pc),(0,Dn.wB)(()=>this.magnifier,T=>this._magnifierView.magnifier=T,Dn.pc),(0,Dn.wB)(()=>this.renderingOptions,T=>g.renderingOptions=T,Dn.pc),(0,Dn.wB)(()=>this.highlightOptions,T=>g.highlightOptions=T,Dn.pc),(0,Dn.wB)(()=>this.state.id,()=>g.state=this.state,Dn.pc)],"map-view"),this._updateStageChildren();const A=this._resolveWhenReady;this._resolveWhenReady=[],A.forEach(T=>T(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(g=>{this.stage.addChild(g.container)}),this.stage.addChild(this.graphicsView.container),this.stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const p=new iK.A(Q$.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",p);const g=new AR({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new DR(p)});this._set("graphicsView",g)}_destroySpatialReferenceDependentProperties(){const p=this.graphicsView;this._set("graphicsView",null),p.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(p){const{allLayerViews:g,padding:y,size:_,stage:M}=this;return{allLayerViews:g,backgroundColor:p?.ignoreBackground?null:this.background?.color,padding:y,size:_,stage:M}}_spatialReferenceChanged(p){if(this.ready){this.frameTask.stop();for(const g of this.allLayerViews)g.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(p),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const g of this.allLayerViews)g.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};vr.type="2d",(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"animationManager",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],vr.prototype,"deactivatedWebGLExtensions",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],vr.prototype,"debugWebGLExtensions",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"featuresTilingScheme",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"fullOpacity",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"goToManager",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"graphicsTileStore",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"graphicsView",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"stateManager",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"constraintsInfo",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"initialExtentRequired",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"labelManager",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"mapViewNavigation",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],vr.prototype,"renderCanvas",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"renderingOptions",void 0),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],vr.prototype,"supersampleScreenshotsEnabled",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"supportsGround",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"_defaultsFromMapSettings",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"typeSpecificPreconditionsReady",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"animation",null),(0,Ue._)([(0,Ge.MZ)({type:$y})],vr.prototype,"background",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"center",null),(0,Ue._)([(0,Ge.MZ)({type:kw})],vr.prototype,"constraints",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"extent",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"floors",void 0),(0,Ue._)([(0,Ge.MZ)({type:Qw.A})],vr.prototype,"highlightOptions",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"inputManager",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"map",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"padding",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"rendering",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"resizeAlign",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"resolution",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"rotation",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"scale",null),(0,Ue._)([(0,Ge.MZ)({constructOnly:!0})],vr.prototype,"spatialReferenceLocked",void 0),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"stationary",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"tileInfo",null),(0,Ue._)([(0,Ge.MZ)({type:rR.K,readOnly:!0})],vr.prototype,"timeline",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"type",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"updating",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"viewpoint",null),(0,Ue._)([(0,Ge.MZ)()],vr.prototype,"zoom",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],vr.prototype,"navigating",null),(0,Ue._)([(0,Ge.MZ)(),(0,Vd.w)(p=>p instanceof _R?p:(0,Ul.PZ)(vR,p))],vr.prototype,"ui",void 0),vr=(0,Ue._)([(0,On.$)("esri.views.MapView")],vr);const OH=vr;var f_=v(48266);let tl=class extends Gr.A{constructor(p){super(p)}get editedBookmark(){const{bookmark:p}=this;return p?this._get("editedBookmark")||p.clone():null}get customUrl(){return this.editedBookmark?.thumbnail?.isSecureUrl?this.editedBookmark?.thumbnail?.url:null}set customUrl(p){this._override("customUrl",p)}get screenshotUrl(){return this.editedBookmark?.thumbnail?.isDataURI?this.editedBookmark?.thumbnail?.url:null}set screenshotUrl(p){this._override("screenshotUrl",p)}get state(){return this._get("state")}set state(p){this.validationState=void 0,this.loading=void 0,this._set("state",p)}get thumbnailState(){return this.editedBookmark?.thumbnail?.url?this.editedBookmark?.thumbnail?.isSecureUrl?"url":"screenshot":"none"}set thumbnailState(p){this._overrideIfSome("thumbnailState",p)}};(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"bookmark",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],tl.prototype,"editedBookmark",null),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"customUrl",null),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"screenshotUrl",null),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"thumbnailState",null),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"validationState",void 0),(0,Ue._)([(0,Ge.MZ)()],tl.prototype,"loading",void 0),tl=(0,Ue._)([(0,On.$)("esri.widgets.Bookmarks.BookmarksUserState")],tl);const OA=tl,IR=Xs.A.ofType(TM),bH={width:128,height:128,format:"png"},m_={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},OR={time:!0};let nl=class extends((0,uR.R)(Mp.A.EventedAccessor)){constructor(p){super(p),this.capabilities={...OR},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set("activeBookmark",null)}castCapabilities(p){return{...OR,...p}}get bookmarks(){return this.view?.map?.bookmarks??new IR}set bookmarks(p){this._overrideIfSome("bookmarks",p)}set defaultCreateOptions(p){this._set("defaultCreateOptions",{...m_,...p})}get defaultCreateOptions(){return m_}set defaultEditOptions(p){this._set("defaultEditOptions",{...m_,...p})}get defaultEditOptions(){return m_}get state(){const{view:p}=this;return p&&!p.ready?"loading":"ready"}createBookmark(p){var g=this;return(0,Mr.A)(function*(){const{view:y,defaultCreateOptions:_,capabilities:M}=g;if(!y)throw new ns.A("create-bookmark:invalid-view","Cannot create a bookmark without a view.");const{takeScreenshot:A,screenshotSettings:T,captureViewpoint:F,captureRotation:Y,captureScale:ge,captureTimeExtent:Re}={..._,...p},Ve=A?yield g._createThumbnail(T):void 0,nt=M.time&&Re&&null!=y.timeExtent?y.timeExtent.clone():void 0;return new TM({...Ve&&{thumbnail:Ve},...Re&&{timeExtent:nt},...F&&{viewpoint:g._createViewpoint({view:y,captureScale:ge,captureRotation:Y})}})})()}editBookmark(p,g){var y=this;return(0,Mr.A)(function*(){if(!p)return p;const{view:_,defaultEditOptions:M}=y;if(!_)throw new ns.A("edit-bookmark:invalid-view","Cannot edit a bookmark without a view.");const{takeScreenshot:A,screenshotSettings:T,captureViewpoint:F,captureRotation:Y,captureScale:ge,captureTimeExtent:Re}={...M,...g},Ve=A?yield y._createThumbnail(T):void 0;return Ve&&(p.thumbnail=Ve),F&&(p.viewpoint=y._createViewpoint({view:_,captureScale:ge,captureRotation:Y})),Re&&null!=_.timeExtent&&(p.timeExtent=_.timeExtent.clone()),y.emit("bookmark-edit",{bookmark:p}),p})()}goTo(p){const{capabilities:g,view:y}=this;if(!y)throw new ns.A("go-to:invalid-view","Cannot go to a bookmark without a view");const _=p?.viewpoint;if(!_)throw new ns.A("go-to:invalid-bookmark","Cannot go to a bookmark that does not contain a 'viewpoint'.",{bookmark:p});this._set("activeBookmark",p);const A=this.callGoTo({target:_}),T=p?.timeExtent;return g.time&&T&&(y.timeExtent=T),this.emit("bookmark-select",{bookmark:p}),A.catch(()=>{}).then(()=>this._set("activeBookmark",null)),A}_createThumbnail(p){var g=this;return(0,Mr.A)(function*(){const{view:y}=g;if(!y)throw new ns.A("bookmark:invalid-view","Cannot create slide thumbnail without a view");const _=yield y.takeScreenshot({...bH,...p});return new ta({url:_.dataUrl})})()}_createViewpoint({view:p,captureRotation:g,captureScale:y}){const _=p.viewpoint?.clone();return new ai.A({targetGeometry:p.extent?.clone(),rotation:(g?_?.rotation:null)??0,scale:(y?_?.scale:null)??0})}};(0,Ue._)([(0,Ge.MZ)()],nl.prototype,"capabilities",void 0),(0,Ue._)([(0,Vd.w)("capabilities")],nl.prototype,"castCapabilities",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],nl.prototype,"activeBookmark",void 0),(0,Ue._)([(0,Ge.MZ)({type:IR})],nl.prototype,"bookmarks",null),(0,Ue._)([(0,Ge.MZ)()],nl.prototype,"defaultCreateOptions",null),(0,Ue._)([(0,Ge.MZ)()],nl.prototype,"defaultEditOptions",null),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],nl.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)()],nl.prototype,"view",void 0),nl=(0,Ue._)([(0,On.$)("esri.widgets.Bookmarks.BookmarksViewModel")],nl);const bR=nl;let sa=class extends Gr.A{constructor(){super(...arguments),this.addBookmarkButton=!1,this.closeButton=!1,this.collapseButton=!1,this.editBookmarkButton=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.thumbnail=!0,this.time=!0}get addBookmark(){return(0,Bp.Lx)(os.A.getLogger(this),"addBookmark",{replacement:"addBookmarkButton",version:"4.29",warnOnce:!0}),this.addBookmarkButton}set addBookmark(p){(0,Bp.Lx)(os.A.getLogger(this),"addBookmark",{replacement:"addBookmarkButton",version:"4.29",warnOnce:!0}),this.addBookmarkButton=p}};(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"addBookmark",null),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"addBookmarkButton",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"closeButton",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"collapseButton",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"editBookmarkButton",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"filter",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"flow",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"heading",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"thumbnail",void 0),(0,Ue._)([(0,Ge.MZ)({type:Boolean,nonNullable:!0})],sa.prototype,"time",void 0),sa=(0,Ue._)([(0,On.$)("esri.widgets.Bookmarks.BookmarksVisibleElements")],sa);const bA=sa,Ci="esri-bookmarks",PA=`${Ci}__authoring`,wA=`${Ci}__bookmark`,Do={base:Ci,noBookmarksHeader:`${Ci}__no-bookmarks-heading`,noBookmarksDescription:`${Ci}__no-bookmarks-description`,form:`${Ci}__form`,list:`${Ci}__list`,loader:`${Ci}__loader`,filterNoResults:`${Ci}__filter-no-results`,formContent:`${Ci}__form-content`,addBookmarkButton:`${Ci}__add-bookmark-button`,editBookmarkInput:`${Ci}__edit-bookmark-input`,addBookmarkInput:`${Ci}__add-bookmark-input`,dragEnabled:`${Ci}--drag-enabled`,bookmarkImage:`${Ci}__image`,bookmarkImageContainer:`${wA}-image-container`,bookmarkContent:`${wA}-content`,bookmarkContentLabel:`${wA}-content-label`,authoring:PA,authoringImageContainer:`${PA}-image-container`,authoringRefreshThumbnailButton:`${PA}-refresh-thumbnail-button`};var PH=v(53158),wH=v(24092);let ws=class extends((0,V0.sA)(Gp.A)){constructor(p,g){super(p,g),this._addInputNode=null,this._editInputNode=null,this._urlEditInputNode=null,this._lastDragDetail=null,this._selectedDragBookmarkUid=null,this._editIncludeTimeExtent=void 0,this._userState=null,this._focusRootFlowItem=!1,this._focusAddFlowItem=!1,this._focusEditFlowItem=!1,this.disabled=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterText="",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.viewModel=new bR,this.visibleElements=new bA,this._onCalciteListOrderChange=y=>{const{_lastDragDetail:_,bookmarks:M}=this,{toEl:A,fromEl:T,dragEl:F,newIndex:Y}=y;if(!M.length||!T||!A||_?.newIndex===Y&&_?.dragEl===F&&_?.toEl===A&&_?.fromEl===T)return;this._lastDragDetail=y;const ge=Array.from(T.children).filter(Re=>Re?.matches("calcite-list-item")).map(Re=>Re.value);M.sort((Re,Ve)=>{const nt=ge.indexOf(Re.uid),ft=ge.indexOf(Ve.uid);return nt>ft?1:nt<ft?-1:0})}}normalizeCtorArgs(p){return null!=p?.editingEnabled&&null!=p.visibleElements?{...p,visibleElements:new bA({...p.visibleElements,addBookmarkButton:p.editingEnabled,editBookmarkButton:p.editingEnabled})}:p}loadDependencies(){return(0,im.W)({action:()=>Promise.all([v.e(2597),v.e(1594),v.e(8843),v.e(822)]).then(v.bind(v,14201)),button:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(1319)]).then(v.bind(v,91319)),"chip-group":()=>Promise.all([v.e(2597),v.e(7967)]).then(v.bind(v,17967)),chip:()=>Promise.all([v.e(2597),v.e(1594),v.e(9811),v.e(2191)]).then(v.bind(v,88233)),fab:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(438)]).then(v.bind(v,90438)),flow:()=>v.e(6195).then(v.bind(v,66195)),"flow-item":()=>Promise.all([v.e(2597),v.e(1594),v.e(6883),v.e(8843),v.e(4847),v.e(5387),v.e(9507)]).then(v.bind(v,9507)),icon:()=>Promise.all([v.e(2597),v.e(8278)]).then(v.bind(v,8278)),input:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(4827),v.e(9639)]).then(v.bind(v,9639)),"input-message":()=>Promise.all([v.e(2597),v.e(2545)]).then(v.bind(v,42545)),label:()=>Promise.all([v.e(2597),v.e(4961)]).then(v.bind(v,4961)),list:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(4827),v.e(2076),v.e(861)]).then(v.bind(v,861)),"list-item":()=>Promise.all([v.e(2597),v.e(1594),v.e(8843),v.e(2076),v.e(4835)]).then(v.bind(v,4835)),loader:()=>v.e(2748).then(v.bind(v,2748)),notice:()=>Promise.all([v.e(2597),v.e(1594),v.e(5661)]).then(v.bind(v,85661)),scrim:()=>Promise.all([v.e(2597),v.e(1594),v.e(4309)]).then(v.bind(v,44309)),switch:()=>Promise.all([v.e(2597),v.e(8991),v.e(208)]).then(v.bind(v,50208)),table:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(9811),v.e(5628)]).then(v.bind(v,65628)),"table-cell":()=>Promise.all([v.e(2597),v.e(1594),v.e(2076),v.e(7342)]).then(v.bind(v,5472)),"table-header":()=>Promise.all([v.e(2597),v.e(1594),v.e(7431),v.e(2745)]).then(v.bind(v,52745)),"table-row":()=>Promise.all([v.e(2597),v.e(1594),v.e(7431),v.e(2076),v.e(4966)]).then(v.bind(v,64966))})}get defaultCreateOptions(){return this.viewModel.defaultCreateOptions}set defaultCreateOptions(p){this.viewModel.defaultCreateOptions=p}get defaultEditOptions(){return this.viewModel.defaultEditOptions}set defaultEditOptions(p){this.viewModel.defaultEditOptions=p}get bookmarks(){return this.viewModel.bookmarks}set bookmarks(p){this.viewModel.bookmarks=p}get editingEnabled(){return(0,Bp.Lx)(os.A.getLogger(this),"editingEnabled",{replacement:"dragEnabled, visibleElements.editBookmarkButton, visibleElements.addBookmarkButton",version:"4.29",warnOnce:!0}),this.dragEnabled&&this.visibleElements.editBookmarkButton&&this.visibleElements.addBookmarkButton}set editingEnabled(p){(0,Bp.Lx)(os.A.getLogger(this),"editingEnabled",{replacement:"dragEnabled, visibleElements.editBookmarkButton, visibleElements.addBookmarkButton",version:"4.29",warnOnce:!0}),this.dragEnabled=p,this.visibleElements.editBookmarkButton=p,this.visibleElements.addBookmarkButton=p}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(p){this.viewModel.goToOverride=p}get icon(){return"bookmark"}set icon(p){this._overrideIfSome("icon",p)}get label(){return this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}endAddBookmark(){this._userState=null}goTo(p){return this.viewModel.goTo(p)}render(){return(0,An.K)("div",{class:this.classes(Do.base,li.D.widget,li.D.panel)},this._renderBookmarksContainer())}startAddBookmark(){this._userState=new OA({state:"add"}),this._focusAddFlowItem=!0}_renderNoBookmarksContainer(p){const{messages:g,viewModel:{state:y}}=this;return p.length||"loading"===y?null:(0,An.K)("div",{class:li.D.empty,key:"no-bookmarks"},(0,An.K)("calcite-icon",{icon:"bookmark",scale:"l"}),(0,An.K)(PH.D,{class:this.classes(li.D.heading,Do.noBookmarksHeader),level:this.headingLevel},g?.noBookmarksHeading),(0,An.K)("p",{class:Do.noBookmarksDescription},g.noBookmarksDescription))}_renderEditBookmarkFlowItems(){const{_userState:p}=this,g=p?.editedBookmark;return g&&"edit"===p?.state?this._renderEditingBookmark(g):[]}_renderBookmarkItems(p){return p?p.toArray().map(g=>this._renderBookmark(g)):[]}_handleCalciteListDragEnd(p){const{fromEl:g,dragEl:y,oldIndex:_}=p;g.insertBefore(y,g.children[_])}_renderBookmarksContainer(){const{viewModel:{state:p,bookmarks:g},dragEnabled:y,messages:_,disabled:M,filterPlaceholder:A,filterText:T,visible:F,headingLevel:Y,visibleElements:{closeButton:ge,collapseButton:Re,filter:Ve,heading:nt,flow:ft},uid:It}=this,Ut=g.filter(Sc.Ru),Jt=Ut.length?(0,An.K)("calcite-list",{class:Do.list,dragEnabled:y,filterEnabled:Ve,filterPlaceholder:A,filterText:T,group:`bookmarks-${It}`,key:"bookmark-list",label:_.widgetLabel,selectionAppearance:"border",selectionMode:"none",onCalciteListDragEnd:Yt=>this._handleCalciteListDragEnd(Yt.detail),onCalciteListFilter:Yt=>this.filterText=Yt.target?.filterText??"",onCalciteListOrderChange:Yt=>this._onCalciteListOrderChange(Yt.detail)},this._renderBookmarkItems(Ut),Ve?(0,An.K)("div",{class:Do.filterNoResults,slot:"filter-no-results"},(0,An.K)("calcite-notice",{kind:"info",open:!0,width:"full"},(0,An.K)("div",{slot:"message"},_.noBookmarksHeading),";")):null):null,rn=[(0,An.K)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:ge,closed:!F,collapsible:Re,disabled:M,heading:nt?_.widgetLabel:void 0,headingLevel:Y,loading:"loading"===p,onCalciteFlowItemClose:()=>this.visible=!1},this._renderNoBookmarksContainer(Ut),Jt,this._renderAddBookmarkButton()),this._renderAddingBookmark(),this._renderEditBookmarkFlowItems()];return F?ft?(0,An.K)("calcite-flow",{key:"root-flow"},rn):rn:null}_renderAddBookmarkButton(){const{messages:p,_userState:g,disabled:y,viewModel:{view:_,state:M},visibleElements:{addBookmarkButton:A}}=this,T=g?.loading??!1;return _&&"loading"!==M&&A?(0,An.K)("calcite-fab",{appearance:"outline-fill",bind:this,class:Do.addBookmarkButton,disabled:y||T,icon:"plus",key:"add-bookmark-item",kind:"neutral",loading:T,onclick:this.startAddBookmark,slot:"fab",text:p.addBookmark,textEnabled:!0,title:p.addBookmark,type:"button"}):null}_renderEditContainer(p){const{messagesCommon:g,visibleElements:{editBookmarkButton:y}}=this,_=`${g.edit} ${this._getBookmarkTitle(p)}`;return y?(0,An.K)("calcite-action",{appearance:"transparent",icon:"pencil",key:"edit-action",onclick:()=>this._showEditBookmarkForm(p),slot:"actions-end",text:_,title:_}):null}_renderBookmarkImage(p,g){return g?(0,An.K)("img",{alt:"",class:Do.bookmarkImage,key:"bookmark-image",src:p.thumbnail?.url}):null}_renderBookmarkTimeSwitch(p){const{messages:g,viewModel:{view:y}}=this,{timeExtent:_}=p;return y?.timeExtent??_?(0,An.K)("calcite-label",{layout:"inline-space-between"},g.includeTimeExtent,(0,An.K)("calcite-switch",{checked:!!_,onCalciteSwitchChange:M=>{this._editIncludeTimeExtent=!!M.target.checked}})):null}_renderEditBookmarkTimeExtent(p){return this._editIncludeTimeExtent?this._renderBookmarkTimeExtent(p):null}_getTimeExtentStrings(p){const{visibleElements:g}=this,{timeExtent:y}=p;if(!y)return{};const{start:_,end:M}=y,A=null!=M&&(null==_||_.getTime()!==M.getTime()),T=_?this._formatDate(_):"",F=_&&g.time?this._formatTime(_):"";return A?{startDate:T,startTime:F,endDate:this._formatDate(M),endTime:g.time?this._formatTime(M):""}:{startDate:T,startTime:F}}_renderTimeExtentDescription(p){const{startDate:g,startTime:y,endDate:_,endTime:M}=this._getTimeExtentStrings(p);if(!g)return"";const A=`${g} ${y}`;return _?`${A} - ${_} ${M}`:A}_renderBookmarkTimeExtent(p,g=!1){const{messages:y}=this,{startDate:_,startTime:M,endDate:A,endTime:T}=this._getTimeExtentStrings(p),F=g?null:(0,An.K)("calcite-table-row",{slot:"table-header"},(0,An.K)("calcite-table-header",{heading:y.startDate}),A?(0,An.K)("calcite-table-header",{heading:y.endDate}):null);return _?(0,An.K)("calcite-table",{caption:y.timeExtent,scale:"s"},F,(0,An.K)("calcite-table-row",null,(0,An.K)("calcite-table-cell",null,_," ",M?[(0,An.K)("br",null),M]:null),A?(0,An.K)("calcite-table-cell",null,A,T?[(0,An.K)("br",null),T]:null):null)):null}_renderBookmarkActiveScrim(p,g){return this.viewModel.activeBookmark===p&&g?(0,An.K)("calcite-scrim",{key:"bookmark-active-scrim",loading:!0}):null}_renderBookmarkActiveLoader(p,g){return this.viewModel.activeBookmark!==p||g?null:(0,An.K)("calcite-loader",{class:Do.loader,inline:!0,key:"bookmark-active-loader",label:this.messagesCommon.loading})}_renderBookmarkImageIcon(p,g){return this.viewModel.activeBookmark===p||g?null:(0,An.K)("calcite-icon",{icon:"bookmark",key:"bookmark-icon",scale:"s"})}_renderBookmarkThumbnail(p){const g=this.visibleElements.thumbnail&&!!p.thumbnail?.url;return(0,An.K)("div",{class:Do.bookmarkImageContainer,slot:"content-start"},this._renderBookmarkActiveScrim(p,g),this._renderBookmarkImage(p,g),this._renderBookmarkActiveLoader(p,g),this._renderBookmarkImageIcon(p,g))}_focusSelectedDragEl(p,g){this._selectedDragBookmarkUid===g.uid&&requestAnimationFrame(()=>p?.setFocus())}_handleCalciteListItemDragHandleChange(p,g){p.stopPropagation(),this._selectedDragBookmarkUid=p.target.dragSelected?g.uid:null}_renderBookmark(p){return(0,An.K)("calcite-list-item",{afterCreate:g=>this._focusSelectedDragEl(g,p),afterUpdate:g=>this._focusSelectedDragEl(g,p),class:this.classes({[Do.dragEnabled]:this.dragEnabled}),description:this._renderTimeExtentDescription(p),dragSelected:p.uid===this._selectedDragBookmarkUid,key:p.uid,label:this._getBookmarkTitle(p),value:p.uid,onCalciteListItemDragHandleChange:g=>this._handleCalciteListItemDragHandleChange(g,p),onCalciteListItemSelect:()=>this._goToBookmark(p)},this._renderBookmarkThumbnail(p),this._renderBookmarkContent(p),this._renderEditContainer(p))}_renderBookmarkContent(p){return(0,An.K)("div",{class:Do.bookmarkContent,slot:"content"},(0,An.K)("span",{class:Do.bookmarkContentLabel},this._getBookmarkTitle(p)),this._renderBookmarkTimeExtent(p,!0))}_renderEditingBookmarkName(p){const{messages:g,_userState:y}=this,_="name-required"===y?.validationState;return(0,An.K)("calcite-label",null,g.title,(0,An.K)("calcite-input",{afterCreate:this._storeEditInput,bind:this,class:Do.editBookmarkInput,name:"bookmark-name",placeholder:g.titlePlaceholder,required:!0,type:"text",value:p.name}),_?(0,An.K)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},g.invalidTitle):null)}_renderEditingBookmarkActions(){const{messagesCommon:p,_userState:g}=this,y=g?.bookmark;return[(0,An.K)("calcite-button",{appearance:"transparent",kind:"danger",onclick:()=>this._deleteBookmark(y),slot:"footer",type:"button",width:"full"},p.delete),(0,An.K)("calcite-button",{appearance:"outline",bind:this,onclick:this._closeEditBookmarkForm,slot:"footer",type:"button",width:"full"},p.cancel),(0,An.K)("calcite-button",{slot:"footer",type:"submit",width:"full"},p.save)]}_handleUrlEditInputChange(){const{_userState:p,_urlEditInputNode:g}=this,y=g?.value;if(!p?.editedBookmark||!y)return;p.validationState=void 0,p.editedBookmark.thumbnail?.isDataURI&&(p.screenshotUrl=p.editedBookmark.thumbnail?.url);const _=new ta({url:y});_.isSecureUrl&&(p.customUrl=y,p.editedBookmark.thumbnail=_)}_renderEditingTimeExtent(p){const{capabilities:g,view:y}=this.viewModel,{timeExtent:_}=p;return g.time&&(y?.timeExtent??_)?(0,An.K)("div",{key:"edit-bookmark-time-container"},this._renderBookmarkTimeSwitch(p),this._renderEditBookmarkTimeExtent(p)):null}_renderEditingBookmarkImage(p){const{_userState:g}=this,y=g?.thumbnailState,_=p.thumbnail?.isSecureUrl?"url"===y:p.thumbnail?.isDataURI?"screenshot"===y:null;if(_)return this._renderBookmarkImage(p,_)}_renderEditingThumbnail(p){const{_userState:g,visibleElements:y}=this,_=g?.thumbnailState;return y.thumbnail&&"none"!==_?(0,An.K)("div",{class:Do.authoringImageContainer},this._renderEditingBookmarkImage(p)):null}_renderUpdateThumbnailButton(){const{visibleElements:p,messages:g,_userState:y}=this,_=y?.thumbnailState;return p.thumbnail&&"screenshot"===_?(0,An.K)("calcite-button",{appearance:"outline",class:Do.authoringRefreshThumbnailButton,iconStart:"refresh",key:"update-thumbnail",kind:"neutral",onclick:()=>{this._updateThumbnail()},width:"half"},g.updateThumbnail):null}_renderEditingBookmarkUrlInput(p){const{messages:g,_userState:y}=this,_=p.thumbnail?.url,M=p.thumbnail?.isSecureUrl?_:void 0,A=_&&"absolute-url-required"===y?.validationState;return"url"===y?.thumbnailState?(0,An.K)("calcite-label",{key:"thumbnail-url-input"},(0,An.K)("calcite-input",{afterCreate:this._storeUrlEditInput,bind:this,name:"bookmark-thumbnail-url",pattern:"https://.*",placeholder:g?`https://<${g.imageUrlPlaceholder}>`:void 0,required:!0,title:g.imageUrlTooltip,type:"text",value:M,onCalciteInputChange:this._handleUrlEditInputChange,onCalciteInputInput:this._handleUrlEditInputChange}),A?(0,An.K)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},g.invalidImageUrl):null):null}_renderThumbnailSelector(){const{visibleElements:p,messages:g,_userState:y}=this,_=y?.thumbnailState;return p.thumbnail?(0,An.K)("calcite-label",{key:"thumbnail-chip-group"},g.thumbnail,(0,An.K)("calcite-chip-group",{label:g.thumbnail,selectionMode:"single-persist",onCalciteChipGroupSelect:M=>this._handleThumbnailTypeSelect(M.target.selectedItems[0].value)},(0,An.K)("calcite-chip",{selected:"screenshot"===_,value:"screenshot"},g.screenshot),(0,An.K)("calcite-chip",{selected:"url"===_,value:"url"},g.url),(0,An.K)("calcite-chip",{selected:"none"===_,value:"none"},g.none))):null}_renderEditingBookmark(p){const{disabled:g,messagesCommon:y,headingLevel:_}=this;return p?(0,An.K)("form",{bind:this,class:Do.form,disabled:this.disabled,onsubmit:this._editBookmarkSubmit},(0,An.K)("calcite-flow-item",{afterCreate:this._focusEditFlowItemNode,afterUpdate:this._focusEditFlowItemNode,bind:this,disabled:g,heading:y.edit,headingLevel:_,key:"edit-bookmark-form",onCalciteFlowItemBack:M=>{M.preventDefault(),this._closeEditBookmarkForm()}},(0,An.K)("div",{class:Do.formContent},(0,An.K)("div",{class:Do.authoring},this._renderEditingBookmarkName(p),this._renderThumbnailSelector(),this._renderEditingThumbnail(p),this._renderEditingBookmarkUrlInput(p),this._renderUpdateThumbnailButton(),this._renderEditingTimeExtent(p))),this._renderEditingBookmarkActions())):null}_renderAddingBookmarkName(){const{_userState:p,messages:g}=this,y="name-required"===p?.validationState;return(0,An.K)("calcite-label",null,g.title,(0,An.K)("calcite-input",{afterCreate:this._storeAddInput,bind:this,class:Do.addBookmarkInput,name:"bookmark-name",placeholder:g.titlePlaceholder,required:!0,type:"text",value:""}),y?(0,An.K)("calcite-input-message",{icon:"exclamation-mark-triangle",status:"invalid"},g.invalidTitle):null)}_renderAddingBookmarkActions(){const{messagesCommon:p}=this;return[(0,An.K)("calcite-button",{appearance:"outline",bind:this,onclick:this._endAddBookmark,slot:"footer",type:"button",width:"half"},p.cancel),(0,An.K)("calcite-button",{slot:"footer",type:"submit",width:"half"},p.add)]}_renderAddingBookmark(){const{disabled:p,messages:g,headingLevel:y,_userState:_}=this;return"add"===_?.state?(0,An.K)("form",{bind:this,class:Do.form,disabled:p,onsubmit:this._addBookmarkSubmitClick},(0,An.K)("calcite-flow-item",{afterCreate:this._focusAddFlowItemNode,afterUpdate:this._focusAddFlowItemNode,bind:this,disabled:p,heading:g.addBookmark,headingLevel:y,key:"add-bookmark-form",onCalciteFlowItemBack:M=>{M.preventDefault(),this._endAddBookmark()}},(0,An.K)("div",{class:Do.formContent},this._renderAddingBookmarkName()),this._renderAddingBookmarkActions())):null}_getBookmarkTitle(p){return p?.name||this.messagesCommon.untitled}_formatDate(p){return p?(0,f_.Yq)(p,{...(0,f_.J2)("short-date"),timeZone:this.viewModel.view?.timeZone??Lp.qU}):""}_formatTime(p){return p?(0,f_.Yq)(p,{...(0,f_.J2)("long-time"),timeZone:this.viewModel.view?.timeZone??Lp.qU}):""}_endAddBookmark(){this.endAddBookmark(),this._focusRootFlowItem=!0}_showEditBookmarkForm(p){p&&(this._editIncludeTimeExtent=!!p.timeExtent,this._userState=new OA({bookmark:p,state:"edit"}),this._focusEditFlowItem=!0,this.viewModel.goTo(p))}_createNewScreenshotUrl(){var p=this;return(0,Mr.A)(function*(){return(yield p.viewModel.createBookmark()).thumbnail?.url??null})()}_storeCurrentUrl(){const{_userState:p}=this,g=p?.editedBookmark?.thumbnail?.url;g&&(p?.editedBookmark?.thumbnail?.isSecureUrl?p.customUrl=g:p?.editedBookmark?.thumbnail?.isDataURI&&(p.screenshotUrl=g))}_handleThumbnailTypeSelect(p){var g=this;return(0,Mr.A)(function*(){const{_userState:y}=g;if(!y)return;const{screenshotUrl:_,customUrl:M,editedBookmark:A}=y,T="screenshot"===p?_??(yield g._createNewScreenshotUrl()):"url"===p&&M?M:null;g._storeCurrentUrl(),A&&T&&(A.thumbnail=new ta({url:T})),y.validationState=void 0,y.thumbnailState=p})()}_closeEditBookmarkForm(){this._userState=null,this._focusRootFlowItem=!0}_addBookmarkSubmitClick(p){p.preventDefault(),this._addBookmarkSubmit()}_addBookmarkSubmit(){var p=this;return(0,Mr.A)(function*(){const{_addInputNode:g,_userState:y,viewModel:_,viewModel:{bookmarks:M}}=p;if(!y)return;const A=g?g.value.trim():null;if(!A)return void(y.validationState="name-required");y.loading=!0;const T=yield _.createBookmark();T.name=A,M.add(T),p._endAddBookmark()})()}_editBookmarkAndClose(p,g){var y=this;return(0,Mr.A)(function*(){const{viewModel:_,viewModel:{defaultEditOptions:M}}=y;yield _.editBookmark(p,{...M,...g}),y._closeEditBookmarkForm()})()}_editBookmarkSubmit(p){p.preventDefault();const{_editInputNode:g,_userState:y,_editIncludeTimeExtent:_,_urlEditInputNode:M}=this;if(!y?.bookmark||!y.editedBookmark)return;y.validationState=void 0,y.customUrl=void 0,y.screenshotUrl=void 0;const A=g?.value.trim();if(!A)return void(y.validationState="name-required");y.bookmark.name=A,y.bookmark.thumbnail=y.editedBookmark.thumbnail,_||(y.bookmark.timeExtent=null);const T=y.thumbnailState;if("url"===T&&M){const Y=new ta({url:M.value});if(!Y.isSecureUrl)return void(y.validationState="absolute-url-required");y.bookmark.thumbnail=Y}else"none"===T&&(y.bookmark.thumbnail=null);this._editBookmarkAndClose(y.bookmark,{takeScreenshot:!1,captureTimeExtent:_})}_storeEditInput(p){this._editInputNode=p}_storeAddInput(p){this._addInputNode=p}_storeUrlEditInput(p){this._urlEditInputNode=p}_deleteBookmark(p){this._closeEditBookmarkForm(),p&&(this.viewModel.bookmarks.remove(p),p.destroy())}_goToBookmark(p){p&&(this.endAddBookmark(),this.viewModel.goTo(p))}_updateThumbnail(){var p=this;return(0,Mr.A)(function*(){const{_userState:g,viewModel:y}=p;g&&(g.validationState=void 0,yield y.editBookmark(g.editedBookmark,{takeScreenshot:!0,captureViewpoint:!1,captureRotation:!1,captureScale:!1,captureTimeExtent:!1}))})()}_focusRootFlowItemNode(p){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,requestAnimationFrame(()=>p?.setFocus()))}_focusEditFlowItemNode(p){this._focusEditFlowItem&&(this._focusEditFlowItem=!1,requestAnimationFrame(()=>p?.setFocus()))}_focusAddFlowItemNode(p){this._focusAddFlowItem&&(this._focusAddFlowItem=!1,requestAnimationFrame(()=>p?.setFocus()))}};(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"_editIncludeTimeExtent",void 0),(0,Ue._)([(0,Ge.MZ)({type:OA})],ws.prototype,"_userState",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"_focusRootFlowItem",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"_focusAddFlowItem",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"_focusEditFlowItem",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"defaultCreateOptions",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"defaultEditOptions",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"bookmarks",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"disabled",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"dragEnabled",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"editingEnabled",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"filterPlaceholder",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"filterText",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"headingLevel",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"goToOverride",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/Bookmarks/t9n/Bookmarks")],ws.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/t9n/common")],ws.prototype,"messagesCommon",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"uiStrings",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:bR}),(0,wH.U)(["select-bookmark","bookmark-edit","bookmark-select"])],ws.prototype,"viewModel",void 0),(0,Ue._)([(0,Ge.MZ)({type:bA,nonNullable:!0})],ws.prototype,"visibleElements",void 0),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"endAddBookmark",null),(0,Ue._)([(0,Ge.MZ)()],ws.prototype,"startAddBookmark",null),ws=(0,Ue._)([(0,On.$)("esri.widgets.Bookmarks")],ws);const RH=ws;let kc=class extends Gr.A{constructor(p){super(p),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles((0,Dn.on)(()=>this.view?.ui,"expand",p=>{const{target:g}=p;g&&g!==this&&g.expanded&&g.group&&g.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(p){this._set("autoCollapse",p),this._watchViewpoint()}set expanded(p){const g=!!p;this._set("expanded",g);const y=this.view?.ui;y&&y.emit("expand",{target:this}),this._viewpointHandleChange(g)}get state(){return this.view?.ready?"ready":"disabled"}set view(p){this._get("view")!==p&&(this._set("view",p),p&&(0,Dn.z7)(()=>p.ready,()=>{this.view===p&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(p){this._viewpointHandle&&(p?(0,Dn.z7)(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){const p="viewpoint";this.removeHandles(p),this._viewpointHandle=null;const{autoCollapse:g,view:y}=this;if(!y||!g)return;const _=(0,Dn.C1)(()=>"3d"===y.type?y.camera:y.viewpoint,()=>this._collapse());this.addHandles(_,p),this._viewpointHandle=_}_collapse(){this.expanded=!1}};(0,Ue._)([(0,Ge.MZ)({value:!1})],kc.prototype,"autoCollapse",null),(0,Ue._)([(0,Ge.MZ)({value:!1})],kc.prototype,"expanded",null),(0,Ue._)([(0,Ge.MZ)()],kc.prototype,"group",void 0),(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],kc.prototype,"state",null),(0,Ue._)([(0,Ge.MZ)({value:null})],kc.prototype,"view",null),kc=(0,Ue._)([(0,On.$)("esri.widgets.Expand.ExpandViewModel")],kc);const PR=kc;var g_=v(44182);const rl="esri-expand",Pa={base:rl,toggle:`${rl}__toggle`,popoverContent:`${rl}__popover-content`,panelContent:`${rl}__panel-content`,sheet:`${rl}__sheet`,panelIconNumber:`${rl}__panel-icon-number`,contentContainer:`${rl}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${rl}__icon--expanded`,iconNumber:`${rl}__icon-number`,content:`${rl}__content`,contentExpanded:`${rl}__content--expanded`},wR="chevrons-left",RR="chevrons-right";let qs=class extends Gp.A{constructor(p,g){super(p,g),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new PR,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=y=>{y.target===this._popoverEl&&(this.viewModel.expanded=y.target.open)},this._handleSheetClose=y=>{this.viewModel.expanded=y.target.open},this._handlePanelClose=y=>{this.viewModel.expanded=!y.target.closed},this._handleKeyDown=y=>{this.viewModel.expanded&&"Escape"===y.key&&!this._willCloseOnEsc(y)&&y.preventDefault()},this._storeToggleButtonEl=y=>{this._toggleButtonEl=y},this._storePopoverEl=y=>{this._popoverEl=y}}loadDependencies(){return(0,im.W)({button:()=>Promise.all([v.e(2597),v.e(1594),v.e(8991),v.e(6729),v.e(1319)]).then(v.bind(v,91319)),icon:()=>Promise.all([v.e(2597),v.e(8278)]).then(v.bind(v,8278)),panel:()=>Promise.all([v.e(2597),v.e(1594),v.e(6883),v.e(8843),v.e(4847),v.e(5387),v.e(3893)]).then(v.bind(v,3893)),popover:()=>Promise.all([v.e(2597),v.e(1594),v.e(6883),v.e(8843),v.e(4847),v.e(7786)]).then(v.bind(v,57786)),sheet:()=>Promise.all([v.e(2597),v.e(1594),v.e(6883),v.e(756)]).then(v.bind(v,40756))})}get expandTitle(){const{expanded:p,messagesCommon:g,collapseTooltip:y,expandTooltip:_}=this;return(p?y||g?.collapse:_||g?.expand)??""}get _displaySheet(){switch(this.mode){case"drawer":return!0;case"auto":return"xsmall"===this.viewModel.view?.widthBreakpoint;default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(p){this.viewModel.autoCollapse=p}get collapseIcon(){return RR}set collapseIcon(p){this._overrideIfSome("collapseIcon",p)}get expanded(){return this.viewModel.expanded}set expanded(p){this.viewModel.expanded=p}get expandIcon(){return(0,g_.p4)(this.content)?this.content.icon:wR}set expandIcon(p){this._overrideIfSome("expandIcon",p)}get group(){return this.viewModel.group}set group(p){this.viewModel.group=p}get icon(){return null}get label(){return((0,g_.p4)(this.content)?this.content.label:null)??this.messages?.widgetLabel??""}set label(p){this._overrideIfSome("label",p)}get view(){return this.viewModel.view}set view(p){this.viewModel.view=p}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){const{_displaySheet:p,_toggleButtonEl:g,viewModel:{expanded:y},label:_,placement:M}=this;return(0,An.K)("div",{class:this.classes(Pa.base,li.D.widget)},this._renderToggle(),p?(0,An.K)("calcite-sheet",{class:Pa.sheet,heightScale:"l",label:_,onkeydown:this._handleKeyDown,open:y,position:"block-end",onCalciteSheetClose:this._handleSheetClose},(0,An.K)("calcite-panel",{closable:!0,closed:!y,heading:_,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},(0,An.K)("div",{class:Pa.panelContent},this._renderContent()))):g?(0,An.K)("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,label:_,onkeydown:this._handleKeyDown,open:y,overlayPositioning:"fixed",placement:M??this._getPlacement(),referenceElement:g,onCalcitePopoverClose:this._handlePopoverClose},(0,An.K)("div",{class:Pa.popoverContent},this._renderContent())):null)}_getPlacement(){const{container:p,view:g}=this,y=p&&g?g.ui.getPosition(p):null;if(!y||"manual"===y)return"auto";const[_,M]=y.split("-");return`${"right"===M?"left":"right"}-${"bottom"===_?"end":"start"}`}_willCloseOnEsc(p){const{closeOnEsc:g}=this;return"function"==typeof g?g(p):g}_renderBadgeNumber(){const{expanded:p,iconNumber:g}=this;return g&&!p?(0,An.K)("span",{class:Pa.iconNumber,key:"expand__icon-number"},g):null}_renderToggleButton(){const{expanded:p,expandTitle:g,expandIcon:y,collapseIcon:_}=this,M=p?_:y;return(0,An.K)("calcite-button",{afterCreate:this._storeToggleButtonEl,afterUpdate:this._storeToggleButtonEl,class:li.D.widgetButton,kind:"neutral",label:g,onclick:this.toggle,scale:"s",title:g},M?(0,An.K)("calcite-icon",{class:this.classes(Pa.icon,(M===wR||M===RR)&&Pa.iconFlip),icon:M,scale:"s"}):null)}_renderToggle(){return(0,An.K)("div",{class:Pa.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){const{content:p}=this;return"string"==typeof p?(0,An.K)("div",{class:Pa.contentContainer,innerHTML:p,key:"content__string"}):(0,g_.p4)(p)?(0,An.K)("div",{class:Pa.contentContainer,key:"content__widget"},p.render()):p instanceof HTMLElement?(0,An.K)("div",{afterCreate:this._attachToNode,bind:p,class:Pa.contentContainer,key:"content__html-element"}):(0,g_.xk)(p)?(0,An.K)("div",{afterCreate:this._attachToNode,bind:p.domNode,class:Pa.contentContainer,key:"content__node"}):null}_attachToNode(p){p.appendChild(this)}};(0,Ue._)([(0,Ge.MZ)({readOnly:!0})],qs.prototype,"expandTitle",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"_toggleButtonEl",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"_displaySheet",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"autoCollapse",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"closeOnEsc",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"collapseIcon",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"collapseTooltip",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"content",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"expanded",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"expandIcon",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"expandTooltip",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"group",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"icon",null),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"iconNumber",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"label",null),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/widgets/Expand/t9n/Expand")],qs.prototype,"messages",void 0),(0,Ue._)([(0,Ge.MZ)(),(0,Uc.G)("esri/t9n/common")],qs.prototype,"messagesCommon",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"mode",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"placement",void 0),(0,Ue._)([(0,Ge.MZ)()],qs.prototype,"view",null),(0,Ue._)([(0,Ge.MZ)({type:PR})],qs.prototype,"viewModel",void 0),qs=(0,Ue._)([(0,On.$)("esri.widgets.Expand")],qs);const LH=qs,xH=["mapViewNode"];(function p7(p,g){return CF({rootComponent:p,...ab(g)})})((()=>{class p{constructor(){this.view=null}initializeMap(){const y=this.mapViewEl.nativeElement,_=new Y$({portalItem:{id:"aa1d3f80270146208328cf66d022e09c"}});this.view=new OH({container:y,map:_});const M=new RH({view:this.view}),A=new LH({view:this.view,content:M,expanded:!0});return this.view.ui.add(A,"top-right"),_.when(()=>{_.bookmarks&&_.bookmarks.length?console.log("Bookmarks: ",_.bookmarks.length):console.log("No bookmarks in this webmap.")}),this.view.when()}ngOnInit(){this.initializeMap().then(()=>{console.log("The map is ready.")})}ngOnDestroy(){this.view&&this.view.destroy()}static#e=this.\u0275fac=function(_){return new(_||p)};static#t=this.\u0275cmp=da({type:p,selectors:[["app-root"]],viewQuery:function(_,M){if(1&_&&function FI(p,g,y){IC(p,g,y)}(xH,7),2&_){let A;(function EE(p){const g=qt(),y=wr(),_=bo();Qo(_+1);const M=Wv(y,_);if(p.dirty&&function ac(p){return!(4&~p[or])}(g)===!(2&~M.metadata.flags)){if(null===M.matches)p.reset([]);else{const A=PC(g,_);p.reset(A,XA),p.notifyOnChanges()}return!0}return!1})(A=ME())&&(M.mapViewEl=A.first)}},standalone:!0,features:[IE],decls:2,vars:0,consts:[["mapViewNode",""]],template:function(_,M){1&_&&Eg(0,"div",null,0)},styles:['@import"https://js.arcgis.com/4.30/@arcgis/core/assets/esri/themes/light/main.css";.esri-view[_ngcontent-%COMP%], #mapViewNode[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}']})}return p})(),jW).catch(p=>console.error(p))},58560:(et,Ae,v)=>{"use strict";v.d(Ae,{L2:()=>Wu,FK:()=>df,wt:()=>fa,xr:()=>sh,lh:()=>jr,$x:()=>ro,OX:()=>lr,h:()=>Xl,w$:()=>ri,gv:()=>ya,Qu:()=>Wr});var E=v(10467),D={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},B="app",P="r",H="o",j="s",$="t",S="http://www.w3.org/1999/xlink",I={get:(k,ne)=>ne in k?k[ne]:"symbol"==typeof ne||isNaN(ne)?void 0:k.__items[ne]},O=k=>new Proxy(new U(k),I),U=class{constructor(k=!1){this.caseInsensitive=k,this.__items=[]}get length(){return this.__items.length}item(k){return this.__items[k]||null}setNamedItem(k){k.namespaceURI=null,this.setNamedItemNS(k)}setNamedItemNS(k){null!=k&&null!=k.value&&(k.value=String(k.value));const ne=this.__items.find(Te=>Te.name===k.name&&Te.namespaceURI===k.namespaceURI);null!=ne?ne.value=k.value:this.__items.push(k)}getNamedItem(k){return this.caseInsensitive&&(k=k.toLowerCase()),this.getNamedItemNS(null,k)}getNamedItemNS(k,ne){return k=N(k),this.__items.find(Te=>Te.name===ne&&N(Te.namespaceURI)===k)||null}removeNamedItem(k){this.removeNamedItemNS(k)}removeNamedItemNS(k){for(let ne=0,Te=this.__items.length;ne<Te;ne++)if(this.__items[ne].name===k.name&&this.__items[ne].namespaceURI===k.namespaceURI){this.__items.splice(ne,1);break}}[Symbol.iterator](){let k=0;return{next:()=>({done:k===this.length,value:this.item(k++)})}}get[Symbol.toStringTag](){return"MockAttributeMap"}};function N(k){return k===S?null:k}function J(k,ne=!1){const Te=new U(k.caseInsensitive);if(null!=k){const Me=k.length;if(ne&&Me>1){const it=[];for(let ct=0;ct<Me;ct++){const Tt=k.item(ct),Nt=new L(Tt.name,Tt.value,Tt.namespaceURI);it.push(Nt)}it.sort(Z).forEach(ct=>{Te.setNamedItemNS(ct)})}else for(let it=0;it<Me;it++){const ct=k.item(it),Tt=new L(ct.name,ct.value,ct.namespaceURI);Te.setNamedItemNS(Tt)}}return Te}function Z(k,ne){return k.name<ne.name?-1:k.name>ne.name?1:0}var L=class{constructor(k,ne,Te=null){this._name=k,this._value=String(ne),this._namespaceURI=Te}get name(){return this._name}set name(k){this._name=k}get value(){return this._value}set value(k){this._value=String(k)}get nodeName(){return this._name}set nodeName(k){this._name=k}get nodeValue(){return this._value}set nodeValue(k){this._value=String(k)}get namespaceURI(){return this._namespaceURI}set namespaceURI(k){this._namespaceURI=k}},C=(k=>(k[k.ELEMENT_NODE=1]="ELEMENT_NODE",k[k.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",k[k.TEXT_NODE=3]="TEXT_NODE",k[k.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",k[k.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",k[k.ENTITY_NODE=6]="ENTITY_NODE",k[k.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",k[k.COMMENT_NODE=8]="COMMENT_NODE",k[k.DOCUMENT_NODE=9]="DOCUMENT_NODE",k[k.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",k[k.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",k[k.NOTATION_NODE=12]="NOTATION_NODE",k))(C||{}),b=class{constructor(k){this.elm=k}add(...k){const ne=R(this.elm);let Te=!1;k.forEach(Me=>{x(Me=String(Me)),!1===ne.includes(Me)&&(ne.push(Me),Te=!0)}),Te&&this.elm.setAttributeNS(null,"class",ne.join(" "))}remove(...k){const ne=R(this.elm);let Te=!1;k.forEach(Me=>{x(Me=String(Me));const it=ne.indexOf(Me);it>-1&&(ne.splice(it,1),Te=!0)}),Te&&this.elm.setAttributeNS(null,"class",ne.filter(Me=>Me.length>0).join(" "))}contains(k){return k=String(k),R(this.elm).includes(k)}toggle(k){k=String(k),!0===this.contains(k)?this.remove(k):this.add(k)}get length(){return R(this.elm).length}item(k){return R(this.elm)[k]}toString(){return R(this.elm).join(" ")}};function x(k){if(""===k)throw new Error("The token provided must not be empty.");if(/\s/.test(k))throw new Error(`The token provided ('${k}') contains HTML space characters, which are not valid in tokens.`)}function R(k){const ne=k.getAttribute("class");return"string"==typeof ne&&ne.length>0?ne.trim().split(" ").filter(Te=>Te.length>0):[]}var w=class{constructor(){this._styles=new Map}setProperty(k,ne){k=ee(k),null==ne||""===ne?this._styles.delete(k):this._styles.set(k,String(ne))}getPropertyValue(k){return k=ee(k),String(this._styles.get(k)||"")}removeProperty(k){k=ee(k),this._styles.delete(k)}get length(){return this._styles.size}get cssText(){const k=[];return this._styles.forEach((ne,Te)=>{k.push(`${Te}: ${ne};`)}),k.join(" ").trim()}set cssText(k){null!=k&&""!==k?k.split(";").forEach(ne=>{if((ne=ne.trim()).length>0){const Te=ne.split(":");if(Te.length>1){const Me=Te[0].trim(),it=Te.slice(1).join(":").trim();""!==Me&&""!==it&&this._styles.set(ee(Me),it)}}}):this._styles.clear()}};function K(){return new Proxy(new w,V)}var V={get:(k,ne)=>ne in k?k[ne]:(ne=function ue(k){return k.length>1&&!0===k.includes("-")&&(k=k.toLowerCase().split("-").map(ne=>ne.charAt(0).toUpperCase()+ne.slice(1)).join(""),k=k.slice(0,1).toLowerCase()+k.slice(1)),k}(ne),k.getPropertyValue(ne)),set:(k,ne,Te)=>(ne in k?k[ne]=Te:k.setProperty(ne,Te),!0)};function ee(k){return k.length>1&&!1===k.includes("-")&&!0===/[A-Z]/.test(k)&&(k=k.replace(/([A-Z])/g,ne=>" "+ne[0]).trim().replace(/ /g,"-").toLowerCase()),k}var te=class{constructor(k){this.win=k}define(k,ne,Te){if(k.toLowerCase()!==k)throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': "${k}" is not a valid custom element name`);if(null==this.__registry&&(this.__registry=new Map),this.__registry.set(k,{cstr:ne,options:Te}),null!=this.__whenDefined){const it=this.__whenDefined.get(k);null!=it&&(it.forEach(ct=>{ct()}),it.length=0,this.__whenDefined.delete(k))}const Me=this.win.document;Me?.querySelectorAll(k).forEach(ct=>{if(!1===de.has(ct)){q.add(Me);const Tt=pe(this,Me,k);for(let Nt=0;Nt<ct.childNodes.length;Nt++){const Bt=ct.childNodes[Nt];Bt.remove(),Tt.appendChild(Bt)}q.delete(Me),ae.has(ct)&&ae.set(ct,Tt)}G(ct)})}get(k){if(null!=this.__registry){const ne=this.__registry.get(k.toLowerCase());if(null!=ne)return ne.cstr}}getName(k){for(const[ne,Te]of this.__registry.entries())if(Te.cstr===k)return ne}upgrade(k){}clear(){null!=this.__registry&&this.__registry.clear(),null!=this.__whenDefined&&this.__whenDefined.clear()}whenDefined(k){return k=k.toLowerCase(),null!=this.__registry&&!0===this.__registry.has(k)?Promise.resolve(this.__registry.get(k).cstr):new Promise(ne=>{null==this.__whenDefined&&(this.__whenDefined=new Map);let Te=this.__whenDefined.get(k);null==Te&&(Te=[],this.__whenDefined.set(k,Te)),Te.push(ne)})}};function pe(k,ne,Te){const Me=k.get(Te);if(null!=Me){const Tt=new Me(ne);return Tt.nodeName=Te.toUpperCase(),de.add(Tt),Tt}const it=new Proxy({},{get(Tt,Nt){const Bt=ae.get(it);return null!=Bt?Bt[Nt]:Tt[Nt]},set(Tt,Nt,Bt){const Vt=ae.get(it);return null!=Vt?Vt[Nt]=Bt:Tt[Nt]=Bt,!0},has:(Tt,Nt)=>Nt in ae.get(it)||Nt in Tt}),ct=new jn(ne,Te);return ae.set(it,ct),it}var ae=new WeakMap,de=new WeakSet;function ve(k,ne){if(ne.ownerDocument=k,1===ne.nodeType){if(null!=k&&ne.nodeName.includes("-")){null!=k.defaultView&&"function"==typeof ne.connectedCallback&&ne.isConnected&&G(ne);const Me=ne.shadowRoot;Me?.childNodes.forEach(it=>{ve(k,it)})}ne.childNodes.forEach(Te=>{ve(k,Te)})}else ne.childNodes.forEach(Te=>{Te.ownerDocument=k})}function G(k){if("function"==typeof k.connectedCallback&&!1===q.has(k.ownerDocument))try{k.connectedCallback()}catch(ne){console.error(ne)}}function fe(k){if(1===k.nodeType){if(!0===k.nodeName.includes("-")&&"function"==typeof k.disconnectedCallback&&!1===q.has(k.ownerDocument))try{k.disconnectedCallback()}catch(ne){console.error(ne)}k.childNodes.forEach(fe)}}function ie(k,ne,Te,Me){ne=ne.toLowerCase();const it=k.constructor.observedAttributes;if(!0===Array.isArray(it)&&!0===it.some(ct=>ct.toLowerCase()===ne))try{k.attributeChangedCallback(ne,Te,Me)}catch(ct){console.error(ct)}}function ye(k){return!0===k.nodeName.includes("-")&&"function"==typeof k.attributeChangedCallback}var q=new Set;function oe(k){return(k=String(k).slice(5)).split("-").map((ne,Te)=>0===Te?ne.charAt(0).toLowerCase()+ne.slice(1):ne.charAt(0).toUpperCase()+ne.slice(1)).join("")}var le=class{constructor(k,ne){if(this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.composed=!1,this.currentTarget=null,this.defaultPrevented=!1,this.srcElement=null,this.target=null,"string"!=typeof k)throw new Error("Event type required");this.type=k,this.timeStamp=Date.now(),null!=ne&&Object.assign(this,ne)}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.cancelBubble=!0}stopImmediatePropagation(){this.cancelBubble=!0}composedPath(){const k=[];let ne=this.target;for(;ne;){if(k.push(ne),!ne.parentElement&&"#document"===ne.nodeName){k.push(ne.defaultView);break}ne=null==ne.parentElement&&"HTML"===ne.tagName?ne.ownerDocument:ne.parentElement}return k}},Ie=class extends le{constructor(k,ne){super(k),this.detail=null,this.view=null,null!=ne&&Object.assign(this,ne)}},X=class extends Ie{constructor(k,ne){super(k),this.relatedTarget=null,null!=ne&&Object.assign(this,ne)}},Ee=class{constructor(k,ne){this.type=k,this.handler=ne}};function Le(k,ne,Te){const Me=k;null==Me.__listeners&&(Me.__listeners=[]),Me.__listeners.push(new Ee(ne,Te))}function Oe(k,ne,Te){const Me=k;if(null!=Me&&!0===Array.isArray(Me.__listeners)){const it=Me.__listeners.find(ct=>ct.type===ne&&ct.handler===Te);if(null!=it){const ct=Me.__listeners.indexOf(it);Me.__listeners.splice(ct,1)}}}function _e(k){null!=k&&null!=k.__listeners&&(k.__listeners=null)}function we(k,ne){if(null==k||!0===ne.cancelBubble)return;const Te=k;ne.currentTarget=k,!0===Array.isArray(Te.__listeners)&&Te.__listeners.filter(it=>it.type===ne.type).forEach(it=>{try{it.handler.call(Te,ne)}catch(ct){console.error(ct)}}),!1!==ne.bubbles&&we("#document"===k.nodeName?k.defaultView:null==k.parentElement&&"HTML"===k.tagName?k.ownerDocument:k.parentElement,ne)}function ke(k,ne){return ne.target=k,we(k,ne),!0}var Xe=function(k){const ne=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Te="\ufffd";var Me,z,Ot,sn;function Nt(z){return z>=55296&&z<=57343}function Bt(z){return 32!==z&&10!==z&&13!==z&&9!==z&&12!==z&&z>=1&&z<=31||z>=127&&z<=159}function Vt(z){return z>=64976&&z<=65007||ne.has(z)}(z=Me=Me||(Me={}))[z.EOF=-1]="EOF",z[z.NULL=0]="NULL",z[z.TABULATION=9]="TABULATION",z[z.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",z[z.LINE_FEED=10]="LINE_FEED",z[z.FORM_FEED=12]="FORM_FEED",z[z.SPACE=32]="SPACE",z[z.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",z[z.QUOTATION_MARK=34]="QUOTATION_MARK",z[z.NUMBER_SIGN=35]="NUMBER_SIGN",z[z.AMPERSAND=38]="AMPERSAND",z[z.APOSTROPHE=39]="APOSTROPHE",z[z.HYPHEN_MINUS=45]="HYPHEN_MINUS",z[z.SOLIDUS=47]="SOLIDUS",z[z.DIGIT_0=48]="DIGIT_0",z[z.DIGIT_9=57]="DIGIT_9",z[z.SEMICOLON=59]="SEMICOLON",z[z.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",z[z.EQUALS_SIGN=61]="EQUALS_SIGN",z[z.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",z[z.QUESTION_MARK=63]="QUESTION_MARK",z[z.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",z[z.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",z[z.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",z[z.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",z[z.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",z[z.GRAVE_ACCENT=96]="GRAVE_ACCENT",z[z.LATIN_SMALL_A=97]="LATIN_SMALL_A",z[z.LATIN_SMALL_F=102]="LATIN_SMALL_F",z[z.LATIN_SMALL_X=120]="LATIN_SMALL_X",z[z.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",z[z.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER",function(z){z.controlCharacterInInputStream="control-character-in-input-stream",z.noncharacterInInputStream="noncharacter-in-input-stream",z.surrogateInInputStream="surrogate-in-input-stream",z.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",z.endTagWithAttributes="end-tag-with-attributes",z.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",z.unexpectedSolidusInTag="unexpected-solidus-in-tag",z.unexpectedNullCharacter="unexpected-null-character",z.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",z.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",z.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",z.missingEndTagName="missing-end-tag-name",z.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",z.unknownNamedCharacterReference="unknown-named-character-reference",z.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",z.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",z.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",z.eofBeforeTagName="eof-before-tag-name",z.eofInTag="eof-in-tag",z.missingAttributeValue="missing-attribute-value",z.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",z.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",z.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",z.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",z.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",z.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",z.missingDoctypePublicIdentifier="missing-doctype-public-identifier",z.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",z.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",z.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",z.cdataInHtmlContent="cdata-in-html-content",z.incorrectlyOpenedComment="incorrectly-opened-comment",z.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",z.eofInDoctype="eof-in-doctype",z.nestedComment="nested-comment",z.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",z.eofInComment="eof-in-comment",z.incorrectlyClosedComment="incorrectly-closed-comment",z.eofInCdata="eof-in-cdata",z.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",z.nullCharacterReference="null-character-reference",z.surrogateCharacterReference="surrogate-character-reference",z.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",z.controlCharacterReference="control-character-reference",z.noncharacterCharacterReference="noncharacter-character-reference",z.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",z.missingDoctypeName="missing-doctype-name",z.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",z.duplicateAttribute="duplicate-attribute",z.nonConformingDoctype="non-conforming-doctype",z.missingDoctype="missing-doctype",z.misplacedDoctype="misplaced-doctype",z.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",z.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",z.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",z.openElementsLeftAfterEof="open-elements-left-after-eof",z.abandonedHeadElementChild="abandoned-head-element-child",z.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",z.nestedNoscriptInHead="nested-noscript-in-head",z.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(Ot=Ot||(Ot={}));class Wn{constructor(he){this.handler=he,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(he){const{line:Ce,col:ze,offset:xt}=this;return{code:he,startLine:Ce,endLine:Ce,startCol:ze,endCol:ze,startOffset:xt,endOffset:xt}}_err(he){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(he)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(he){if(this.pos!==this.html.length-1){const Ce=this.html.charCodeAt(this.pos+1);if((ze=Ce)>=56320&&ze<=57343)return this.pos++,this._addGap(),1024*(he-55296)+9216+Ce}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Me.EOF;var ze;return this._err(Ot.surrogateInInputStream),he}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(he,Ce){this.html.length>0?this.html+=he:this.html=he,this.endOfChunkHit=!1,this.lastChunkWritten=Ce}insertHtmlAtCurrentPos(he){this.html=this.html.substring(0,this.pos+1)+he+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(he,Ce){if(this.pos+he.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(Ce)return this.html.startsWith(he,this.pos);for(let ze=0;ze<he.length;ze++)if((32|this.html.charCodeAt(this.pos+ze))!==he.charCodeAt(ze))return!1;return!0}peek(he){const Ce=this.pos+he;if(Ce>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Me.EOF;const ze=this.html.charCodeAt(Ce);return ze===Me.CARRIAGE_RETURN?Me.LINE_FEED:ze}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Me.EOF;let he=this.html.charCodeAt(this.pos);return he===Me.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,Me.LINE_FEED):he===Me.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Nt(he)&&(he=this._processSurrogate(he)),null===this.handler.onParseError||he>31&&he<127||he===Me.LINE_FEED||he===Me.CARRIAGE_RETURN||he>159&&he<64976||this._checkForProblematicCharacters(he),he)}_checkForProblematicCharacters(he){Bt(he)?this._err(Ot.controlCharacterInInputStream):Vt(he)&&this._err(Ot.noncharacterInInputStream)}retreat(he){for(this.pos-=he;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}function Bn(z,he){for(let Ce=z.attrs.length-1;Ce>=0;Ce--)if(z.attrs[Ce].name===he)return z.attrs[Ce].value;return null}!function(z){z[z.CHARACTER=0]="CHARACTER",z[z.NULL_CHARACTER=1]="NULL_CHARACTER",z[z.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",z[z.START_TAG=3]="START_TAG",z[z.END_TAG=4]="END_TAG",z[z.COMMENT=5]="COMMENT",z[z.DOCTYPE=6]="DOCTYPE",z[z.EOF=7]="EOF",z[z.HIBERNATION=8]="HIBERNATION"}(sn=sn||(sn={}));var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kr={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=new Uint16Array('\u1d41<\xd5\u0131\u028a\u049d\u057b\u05d0\u0675\u06de\u07a2\u07d6\u080f\u0a4a\u0a91\u0da1\u0e6d\u0f09\u0f26\u10ca\u1228\u12e1\u1415\u149d\u14c3\u14df\u1525\0\0\0\0\0\0\u156b\u16cd\u198d\u1c12\u1ddd\u1f7e\u2060\u21b0\u228d\u23c0\u23fb\u2442\u2824\u2912\u2d08\u2e48\u2fce\u3016\u32ba\u3639\u37ac\u38fe\u3a28\u3a71\u3ae0\u3b2e\u0800EMabcfglmnoprstu\\bfms\x7f\x84\x8b\x90\x95\x98\xa6\xb3\xb9\xc8\xcflig\u803b\xc6\u40c6P\u803b&\u4026cute\u803b\xc1\u40c1reve;\u4102\u0100iyx}rc\u803b\xc2\u40c2;\u4410r;\uc000\u{1d504}rave\u803b\xc0\u40c0pha;\u4391acr;\u4100d;\u6a53\u0100gp\x9d\xa1on;\u4104f;\uc000\u{1d538}plyFunction;\u6061ing\u803b\xc5\u40c5\u0100cs\xbe\xc3r;\uc000\u{1d49c}ign;\u6254ilde\u803b\xc3\u40c3ml\u803b\xc4\u40c4\u0400aceforsu\xe5\xfb\xfe\u0117\u011c\u0122\u0127\u012a\u0100cr\xea\xf2kslash;\u6216\u0176\xf6\xf8;\u6ae7ed;\u6306y;\u4411\u0180crt\u0105\u010b\u0114ause;\u6235noullis;\u612ca;\u4392r;\uc000\u{1d505}pf;\uc000\u{1d539}eve;\u42d8c\xf2\u0113mpeq;\u624e\u0700HOacdefhilorsu\u014d\u0151\u0156\u0180\u019e\u01a2\u01b5\u01b7\u01ba\u01dc\u0215\u0273\u0278\u027ecy;\u4427PY\u803b\xa9\u40a9\u0180cpy\u015d\u0162\u017aute;\u4106\u0100;i\u0167\u0168\u62d2talDifferentialD;\u6145leys;\u612d\u0200aeio\u0189\u018e\u0194\u0198ron;\u410cdil\u803b\xc7\u40c7rc;\u4108nint;\u6230ot;\u410a\u0100dn\u01a7\u01adilla;\u40b8terDot;\u40b7\xf2\u017fi;\u43a7rcle\u0200DMPT\u01c7\u01cb\u01d1\u01d6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01e2\u01f8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020foubleQuote;\u601duote;\u6019\u0200lnpu\u021e\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6a74\u0180git\u022f\u0236\u023aruent;\u6261nt;\u622fourIntegral;\u622e\u0100fr\u024c\u024e;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6a2fcr;\uc000\u{1d49e}p\u0100;C\u0284\u0285\u62d3ap;\u624d\u0580DJSZacefios\u02a0\u02ac\u02b0\u02b4\u02b8\u02cb\u02d7\u02e1\u02e6\u0333\u048d\u0100;o\u0179\u02a5trahd;\u6911cy;\u4402cy;\u4405cy;\u440f\u0180grs\u02bf\u02c4\u02c7ger;\u6021r;\u61a1hv;\u6ae4\u0100ay\u02d0\u02d5ron;\u410e;\u4414l\u0100;t\u02dd\u02de\u6207a;\u4394r;\uc000\u{1d507}\u0100af\u02eb\u0327\u0100cm\u02f0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031ccute;\u40b4o\u0174\u030b\u030d;\u42d9bleAcute;\u42ddrave;\u4060ilde;\u42dcond;\u62c4ferentialD;\u6146\u0470\u033d\0\0\0\u0342\u0354\0\u0405f;\uc000\u{1d53b}\u0180;DE\u0348\u0349\u034d\u40a8ot;\u60dcqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03cf\u03e2\u03f8ontourIntegra\xec\u0239o\u0274\u0379\0\0\u037b\xbb\u0349nArrow;\u61d3\u0100eo\u0387\u03a4ft\u0180ART\u0390\u0396\u03a1rrow;\u61d0ightArrow;\u61d4e\xe5\u02cang\u0100LR\u03ab\u03c4eft\u0100AR\u03b3\u03b9rrow;\u67f8ightArrow;\u67faightArrow;\u67f9ight\u0100AT\u03d8\u03derrow;\u61d2ee;\u62a8p\u0241\u03e9\0\0\u03efrrow;\u61d1ownArrow;\u61d5erticalBar;\u6225n\u0300ABLRTa\u0412\u042a\u0430\u045e\u047f\u037crrow\u0180;BU\u041d\u041e\u0422\u6193ar;\u6913pArrow;\u61f5reve;\u4311eft\u02d2\u043a\0\u0446\0\u0450ightVector;\u6950eeVector;\u695eector\u0100;B\u0459\u045a\u61bdar;\u6956ight\u01d4\u0467\0\u0471eeVector;\u695fector\u0100;B\u047a\u047b\u61c1ar;\u6957ee\u0100;A\u0486\u0487\u62a4rrow;\u61a7\u0100ct\u0492\u0497r;\uc000\u{1d49f}rok;\u4110\u0800NTacdfglmopqstux\u04bd\u04c0\u04c4\u04cb\u04de\u04e2\u04e7\u04ee\u04f5\u0521\u052f\u0536\u0552\u055d\u0560\u0565G;\u414aH\u803b\xd0\u40d0cute\u803b\xc9\u40c9\u0180aiy\u04d2\u04d7\u04dcron;\u411arc\u803b\xca\u40ca;\u442dot;\u4116r;\uc000\u{1d508}rave\u803b\xc8\u40c8ement;\u6208\u0100ap\u04fa\u04fecr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65fberySmallSquare;\u65ab\u0100gp\u0526\u052aon;\u4118f;\uc000\u{1d53c}silon;\u4395u\u0100ai\u053c\u0549l\u0100;T\u0542\u0543\u6a75ilde;\u6242librium;\u61cc\u0100ci\u0557\u055ar;\u6130m;\u6a73a;\u4397ml\u803b\xcb\u40cb\u0100ip\u056a\u056fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058d\u05b2\u05ccy;\u4424r;\uc000\u{1d509}lled\u0253\u0597\0\0\u05a3mallSquare;\u65fcerySmallSquare;\u65aa\u0370\u05ba\0\u05bf\0\0\u05c4f;\uc000\u{1d53d}All;\u6200riertrf;\u6131c\xf2\u05cb\u0600JTabcdfgorst\u05e8\u05ec\u05ef\u05fa\u0600\u0612\u0616\u061b\u061d\u0623\u066c\u0672cy;\u4403\u803b>\u403emma\u0100;d\u05f7\u05f8\u4393;\u43dcreve;\u411e\u0180eiy\u0607\u060c\u0610dil;\u4122rc;\u411c;\u4413ot;\u4120r;\uc000\u{1d50a};\u62d9pf;\uc000\u{1d53e}eater\u0300EFGLST\u0635\u0644\u064e\u0656\u065b\u0666qual\u0100;L\u063e\u063f\u6265ess;\u62dbullEqual;\u6267reater;\u6aa2ess;\u6277lantEqual;\u6a7eilde;\u6273cr;\uc000\u{1d4a2};\u626b\u0400Aacfiosu\u0685\u068b\u0696\u069b\u069e\u06aa\u06be\u06caRDcy;\u442a\u0100ct\u0690\u0694ek;\u42c7;\u405eirc;\u4124r;\u610clbertSpace;\u610b\u01f0\u06af\0\u06b2f;\u610dizontalLine;\u6500\u0100ct\u06c3\u06c5\xf2\u06a9rok;\u4126mp\u0144\u06d0\u06d8ownHum\xf0\u012fqual;\u624f\u0700EJOacdfgmnostu\u06fa\u06fe\u0703\u0707\u070e\u071a\u071e\u0721\u0728\u0744\u0778\u078b\u078f\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803b\xcd\u40cd\u0100iy\u0713\u0718rc\u803b\xce\u40ce;\u4418ot;\u4130r;\u6111rave\u803b\xcc\u40cc\u0180;ap\u0720\u072f\u073f\u0100cg\u0734\u0737r;\u412ainaryI;\u6148lie\xf3\u03dd\u01f4\u0749\0\u0762\u0100;e\u074d\u074e\u622c\u0100gr\u0753\u0758ral;\u622bsection;\u62c2isible\u0100CT\u076c\u0772omma;\u6063imes;\u6062\u0180gpt\u077f\u0783\u0788on;\u412ef;\uc000\u{1d540}a;\u4399cr;\u6110ilde;\u4128\u01eb\u079a\0\u079ecy;\u4406l\u803b\xcf\u40cf\u0280cfosu\u07ac\u07b7\u07bc\u07c2\u07d0\u0100iy\u07b1\u07b5rc;\u4134;\u4419r;\uc000\u{1d50d}pf;\uc000\u{1d541}\u01e3\u07c7\0\u07ccr;\uc000\u{1d4a5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07e4\u07e8\u07ec\u07f1\u07fd\u0802\u0808cy;\u4425cy;\u440cppa;\u439a\u0100ey\u07f6\u07fbdil;\u4136;\u441ar;\uc000\u{1d50e}pf;\uc000\u{1d542}cr;\uc000\u{1d4a6}\u0580JTaceflmost\u0825\u0829\u082c\u0850\u0863\u09b3\u09b8\u09c7\u09cd\u0a37\u0a47cy;\u4409\u803b<\u403c\u0280cmnpr\u0837\u083c\u0841\u0844\u084dute;\u4139bda;\u439bg;\u67ealacetrf;\u6112r;\u619e\u0180aey\u0857\u085c\u0861ron;\u413ddil;\u413b;\u441b\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087e\u08a9\u08b1\u08e0\u08e6\u08fc\u092f\u095b\u0390\u096a\u0100nr\u0883\u088fgleBracket;\u67e8row\u0180;BR\u0899\u089a\u089e\u6190ar;\u61e4ightArrow;\u61c6eiling;\u6308o\u01f5\u08b7\0\u08c3bleBracket;\u67e6n\u01d4\u08c8\0\u08d2eeVector;\u6961ector\u0100;B\u08db\u08dc\u61c3ar;\u6959loor;\u630aight\u0100AV\u08ef\u08f5rrow;\u6194ector;\u694e\u0100er\u0901\u0917e\u0180;AV\u0909\u090a\u0910\u62a3rrow;\u61a4ector;\u695aiangle\u0180;BE\u0924\u0925\u0929\u62b2ar;\u69cfqual;\u62b4p\u0180DTV\u0937\u0942\u094cownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61bfar;\u6958ector\u0100;B\u0965\u0966\u61bcar;\u6952ight\xe1\u039cs\u0300EFGLST\u097e\u098b\u0995\u099d\u09a2\u09adqualGreater;\u62daullEqual;\u6266reater;\u6276ess;\u6aa1lantEqual;\u6a7dilde;\u6272r;\uc000\u{1d50f}\u0100;e\u09bd\u09be\u62d8ftarrow;\u61daidot;\u413f\u0180npw\u09d4\u0a16\u0a1bg\u0200LRlr\u09de\u09f7\u0a02\u0a10eft\u0100AR\u09e6\u09ecrrow;\u67f5ightArrow;\u67f7ightArrow;\u67f6eft\u0100ar\u03b3\u0a0aight\xe1\u03bfight\xe1\u03caf;\uc000\u{1d543}er\u0100LR\u0a22\u0a2ceftArrow;\u6199ightArrow;\u6198\u0180cht\u0a3e\u0a40\u0a42\xf2\u084c;\u61b0rok;\u4141;\u626a\u0400acefiosu\u0a5a\u0a5d\u0a60\u0a77\u0a7c\u0a85\u0a8b\u0a8ep;\u6905y;\u441c\u0100dl\u0a65\u0a6fiumSpace;\u605flintrf;\u6133r;\uc000\u{1d510}nusPlus;\u6213pf;\uc000\u{1d544}c\xf2\u0a76;\u439c\u0480Jacefostu\u0aa3\u0aa7\u0aad\u0ac0\u0b14\u0b19\u0d91\u0d97\u0d9ecy;\u440acute;\u4143\u0180aey\u0ab4\u0ab9\u0aberon;\u4147dil;\u4145;\u441d\u0180gsw\u0ac7\u0af0\u0b0eative\u0180MTV\u0ad3\u0adf\u0ae8ediumSpace;\u600bhi\u0100cn\u0ae6\u0ad8\xeb\u0ad9eryThi\xee\u0ad9ted\u0100GL\u0af8\u0b06reaterGreate\xf2\u0673essLes\xf3\u0a48Line;\u400ar;\uc000\u{1d511}\u0200Bnpt\u0b22\u0b28\u0b37\u0b3areak;\u6060BreakingSpace;\u40a0f;\u6115\u0680;CDEGHLNPRSTV\u0b55\u0b56\u0b6a\u0b7c\u0ba1\u0beb\u0c04\u0c5e\u0c84\u0ca6\u0cd8\u0d61\u0d85\u6aec\u0100ou\u0b5b\u0b64ngruent;\u6262pCap;\u626doubleVerticalBar;\u6226\u0180lqx\u0b83\u0b8a\u0b9bement;\u6209ual\u0100;T\u0b92\u0b93\u6260ilde;\uc000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0bb6\u0bb7\u0bbd\u0bc9\u0bd3\u0bd8\u0be5\u626fqual;\u6271ullEqual;\uc000\u2267\u0338reater;\uc000\u226b\u0338ess;\u6279lantEqual;\uc000\u2a7e\u0338ilde;\u6275ump\u0144\u0bf2\u0bfdownHump;\uc000\u224e\u0338qual;\uc000\u224f\u0338e\u0100fs\u0c0a\u0c27tTriangle\u0180;BE\u0c1a\u0c1b\u0c21\u62eaar;\uc000\u29cf\u0338qual;\u62ecs\u0300;EGLST\u0c35\u0c36\u0c3c\u0c44\u0c4b\u0c58\u626equal;\u6270reater;\u6278ess;\uc000\u226a\u0338lantEqual;\uc000\u2a7d\u0338ilde;\u6274ested\u0100GL\u0c68\u0c79reaterGreater;\uc000\u2aa2\u0338essLess;\uc000\u2aa1\u0338recedes\u0180;ES\u0c92\u0c93\u0c9b\u6280qual;\uc000\u2aaf\u0338lantEqual;\u62e0\u0100ei\u0cab\u0cb9verseElement;\u620cghtTriangle\u0180;BE\u0ccb\u0ccc\u0cd2\u62ebar;\uc000\u29d0\u0338qual;\u62ed\u0100qu\u0cdd\u0d0cuareSu\u0100bp\u0ce8\u0cf9set\u0100;E\u0cf0\u0cf3\uc000\u228f\u0338qual;\u62e2erset\u0100;E\u0d03\u0d06\uc000\u2290\u0338qual;\u62e3\u0180bcp\u0d13\u0d24\u0d4eset\u0100;E\u0d1b\u0d1e\uc000\u2282\u20d2qual;\u6288ceeds\u0200;EST\u0d32\u0d33\u0d3b\u0d46\u6281qual;\uc000\u2ab0\u0338lantEqual;\u62e1ilde;\uc000\u227f\u0338erset\u0100;E\u0d58\u0d5b\uc000\u2283\u20d2qual;\u6289ilde\u0200;EFT\u0d6e\u0d6f\u0d75\u0d7f\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uc000\u{1d4a9}ilde\u803b\xd1\u40d1;\u439d\u0700Eacdfgmoprstuv\u0dbd\u0dc2\u0dc9\u0dd5\u0ddb\u0de0\u0de7\u0dfc\u0e02\u0e20\u0e22\u0e32\u0e3f\u0e44lig;\u4152cute\u803b\xd3\u40d3\u0100iy\u0dce\u0dd3rc\u803b\xd4\u40d4;\u441eblac;\u4150r;\uc000\u{1d512}rave\u803b\xd2\u40d2\u0180aei\u0dee\u0df2\u0df6cr;\u414cga;\u43a9cron;\u439fpf;\uc000\u{1d546}enCurly\u0100DQ\u0e0e\u0e1aoubleQuote;\u601cuote;\u6018;\u6a54\u0100cl\u0e27\u0e2cr;\uc000\u{1d4aa}ash\u803b\xd8\u40d8i\u016c\u0e37\u0e3cde\u803b\xd5\u40d5es;\u6a37ml\u803b\xd6\u40d6er\u0100BP\u0e4b\u0e60\u0100ar\u0e50\u0e53r;\u603eac\u0100ek\u0e5a\u0e5c;\u63deet;\u63b4arenthesis;\u63dc\u0480acfhilors\u0e7f\u0e87\u0e8a\u0e8f\u0e92\u0e94\u0e9d\u0eb0\u0efcrtialD;\u6202y;\u441fr;\uc000\u{1d513}i;\u43a6;\u43a0usMinus;\u40b1\u0100ip\u0ea2\u0eadncareplan\xe5\u069df;\u6119\u0200;eio\u0eb9\u0eba\u0ee0\u0ee4\u6abbcedes\u0200;EST\u0ec8\u0ec9\u0ecf\u0eda\u627aqual;\u6aaflantEqual;\u627cilde;\u627eme;\u6033\u0100dp\u0ee9\u0eeeuct;\u620fortion\u0100;a\u0225\u0ef9l;\u621d\u0100ci\u0f01\u0f06r;\uc000\u{1d4ab};\u43a8\u0200Ufos\u0f11\u0f16\u0f1b\u0f1fOT\u803b"\u4022r;\uc000\u{1d514}pf;\u611acr;\uc000\u{1d4ac}\u0600BEacefhiorsu\u0f3e\u0f43\u0f47\u0f60\u0f73\u0fa7\u0faa\u0fad\u1096\u10a9\u10b4\u10bearr;\u6910G\u803b\xae\u40ae\u0180cnr\u0f4e\u0f53\u0f56ute;\u4154g;\u67ebr\u0100;t\u0f5c\u0f5d\u61a0l;\u6916\u0180aey\u0f67\u0f6c\u0f71ron;\u4158dil;\u4156;\u4420\u0100;v\u0f78\u0f79\u611cerse\u0100EU\u0f82\u0f99\u0100lq\u0f87\u0f8eement;\u620builibrium;\u61cbpEquilibrium;\u696fr\xbb\u0f79o;\u43a1ght\u0400ACDFTUVa\u0fc1\u0feb\u0ff3\u1022\u1028\u105b\u1087\u03d8\u0100nr\u0fc6\u0fd2gleBracket;\u67e9row\u0180;BL\u0fdc\u0fdd\u0fe1\u6192ar;\u61e5eftArrow;\u61c4eiling;\u6309o\u01f5\u0ff9\0\u1005bleBracket;\u67e7n\u01d4\u100a\0\u1014eeVector;\u695dector\u0100;B\u101d\u101e\u61c2ar;\u6955loor;\u630b\u0100er\u102d\u1043e\u0180;AV\u1035\u1036\u103c\u62a2rrow;\u61a6ector;\u695biangle\u0180;BE\u1050\u1051\u1055\u62b3ar;\u69d0qual;\u62b5p\u0180DTV\u1063\u106e\u1078ownVector;\u694feeVector;\u695cector\u0100;B\u1082\u1083\u61bear;\u6954ector\u0100;B\u1091\u1092\u61c0ar;\u6953\u0100pu\u109b\u109ef;\u611dndImplies;\u6970ightarrow;\u61db\u0100ch\u10b9\u10bcr;\u611b;\u61b1leDelayed;\u69f4\u0680HOacfhimoqstu\u10e4\u10f1\u10f7\u10fd\u1119\u111e\u1151\u1156\u1161\u1167\u11b5\u11bb\u11bf\u0100Cc\u10e9\u10eeHcy;\u4429y;\u4428FTcy;\u442ccute;\u415a\u0280;aeiy\u1108\u1109\u110e\u1113\u1117\u6abcron;\u4160dil;\u415erc;\u415c;\u4421r;\uc000\u{1d516}ort\u0200DLRU\u112a\u1134\u113e\u1149ownArrow\xbb\u041eeftArrow\xbb\u089aightArrow\xbb\u0fddpArrow;\u6191gma;\u43a3allCircle;\u6218pf;\uc000\u{1d54a}\u0272\u116d\0\0\u1170t;\u621aare\u0200;ISU\u117b\u117c\u1189\u11af\u65a1ntersection;\u6293u\u0100bp\u118f\u119eset\u0100;E\u1197\u1198\u628fqual;\u6291erset\u0100;E\u11a8\u11a9\u6290qual;\u6292nion;\u6294cr;\uc000\u{1d4ae}ar;\u62c6\u0200bcmp\u11c8\u11db\u1209\u120b\u0100;s\u11cd\u11ce\u62d0et\u0100;E\u11cd\u11d5qual;\u6286\u0100ch\u11e0\u1205eeds\u0200;EST\u11ed\u11ee\u11f4\u11ff\u627bqual;\u6ab0lantEqual;\u627dilde;\u627fTh\xe1\u0f8c;\u6211\u0180;es\u1212\u1213\u1223\u62d1rset\u0100;E\u121c\u121d\u6283qual;\u6287et\xbb\u1213\u0580HRSacfhiors\u123e\u1244\u1249\u1255\u125e\u1271\u1276\u129f\u12c2\u12c8\u12d1ORN\u803b\xde\u40deADE;\u6122\u0100Hc\u124e\u1252cy;\u440by;\u4426\u0100bu\u125a\u125c;\u4009;\u43a4\u0180aey\u1265\u126a\u126fron;\u4164dil;\u4162;\u4422r;\uc000\u{1d517}\u0100ei\u127b\u1289\u01f2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128e\u1298kSpace;\uc000\u205f\u200aSpace;\u6009lde\u0200;EFT\u12ab\u12ac\u12b2\u12bc\u623cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uc000\u{1d54b}ipleDot;\u60db\u0100ct\u12d6\u12dbr;\uc000\u{1d4af}rok;\u4166\u0ae1\u12f7\u130e\u131a\u1326\0\u132c\u1331\0\0\0\0\0\u1338\u133d\u1377\u1385\0\u13ff\u1404\u140a\u1410\u0100cr\u12fb\u1301ute\u803b\xda\u40dar\u0100;o\u1307\u1308\u619fcir;\u6949r\u01e3\u1313\0\u1316y;\u440eve;\u416c\u0100iy\u131e\u1323rc\u803b\xdb\u40db;\u4423blac;\u4170r;\uc000\u{1d518}rave\u803b\xd9\u40d9acr;\u416a\u0100di\u1341\u1369er\u0100BP\u1348\u135d\u0100ar\u134d\u1350r;\u405fac\u0100ek\u1357\u1359;\u63dfet;\u63b5arenthesis;\u63ddon\u0100;P\u1370\u1371\u62c3lus;\u628e\u0100gp\u137b\u137fon;\u4172f;\uc000\u{1d54c}\u0400ADETadps\u1395\u13ae\u13b8\u13c4\u03e8\u13d2\u13d7\u13f3rrow\u0180;BD\u1150\u13a0\u13a4ar;\u6912ownArrow;\u61c5ownArrow;\u6195quilibrium;\u696eee\u0100;A\u13cb\u13cc\u62a5rrow;\u61a5own\xe1\u03f3er\u0100LR\u13de\u13e8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13f9\u13fa\u43d2on;\u43a5ing;\u416ecr;\uc000\u{1d4b0}ilde;\u4168ml\u803b\xdc\u40dc\u0480Dbcdefosv\u1427\u142c\u1430\u1433\u143e\u1485\u148a\u1490\u1496ash;\u62abar;\u6aeby;\u4412ash\u0100;l\u143b\u143c\u62a9;\u6ae6\u0100er\u1443\u1445;\u62c1\u0180bty\u144c\u1450\u147aar;\u6016\u0100;i\u144f\u1455cal\u0200BLST\u1461\u1465\u146a\u1474ar;\u6223ine;\u407ceparator;\u6758ilde;\u6240ThinSpace;\u600ar;\uc000\u{1d519}pf;\uc000\u{1d54d}cr;\uc000\u{1d4b1}dash;\u62aa\u0280cefos\u14a7\u14ac\u14b1\u14b6\u14bcirc;\u4174dge;\u62c0r;\uc000\u{1d51a}pf;\uc000\u{1d54e}cr;\uc000\u{1d4b2}\u0200fios\u14cb\u14d0\u14d2\u14d8r;\uc000\u{1d51b};\u439epf;\uc000\u{1d54f}cr;\uc000\u{1d4b3}\u0480AIUacfosu\u14f1\u14f5\u14f9\u14fd\u1504\u150f\u1514\u151a\u1520cy;\u442fcy;\u4407cy;\u442ecute\u803b\xdd\u40dd\u0100iy\u1509\u150drc;\u4176;\u442br;\uc000\u{1d51c}pf;\uc000\u{1d550}cr;\uc000\u{1d4b4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153f\u154b\u154f\u155d\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417d;\u4417ot;\u417b\u01f2\u1554\0\u155boWidt\xe8\u0ad9a;\u4396r;\u6128pf;\u6124cr;\uc000\u{1d4b5}\u0be1\u1583\u158a\u1590\0\u15b0\u15b6\u15bf\0\0\0\0\u15c6\u15db\u15eb\u165f\u166d\0\u1695\u169b\u16b2\u16b9\0\u16becute\u803b\xe1\u40e1reve;\u4103\u0300;Ediuy\u159c\u159d\u15a1\u15a3\u15a8\u15ad\u623e;\uc000\u223e\u0333;\u623frc\u803b\xe2\u40e2te\u80bb\xb4\u0306;\u4430lig\u803b\xe6\u40e6\u0100;r\xb2\u15ba;\uc000\u{1d51e}rave\u803b\xe0\u40e0\u0100ep\u15ca\u15d6\u0100fp\u15cf\u15d4sym;\u6135\xe8\u15d3ha;\u43b1\u0100ap\u15dfc\u0100cl\u15e4\u15e7r;\u4101g;\u6a3f\u0264\u15f0\0\0\u160a\u0280;adsv\u15fa\u15fb\u15ff\u1601\u1607\u6227nd;\u6a55;\u6a5clope;\u6a58;\u6a5a\u0380;elmrsz\u1618\u1619\u161b\u161e\u163f\u164f\u1659\u6220;\u69a4e\xbb\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163a\u163c\u163e;\u69a8;\u69a9;\u69aa;\u69ab;\u69ac;\u69ad;\u69ae;\u69aft\u0100;v\u1645\u1646\u621fb\u0100;d\u164c\u164d\u62be;\u699d\u0100pt\u1654\u1657h;\u6222\xbb\xb9arr;\u637c\u0100gp\u1663\u1667on;\u4105f;\uc000\u{1d552}\u0380;Eaeiop\u12c1\u167b\u167d\u1682\u1684\u1687\u168a;\u6a70cir;\u6a6f;\u624ad;\u624bs;\u4027rox\u0100;e\u12c1\u1692\xf1\u1683ing\u803b\xe5\u40e5\u0180cty\u16a1\u16a6\u16a8r;\uc000\u{1d4b6};\u402amp\u0100;e\u12c1\u16af\xf1\u0288ilde\u803b\xe3\u40e3ml\u803b\xe4\u40e4\u0100ci\u16c2\u16c8onin\xf4\u0272nt;\u6a11\u0800Nabcdefiklnoprsu\u16ed\u16f1\u1730\u173c\u1743\u1748\u1778\u177d\u17e0\u17e6\u1839\u1850\u170d\u193d\u1948\u1970ot;\u6aed\u0100cr\u16f6\u171ek\u0200ceps\u1700\u1705\u170d\u1713ong;\u624cpsilon;\u43f6rime;\u6035im\u0100;e\u171a\u171b\u623dq;\u62cd\u0176\u1722\u1726ee;\u62bded\u0100;g\u172c\u172d\u6305e\xbb\u172drk\u0100;t\u135c\u1737brk;\u63b6\u0100oy\u1701\u1741;\u4431quo;\u601e\u0280cmprt\u1753\u175b\u1761\u1764\u1768aus\u0100;e\u010a\u0109ptyv;\u69b0s\xe9\u170cno\xf5\u0113\u0180ahw\u176f\u1771\u1773;\u43b2;\u6136een;\u626cr;\uc000\u{1d51f}g\u0380costuvw\u178d\u179d\u17b3\u17c1\u17d5\u17db\u17de\u0180aiu\u1794\u1796\u179a\xf0\u0760rc;\u65efp\xbb\u1371\u0180dpt\u17a4\u17a8\u17adot;\u6a00lus;\u6a01imes;\u6a02\u0271\u17b9\0\0\u17becup;\u6a06ar;\u6605riangle\u0100du\u17cd\u17d2own;\u65bdp;\u65b3plus;\u6a04e\xe5\u1444\xe5\u14adarow;\u690d\u0180ako\u17ed\u1826\u1835\u0100cn\u17f2\u1823k\u0180lst\u17fa\u05ab\u1802ozenge;\u69ebriangle\u0200;dlr\u1812\u1813\u1818\u181d\u65b4own;\u65beeft;\u65c2ight;\u65b8k;\u6423\u01b1\u182b\0\u1833\u01b2\u182f\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183e\u184d\u0100;q\u1843\u1846\uc000=\u20e5uiv;\uc000\u2261\u20e5t;\u6310\u0200ptwx\u1859\u185e\u1867\u186cf;\uc000\u{1d553}\u0100;t\u13cb\u1863om\xbb\u13cctie;\u62c8\u0600DHUVbdhmptuv\u1885\u1896\u18aa\u18bb\u18d7\u18db\u18ec\u18ff\u1905\u190a\u1910\u1921\u0200LRlr\u188e\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18a1\u18a2\u18a4\u18a6\u18a8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18b3\u18b5\u18b7\u18b9;\u655d;\u655a;\u655c;\u6559\u0380;HLRhlr\u18ca\u18cb\u18cd\u18cf\u18d1\u18d3\u18d5\u6551;\u656c;\u6563;\u6560;\u656b;\u6562;\u655fox;\u69c9\u0200LRlr\u18e4\u18e6\u18e8\u18ea;\u6555;\u6552;\u6510;\u650c\u0280;DUdu\u06bd\u18f7\u18f9\u18fb\u18fd;\u6565;\u6568;\u652c;\u6534inus;\u629flus;\u629eimes;\u62a0\u0200LRlr\u1919\u191b\u191d\u191f;\u655b;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193b\u6502;\u656a;\u6561;\u655e;\u653c;\u6524;\u651c\u0100ev\u0123\u1942bar\u803b\xa6\u40a6\u0200ceio\u1951\u1956\u195a\u1960r;\uc000\u{1d4b7}mi;\u604fm\u0100;e\u171a\u171cl\u0180;bh\u1968\u1969\u196b\u405c;\u69c5sub;\u67c8\u016c\u1974\u197el\u0100;e\u1979\u197a\u6022t\xbb\u197ap\u0180;Ee\u012f\u1985\u1987;\u6aae\u0100;q\u06dc\u06db\u0ce1\u19a7\0\u19e8\u1a11\u1a15\u1a32\0\u1a37\u1a50\0\0\u1ab4\0\0\u1ac1\0\0\u1b21\u1b2e\u1b4d\u1b52\0\u1bfd\0\u1c0c\u0180cpr\u19ad\u19b2\u19ddute;\u4107\u0300;abcds\u19bf\u19c0\u19c4\u19ca\u19d5\u19d9\u6229nd;\u6a44rcup;\u6a49\u0100au\u19cf\u19d2p;\u6a4bp;\u6a47ot;\u6a40;\uc000\u2229\ufe00\u0100eo\u19e2\u19e5t;\u6041\xee\u0693\u0200aeiu\u19f0\u19fb\u1a01\u1a05\u01f0\u19f5\0\u19f8s;\u6a4don;\u410ddil\u803b\xe7\u40e7rc;\u4109ps\u0100;s\u1a0c\u1a0d\u6a4cm;\u6a50ot;\u410b\u0180dmn\u1a1b\u1a20\u1a26il\u80bb\xb8\u01adptyv;\u69b2t\u8100\xa2;e\u1a2d\u1a2e\u40a2r\xe4\u01b2r;\uc000\u{1d520}\u0180cei\u1a3d\u1a40\u1a4dy;\u4447ck\u0100;m\u1a47\u1a48\u6713ark\xbb\u1a48;\u43c7r\u0380;Ecefms\u1a5f\u1a60\u1a62\u1a6b\u1aa4\u1aaa\u1aae\u65cb;\u69c3\u0180;el\u1a69\u1a6a\u1a6d\u42c6q;\u6257e\u0261\u1a74\0\0\u1a88rrow\u0100lr\u1a7c\u1a81eft;\u61baight;\u61bb\u0280RSacd\u1a92\u1a94\u1a96\u1a9a\u1a9f\xbb\u0f47;\u64c8st;\u629birc;\u629aash;\u629dnint;\u6a10id;\u6aefcir;\u69c2ubs\u0100;u\u1abb\u1abc\u6663it\xbb\u1abc\u02ec\u1ac7\u1ad4\u1afa\0\u1b0aon\u0100;e\u1acd\u1ace\u403a\u0100;q\xc7\xc6\u026d\u1ad9\0\0\u1ae2a\u0100;t\u1ade\u1adf\u402c;\u4040\u0180;fl\u1ae8\u1ae9\u1aeb\u6201\xee\u1160e\u0100mx\u1af1\u1af6ent\xbb\u1ae9e\xf3\u024d\u01e7\u1afe\0\u1b07\u0100;d\u12bb\u1b02ot;\u6a6dn\xf4\u0246\u0180fry\u1b10\u1b14\u1b17;\uc000\u{1d554}o\xe4\u0254\u8100\xa9;s\u0155\u1b1dr;\u6117\u0100ao\u1b25\u1b29rr;\u61b5ss;\u6717\u0100cu\u1b32\u1b37r;\uc000\u{1d4b8}\u0100bp\u1b3c\u1b44\u0100;e\u1b41\u1b42\u6acf;\u6ad1\u0100;e\u1b49\u1b4a\u6ad0;\u6ad2dot;\u62ef\u0380delprvw\u1b60\u1b6c\u1b77\u1b82\u1bac\u1bd4\u1bf9arr\u0100lr\u1b68\u1b6a;\u6938;\u6935\u0270\u1b72\0\0\u1b75r;\u62dec;\u62dfarr\u0100;p\u1b7f\u1b80\u61b6;\u693d\u0300;bcdos\u1b8f\u1b90\u1b96\u1ba1\u1ba5\u1ba8\u622arcap;\u6a48\u0100au\u1b9b\u1b9ep;\u6a46p;\u6a4aot;\u628dr;\u6a45;\uc000\u222a\ufe00\u0200alrv\u1bb5\u1bbf\u1bde\u1be3rr\u0100;m\u1bbc\u1bbd\u61b7;\u693cy\u0180evw\u1bc7\u1bd4\u1bd8q\u0270\u1bce\0\0\u1bd2re\xe3\u1b73u\xe3\u1b75ee;\u62ceedge;\u62cfen\u803b\xa4\u40a4earrow\u0100lr\u1bee\u1bf3eft\xbb\u1b80ight\xbb\u1bbde\xe4\u1bdd\u0100ci\u1c01\u1c07onin\xf4\u01f7nt;\u6231lcty;\u632d\u0980AHabcdefhijlorstuwz\u1c38\u1c3b\u1c3f\u1c5d\u1c69\u1c75\u1c8a\u1c9e\u1cac\u1cb7\u1cfb\u1cff\u1d0d\u1d7b\u1d91\u1dab\u1dbb\u1dc6\u1dcdr\xf2\u0381ar;\u6965\u0200glrs\u1c48\u1c4d\u1c52\u1c54ger;\u6020eth;\u6138\xf2\u1133h\u0100;v\u1c5a\u1c5b\u6010\xbb\u090a\u016b\u1c61\u1c67arow;\u690fa\xe3\u0315\u0100ay\u1c6e\u1c73ron;\u410f;\u4434\u0180;ao\u0332\u1c7c\u1c84\u0100gr\u02bf\u1c81r;\u61catseq;\u6a77\u0180glm\u1c91\u1c94\u1c98\u803b\xb0\u40b0ta;\u43b4ptyv;\u69b1\u0100ir\u1ca3\u1ca8sht;\u697f;\uc000\u{1d521}ar\u0100lr\u1cb3\u1cb5\xbb\u08dc\xbb\u101e\u0280aegsv\u1cc2\u0378\u1cd6\u1cdc\u1ce0m\u0180;os\u0326\u1cca\u1cd4nd\u0100;s\u0326\u1cd1uit;\u6666amma;\u43ddin;\u62f2\u0180;io\u1ce7\u1ce8\u1cf8\u40f7de\u8100\xf7;o\u1ce7\u1cf0ntimes;\u62c7n\xf8\u1cf7cy;\u4452c\u026f\u1d06\0\0\u1d0arn;\u631eop;\u630d\u0280lptuw\u1d18\u1d1d\u1d22\u1d49\u1d55lar;\u4024f;\uc000\u{1d555}\u0280;emps\u030b\u1d2d\u1d37\u1d3d\u1d42q\u0100;d\u0352\u1d33ot;\u6251inus;\u6238lus;\u6214quare;\u62a1blebarwedg\xe5\xfan\u0180adh\u112e\u1d5d\u1d67ownarrow\xf3\u1c83arpoon\u0100lr\u1d72\u1d76ef\xf4\u1cb4igh\xf4\u1cb6\u0162\u1d7f\u1d85karo\xf7\u0f42\u026f\u1d8a\0\0\u1d8ern;\u631fop;\u630c\u0180cot\u1d98\u1da3\u1da6\u0100ry\u1d9d\u1da1;\uc000\u{1d4b9};\u4455l;\u69f6rok;\u4111\u0100dr\u1db0\u1db4ot;\u62f1i\u0100;f\u1dba\u1816\u65bf\u0100ah\u1dc0\u1dc3r\xf2\u0429a\xf2\u0fa6angle;\u69a6\u0100ci\u1dd2\u1dd5y;\u445fgrarr;\u67ff\u0900Dacdefglmnopqrstux\u1e01\u1e09\u1e19\u1e38\u0578\u1e3c\u1e49\u1e61\u1e7e\u1ea5\u1eaf\u1ebd\u1ee1\u1f2a\u1f37\u1f44\u1f4e\u1f5a\u0100Do\u1e06\u1d34o\xf4\u1c89\u0100cs\u1e0e\u1e14ute\u803b\xe9\u40e9ter;\u6a6e\u0200aioy\u1e22\u1e27\u1e31\u1e36ron;\u411br\u0100;c\u1e2d\u1e2e\u6256\u803b\xea\u40ealon;\u6255;\u444dot;\u4117\u0100Dr\u1e41\u1e45ot;\u6252;\uc000\u{1d522}\u0180;rs\u1e50\u1e51\u1e57\u6a9aave\u803b\xe8\u40e8\u0100;d\u1e5c\u1e5d\u6a96ot;\u6a98\u0200;ils\u1e6a\u1e6b\u1e72\u1e74\u6a99nters;\u63e7;\u6113\u0100;d\u1e79\u1e7a\u6a95ot;\u6a97\u0180aps\u1e85\u1e89\u1e97cr;\u4113ty\u0180;sv\u1e92\u1e93\u1e95\u6205et\xbb\u1e93p\u01001;\u1e9d\u1ea4\u0133\u1ea1\u1ea3;\u6004;\u6005\u6003\u0100gs\u1eaa\u1eac;\u414bp;\u6002\u0100gp\u1eb4\u1eb8on;\u4119f;\uc000\u{1d556}\u0180als\u1ec4\u1ece\u1ed2r\u0100;s\u1eca\u1ecb\u62d5l;\u69e3us;\u6a71i\u0180;lv\u1eda\u1edb\u1edf\u43b5on\xbb\u1edb;\u43f5\u0200csuv\u1eea\u1ef3\u1f0b\u1f23\u0100io\u1eef\u1e31rc\xbb\u1e2e\u0269\u1ef9\0\0\u1efb\xed\u0548ant\u0100gl\u1f02\u1f06tr\xbb\u1e5dess\xbb\u1e7a\u0180aei\u1f12\u1f16\u1f1als;\u403dst;\u625fv\u0100;D\u0235\u1f20D;\u6a78parsl;\u69e5\u0100Da\u1f2f\u1f33ot;\u6253rr;\u6971\u0180cdi\u1f3e\u1f41\u1ef8r;\u612fo\xf4\u0352\u0100ah\u1f49\u1f4b;\u43b7\u803b\xf0\u40f0\u0100mr\u1f53\u1f57l\u803b\xeb\u40ebo;\u60ac\u0180cip\u1f61\u1f64\u1f67l;\u4021s\xf4\u056e\u0100eo\u1f6c\u1f74ctatio\xee\u0559nential\xe5\u0579\u09e1\u1f92\0\u1f9e\0\u1fa1\u1fa7\0\0\u1fc6\u1fcc\0\u1fd3\0\u1fe6\u1fea\u2000\0\u2008\u205allingdotse\xf1\u1e44y;\u4444male;\u6640\u0180ilr\u1fad\u1fb3\u1fc1lig;\u8000\ufb03\u0269\u1fb9\0\0\u1fbdg;\u8000\ufb00ig;\u8000\ufb04;\uc000\u{1d523}lig;\u8000\ufb01lig;\uc000fj\u0180alt\u1fd9\u1fdc\u1fe1t;\u666dig;\u8000\ufb02ns;\u65b1of;\u4192\u01f0\u1fee\0\u1ff3f;\uc000\u{1d557}\u0100ak\u05bf\u1ff7\u0100;v\u1ffc\u1ffd\u62d4;\u6ad9artint;\u6a0d\u0100ao\u200c\u2055\u0100cs\u2011\u2052\u03b1\u201a\u2030\u2038\u2045\u2048\0\u2050\u03b2\u2022\u2025\u2027\u202a\u202c\0\u202e\u803b\xbd\u40bd;\u6153\u803b\xbc\u40bc;\u6155;\u6159;\u615b\u01b3\u2034\0\u2036;\u6154;\u6156\u02b4\u203e\u2041\0\0\u2043\u803b\xbe\u40be;\u6157;\u615c5;\u6158\u01b6\u204c\0\u204e;\u615a;\u615d8;\u615el;\u6044wn;\u6322cr;\uc000\u{1d4bb}\u0880Eabcdefgijlnorstv\u2082\u2089\u209f\u20a5\u20b0\u20b4\u20f0\u20f5\u20fa\u20ff\u2103\u2112\u2138\u0317\u213e\u2152\u219e\u0100;l\u064d\u2087;\u6a8c\u0180cmp\u2090\u2095\u209dute;\u41f5ma\u0100;d\u209c\u1cda\u43b3;\u6a86reve;\u411f\u0100iy\u20aa\u20aerc;\u411d;\u4433ot;\u4121\u0200;lqs\u063e\u0642\u20bd\u20c9\u0180;qs\u063e\u064c\u20c4lan\xf4\u0665\u0200;cdl\u0665\u20d2\u20d5\u20e5c;\u6aa9ot\u0100;o\u20dc\u20dd\u6a80\u0100;l\u20e2\u20e3\u6a82;\u6a84\u0100;e\u20ea\u20ed\uc000\u22db\ufe00s;\u6a94r;\uc000\u{1d524}\u0100;g\u0673\u061bmel;\u6137cy;\u4453\u0200;Eaj\u065a\u210c\u210e\u2110;\u6a92;\u6aa5;\u6aa4\u0200Eaes\u211b\u211d\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6a8arox\xbb\u2124\u0100;q\u212e\u212f\u6a88\u0100;q\u212e\u211bim;\u62e7pf;\uc000\u{1d558}\u0100ci\u2143\u2146r;\u610am\u0180;el\u066b\u214e\u2150;\u6a8e;\u6a90\u8300>;cdlqr\u05ee\u2160\u216a\u216e\u2173\u2179\u0100ci\u2165\u2167;\u6aa7r;\u6a7aot;\u62d7Par;\u6995uest;\u6a7c\u0280adels\u2184\u216a\u2190\u0656\u219b\u01f0\u2189\0\u218epro\xf8\u209er;\u6978q\u0100lq\u063f\u2196les\xf3\u2088i\xed\u066b\u0100en\u21a3\u21adrtneqq;\uc000\u2269\ufe00\xc5\u21aa\u0500Aabcefkosy\u21c4\u21c7\u21f1\u21f5\u21fa\u2218\u221d\u222f\u2268\u227dr\xf2\u03a0\u0200ilmr\u21d0\u21d4\u21d7\u21dbrs\xf0\u1484f\xbb\u2024il\xf4\u06a9\u0100dr\u21e0\u21e4cy;\u444a\u0180;cw\u08f4\u21eb\u21efir;\u6948;\u61adar;\u610firc;\u4125\u0180alr\u2201\u220e\u2213rts\u0100;u\u2209\u220a\u6665it\xbb\u220alip;\u6026con;\u62b9r;\uc000\u{1d525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223a\u223e\u2243\u225e\u2263rr;\u61fftht;\u623bk\u0100lr\u2249\u2253eftarrow;\u61a9ightarrow;\u61aaf;\uc000\u{1d559}bar;\u6015\u0180clt\u226f\u2274\u2278r;\uc000\u{1d4bd}as\xe8\u21f4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xbb\u1c5b\u0ae1\u22a3\0\u22aa\0\u22b8\u22c5\u22ce\0\u22d5\u22f3\0\0\u22f8\u2322\u2367\u2362\u237f\0\u2386\u23aa\u23b4cute\u803b\xed\u40ed\u0180;iy\u0771\u22b0\u22b5rc\u803b\xee\u40ee;\u4438\u0100cx\u22bc\u22bfy;\u4435cl\u803b\xa1\u40a1\u0100fr\u039f\u22c9;\uc000\u{1d526}rave\u803b\xec\u40ec\u0200;ino\u073e\u22dd\u22e9\u22ee\u0100in\u22e2\u22e6nt;\u6a0ct;\u622dfin;\u69dcta;\u6129lig;\u4133\u0180aop\u22fe\u231a\u231d\u0180cgt\u2305\u2308\u2317r;\u412b\u0180elp\u071f\u230f\u2313in\xe5\u078ear\xf4\u0720h;\u4131f;\u62b7ed;\u41b5\u0280;cfot\u04f4\u232c\u2331\u233d\u2341are;\u6105in\u0100;t\u2338\u2339\u621eie;\u69dddo\xf4\u2319\u0280;celp\u0757\u234c\u2350\u235b\u2361al;\u62ba\u0100gr\u2355\u2359er\xf3\u1563\xe3\u234darhk;\u6a17rod;\u6a3c\u0200cgpt\u236f\u2372\u2376\u237by;\u4451on;\u412ff;\uc000\u{1d55a}a;\u43b9uest\u803b\xbf\u40bf\u0100ci\u238a\u238fr;\uc000\u{1d4be}n\u0280;Edsv\u04f4\u239b\u239d\u23a1\u04f3;\u62f9ot;\u62f5\u0100;v\u23a6\u23a7\u62f4;\u62f3\u0100;i\u0777\u23aelde;\u4129\u01eb\u23b8\0\u23bccy;\u4456l\u803b\xef\u40ef\u0300cfmosu\u23cc\u23d7\u23dc\u23e1\u23e7\u23f5\u0100iy\u23d1\u23d5rc;\u4135;\u4439r;\uc000\u{1d527}ath;\u4237pf;\uc000\u{1d55b}\u01e3\u23ec\0\u23f1r;\uc000\u{1d4bf}rcy;\u4458kcy;\u4454\u0400acfghjos\u240b\u2416\u2422\u2427\u242d\u2431\u2435\u243bppa\u0100;v\u2413\u2414\u43ba;\u43f0\u0100ey\u241b\u2420dil;\u4137;\u443ar;\uc000\u{1d528}reen;\u4138cy;\u4445cy;\u445cpf;\uc000\u{1d55c}cr;\uc000\u{1d4c0}\u0b80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248d\u2491\u250e\u253d\u255a\u2580\u264e\u265e\u2665\u2679\u267d\u269a\u26b2\u26d8\u275d\u2768\u278b\u27c0\u2801\u2812\u0180art\u2477\u247a\u247cr\xf2\u09c6\xf2\u0395ail;\u691barr;\u690e\u0100;g\u0994\u248b;\u6a8bar;\u6962\u0963\u24a5\0\u24aa\0\u24b1\0\0\0\0\0\u24b5\u24ba\0\u24c6\u24c8\u24cd\0\u24f9ute;\u413amptyv;\u69b4ra\xee\u084cbda;\u43bbg\u0180;dl\u088e\u24c1\u24c3;\u6991\xe5\u088e;\u6a85uo\u803b\xab\u40abr\u0400;bfhlpst\u0899\u24de\u24e6\u24e9\u24eb\u24ee\u24f1\u24f5\u0100;f\u089d\u24e3s;\u691fs;\u691d\xeb\u2252p;\u61abl;\u6939im;\u6973l;\u61a2\u0180;ae\u24ff\u2500\u2504\u6aabil;\u6919\u0100;s\u2509\u250a\u6aad;\uc000\u2aad\ufe00\u0180abr\u2515\u2519\u251drr;\u690crk;\u6772\u0100ak\u2522\u252cc\u0100ek\u2528\u252a;\u407b;\u405b\u0100es\u2531\u2533;\u698bl\u0100du\u2539\u253b;\u698f;\u698d\u0200aeuy\u2546\u254b\u2556\u2558ron;\u413e\u0100di\u2550\u2554il;\u413c\xec\u08b0\xe2\u2529;\u443b\u0200cqrs\u2563\u2566\u256d\u257da;\u6936uo\u0100;r\u0e19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694bh;\u61b2\u0280;fgqs\u258b\u258c\u0989\u25f3\u25ff\u6264t\u0280ahlrt\u2598\u25a4\u25b7\u25c2\u25e8rrow\u0100;t\u0899\u25a1a\xe9\u24f6arpoon\u0100du\u25af\u25b4own\xbb\u045ap\xbb\u0966eftarrows;\u61c7ight\u0180ahs\u25cd\u25d6\u25derrow\u0100;s\u08f4\u08a7arpoon\xf3\u0f98quigarro\xf7\u21f0hreetimes;\u62cb\u0180;qs\u258b\u0993\u25falan\xf4\u09ac\u0280;cdgs\u09ac\u260a\u260d\u261d\u2628c;\u6aa8ot\u0100;o\u2614\u2615\u6a7f\u0100;r\u261a\u261b\u6a81;\u6a83\u0100;e\u2622\u2625\uc000\u22da\ufe00s;\u6a93\u0280adegs\u2633\u2639\u263d\u2649\u264bppro\xf8\u24c6ot;\u62d6q\u0100gq\u2643\u2645\xf4\u0989gt\xf2\u248c\xf4\u099bi\xed\u09b2\u0180ilr\u2655\u08e1\u265asht;\u697c;\uc000\u{1d529}\u0100;E\u099c\u2663;\u6a91\u0161\u2669\u2676r\u0100du\u25b2\u266e\u0100;l\u0965\u2673;\u696alk;\u6584cy;\u4459\u0280;acht\u0a48\u2688\u268b\u2691\u2696r\xf2\u25c1orne\xf2\u1d08ard;\u696bri;\u65fa\u0100io\u269f\u26a4dot;\u4140ust\u0100;a\u26ac\u26ad\u63b0che\xbb\u26ad\u0200Eaes\u26bb\u26bd\u26c9\u26d4;\u6268p\u0100;p\u26c3\u26c4\u6a89rox\xbb\u26c4\u0100;q\u26ce\u26cf\u6a87\u0100;q\u26ce\u26bbim;\u62e6\u0400abnoptwz\u26e9\u26f4\u26f7\u271a\u272f\u2741\u2747\u2750\u0100nr\u26ee\u26f1g;\u67ecr;\u61fdr\xeb\u08c1g\u0180lmr\u26ff\u270d\u2714eft\u0100ar\u09e6\u2707ight\xe1\u09f2apsto;\u67fcight\xe1\u09fdparrow\u0100lr\u2725\u2729ef\xf4\u24edight;\u61ac\u0180afl\u2736\u2739\u273dr;\u6985;\uc000\u{1d55d}us;\u6a2dimes;\u6a34\u0161\u274b\u274fst;\u6217\xe1\u134e\u0180;ef\u2757\u2758\u1800\u65cange\xbb\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277c\u2785\u2787r\xf2\u08a8orne\xf2\u1d8car\u0100;d\u0f98\u2783;\u696d;\u600eri;\u62bf\u0300achiqt\u2798\u279d\u0a40\u27a2\u27ae\u27bbquo;\u6039r;\uc000\u{1d4c1}m\u0180;eg\u09b2\u27aa\u27ac;\u6a8d;\u6a8f\u0100bu\u252a\u27b3o\u0100;r\u0e1f\u27b9;\u601arok;\u4142\u8400<;cdhilqr\u082b\u27d2\u2639\u27dc\u27e0\u27e5\u27ea\u27f0\u0100ci\u27d7\u27d9;\u6aa6r;\u6a79re\xe5\u25f2mes;\u62c9arr;\u6976uest;\u6a7b\u0100Pi\u27f5\u27f9ar;\u6996\u0180;ef\u2800\u092d\u181b\u65c3r\u0100du\u2807\u280dshar;\u694ahar;\u6966\u0100en\u2817\u2821rtneqq;\uc000\u2268\ufe00\xc5\u281e\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288e\u2893\u28a0\u28a5\u28a8\u28da\u28e2\u28e4\u0a83\u28f3\u2902Dot;\u623a\u0200clpr\u284e\u2852\u2863\u287dr\u803b\xaf\u40af\u0100et\u2857\u2859;\u6642\u0100;e\u285e\u285f\u6720se\xbb\u285f\u0100;s\u103b\u2868to\u0200;dlu\u103b\u2873\u2877\u287bow\xee\u048cef\xf4\u090f\xf0\u13d1ker;\u65ae\u0100oy\u2887\u288cmma;\u6a29;\u443cash;\u6014asuredangle\xbb\u1626r;\uc000\u{1d52a}o;\u6127\u0180cdn\u28af\u28b4\u28c9ro\u803b\xb5\u40b5\u0200;acd\u1464\u28bd\u28c0\u28c4s\xf4\u16a7ir;\u6af0ot\u80bb\xb7\u01b5us\u0180;bd\u28d2\u1903\u28d3\u6212\u0100;u\u1d3c\u28d8;\u6a2a\u0163\u28de\u28e1p;\u6adb\xf2\u2212\xf0\u0a81\u0100dp\u28e9\u28eeels;\u62a7f;\uc000\u{1d55e}\u0100ct\u28f8\u28fdr;\uc000\u{1d4c2}pos\xbb\u159d\u0180;lm\u2909\u290a\u290d\u43bctimap;\u62b8\u0c00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297e\u2989\u2998\u29da\u29e9\u2a15\u2a1a\u2a58\u2a5d\u2a83\u2a95\u2aa4\u2aa8\u2b04\u2b07\u2b44\u2b7f\u2bae\u2c34\u2c67\u2c7c\u2ce9\u0100gt\u2947\u294b;\uc000\u22d9\u0338\u0100;v\u2950\u0bcf\uc000\u226b\u20d2\u0180elt\u295a\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61cdightarrow;\u61ce;\uc000\u22d8\u0338\u0100;v\u297b\u0c47\uc000\u226a\u20d2ightarrow;\u61cf\u0100Dd\u298e\u2993ash;\u62afash;\u62ae\u0280bcnpt\u29a3\u29a7\u29ac\u29b1\u29ccla\xbb\u02deute;\u4144g;\uc000\u2220\u20d2\u0280;Eiop\u0d84\u29bc\u29c0\u29c5\u29c8;\uc000\u2a70\u0338d;\uc000\u224b\u0338s;\u4149ro\xf8\u0d84ur\u0100;a\u29d3\u29d4\u666el\u0100;s\u29d3\u0b38\u01f3\u29df\0\u29e3p\u80bb\xa0\u0b37mp\u0100;e\u0bf9\u0c00\u0280aeouy\u29f4\u29fe\u2a03\u2a10\u2a13\u01f0\u29f9\0\u29fb;\u6a43on;\u4148dil;\u4146ng\u0100;d\u0d7e\u2a0aot;\uc000\u2a6d\u0338p;\u6a42;\u443dash;\u6013\u0380;Aadqsx\u0b92\u2a29\u2a2d\u2a3b\u2a41\u2a45\u2a50rr;\u61d7r\u0100hr\u2a33\u2a36k;\u6924\u0100;o\u13f2\u13f0ot;\uc000\u2250\u0338ui\xf6\u0b63\u0100ei\u2a4a\u2a4ear;\u6928\xed\u0b98ist\u0100;s\u0ba0\u0b9fr;\uc000\u{1d52b}\u0200Eest\u0bc5\u2a66\u2a79\u2a7c\u0180;qs\u0bbc\u2a6d\u0be1\u0180;qs\u0bbc\u0bc5\u2a74lan\xf4\u0be2i\xed\u0bea\u0100;r\u0bb6\u2a81\xbb\u0bb7\u0180Aap\u2a8a\u2a8d\u2a91r\xf2\u2971rr;\u61aear;\u6af2\u0180;sv\u0f8d\u2a9c\u0f8c\u0100;d\u2aa1\u2aa2\u62fc;\u62facy;\u445a\u0380AEadest\u2ab7\u2aba\u2abe\u2ac2\u2ac5\u2af6\u2af9r\xf2\u2966;\uc000\u2266\u0338rr;\u619ar;\u6025\u0200;fqs\u0c3b\u2ace\u2ae3\u2aeft\u0100ar\u2ad4\u2ad9rro\xf7\u2ac1ightarro\xf7\u2a90\u0180;qs\u0c3b\u2aba\u2aealan\xf4\u0c55\u0100;s\u0c55\u2af4\xbb\u0c36i\xed\u0c5d\u0100;r\u0c35\u2afei\u0100;e\u0c1a\u0c25i\xe4\u0d90\u0100pt\u2b0c\u2b11f;\uc000\u{1d55f}\u8180\xac;in\u2b19\u2b1a\u2b36\u40acn\u0200;Edv\u0b89\u2b24\u2b28\u2b2e;\uc000\u22f9\u0338ot;\uc000\u22f5\u0338\u01e1\u0b89\u2b33\u2b35;\u62f7;\u62f6i\u0100;v\u0cb8\u2b3c\u01e1\u0cb8\u2b41\u2b43;\u62fe;\u62fd\u0180aor\u2b4b\u2b63\u2b69r\u0200;ast\u0b7b\u2b55\u2b5a\u2b5flle\xec\u0b7bl;\uc000\u2afd\u20e5;\uc000\u2202\u0338lint;\u6a14\u0180;ce\u0c92\u2b70\u2b73u\xe5\u0ca5\u0100;c\u0c98\u2b78\u0100;e\u0c92\u2b7d\xf1\u0c98\u0200Aait\u2b88\u2b8b\u2b9d\u2ba7r\xf2\u2988rr\u0180;cw\u2b94\u2b95\u2b99\u619b;\uc000\u2933\u0338;\uc000\u219d\u0338ghtarrow\xbb\u2b95ri\u0100;e\u0ccb\u0cd6\u0380chimpqu\u2bbd\u2bcd\u2bd9\u2b04\u0b78\u2be4\u2bef\u0200;cer\u0d32\u2bc6\u0d37\u2bc9u\xe5\u0d45;\uc000\u{1d4c3}ort\u026d\u2b05\0\0\u2bd6ar\xe1\u2b56m\u0100;e\u0d6e\u2bdf\u0100;q\u0d74\u0d73su\u0100bp\u2beb\u2bed\xe5\u0cf8\xe5\u0d0b\u0180bcp\u2bf6\u2c11\u2c19\u0200;Ees\u2bff\u2c00\u0d22\u2c04\u6284;\uc000\u2ac5\u0338et\u0100;e\u0d1b\u2c0bq\u0100;q\u0d23\u2c00c\u0100;e\u0d32\u2c17\xf1\u0d38\u0200;Ees\u2c22\u2c23\u0d5f\u2c27\u6285;\uc000\u2ac6\u0338et\u0100;e\u0d58\u2c2eq\u0100;q\u0d60\u2c23\u0200gilr\u2c3d\u2c3f\u2c45\u2c47\xec\u0bd7lde\u803b\xf1\u40f1\xe7\u0c43iangle\u0100lr\u2c52\u2c5ceft\u0100;e\u0c1a\u2c5a\xf1\u0c26ight\u0100;e\u0ccb\u2c65\xf1\u0cd7\u0100;m\u2c6c\u2c6d\u43bd\u0180;es\u2c74\u2c75\u2c79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2c8f\u2c94\u2c99\u2c9e\u2ca3\u2cb0\u2cb6\u2cd3\u2ce3ash;\u62adarr;\u6904p;\uc000\u224d\u20d2ash;\u62ac\u0100et\u2ca8\u2cac;\uc000\u2265\u20d2;\uc000>\u20d2nfin;\u69de\u0180Aet\u2cbd\u2cc1\u2cc5rr;\u6902;\uc000\u2264\u20d2\u0100;r\u2cca\u2ccd\uc000<\u20d2ie;\uc000\u22b4\u20d2\u0100At\u2cd8\u2cdcrr;\u6903rie;\uc000\u22b5\u20d2im;\uc000\u223c\u20d2\u0180Aan\u2cf0\u2cf4\u2d02rr;\u61d6r\u0100hr\u2cfa\u2cfdk;\u6923\u0100;o\u13e7\u13e5ear;\u6927\u1253\u1a95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2d2d\0\u2d38\u2d48\u2d60\u2d65\u2d72\u2d84\u1b07\0\0\u2d8d\u2dab\0\u2dc8\u2dce\0\u2ddc\u2e19\u2e2b\u2e3e\u2e43\u0100cs\u2d31\u1a97ute\u803b\xf3\u40f3\u0100iy\u2d3c\u2d45r\u0100;c\u1a9e\u2d42\u803b\xf4\u40f4;\u443e\u0280abios\u1aa0\u2d52\u2d57\u01c8\u2d5alac;\u4151v;\u6a38old;\u69bclig;\u4153\u0100cr\u2d69\u2d6dir;\u69bf;\uc000\u{1d52c}\u036f\u2d79\0\0\u2d7c\0\u2d82n;\u42dbave\u803b\xf2\u40f2;\u69c1\u0100bm\u2d88\u0df4ar;\u69b5\u0200acit\u2d95\u2d98\u2da5\u2da8r\xf2\u1a80\u0100ir\u2d9d\u2da0r;\u69beoss;\u69bbn\xe5\u0e52;\u69c0\u0180aei\u2db1\u2db5\u2db9cr;\u414dga;\u43c9\u0180cdn\u2dc0\u2dc5\u01cdron;\u43bf;\u69b6pf;\uc000\u{1d560}\u0180ael\u2dd4\u2dd7\u01d2r;\u69b7rp;\u69b9\u0380;adiosv\u2dea\u2deb\u2dee\u2e08\u2e0d\u2e10\u2e16\u6228r\xf2\u1a86\u0200;efm\u2df7\u2df8\u2e02\u2e05\u6a5dr\u0100;o\u2dfe\u2dff\u6134f\xbb\u2dff\u803b\xaa\u40aa\u803b\xba\u40bagof;\u62b6r;\u6a56lope;\u6a57;\u6a5b\u0180clo\u2e1f\u2e21\u2e27\xf2\u2e01ash\u803b\xf8\u40f8l;\u6298i\u016c\u2e2f\u2e34de\u803b\xf5\u40f5es\u0100;a\u01db\u2e3as;\u6a36ml\u803b\xf6\u40f6bar;\u633d\u0ae1\u2e5e\0\u2e7d\0\u2e80\u2e9d\0\u2ea2\u2eb9\0\0\u2ecb\u0e9c\0\u2f13\0\0\u2f2b\u2fbc\0\u2fc8r\u0200;ast\u0403\u2e67\u2e72\u0e85\u8100\xb6;l\u2e6d\u2e6e\u40b6le\xec\u0403\u0269\u2e78\0\0\u2e7bm;\u6af3;\u6afdy;\u443fr\u0280cimpt\u2e8b\u2e8f\u2e93\u1865\u2e97nt;\u4025od;\u402eil;\u6030enk;\u6031r;\uc000\u{1d52d}\u0180imo\u2ea8\u2eb0\u2eb4\u0100;v\u2ead\u2eae\u43c6;\u43d5ma\xf4\u0a76ne;\u660e\u0180;tv\u2ebf\u2ec0\u2ec8\u43c0chfork\xbb\u1ffd;\u43d6\u0100au\u2ecf\u2edfn\u0100ck\u2ed5\u2eddk\u0100;h\u21f4\u2edb;\u610e\xf6\u21f4s\u0480;abcdemst\u2ef3\u2ef4\u1908\u2ef9\u2efd\u2f04\u2f06\u2f0a\u2f0e\u402bcir;\u6a23ir;\u6a22\u0100ou\u1d40\u2f02;\u6a25;\u6a72n\u80bb\xb1\u0e9dim;\u6a26wo;\u6a27\u0180ipu\u2f19\u2f20\u2f25ntint;\u6a15f;\uc000\u{1d561}nd\u803b\xa3\u40a3\u0500;Eaceinosu\u0ec8\u2f3f\u2f41\u2f44\u2f47\u2f81\u2f89\u2f92\u2f7e\u2fb6;\u6ab3p;\u6ab7u\xe5\u0ed9\u0100;c\u0ece\u2f4c\u0300;acens\u0ec8\u2f59\u2f5f\u2f66\u2f68\u2f7eppro\xf8\u2f43urlye\xf1\u0ed9\xf1\u0ece\u0180aes\u2f6f\u2f76\u2f7approx;\u6ab9qq;\u6ab5im;\u62e8i\xed\u0edfme\u0100;s\u2f88\u0eae\u6032\u0180Eas\u2f78\u2f90\u2f7a\xf0\u2f75\u0180dfp\u0eec\u2f99\u2faf\u0180als\u2fa0\u2fa5\u2faalar;\u632eine;\u6312urf;\u6313\u0100;t\u0efb\u2fb4\xef\u0efbrel;\u62b0\u0100ci\u2fc0\u2fc5r;\uc000\u{1d4c5};\u43c8ncsp;\u6008\u0300fiopsu\u2fda\u22e2\u2fdf\u2fe5\u2feb\u2ff1r;\uc000\u{1d52e}pf;\uc000\u{1d562}rime;\u6057cr;\uc000\u{1d4c6}\u0180aeo\u2ff8\u3009\u3013t\u0100ei\u2ffe\u3005rnion\xf3\u06b0nt;\u6a16st\u0100;e\u3010\u3011\u403f\xf1\u1f19\xf4\u0f14\u0a80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30e0\u310e\u312b\u3147\u3162\u3172\u318e\u3206\u3215\u3224\u3229\u3258\u326e\u3272\u3290\u32b0\u32b7\u0180art\u3047\u304a\u304cr\xf2\u10b3\xf2\u03ddail;\u691car\xf2\u1c65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307f\u308f\u3094\u30cc\u0100eu\u306d\u3071;\uc000\u223d\u0331te;\u4155i\xe3\u116emptyv;\u69b3g\u0200;del\u0fd1\u3089\u308b\u308d;\u6992;\u69a5\xe5\u0fd1uo\u803b\xbb\u40bbr\u0580;abcfhlpstw\u0fdc\u30ac\u30af\u30b7\u30b9\u30bc\u30be\u30c0\u30c3\u30c7\u30cap;\u6975\u0100;f\u0fe0\u30b4s;\u6920;\u6933s;\u691e\xeb\u225d\xf0\u272el;\u6945im;\u6974l;\u61a3;\u619d\u0100ai\u30d1\u30d5il;\u691ao\u0100;n\u30db\u30dc\u6236al\xf3\u0f1e\u0180abr\u30e7\u30ea\u30eer\xf2\u17e5rk;\u6773\u0100ak\u30f3\u30fdc\u0100ek\u30f9\u30fb;\u407d;\u405d\u0100es\u3102\u3104;\u698cl\u0100du\u310a\u310c;\u698e;\u6990\u0200aeuy\u3117\u311c\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xec\u0ff2\xe2\u30fa;\u4440\u0200clqs\u3134\u3137\u313d\u3144a;\u6937dhar;\u6969uo\u0100;r\u020e\u020dh;\u61b3\u0180acg\u314e\u315f\u0f44l\u0200;ips\u0f78\u3158\u315b\u109cn\xe5\u10bbar\xf4\u0fa9t;\u65ad\u0180ilr\u3169\u1023\u316esht;\u697d;\uc000\u{1d52f}\u0100ao\u3177\u3186r\u0100du\u317d\u317f\xbb\u047b\u0100;l\u1091\u3184;\u696c\u0100;v\u318b\u318c\u43c1;\u43f1\u0180gns\u3195\u31f9\u31fcht\u0300ahlrst\u31a4\u31b0\u31c2\u31d8\u31e4\u31eerrow\u0100;t\u0fdc\u31ada\xe9\u30c8arpoon\u0100du\u31bb\u31bfow\xee\u317ep\xbb\u1092eft\u0100ah\u31ca\u31d0rrow\xf3\u0feaarpoon\xf3\u0551ightarrows;\u61c9quigarro\xf7\u30cbhreetimes;\u62ccg;\u42daingdotse\xf1\u1f32\u0180ahm\u320d\u3210\u3213r\xf2\u0feaa\xf2\u0551;\u600foust\u0100;a\u321e\u321f\u63b1che\xbb\u321fmid;\u6aee\u0200abpt\u3232\u323d\u3240\u3252\u0100nr\u3237\u323ag;\u67edr;\u61fer\xeb\u1003\u0180afl\u3247\u324a\u324er;\u6986;\uc000\u{1d563}us;\u6a2eimes;\u6a35\u0100ap\u325d\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6a12ar\xf2\u31e3\u0200achq\u327b\u3280\u10bc\u3285quo;\u603ar;\uc000\u{1d4c7}\u0100bu\u30fb\u328ao\u0100;r\u0214\u0213\u0180hir\u3297\u329b\u32a0re\xe5\u31f8mes;\u62cai\u0200;efl\u32aa\u1059\u1821\u32ab\u65b9tri;\u69celuhar;\u6968;\u611e\u0d61\u32d5\u32db\u32df\u332c\u3338\u3371\0\u337a\u33a4\0\0\u33ec\u33f0\0\u3428\u3448\u345a\u34ad\u34b1\u34ca\u34f1\0\u3616\0\0\u3633cute;\u415bqu\xef\u27ba\u0500;Eaceinpsy\u11ed\u32f3\u32f5\u32ff\u3302\u330b\u330f\u331f\u3326\u3329;\u6ab4\u01f0\u32fa\0\u32fc;\u6ab8on;\u4161u\xe5\u11fe\u0100;d\u11f3\u3307il;\u415frc;\u415d\u0180Eas\u3316\u3318\u331b;\u6ab6p;\u6abaim;\u62e9olint;\u6a13i\xed\u1204;\u4441ot\u0180;be\u3334\u1d47\u3335\u62c5;\u6a66\u0380Aacmstx\u3346\u334a\u3357\u335b\u335e\u3363\u336drr;\u61d8r\u0100hr\u3350\u3352\xeb\u2228\u0100;o\u0a36\u0a34t\u803b\xa7\u40a7i;\u403bwar;\u6929m\u0100in\u3369\xf0nu\xf3\xf1t;\u6736r\u0100;o\u3376\u2055\uc000\u{1d530}\u0200acoy\u3382\u3386\u3391\u33a0rp;\u666f\u0100hy\u338b\u338fcy;\u4449;\u4448rt\u026d\u3399\0\0\u339ci\xe4\u1464ara\xec\u2e6f\u803b\xad\u40ad\u0100gm\u33a8\u33b4ma\u0180;fv\u33b1\u33b2\u33b2\u43c3;\u43c2\u0400;deglnpr\u12ab\u33c5\u33c9\u33ce\u33d6\u33de\u33e1\u33e6ot;\u6a6a\u0100;q\u12b1\u12b0\u0100;E\u33d3\u33d4\u6a9e;\u6aa0\u0100;E\u33db\u33dc\u6a9d;\u6a9fe;\u6246lus;\u6a24arr;\u6972ar\xf2\u113d\u0200aeit\u33f8\u3408\u340f\u3417\u0100ls\u33fd\u3404lsetm\xe9\u336ahp;\u6a33parsl;\u69e4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341c\u341d\u6aaa\u0100;s\u3422\u3423\u6aac;\uc000\u2aac\ufe00\u0180flp\u342e\u3433\u3442tcy;\u444c\u0100;b\u3438\u3439\u402f\u0100;a\u343e\u343f\u69c4r;\u633ff;\uc000\u{1d564}a\u0100dr\u344d\u0402es\u0100;u\u3454\u3455\u6660it\xbb\u3455\u0180csu\u3460\u3479\u349f\u0100au\u3465\u346fp\u0100;s\u1188\u346b;\uc000\u2293\ufe00p\u0100;s\u11b4\u3475;\uc000\u2294\ufe00u\u0100bp\u347f\u348f\u0180;es\u1197\u119c\u3486et\u0100;e\u1197\u348d\xf1\u119d\u0180;es\u11a8\u11ad\u3496et\u0100;e\u11a8\u349d\xf1\u11ae\u0180;af\u117b\u34a6\u05b0r\u0165\u34ab\u05b1\xbb\u117car\xf2\u1148\u0200cemt\u34b9\u34be\u34c2\u34c5r;\uc000\u{1d4c8}tm\xee\xf1i\xec\u3415ar\xe6\u11be\u0100ar\u34ce\u34d5r\u0100;f\u34d4\u17bf\u6606\u0100an\u34da\u34edight\u0100ep\u34e3\u34eapsilo\xee\u1ee0h\xe9\u2eafs\xbb\u2852\u0280bcmnp\u34fb\u355e\u1209\u358b\u358e\u0480;Edemnprs\u350e\u350f\u3511\u3515\u351e\u3523\u352c\u3531\u3536\u6282;\u6ac5ot;\u6abd\u0100;d\u11da\u351aot;\u6ac3ult;\u6ac1\u0100Ee\u3528\u352a;\u6acb;\u628alus;\u6abfarr;\u6979\u0180eiu\u353d\u3552\u3555t\u0180;en\u350e\u3545\u354bq\u0100;q\u11da\u350feq\u0100;q\u352b\u3528m;\u6ac7\u0100bp\u355a\u355c;\u6ad5;\u6ad3c\u0300;acens\u11ed\u356c\u3572\u3579\u357b\u3326ppro\xf8\u32faurlye\xf1\u11fe\xf1\u11f3\u0180aes\u3582\u3588\u331bppro\xf8\u331aq\xf1\u3317g;\u666a\u0680123;Edehlmnps\u35a9\u35ac\u35af\u121c\u35b2\u35b4\u35c0\u35c9\u35d5\u35da\u35df\u35e8\u35ed\u803b\xb9\u40b9\u803b\xb2\u40b2\u803b\xb3\u40b3;\u6ac6\u0100os\u35b9\u35bct;\u6abeub;\u6ad8\u0100;d\u1222\u35c5ot;\u6ac4s\u0100ou\u35cf\u35d2l;\u67c9b;\u6ad7arr;\u697bult;\u6ac2\u0100Ee\u35e4\u35e6;\u6acc;\u628blus;\u6ac0\u0180eiu\u35f4\u3609\u360ct\u0180;en\u121c\u35fc\u3602q\u0100;q\u1222\u35b2eq\u0100;q\u35e7\u35e4m;\u6ac8\u0100bp\u3611\u3613;\u6ad4;\u6ad6\u0180Aan\u361c\u3620\u362drr;\u61d9r\u0100hr\u3626\u3628\xeb\u222e\u0100;o\u0a2b\u0a29war;\u692alig\u803b\xdf\u40df\u0be1\u3651\u365d\u3660\u12ce\u3673\u3679\0\u367e\u36c2\0\0\0\0\0\u36db\u3703\0\u3709\u376c\0\0\0\u3787\u0272\u3656\0\0\u365bget;\u6316;\u43c4r\xeb\u0e5f\u0180aey\u3666\u366b\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uc000\u{1d531}\u0200eiko\u3686\u369d\u36b5\u36bc\u01f2\u368b\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369b\u43b8ym;\u43d1\u0100cn\u36a2\u36b2k\u0100as\u36a8\u36aeppro\xf8\u12c1im\xbb\u12acs\xf0\u129e\u0100as\u36ba\u36ae\xf0\u12c1rn\u803b\xfe\u40fe\u01ec\u031f\u36c6\u22e7es\u8180\xd7;bd\u36cf\u36d0\u36d8\u40d7\u0100;a\u190f\u36d5r;\u6a31;\u6a30\u0180eps\u36e1\u36e3\u3700\xe1\u2a4d\u0200;bcf\u0486\u36ec\u36f0\u36f4ot;\u6336ir;\u6af1\u0100;o\u36f9\u36fc\uc000\u{1d565}rk;\u6ada\xe1\u3362rime;\u6034\u0180aip\u370f\u3712\u3764d\xe5\u1248\u0380adempst\u3721\u374d\u3740\u3751\u3757\u375c\u375fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65b5own\xbb\u1dbbeft\u0100;e\u2800\u373e\xf1\u092e;\u625cight\u0100;e\u32aa\u374b\xf1\u105aot;\u65ecinus;\u6a3alus;\u6a39b;\u69cdime;\u6a3bezium;\u63e2\u0180cht\u3772\u377d\u3781\u0100ry\u3777\u377b;\uc000\u{1d4c9};\u4446cy;\u445brok;\u4167\u0100io\u378b\u378ex\xf4\u1777head\u0100lr\u3797\u37a0eftarro\xf7\u084fightarrow\xbb\u0f5d\u0900AHabcdfghlmoprstuw\u37d0\u37d3\u37d7\u37e4\u37f0\u37fc\u380e\u381c\u3823\u3834\u3851\u385d\u386b\u38a9\u38cc\u38d2\u38ea\u38f6r\xf2\u03edar;\u6963\u0100cr\u37dc\u37e2ute\u803b\xfa\u40fa\xf2\u1150r\u01e3\u37ea\0\u37edy;\u445eve;\u416d\u0100iy\u37f5\u37farc\u803b\xfb\u40fb;\u4443\u0180abh\u3803\u3806\u380br\xf2\u13adlac;\u4171a\xf2\u13c3\u0100ir\u3813\u3818sht;\u697e;\uc000\u{1d532}rave\u803b\xf9\u40f9\u0161\u3827\u3831r\u0100lr\u382c\u382e\xbb\u0957\xbb\u1083lk;\u6580\u0100ct\u3839\u384d\u026f\u383f\0\0\u384arn\u0100;e\u3845\u3846\u631cr\xbb\u3846op;\u630fri;\u65f8\u0100al\u3856\u385acr;\u416b\u80bb\xa8\u0349\u0100gp\u3862\u3866on;\u4173f;\uc000\u{1d566}\u0300adhlsu\u114b\u3878\u387d\u1372\u3891\u38a0own\xe1\u13b3arpoon\u0100lr\u3888\u388cef\xf4\u382digh\xf4\u382fi\u0180;hl\u3899\u389a\u389c\u43c5\xbb\u13faon\xbb\u389aparrows;\u61c8\u0180cit\u38b0\u38c4\u38c8\u026f\u38b6\0\0\u38c1rn\u0100;e\u38bc\u38bd\u631dr\xbb\u38bdop;\u630eng;\u416fri;\u65f9cr;\uc000\u{1d4ca}\u0180dir\u38d9\u38dd\u38e2ot;\u62f0lde;\u4169i\u0100;f\u3730\u38e8\xbb\u1813\u0100am\u38ef\u38f2r\xf2\u38a8l\u803b\xfc\u40fcangle;\u69a7\u0780ABDacdeflnoprsz\u391c\u391f\u3929\u392d\u39b5\u39b8\u39bd\u39df\u39e4\u39e8\u39f3\u39f9\u39fd\u3a01\u3a20r\xf2\u03f7ar\u0100;v\u3926\u3927\u6ae8;\u6ae9as\xe8\u03e1\u0100nr\u3932\u3937grt;\u699c\u0380eknprst\u34e3\u3946\u394b\u3952\u395d\u3964\u3996app\xe1\u2415othin\xe7\u1e96\u0180hir\u34eb\u2ec8\u3959op\xf4\u2fb5\u0100;h\u13b7\u3962\xef\u318d\u0100iu\u3969\u396dgm\xe1\u33b3\u0100bp\u3972\u3984setneq\u0100;q\u397d\u3980\uc000\u228a\ufe00;\uc000\u2acb\ufe00setneq\u0100;q\u398f\u3992\uc000\u228b\ufe00;\uc000\u2acc\ufe00\u0100hr\u399b\u399fet\xe1\u369ciangle\u0100lr\u39aa\u39afeft\xbb\u0925ight\xbb\u1051y;\u4432ash\xbb\u1036\u0180elr\u39c4\u39d2\u39d7\u0180;be\u2dea\u39cb\u39cfar;\u62bbq;\u625alip;\u62ee\u0100bt\u39dc\u1468a\xf2\u1469r;\uc000\u{1d533}tr\xe9\u39aesu\u0100bp\u39ef\u39f1\xbb\u0d1c\xbb\u0d59pf;\uc000\u{1d567}ro\xf0\u0efbtr\xe9\u39b4\u0100cu\u3a06\u3a0br;\uc000\u{1d4cb}\u0100bp\u3a10\u3a18n\u0100Ee\u3980\u3a16\xbb\u397en\u0100Ee\u3992\u3a1e\xbb\u3990igzag;\u699a\u0380cefoprs\u3a36\u3a3b\u3a56\u3a5b\u3a54\u3a61\u3a6airc;\u4175\u0100di\u3a40\u3a51\u0100bg\u3a45\u3a49ar;\u6a5fe\u0100;q\u15fa\u3a4f;\u6259erp;\u6118r;\uc000\u{1d534}pf;\uc000\u{1d568}\u0100;e\u1479\u3a66at\xe8\u1479cr;\uc000\u{1d4cc}\u0ae3\u178e\u3a87\0\u3a8b\0\u3a90\u3a9b\0\0\u3a9d\u3aa8\u3aab\u3aaf\0\0\u3ac3\u3ace\0\u3ad8\u17dc\u17dftr\xe9\u17d1r;\uc000\u{1d535}\u0100Aa\u3a94\u3a97r\xf2\u03c3r\xf2\u09f6;\u43be\u0100Aa\u3aa1\u3aa4r\xf2\u03b8r\xf2\u09eba\xf0\u2713is;\u62fb\u0180dpt\u17a4\u3ab5\u3abe\u0100fl\u3aba\u17a9;\uc000\u{1d569}im\xe5\u17b2\u0100Aa\u3ac7\u3acar\xf2\u03cer\xf2\u0a01\u0100cq\u3ad2\u17b8r;\uc000\u{1d4cd}\u0100pt\u17d6\u3adcr\xe9\u17d4\u0400acefiosu\u3af0\u3afd\u3b08\u3b0c\u3b11\u3b15\u3b1b\u3b21c\u0100uy\u3af6\u3afbte\u803b\xfd\u40fd;\u444f\u0100iy\u3b02\u3b06rc;\u4177;\u444bn\u803b\xa5\u40a5r;\uc000\u{1d536}cy;\u4457pf;\uc000\u{1d56a}cr;\uc000\u{1d4ce}\u0100cm\u3b26\u3b29y;\u444el\u803b\xff\u40ff\u0500acdefhiosw\u3b42\u3b48\u3b54\u3b58\u3b64\u3b69\u3b6d\u3b74\u3b7a\u3b80cute;\u417a\u0100ay\u3b4d\u3b52ron;\u417e;\u4437ot;\u417c\u0100et\u3b5d\u3b61tr\xe6\u155fa;\u43b6r;\uc000\u{1d537}cy;\u4436grarr;\u61ddpf;\uc000\u{1d56b}cr;\uc000\u{1d4cf}\u0100jn\u3b85\u3b87;\u600dj;\u600c'.split("").map(function(z){return z.charCodeAt(0)}));var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=new Uint16Array("\u0200aglq\t\x15\x18\x1b\u026d\x0f\0\0\x12p;\u4026os;\u4027t;\u403et;\u403cuot;\u4022".split("").map(function(z){return z.charCodeAt(0)}));var Ht,qr,en,Ft,be,oo={};(function(z){var he;Object.defineProperty(z,"__esModule",{value:!0}),z.replaceCodePoint=z.fromCodePoint=void 0;var Ce=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function ze(xt){var pn;return xt>=55296&&xt<=57343||xt>1114111?65533:null!==(pn=Ce.get(xt))&&void 0!==pn?pn:xt}z.fromCodePoint=null!==(he=String.fromCodePoint)&&void 0!==he?he:function(xt){var pn="";return xt>65535&&(xt-=65536,pn+=String.fromCharCode(xt>>>10&1023|55296),xt=56320|1023&xt),pn+String.fromCharCode(xt)},z.replaceCodePoint=ze,z.default=function(xt){return(0,z.fromCodePoint)(ze(xt))}})(oo),function(z){var he=Rr&&Rr.__createBinding||(Object.create?function(hn,Ln,Gn,dr){void 0===dr&&(dr=Gn);var ts=Object.getOwnPropertyDescriptor(Ln,Gn);ts&&!("get"in ts?!Ln.__esModule:ts.writable||ts.configurable)||(ts={enumerable:!0,get:function(){return Ln[Gn]}}),Object.defineProperty(hn,dr,ts)}:function(hn,Ln,Gn,dr){void 0===dr&&(dr=Gn),hn[dr]=Ln[Gn]}),Ce=Rr&&Rr.__setModuleDefault||(Object.create?function(hn,Ln){Object.defineProperty(hn,"default",{enumerable:!0,value:Ln})}:function(hn,Ln){hn.default=Ln}),ze=Rr&&Rr.__importStar||function(hn){if(hn&&hn.__esModule)return hn;var Ln={};if(null!=hn)for(var Gn in hn)"default"!==Gn&&Object.prototype.hasOwnProperty.call(hn,Gn)&&he(Ln,hn,Gn);return Ce(Ln,hn),Ln},xt=Rr&&Rr.__importDefault||function(hn){return hn&&hn.__esModule?hn:{default:hn}};Object.defineProperty(z,"__esModule",{value:!0}),z.decodeXML=z.decodeHTMLStrict=z.decodeHTMLAttribute=z.decodeHTML=z.determineBranch=z.EntityDecoder=z.DecodingMode=z.BinTrieFlags=z.fromCodePoint=z.replaceCodePoint=z.decodeCodePoint=z.xmlDecodeTree=z.htmlDecodeTree=void 0;var pn=xt(Xr);z.htmlDecodeTree=pn.default;var Sn=xt(Jr);z.xmlDecodeTree=Sn.default;var Fr=ze(oo);z.decodeCodePoint=Fr.default;var gr,Ks,is,vo,hn,Md=oo;function Ad(hn){return hn>=gr.ZERO&&hn<=gr.NINE}Object.defineProperty(z,"replaceCodePoint",{enumerable:!0,get:function(){return Md.replaceCodePoint}}),Object.defineProperty(z,"fromCodePoint",{enumerable:!0,get:function(){return Md.fromCodePoint}}),(hn=gr||(gr={}))[hn.NUM=35]="NUM",hn[hn.SEMI=59]="SEMI",hn[hn.EQUALS=61]="EQUALS",hn[hn.ZERO=48]="ZERO",hn[hn.NINE=57]="NINE",hn[hn.LOWER_A=97]="LOWER_A",hn[hn.LOWER_F=102]="LOWER_F",hn[hn.LOWER_X=120]="LOWER_X",hn[hn.LOWER_Z=122]="LOWER_Z",hn[hn.UPPER_A=65]="UPPER_A",hn[hn.UPPER_F=70]="UPPER_F",hn[hn.UPPER_Z=90]="UPPER_Z",function(hn){hn[hn.VALUE_LENGTH=49152]="VALUE_LENGTH",hn[hn.BRANCH_LENGTH=16256]="BRANCH_LENGTH",hn[hn.JUMP_TABLE=127]="JUMP_TABLE"}(Ks=z.BinTrieFlags||(z.BinTrieFlags={})),function(hn){hn[hn.EntityStart=0]="EntityStart",hn[hn.NumericStart=1]="NumericStart",hn[hn.NumericDecimal=2]="NumericDecimal",hn[hn.NumericHex=3]="NumericHex",hn[hn.NamedEntity=4]="NamedEntity"}(is||(is={})),function(hn){hn[hn.Legacy=0]="Legacy",hn[hn.Strict=1]="Strict",hn[hn.Attribute=2]="Attribute"}(vo=z.DecodingMode||(z.DecodingMode={}));var _m=function(){function hn(Ln,Gn,dr){this.decodeTree=Ln,this.emitCodePoint=Gn,this.errors=dr,this.state=is.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=vo.Strict}return hn.prototype.startEntity=function(Ln){this.decodeMode=Ln,this.state=is.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},hn.prototype.write=function(Ln,Gn){switch(this.state){case is.EntityStart:return Ln.charCodeAt(Gn)===gr.NUM?(this.state=is.NumericStart,this.consumed+=1,this.stateNumericStart(Ln,Gn+1)):(this.state=is.NamedEntity,this.stateNamedEntity(Ln,Gn));case is.NumericStart:return this.stateNumericStart(Ln,Gn);case is.NumericDecimal:return this.stateNumericDecimal(Ln,Gn);case is.NumericHex:return this.stateNumericHex(Ln,Gn);case is.NamedEntity:return this.stateNamedEntity(Ln,Gn)}},hn.prototype.stateNumericStart=function(Ln,Gn){return Gn>=Ln.length?-1:(32|Ln.charCodeAt(Gn))===gr.LOWER_X?(this.state=is.NumericHex,this.consumed+=1,this.stateNumericHex(Ln,Gn+1)):(this.state=is.NumericDecimal,this.stateNumericDecimal(Ln,Gn))},hn.prototype.addToNumericResult=function(Ln,Gn,dr,ts){if(Gn!==dr){var As=dr-Gn;this.result=this.result*Math.pow(ts,As)+parseInt(Ln.substr(Gn,As),ts),this.consumed+=As}},hn.prototype.stateNumericHex=function(Ln,Gn){for(var dr,ts=Gn;Gn<Ln.length;){var As=Ln.charCodeAt(Gn);if(!(Ad(As)||(dr=As,dr>=gr.UPPER_A&&dr<=gr.UPPER_F||dr>=gr.LOWER_A&&dr<=gr.LOWER_F)))return this.addToNumericResult(Ln,ts,Gn,16),this.emitNumericEntity(As,3);Gn+=1}return this.addToNumericResult(Ln,ts,Gn,16),-1},hn.prototype.stateNumericDecimal=function(Ln,Gn){for(var dr=Gn;Gn<Ln.length;){var ts=Ln.charCodeAt(Gn);if(!Ad(ts))return this.addToNumericResult(Ln,dr,Gn,10),this.emitNumericEntity(ts,2);Gn+=1}return this.addToNumericResult(Ln,dr,Gn,10),-1},hn.prototype.emitNumericEntity=function(Ln,Gn){var dr;if(this.consumed<=Gn)return null===(dr=this.errors)||void 0===dr||dr.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(Ln===gr.SEMI)this.consumed+=1;else if(this.decodeMode===vo.Strict)return 0;return this.emitCodePoint((0,Fr.replaceCodePoint)(this.result),this.consumed),this.errors&&(Ln!==gr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},hn.prototype.stateNamedEntity=function(Ln,Gn){for(var dr=this.decodeTree,ts=dr[this.treeIndex],As=(ts&Ks.VALUE_LENGTH)>>14;Gn<Ln.length;Gn++,this.excess++){var oi=Ln.charCodeAt(Gn);if(this.treeIndex=Em(dr,ts,this.treeIndex+Math.max(1,As),oi),this.treeIndex<0)return 0===this.result||this.decodeMode===vo.Attribute&&(0===As||(Ni=oi)===gr.EQUALS||(Bi=Ni)>=gr.UPPER_A&&Bi<=gr.UPPER_Z||Bi>=gr.LOWER_A&&Bi<=gr.LOWER_Z||Ad(Bi))?0:this.emitNotTerminatedNamedEntity();if(0!=(As=((ts=dr[this.treeIndex])&Ks.VALUE_LENGTH)>>14)){if(oi===gr.SEMI)return this.emitNamedEntityData(this.treeIndex,As,this.consumed+this.excess);this.decodeMode!==vo.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var Bi,Ni;return-1},hn.prototype.emitNotTerminatedNamedEntity=function(){var Ln,Gn=this.result;return this.emitNamedEntityData(Gn,(this.decodeTree[Gn]&Ks.VALUE_LENGTH)>>14,this.consumed),null===(Ln=this.errors)||void 0===Ln||Ln.missingSemicolonAfterCharacterReference(),this.consumed},hn.prototype.emitNamedEntityData=function(Ln,Gn,dr){var ts=this.decodeTree;return this.emitCodePoint(1===Gn?ts[Ln]&~Ks.VALUE_LENGTH:ts[Ln+1],dr),3===Gn&&this.emitCodePoint(ts[Ln+2],dr),dr},hn.prototype.end=function(){var Ln;switch(this.state){case is.NamedEntity:return 0===this.result||this.decodeMode===vo.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case is.NumericDecimal:return this.emitNumericEntity(0,2);case is.NumericHex:return this.emitNumericEntity(0,3);case is.NumericStart:return null===(Ln=this.errors)||void 0===Ln||Ln.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case is.EntityStart:return 0}},hn}();function vm(hn){var Ln="",Gn=new _m(hn,function(dr){return Ln+=(0,Fr.fromCodePoint)(dr)});return function(dr,ts){for(var As=0,oi=0;(oi=dr.indexOf("&",oi))>=0;){Ln+=dr.slice(As,oi),Gn.startEntity(ts);var Ni=Gn.write(dr,oi+1);if(Ni<0){As=oi+Gn.end();break}As=oi+Ni,oi=0===Ni?As+1:As}var Bi=Ln+dr.slice(As);return Ln="",Bi}}function Em(hn,Ln,Gn,dr){var ts=(Ln&Ks.BRANCH_LENGTH)>>7,As=Ln&Ks.JUMP_TABLE;if(0===ts)return 0!==As&&dr===As?Gn:-1;if(As){var oi=dr-As;return oi<0||oi>=ts?-1:hn[Gn+oi]-1}for(var Ni=Gn,Bi=Ni+ts-1;Ni<=Bi;){var Ah=Ni+Bi>>>1,Yi=hn[Ah];if(Yi<dr)Ni=Ah+1;else{if(!(Yi>dr))return hn[Ah+ts];Bi=Ah-1}}return-1}z.EntityDecoder=_m,z.determineBranch=Em;var Mm=vm(pn.default),xA=vm(Sn.default);z.decodeHTML=function(hn,Ln){return void 0===Ln&&(Ln=vo.Legacy),Mm(hn,Ln)},z.decodeHTMLAttribute=function(hn){return Mm(hn,vo.Attribute)},z.decodeHTMLStrict=function(hn){return Mm(hn,vo.Strict)},z.decodeXML=function(hn){return xA(hn,vo.Strict)}}(Kr),function(z){z.HTML="http://www.w3.org/1999/xhtml",z.MATHML="http://www.w3.org/1998/Math/MathML",z.SVG="http://www.w3.org/2000/svg",z.XLINK="http://www.w3.org/1999/xlink",z.XML="http://www.w3.org/XML/1998/namespace",z.XMLNS="http://www.w3.org/2000/xmlns/"}(Ht=Ht||(Ht={})),function(z){z.TYPE="type",z.ACTION="action",z.ENCODING="encoding",z.PROMPT="prompt",z.NAME="name",z.COLOR="color",z.FACE="face",z.SIZE="size"}(qr=qr||(qr={})),function(z){z.NO_QUIRKS="no-quirks",z.QUIRKS="quirks",z.LIMITED_QUIRKS="limited-quirks"}(en=en||(en={})),function(z){z.A="a",z.ADDRESS="address",z.ANNOTATION_XML="annotation-xml",z.APPLET="applet",z.AREA="area",z.ARTICLE="article",z.ASIDE="aside",z.B="b",z.BASE="base",z.BASEFONT="basefont",z.BGSOUND="bgsound",z.BIG="big",z.BLOCKQUOTE="blockquote",z.BODY="body",z.BR="br",z.BUTTON="button",z.CAPTION="caption",z.CENTER="center",z.CODE="code",z.COL="col",z.COLGROUP="colgroup",z.DD="dd",z.DESC="desc",z.DETAILS="details",z.DIALOG="dialog",z.DIR="dir",z.DIV="div",z.DL="dl",z.DT="dt",z.EM="em",z.EMBED="embed",z.FIELDSET="fieldset",z.FIGCAPTION="figcaption",z.FIGURE="figure",z.FONT="font",z.FOOTER="footer",z.FOREIGN_OBJECT="foreignObject",z.FORM="form",z.FRAME="frame",z.FRAMESET="frameset",z.H1="h1",z.H2="h2",z.H3="h3",z.H4="h4",z.H5="h5",z.H6="h6",z.HEAD="head",z.HEADER="header",z.HGROUP="hgroup",z.HR="hr",z.HTML="html",z.I="i",z.IMG="img",z.IMAGE="image",z.INPUT="input",z.IFRAME="iframe",z.KEYGEN="keygen",z.LABEL="label",z.LI="li",z.LINK="link",z.LISTING="listing",z.MAIN="main",z.MALIGNMARK="malignmark",z.MARQUEE="marquee",z.MATH="math",z.MENU="menu",z.META="meta",z.MGLYPH="mglyph",z.MI="mi",z.MO="mo",z.MN="mn",z.MS="ms",z.MTEXT="mtext",z.NAV="nav",z.NOBR="nobr",z.NOFRAMES="noframes",z.NOEMBED="noembed",z.NOSCRIPT="noscript",z.OBJECT="object",z.OL="ol",z.OPTGROUP="optgroup",z.OPTION="option",z.P="p",z.PARAM="param",z.PLAINTEXT="plaintext",z.PRE="pre",z.RB="rb",z.RP="rp",z.RT="rt",z.RTC="rtc",z.RUBY="ruby",z.S="s",z.SCRIPT="script",z.SECTION="section",z.SELECT="select",z.SOURCE="source",z.SMALL="small",z.SPAN="span",z.STRIKE="strike",z.STRONG="strong",z.STYLE="style",z.SUB="sub",z.SUMMARY="summary",z.SUP="sup",z.TABLE="table",z.TBODY="tbody",z.TEMPLATE="template",z.TEXTAREA="textarea",z.TFOOT="tfoot",z.TD="td",z.TH="th",z.THEAD="thead",z.TITLE="title",z.TR="tr",z.TRACK="track",z.TT="tt",z.U="u",z.UL="ul",z.SVG="svg",z.VAR="var",z.WBR="wbr",z.XMP="xmp"}(Ft=Ft||(Ft={})),function(z){z[z.UNKNOWN=0]="UNKNOWN",z[z.A=1]="A",z[z.ADDRESS=2]="ADDRESS",z[z.ANNOTATION_XML=3]="ANNOTATION_XML",z[z.APPLET=4]="APPLET",z[z.AREA=5]="AREA",z[z.ARTICLE=6]="ARTICLE",z[z.ASIDE=7]="ASIDE",z[z.B=8]="B",z[z.BASE=9]="BASE",z[z.BASEFONT=10]="BASEFONT",z[z.BGSOUND=11]="BGSOUND",z[z.BIG=12]="BIG",z[z.BLOCKQUOTE=13]="BLOCKQUOTE",z[z.BODY=14]="BODY",z[z.BR=15]="BR",z[z.BUTTON=16]="BUTTON",z[z.CAPTION=17]="CAPTION",z[z.CENTER=18]="CENTER",z[z.CODE=19]="CODE",z[z.COL=20]="COL",z[z.COLGROUP=21]="COLGROUP",z[z.DD=22]="DD",z[z.DESC=23]="DESC",z[z.DETAILS=24]="DETAILS",z[z.DIALOG=25]="DIALOG",z[z.DIR=26]="DIR",z[z.DIV=27]="DIV",z[z.DL=28]="DL",z[z.DT=29]="DT",z[z.EM=30]="EM",z[z.EMBED=31]="EMBED",z[z.FIELDSET=32]="FIELDSET",z[z.FIGCAPTION=33]="FIGCAPTION",z[z.FIGURE=34]="FIGURE",z[z.FONT=35]="FONT",z[z.FOOTER=36]="FOOTER",z[z.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",z[z.FORM=38]="FORM",z[z.FRAME=39]="FRAME",z[z.FRAMESET=40]="FRAMESET",z[z.H1=41]="H1",z[z.H2=42]="H2",z[z.H3=43]="H3",z[z.H4=44]="H4",z[z.H5=45]="H5",z[z.H6=46]="H6",z[z.HEAD=47]="HEAD",z[z.HEADER=48]="HEADER",z[z.HGROUP=49]="HGROUP",z[z.HR=50]="HR",z[z.HTML=51]="HTML",z[z.I=52]="I",z[z.IMG=53]="IMG",z[z.IMAGE=54]="IMAGE",z[z.INPUT=55]="INPUT",z[z.IFRAME=56]="IFRAME",z[z.KEYGEN=57]="KEYGEN",z[z.LABEL=58]="LABEL",z[z.LI=59]="LI",z[z.LINK=60]="LINK",z[z.LISTING=61]="LISTING",z[z.MAIN=62]="MAIN",z[z.MALIGNMARK=63]="MALIGNMARK",z[z.MARQUEE=64]="MARQUEE",z[z.MATH=65]="MATH",z[z.MENU=66]="MENU",z[z.META=67]="META",z[z.MGLYPH=68]="MGLYPH",z[z.MI=69]="MI",z[z.MO=70]="MO",z[z.MN=71]="MN",z[z.MS=72]="MS",z[z.MTEXT=73]="MTEXT",z[z.NAV=74]="NAV",z[z.NOBR=75]="NOBR",z[z.NOFRAMES=76]="NOFRAMES",z[z.NOEMBED=77]="NOEMBED",z[z.NOSCRIPT=78]="NOSCRIPT",z[z.OBJECT=79]="OBJECT",z[z.OL=80]="OL",z[z.OPTGROUP=81]="OPTGROUP",z[z.OPTION=82]="OPTION",z[z.P=83]="P",z[z.PARAM=84]="PARAM",z[z.PLAINTEXT=85]="PLAINTEXT",z[z.PRE=86]="PRE",z[z.RB=87]="RB",z[z.RP=88]="RP",z[z.RT=89]="RT",z[z.RTC=90]="RTC",z[z.RUBY=91]="RUBY",z[z.S=92]="S",z[z.SCRIPT=93]="SCRIPT",z[z.SECTION=94]="SECTION",z[z.SELECT=95]="SELECT",z[z.SOURCE=96]="SOURCE",z[z.SMALL=97]="SMALL",z[z.SPAN=98]="SPAN",z[z.STRIKE=99]="STRIKE",z[z.STRONG=100]="STRONG",z[z.STYLE=101]="STYLE",z[z.SUB=102]="SUB",z[z.SUMMARY=103]="SUMMARY",z[z.SUP=104]="SUP",z[z.TABLE=105]="TABLE",z[z.TBODY=106]="TBODY",z[z.TEMPLATE=107]="TEMPLATE",z[z.TEXTAREA=108]="TEXTAREA",z[z.TFOOT=109]="TFOOT",z[z.TD=110]="TD",z[z.TH=111]="TH",z[z.THEAD=112]="THEAD",z[z.TITLE=113]="TITLE",z[z.TR=114]="TR",z[z.TRACK=115]="TRACK",z[z.TT=116]="TT",z[z.U=117]="U",z[z.UL=118]="UL",z[z.SVG=119]="SVG",z[z.VAR=120]="VAR",z[z.WBR=121]="WBR",z[z.XMP=122]="XMP"}(be=be||(be={}));const Is=new Map([[Ft.A,be.A],[Ft.ADDRESS,be.ADDRESS],[Ft.ANNOTATION_XML,be.ANNOTATION_XML],[Ft.APPLET,be.APPLET],[Ft.AREA,be.AREA],[Ft.ARTICLE,be.ARTICLE],[Ft.ASIDE,be.ASIDE],[Ft.B,be.B],[Ft.BASE,be.BASE],[Ft.BASEFONT,be.BASEFONT],[Ft.BGSOUND,be.BGSOUND],[Ft.BIG,be.BIG],[Ft.BLOCKQUOTE,be.BLOCKQUOTE],[Ft.BODY,be.BODY],[Ft.BR,be.BR],[Ft.BUTTON,be.BUTTON],[Ft.CAPTION,be.CAPTION],[Ft.CENTER,be.CENTER],[Ft.CODE,be.CODE],[Ft.COL,be.COL],[Ft.COLGROUP,be.COLGROUP],[Ft.DD,be.DD],[Ft.DESC,be.DESC],[Ft.DETAILS,be.DETAILS],[Ft.DIALOG,be.DIALOG],[Ft.DIR,be.DIR],[Ft.DIV,be.DIV],[Ft.DL,be.DL],[Ft.DT,be.DT],[Ft.EM,be.EM],[Ft.EMBED,be.EMBED],[Ft.FIELDSET,be.FIELDSET],[Ft.FIGCAPTION,be.FIGCAPTION],[Ft.FIGURE,be.FIGURE],[Ft.FONT,be.FONT],[Ft.FOOTER,be.FOOTER],[Ft.FOREIGN_OBJECT,be.FOREIGN_OBJECT],[Ft.FORM,be.FORM],[Ft.FRAME,be.FRAME],[Ft.FRAMESET,be.FRAMESET],[Ft.H1,be.H1],[Ft.H2,be.H2],[Ft.H3,be.H3],[Ft.H4,be.H4],[Ft.H5,be.H5],[Ft.H6,be.H6],[Ft.HEAD,be.HEAD],[Ft.HEADER,be.HEADER],[Ft.HGROUP,be.HGROUP],[Ft.HR,be.HR],[Ft.HTML,be.HTML],[Ft.I,be.I],[Ft.IMG,be.IMG],[Ft.IMAGE,be.IMAGE],[Ft.INPUT,be.INPUT],[Ft.IFRAME,be.IFRAME],[Ft.KEYGEN,be.KEYGEN],[Ft.LABEL,be.LABEL],[Ft.LI,be.LI],[Ft.LINK,be.LINK],[Ft.LISTING,be.LISTING],[Ft.MAIN,be.MAIN],[Ft.MALIGNMARK,be.MALIGNMARK],[Ft.MARQUEE,be.MARQUEE],[Ft.MATH,be.MATH],[Ft.MENU,be.MENU],[Ft.META,be.META],[Ft.MGLYPH,be.MGLYPH],[Ft.MI,be.MI],[Ft.MO,be.MO],[Ft.MN,be.MN],[Ft.MS,be.MS],[Ft.MTEXT,be.MTEXT],[Ft.NAV,be.NAV],[Ft.NOBR,be.NOBR],[Ft.NOFRAMES,be.NOFRAMES],[Ft.NOEMBED,be.NOEMBED],[Ft.NOSCRIPT,be.NOSCRIPT],[Ft.OBJECT,be.OBJECT],[Ft.OL,be.OL],[Ft.OPTGROUP,be.OPTGROUP],[Ft.OPTION,be.OPTION],[Ft.P,be.P],[Ft.PARAM,be.PARAM],[Ft.PLAINTEXT,be.PLAINTEXT],[Ft.PRE,be.PRE],[Ft.RB,be.RB],[Ft.RP,be.RP],[Ft.RT,be.RT],[Ft.RTC,be.RTC],[Ft.RUBY,be.RUBY],[Ft.S,be.S],[Ft.SCRIPT,be.SCRIPT],[Ft.SECTION,be.SECTION],[Ft.SELECT,be.SELECT],[Ft.SOURCE,be.SOURCE],[Ft.SMALL,be.SMALL],[Ft.SPAN,be.SPAN],[Ft.STRIKE,be.STRIKE],[Ft.STRONG,be.STRONG],[Ft.STYLE,be.STYLE],[Ft.SUB,be.SUB],[Ft.SUMMARY,be.SUMMARY],[Ft.SUP,be.SUP],[Ft.TABLE,be.TABLE],[Ft.TBODY,be.TBODY],[Ft.TEMPLATE,be.TEMPLATE],[Ft.TEXTAREA,be.TEXTAREA],[Ft.TFOOT,be.TFOOT],[Ft.TD,be.TD],[Ft.TH,be.TH],[Ft.THEAD,be.THEAD],[Ft.TITLE,be.TITLE],[Ft.TR,be.TR],[Ft.TRACK,be.TRACK],[Ft.TT,be.TT],[Ft.U,be.U],[Ft.UL,be.UL],[Ft.SVG,be.SVG],[Ft.VAR,be.VAR],[Ft.WBR,be.WBR],[Ft.XMP,be.XMP]]);function Us(z){var he;return null!==(he=Is.get(z))&&void 0!==he?he:be.UNKNOWN}const nn=be,js={[Ht.HTML]:new Set([nn.ADDRESS,nn.APPLET,nn.AREA,nn.ARTICLE,nn.ASIDE,nn.BASE,nn.BASEFONT,nn.BGSOUND,nn.BLOCKQUOTE,nn.BODY,nn.BR,nn.BUTTON,nn.CAPTION,nn.CENTER,nn.COL,nn.COLGROUP,nn.DD,nn.DETAILS,nn.DIR,nn.DIV,nn.DL,nn.DT,nn.EMBED,nn.FIELDSET,nn.FIGCAPTION,nn.FIGURE,nn.FOOTER,nn.FORM,nn.FRAME,nn.FRAMESET,nn.H1,nn.H2,nn.H3,nn.H4,nn.H5,nn.H6,nn.HEAD,nn.HEADER,nn.HGROUP,nn.HR,nn.HTML,nn.IFRAME,nn.IMG,nn.INPUT,nn.LI,nn.LINK,nn.LISTING,nn.MAIN,nn.MARQUEE,nn.MENU,nn.META,nn.NAV,nn.NOEMBED,nn.NOFRAMES,nn.NOSCRIPT,nn.OBJECT,nn.OL,nn.P,nn.PARAM,nn.PLAINTEXT,nn.PRE,nn.SCRIPT,nn.SECTION,nn.SELECT,nn.SOURCE,nn.STYLE,nn.SUMMARY,nn.TABLE,nn.TBODY,nn.TD,nn.TEMPLATE,nn.TEXTAREA,nn.TFOOT,nn.TH,nn.THEAD,nn.TITLE,nn.TR,nn.TRACK,nn.UL,nn.WBR,nn.XMP]),[Ht.MATHML]:new Set([nn.MI,nn.MO,nn.MN,nn.MS,nn.MTEXT,nn.ANNOTATION_XML]),[Ht.SVG]:new Set([nn.TITLE,nn.FOREIGN_OBJECT,nn.DESC]),[Ht.XLINK]:new Set,[Ht.XML]:new Set,[Ht.XMLNS]:new Set};function io(z){return z===nn.H1||z===nn.H2||z===nn.H3||z===nn.H4||z===nn.H5||z===nn.H6}const si=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var yt;!function(z){z[z.DATA=0]="DATA",z[z.RCDATA=1]="RCDATA",z[z.RAWTEXT=2]="RAWTEXT",z[z.SCRIPT_DATA=3]="SCRIPT_DATA",z[z.PLAINTEXT=4]="PLAINTEXT",z[z.TAG_OPEN=5]="TAG_OPEN",z[z.END_TAG_OPEN=6]="END_TAG_OPEN",z[z.TAG_NAME=7]="TAG_NAME",z[z.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",z[z.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",z[z.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",z[z.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",z[z.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",z[z.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",z[z.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",z[z.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",z[z.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",z[z.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",z[z.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",z[z.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",z[z.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",z[z.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",z[z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",z[z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",z[z.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",z[z.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",z[z.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",z[z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",z[z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",z[z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",z[z.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",z[z.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",z[z.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",z[z.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",z[z.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",z[z.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",z[z.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",z[z.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",z[z.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",z[z.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",z[z.BOGUS_COMMENT=40]="BOGUS_COMMENT",z[z.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",z[z.COMMENT_START=42]="COMMENT_START",z[z.COMMENT_START_DASH=43]="COMMENT_START_DASH",z[z.COMMENT=44]="COMMENT",z[z.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",z[z.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",z[z.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",z[z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",z[z.COMMENT_END_DASH=49]="COMMENT_END_DASH",z[z.COMMENT_END=50]="COMMENT_END",z[z.COMMENT_END_BANG=51]="COMMENT_END_BANG",z[z.DOCTYPE=52]="DOCTYPE",z[z.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",z[z.DOCTYPE_NAME=54]="DOCTYPE_NAME",z[z.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",z[z.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",z[z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",z[z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",z[z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",z[z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",z[z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",z[z.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",z[z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",z[z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",z[z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",z[z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",z[z.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",z[z.CDATA_SECTION=68]="CDATA_SECTION",z[z.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",z[z.CDATA_SECTION_END=70]="CDATA_SECTION_END",z[z.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",z[z.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",z[z.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",z[z.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",z[z.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",z[z.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",z[z.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",z[z.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(yt||(yt={}));const Yo={DATA:yt.DATA,RCDATA:yt.RCDATA,RAWTEXT:yt.RAWTEXT,SCRIPT_DATA:yt.SCRIPT_DATA,PLAINTEXT:yt.PLAINTEXT,CDATA_SECTION:yt.CDATA_SECTION};function nc(z){return z>=Me.DIGIT_0&&z<=Me.DIGIT_9}function fd(z){return z>=Me.LATIN_CAPITAL_A&&z<=Me.LATIN_CAPITAL_Z}function zi(z){return(he=z)>=Me.LATIN_SMALL_A&&he<=Me.LATIN_SMALL_Z||fd(z);var he}function hu(z){return zi(z)||nc(z)}function _a(z){return z>=Me.LATIN_CAPITAL_A&&z<=Me.LATIN_CAPITAL_F}function Al(z){return z>=Me.LATIN_SMALL_A&&z<=Me.LATIN_SMALL_F}function pu(z){return z+32}function md(z){return z===Me.SPACE||z===Me.LINE_FEED||z===Me.TABULATION||z===Me.FORM_FEED}function rc(z){return md(z)||z===Me.SOLIDUS||z===Me.GREATER_THAN_SIGN}class sc{constructor(he,Ce){this.options=he,this.handler=Ce,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=yt.DATA,this.returnState=yt.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Wn(Ce),this.currentLocation=this.getCurrentLocation(-1)}_err(he){var Ce,ze;null===(ze=(Ce=this.handler).onParseError)||void 0===ze||ze.call(Ce,this.preprocessor.getError(he))}getCurrentLocation(he){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-he,startOffset:this.preprocessor.offset-he,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const he=this._consume();this._ensureHibernation()||this._callState(he)}this.inLoop=!1}}pause(){this.paused=!0}resume(he){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==he||he())}write(he,Ce,ze){this.active=!0,this.preprocessor.write(he,Ce),this._runParsingLoop(),this.paused||null==ze||ze()}insertHtmlAtCurrentPos(he){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(he),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(he){this.consumedAfterSnapshot-=he,this.preprocessor.retreat(he)}_reconsumeInState(he,Ce){this.state=he,this._callState(Ce)}_advanceBy(he){this.consumedAfterSnapshot+=he;for(let Ce=0;Ce<he;Ce++)this.preprocessor.advance()}_consumeSequenceIfMatch(he,Ce){return!!this.preprocessor.startsWith(he,Ce)&&(this._advanceBy(he.length-1),!0)}_createStartTagToken(){this.currentToken={type:sn.START_TAG,tagName:"",tagID:be.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:sn.END_TAG,tagName:"",tagID:be.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(he){this.currentToken={type:sn.COMMENT,data:"",location:this.getCurrentLocation(he)}}_createDoctypeToken(he){this.currentToken={type:sn.DOCTYPE,name:he,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(he,Ce){this.currentCharacterToken={type:he,chars:Ce,location:this.currentLocation}}_createAttr(he){this.currentAttr={name:he,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var he,Ce;const ze=this.currentToken;null===Bn(ze,this.currentAttr.name)?(ze.attrs.push(this.currentAttr),ze.location&&this.currentLocation&&((null!==(he=(Ce=ze.location).attrs)&&void 0!==he?he:Ce.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(Ot.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(he){this._emitCurrentCharacterToken(he.location),this.currentToken=null,he.location&&(he.location.endLine=this.preprocessor.line,he.location.endCol=this.preprocessor.col+1,he.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const he=this.currentToken;this.prepareToken(he),he.tagID=Us(he.tagName),he.type===sn.START_TAG?(this.lastStartTagName=he.tagName,this.handler.onStartTag(he)):(he.attrs.length>0&&this._err(Ot.endTagWithAttributes),he.selfClosing&&this._err(Ot.endTagWithTrailingSolidus),this.handler.onEndTag(he)),this.preprocessor.dropParsedChunk()}emitCurrentComment(he){this.prepareToken(he),this.handler.onComment(he),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(he){this.prepareToken(he),this.handler.onDoctype(he),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(he){if(this.currentCharacterToken){switch(he&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=he.startLine,this.currentCharacterToken.location.endCol=he.startCol,this.currentCharacterToken.location.endOffset=he.startOffset),this.currentCharacterToken.type){case sn.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case sn.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case sn.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const he=this.getCurrentLocation(0);he&&(he.endLine=he.startLine,he.endCol=he.startCol,he.endOffset=he.startOffset),this._emitCurrentCharacterToken(he),this.handler.onEof({type:sn.EOF,location:he}),this.active=!1}_appendCharToCurrentCharacterToken(he,Ce){if(this.currentCharacterToken){if(this.currentCharacterToken.type===he)return void(this.currentCharacterToken.chars+=Ce);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(he,Ce)}_emitCodePoint(he){const Ce=md(he)?sn.WHITESPACE_CHARACTER:he===Me.NULL?sn.NULL_CHARACTER:sn.CHARACTER;this._appendCharToCurrentCharacterToken(Ce,String.fromCodePoint(he))}_emitChars(he){this._appendCharToCurrentCharacterToken(sn.CHARACTER,he)}_matchNamedCharacterReference(he){let Ce=null,ze=0,xt=!1;for(let Sn=0,Fr=Kr.htmlDecodeTree[0];Sn>=0&&(Sn=Kr.determineBranch(Kr.htmlDecodeTree,Fr,Sn+1,he),!(Sn<0));he=this._consume()){ze+=1,Fr=Kr.htmlDecodeTree[Sn];const gr=Fr&Kr.BinTrieFlags.VALUE_LENGTH;if(gr){const Ks=(gr>>14)-1;if(he!==Me.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((pn=this.preprocessor.peek(1))===Me.EQUALS_SIGN||hu(pn))?(Ce=[Me.AMPERSAND],Sn+=Ks):(Ce=0===Ks?[Kr.htmlDecodeTree[Sn]&~Kr.BinTrieFlags.VALUE_LENGTH]:1===Ks?[Kr.htmlDecodeTree[++Sn]]:[Kr.htmlDecodeTree[++Sn],Kr.htmlDecodeTree[++Sn]],ze=0,xt=he!==Me.SEMICOLON),0===Ks){this._consume();break}}}var pn;return this._unconsume(ze),xt&&!this.preprocessor.endOfChunkHit&&this._err(Ot.missingSemicolonAfterCharacterReference),this._unconsume(1),Ce}_isCharacterReferenceInAttribute(){return this.returnState===yt.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===yt.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===yt.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(he){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(he):this._emitCodePoint(he)}_callState(he){switch(this.state){case yt.DATA:this._stateData(he);break;case yt.RCDATA:this._stateRcdata(he);break;case yt.RAWTEXT:this._stateRawtext(he);break;case yt.SCRIPT_DATA:this._stateScriptData(he);break;case yt.PLAINTEXT:this._statePlaintext(he);break;case yt.TAG_OPEN:this._stateTagOpen(he);break;case yt.END_TAG_OPEN:this._stateEndTagOpen(he);break;case yt.TAG_NAME:this._stateTagName(he);break;case yt.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(he);break;case yt.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(he);break;case yt.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(he);break;case yt.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(he);break;case yt.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(he);break;case yt.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(he);break;case yt.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(he);break;case yt.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(he);break;case yt.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(he);break;case yt.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(he);break;case yt.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(he);break;case yt.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(he);break;case yt.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(he);break;case yt.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(he);break;case yt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(he);break;case yt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(he);break;case yt.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(he);break;case yt.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(he);break;case yt.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(he);break;case yt.ATTRIBUTE_NAME:this._stateAttributeName(he);break;case yt.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(he);break;case yt.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(he);break;case yt.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(he);break;case yt.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(he);break;case yt.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(he);break;case yt.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(he);break;case yt.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(he);break;case yt.BOGUS_COMMENT:this._stateBogusComment(he);break;case yt.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(he);break;case yt.COMMENT_START:this._stateCommentStart(he);break;case yt.COMMENT_START_DASH:this._stateCommentStartDash(he);break;case yt.COMMENT:this._stateComment(he);break;case yt.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(he);break;case yt.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(he);break;case yt.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(he);break;case yt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(he);break;case yt.COMMENT_END_DASH:this._stateCommentEndDash(he);break;case yt.COMMENT_END:this._stateCommentEnd(he);break;case yt.COMMENT_END_BANG:this._stateCommentEndBang(he);break;case yt.DOCTYPE:this._stateDoctype(he);break;case yt.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(he);break;case yt.DOCTYPE_NAME:this._stateDoctypeName(he);break;case yt.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(he);break;case yt.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(he);break;case yt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(he);break;case yt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(he);break;case yt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(he);break;case yt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(he);break;case yt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(he);break;case yt.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(he);break;case yt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(he);break;case yt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(he);break;case yt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(he);break;case yt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(he);break;case yt.BOGUS_DOCTYPE:this._stateBogusDoctype(he);break;case yt.CDATA_SECTION:this._stateCdataSection(he);break;case yt.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(he);break;case yt.CDATA_SECTION_END:this._stateCdataSectionEnd(he);break;case yt.CHARACTER_REFERENCE:this._stateCharacterReference(he);break;case yt.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(he);break;case yt.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(he);break;case yt.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(he);break;case yt.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(he);break;case yt.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(he);break;case yt.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(he);break;case yt.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(he);break;default:throw new Error("Unknown state")}}_stateData(he){switch(he){case Me.LESS_THAN_SIGN:this.state=yt.TAG_OPEN;break;case Me.AMPERSAND:this.returnState=yt.DATA,this.state=yt.CHARACTER_REFERENCE;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitCodePoint(he);break;case Me.EOF:this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateRcdata(he){switch(he){case Me.AMPERSAND:this.returnState=yt.RCDATA,this.state=yt.CHARACTER_REFERENCE;break;case Me.LESS_THAN_SIGN:this.state=yt.RCDATA_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateRawtext(he){switch(he){case Me.LESS_THAN_SIGN:this.state=yt.RAWTEXT_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateScriptData(he){switch(he){case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._emitEOFToken();break;default:this._emitCodePoint(he)}}_statePlaintext(he){switch(he){case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateTagOpen(he){if(zi(he))this._createStartTagToken(),this.state=yt.TAG_NAME,this._stateTagName(he);else switch(he){case Me.EXCLAMATION_MARK:this.state=yt.MARKUP_DECLARATION_OPEN;break;case Me.SOLIDUS:this.state=yt.END_TAG_OPEN;break;case Me.QUESTION_MARK:this._err(Ot.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=yt.BOGUS_COMMENT,this._stateBogusComment(he);break;case Me.EOF:this._err(Ot.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(Ot.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=yt.DATA,this._stateData(he)}}_stateEndTagOpen(he){if(zi(he))this._createEndTagToken(),this.state=yt.TAG_NAME,this._stateTagName(he);else switch(he){case Me.GREATER_THAN_SIGN:this._err(Ot.missingEndTagName),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(Ot.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=yt.BOGUS_COMMENT,this._stateBogusComment(he)}}_stateTagName(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.BEFORE_ATTRIBUTE_NAME;break;case Me.SOLIDUS:this.state=yt.SELF_CLOSING_START_TAG;break;case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentTagToken();break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.tagName+=Te;break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:Ce.tagName+=String.fromCodePoint(fd(he)?pu(he):he)}}_stateRcdataLessThanSign(he){he===Me.SOLIDUS?this.state=yt.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=yt.RCDATA,this._stateRcdata(he))}_stateRcdataEndTagOpen(he){zi(he)?(this.state=yt.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(he)):(this._emitChars("</"),this.state=yt.RCDATA,this._stateRcdata(he))}handleSpecialEndTag(he){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=yt.BEFORE_ATTRIBUTE_NAME,!1;case Me.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=yt.SELF_CLOSING_START_TAG,!1;case Me.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=yt.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(he){this.handleSpecialEndTag(he)&&(this._emitChars("</"),this.state=yt.RCDATA,this._stateRcdata(he))}_stateRawtextLessThanSign(he){he===Me.SOLIDUS?this.state=yt.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=yt.RAWTEXT,this._stateRawtext(he))}_stateRawtextEndTagOpen(he){zi(he)?(this.state=yt.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(he)):(this._emitChars("</"),this.state=yt.RAWTEXT,this._stateRawtext(he))}_stateRawtextEndTagName(he){this.handleSpecialEndTag(he)&&(this._emitChars("</"),this.state=yt.RAWTEXT,this._stateRawtext(he))}_stateScriptDataLessThanSign(he){switch(he){case Me.SOLIDUS:this.state=yt.SCRIPT_DATA_END_TAG_OPEN;break;case Me.EXCLAMATION_MARK:this.state=yt.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=yt.SCRIPT_DATA,this._stateScriptData(he)}}_stateScriptDataEndTagOpen(he){zi(he)?(this.state=yt.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(he)):(this._emitChars("</"),this.state=yt.SCRIPT_DATA,this._stateScriptData(he))}_stateScriptDataEndTagName(he){this.handleSpecialEndTag(he)&&(this._emitChars("</"),this.state=yt.SCRIPT_DATA,this._stateScriptData(he))}_stateScriptDataEscapeStart(he){he===Me.HYPHEN_MINUS?(this.state=yt.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=yt.SCRIPT_DATA,this._stateScriptData(he))}_stateScriptDataEscapeStartDash(he){he===Me.HYPHEN_MINUS?(this.state=yt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=yt.SCRIPT_DATA,this._stateScriptData(he))}_stateScriptDataEscaped(he){switch(he){case Me.HYPHEN_MINUS:this.state=yt.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateScriptDataEscapedDash(he){switch(he){case Me.HYPHEN_MINUS:this.state=yt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.state=yt.SCRIPT_DATA_ESCAPED,this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=yt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(he)}}_stateScriptDataEscapedDashDash(he){switch(he){case Me.HYPHEN_MINUS:this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Me.GREATER_THAN_SIGN:this.state=yt.SCRIPT_DATA,this._emitChars(">");break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.state=yt.SCRIPT_DATA_ESCAPED,this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=yt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(he)}}_stateScriptDataEscapedLessThanSign(he){he===Me.SOLIDUS?this.state=yt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:zi(he)?(this._emitChars("<"),this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(he)):(this._emitChars("<"),this.state=yt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(he))}_stateScriptDataEscapedEndTagOpen(he){zi(he)?(this.state=yt.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(he)):(this._emitChars("</"),this.state=yt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(he))}_stateScriptDataEscapedEndTagName(he){this.handleSpecialEndTag(he)&&(this._emitChars("</"),this.state=yt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(he))}_stateScriptDataDoubleEscapeStart(he){if(this.preprocessor.startsWith("script",!1)&&rc(this.preprocessor.peek(6))){this._emitCodePoint(he);for(let Ce=0;Ce<6;Ce++)this._emitCodePoint(this._consume());this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=yt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(he))}_stateScriptDataDoubleEscaped(he){switch(he){case Me.HYPHEN_MINUS:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateScriptDataDoubleEscapedDash(he){switch(he){case Me.HYPHEN_MINUS:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(he)}}_stateScriptDataDoubleEscapedDashDash(he){switch(he){case Me.HYPHEN_MINUS:this._emitChars("-");break;case Me.LESS_THAN_SIGN:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Me.GREATER_THAN_SIGN:this.state=yt.SCRIPT_DATA,this._emitChars(">");break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Te);break;case Me.EOF:this._err(Ot.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(he)}}_stateScriptDataDoubleEscapedLessThanSign(he){he===Me.SOLIDUS?(this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(he))}_stateScriptDataDoubleEscapeEnd(he){if(this.preprocessor.startsWith("script",!1)&&rc(this.preprocessor.peek(6))){this._emitCodePoint(he);for(let Ce=0;Ce<6;Ce++)this._emitCodePoint(this._consume());this.state=yt.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=yt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(he))}_stateBeforeAttributeName(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.SOLIDUS:case Me.GREATER_THAN_SIGN:case Me.EOF:this.state=yt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(he);break;case Me.EQUALS_SIGN:this._err(Ot.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=yt.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=yt.ATTRIBUTE_NAME,this._stateAttributeName(he)}}_stateAttributeName(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:case Me.SOLIDUS:case Me.GREATER_THAN_SIGN:case Me.EOF:this._leaveAttrName(),this.state=yt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(he);break;case Me.EQUALS_SIGN:this._leaveAttrName(),this.state=yt.BEFORE_ATTRIBUTE_VALUE;break;case Me.QUOTATION_MARK:case Me.APOSTROPHE:case Me.LESS_THAN_SIGN:this._err(Ot.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(he);break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.currentAttr.name+=Te;break;default:this.currentAttr.name+=String.fromCodePoint(fd(he)?pu(he):he)}}_stateAfterAttributeName(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.SOLIDUS:this.state=yt.SELF_CLOSING_START_TAG;break;case Me.EQUALS_SIGN:this.state=yt.BEFORE_ATTRIBUTE_VALUE;break;case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentTagToken();break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=yt.ATTRIBUTE_NAME,this._stateAttributeName(he)}}_stateBeforeAttributeValue(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.QUOTATION_MARK:this.state=yt.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Me.APOSTROPHE:this.state=yt.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Me.GREATER_THAN_SIGN:this._err(Ot.missingAttributeValue),this.state=yt.DATA,this.emitCurrentTagToken();break;default:this.state=yt.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(he)}}_stateAttributeValueDoubleQuoted(he){switch(he){case Me.QUOTATION_MARK:this.state=yt.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Me.AMPERSAND:this.returnState=yt.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=yt.CHARACTER_REFERENCE;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.currentAttr.value+=Te;break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(he)}}_stateAttributeValueSingleQuoted(he){switch(he){case Me.APOSTROPHE:this.state=yt.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Me.AMPERSAND:this.returnState=yt.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=yt.CHARACTER_REFERENCE;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.currentAttr.value+=Te;break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(he)}}_stateAttributeValueUnquoted(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this._leaveAttrValue(),this.state=yt.BEFORE_ATTRIBUTE_NAME;break;case Me.AMPERSAND:this.returnState=yt.ATTRIBUTE_VALUE_UNQUOTED,this.state=yt.CHARACTER_REFERENCE;break;case Me.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=yt.DATA,this.emitCurrentTagToken();break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this.currentAttr.value+=Te;break;case Me.QUOTATION_MARK:case Me.APOSTROPHE:case Me.LESS_THAN_SIGN:case Me.EQUALS_SIGN:case Me.GRAVE_ACCENT:this._err(Ot.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(he);break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(he)}}_stateAfterAttributeValueQuoted(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this._leaveAttrValue(),this.state=yt.BEFORE_ATTRIBUTE_NAME;break;case Me.SOLIDUS:this._leaveAttrValue(),this.state=yt.SELF_CLOSING_START_TAG;break;case Me.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=yt.DATA,this.emitCurrentTagToken();break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this._err(Ot.missingWhitespaceBetweenAttributes),this.state=yt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(he)}}_stateSelfClosingStartTag(he){switch(he){case Me.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=yt.DATA,this.emitCurrentTagToken();break;case Me.EOF:this._err(Ot.eofInTag),this._emitEOFToken();break;default:this._err(Ot.unexpectedSolidusInTag),this.state=yt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(he)}}_stateBogusComment(he){const Ce=this.currentToken;switch(he){case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentComment(Ce);break;case Me.EOF:this.emitCurrentComment(Ce),this._emitEOFToken();break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.data+=Te;break;default:Ce.data+=String.fromCodePoint(he)}}_stateMarkupDeclarationOpen(he){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=yt.COMMENT_START):this._consumeSequenceIfMatch("doctype",!1)?(this.currentLocation=this.getCurrentLocation(8),this.state=yt.DOCTYPE):this._consumeSequenceIfMatch("[CDATA[",!0)?this.inForeignNode?this.state=yt.CDATA_SECTION:(this._err(Ot.cdataInHtmlContent),this._createCommentToken(8),this.currentToken.data="[CDATA[",this.state=yt.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ot.incorrectlyOpenedComment),this._createCommentToken(2),this.state=yt.BOGUS_COMMENT,this._stateBogusComment(he))}_stateCommentStart(he){switch(he){case Me.HYPHEN_MINUS:this.state=yt.COMMENT_START_DASH;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptClosingOfEmptyComment),this.state=yt.DATA,this.emitCurrentComment(this.currentToken);break;default:this.state=yt.COMMENT,this._stateComment(he)}}_stateCommentStartDash(he){const Ce=this.currentToken;switch(he){case Me.HYPHEN_MINUS:this.state=yt.COMMENT_END;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptClosingOfEmptyComment),this.state=yt.DATA,this.emitCurrentComment(Ce);break;case Me.EOF:this._err(Ot.eofInComment),this.emitCurrentComment(Ce),this._emitEOFToken();break;default:Ce.data+="-",this.state=yt.COMMENT,this._stateComment(he)}}_stateComment(he){const Ce=this.currentToken;switch(he){case Me.HYPHEN_MINUS:this.state=yt.COMMENT_END_DASH;break;case Me.LESS_THAN_SIGN:Ce.data+="<",this.state=yt.COMMENT_LESS_THAN_SIGN;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.data+=Te;break;case Me.EOF:this._err(Ot.eofInComment),this.emitCurrentComment(Ce),this._emitEOFToken();break;default:Ce.data+=String.fromCodePoint(he)}}_stateCommentLessThanSign(he){const Ce=this.currentToken;switch(he){case Me.EXCLAMATION_MARK:Ce.data+="!",this.state=yt.COMMENT_LESS_THAN_SIGN_BANG;break;case Me.LESS_THAN_SIGN:Ce.data+="<";break;default:this.state=yt.COMMENT,this._stateComment(he)}}_stateCommentLessThanSignBang(he){he===Me.HYPHEN_MINUS?this.state=yt.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=yt.COMMENT,this._stateComment(he))}_stateCommentLessThanSignBangDash(he){he===Me.HYPHEN_MINUS?this.state=yt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=yt.COMMENT_END_DASH,this._stateCommentEndDash(he))}_stateCommentLessThanSignBangDashDash(he){he!==Me.GREATER_THAN_SIGN&&he!==Me.EOF&&this._err(Ot.nestedComment),this.state=yt.COMMENT_END,this._stateCommentEnd(he)}_stateCommentEndDash(he){const Ce=this.currentToken;switch(he){case Me.HYPHEN_MINUS:this.state=yt.COMMENT_END;break;case Me.EOF:this._err(Ot.eofInComment),this.emitCurrentComment(Ce),this._emitEOFToken();break;default:Ce.data+="-",this.state=yt.COMMENT,this._stateComment(he)}}_stateCommentEnd(he){const Ce=this.currentToken;switch(he){case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentComment(Ce);break;case Me.EXCLAMATION_MARK:this.state=yt.COMMENT_END_BANG;break;case Me.HYPHEN_MINUS:Ce.data+="-";break;case Me.EOF:this._err(Ot.eofInComment),this.emitCurrentComment(Ce),this._emitEOFToken();break;default:Ce.data+="--",this.state=yt.COMMENT,this._stateComment(he)}}_stateCommentEndBang(he){const Ce=this.currentToken;switch(he){case Me.HYPHEN_MINUS:Ce.data+="--!",this.state=yt.COMMENT_END_DASH;break;case Me.GREATER_THAN_SIGN:this._err(Ot.incorrectlyClosedComment),this.state=yt.DATA,this.emitCurrentComment(Ce);break;case Me.EOF:this._err(Ot.eofInComment),this.emitCurrentComment(Ce),this._emitEOFToken();break;default:Ce.data+="--!",this.state=yt.COMMENT,this._stateComment(he)}}_stateDoctype(he){switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.BEFORE_DOCTYPE_NAME;break;case Me.GREATER_THAN_SIGN:this.state=yt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(he);break;case Me.EOF:{this._err(Ot.eofInDoctype),this._createDoctypeToken(null);const Ce=this.currentToken;Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break}default:this._err(Ot.missingWhitespaceBeforeDoctypeName),this.state=yt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(he)}}_stateBeforeDoctypeName(he){if(fd(he))this._createDoctypeToken(String.fromCharCode(pu(he))),this.state=yt.DOCTYPE_NAME;else switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),this._createDoctypeToken(Te),this.state=yt.DOCTYPE_NAME;break;case Me.GREATER_THAN_SIGN:{this._err(Ot.missingDoctypeName),this._createDoctypeToken(null);const Ce=this.currentToken;Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this.state=yt.DATA;break}case Me.EOF:{this._err(Ot.eofInDoctype),this._createDoctypeToken(null);const Ce=this.currentToken;Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(he)),this.state=yt.DOCTYPE_NAME}}_stateDoctypeName(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.AFTER_DOCTYPE_NAME;break;case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.name+=Te;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:Ce.name+=String.fromCodePoint(fd(he)?pu(he):he)}}_stateAfterDoctypeName(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=yt.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=yt.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ot.invalidCharacterSequenceAfterDoctypeName),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he))}}_stateAfterDoctypePublicKeyword(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Me.QUOTATION_MARK:this._err(Ot.missingWhitespaceAfterDoctypePublicKeyword),Ce.publicId="",this.state=yt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:this._err(Ot.missingWhitespaceAfterDoctypePublicKeyword),Ce.publicId="",this.state=yt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Me.GREATER_THAN_SIGN:this._err(Ot.missingDoctypePublicIdentifier),Ce.forceQuirks=!0,this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypePublicIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateBeforeDoctypePublicIdentifier(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.QUOTATION_MARK:Ce.publicId="",this.state=yt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:Ce.publicId="",this.state=yt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Me.GREATER_THAN_SIGN:this._err(Ot.missingDoctypePublicIdentifier),Ce.forceQuirks=!0,this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypePublicIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateDoctypePublicIdentifierDoubleQuoted(he){const Ce=this.currentToken;switch(he){case Me.QUOTATION_MARK:this.state=yt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.publicId+=Te;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptDoctypePublicIdentifier),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:Ce.publicId+=String.fromCodePoint(he)}}_stateDoctypePublicIdentifierSingleQuoted(he){const Ce=this.currentToken;switch(he){case Me.APOSTROPHE:this.state=yt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.publicId+=Te;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptDoctypePublicIdentifier),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:Ce.publicId+=String.fromCodePoint(he)}}_stateAfterDoctypePublicIdentifier(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Me.GREATER_THAN_SIGN:this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.QUOTATION_MARK:this._err(Ot.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:this._err(Ot.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateBetweenDoctypePublicAndSystemIdentifiers(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.GREATER_THAN_SIGN:this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.QUOTATION_MARK:Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateAfterDoctypeSystemKeyword(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:this.state=yt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Me.QUOTATION_MARK:this._err(Ot.missingWhitespaceAfterDoctypeSystemKeyword),Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:this._err(Ot.missingWhitespaceAfterDoctypeSystemKeyword),Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Me.GREATER_THAN_SIGN:this._err(Ot.missingDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateBeforeDoctypeSystemIdentifier(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.QUOTATION_MARK:Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Me.APOSTROPHE:Ce.systemId="",this.state=yt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Me.GREATER_THAN_SIGN:this._err(Ot.missingDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.DATA,this.emitCurrentDoctype(Ce);break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.missingQuoteBeforeDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateDoctypeSystemIdentifierDoubleQuoted(he){const Ce=this.currentToken;switch(he){case Me.QUOTATION_MARK:this.state=yt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.systemId+=Te;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:Ce.systemId+=String.fromCodePoint(he)}}_stateDoctypeSystemIdentifierSingleQuoted(he){const Ce=this.currentToken;switch(he){case Me.APOSTROPHE:this.state=yt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter),Ce.systemId+=Te;break;case Me.GREATER_THAN_SIGN:this._err(Ot.abruptDoctypeSystemIdentifier),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:Ce.systemId+=String.fromCodePoint(he)}}_stateAfterDoctypeSystemIdentifier(he){const Ce=this.currentToken;switch(he){case Me.SPACE:case Me.LINE_FEED:case Me.TABULATION:case Me.FORM_FEED:break;case Me.GREATER_THAN_SIGN:this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.EOF:this._err(Ot.eofInDoctype),Ce.forceQuirks=!0,this.emitCurrentDoctype(Ce),this._emitEOFToken();break;default:this._err(Ot.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=yt.BOGUS_DOCTYPE,this._stateBogusDoctype(he)}}_stateBogusDoctype(he){const Ce=this.currentToken;switch(he){case Me.GREATER_THAN_SIGN:this.emitCurrentDoctype(Ce),this.state=yt.DATA;break;case Me.NULL:this._err(Ot.unexpectedNullCharacter);break;case Me.EOF:this.emitCurrentDoctype(Ce),this._emitEOFToken()}}_stateCdataSection(he){switch(he){case Me.RIGHT_SQUARE_BRACKET:this.state=yt.CDATA_SECTION_BRACKET;break;case Me.EOF:this._err(Ot.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(he)}}_stateCdataSectionBracket(he){he===Me.RIGHT_SQUARE_BRACKET?this.state=yt.CDATA_SECTION_END:(this._emitChars("]"),this.state=yt.CDATA_SECTION,this._stateCdataSection(he))}_stateCdataSectionEnd(he){switch(he){case Me.GREATER_THAN_SIGN:this.state=yt.DATA;break;case Me.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=yt.CDATA_SECTION,this._stateCdataSection(he)}}_stateCharacterReference(he){he===Me.NUMBER_SIGN?this.state=yt.NUMERIC_CHARACTER_REFERENCE:hu(he)?(this.state=yt.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(he)):(this._flushCodePointConsumedAsCharacterReference(Me.AMPERSAND),this._reconsumeInState(this.returnState,he))}_stateNamedCharacterReference(he){const Ce=this._matchNamedCharacterReference(he);if(!this._ensureHibernation())if(Ce){for(let ze=0;ze<Ce.length;ze++)this._flushCodePointConsumedAsCharacterReference(Ce[ze]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Me.AMPERSAND),this.state=yt.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(he){hu(he)?this._flushCodePointConsumedAsCharacterReference(he):(he===Me.SEMICOLON&&this._err(Ot.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,he))}_stateNumericCharacterReference(he){this.charRefCode=0,he===Me.LATIN_SMALL_X||he===Me.LATIN_CAPITAL_X?this.state=yt.HEXADEMICAL_CHARACTER_REFERENCE_START:nc(he)?(this.state=yt.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(he)):(this._err(Ot.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Me.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Me.NUMBER_SIGN),this._reconsumeInState(this.returnState,he))}_stateHexademicalCharacterReferenceStart(he){var Ce;nc(Ce=he)||_a(Ce)||Al(Ce)?(this.state=yt.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(he)):(this._err(Ot.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Me.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Me.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(he){_a(he)?this.charRefCode=16*this.charRefCode+he-55:Al(he)?this.charRefCode=16*this.charRefCode+he-87:nc(he)?this.charRefCode=16*this.charRefCode+he-48:he===Me.SEMICOLON?this.state=yt.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ot.missingSemicolonAfterCharacterReference),this.state=yt.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(he))}_stateDecimalCharacterReference(he){nc(he)?this.charRefCode=10*this.charRefCode+he-48:he===Me.SEMICOLON?this.state=yt.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Ot.missingSemicolonAfterCharacterReference),this.state=yt.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(he))}_stateNumericCharacterReferenceEnd(he){if(this.charRefCode===Me.NULL)this._err(Ot.nullCharacterReference),this.charRefCode=Me.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Ot.characterReferenceOutsideUnicodeRange),this.charRefCode=Me.REPLACEMENT_CHARACTER;else if(Nt(this.charRefCode))this._err(Ot.surrogateCharacterReference),this.charRefCode=Me.REPLACEMENT_CHARACTER;else if(Vt(this.charRefCode))this._err(Ot.noncharacterCharacterReference);else if(Bt(this.charRefCode)||this.charRefCode===Me.CARRIAGE_RETURN){this._err(Ot.controlCharacterReference);const Ce=si.get(this.charRefCode);void 0!==Ce&&(this.charRefCode=Ce)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,he)}}const ph=new Set([be.DD,be.DT,be.LI,be.OPTGROUP,be.OPTION,be.P,be.RB,be.RP,be.RT,be.RTC]),oc=new Set([...ph,be.CAPTION,be.COLGROUP,be.TBODY,be.TD,be.TFOOT,be.TH,be.THEAD,be.TR]),ic=new Map([[be.APPLET,Ht.HTML],[be.CAPTION,Ht.HTML],[be.HTML,Ht.HTML],[be.MARQUEE,Ht.HTML],[be.OBJECT,Ht.HTML],[be.TABLE,Ht.HTML],[be.TD,Ht.HTML],[be.TEMPLATE,Ht.HTML],[be.TH,Ht.HTML],[be.ANNOTATION_XML,Ht.MATHML],[be.MI,Ht.MATHML],[be.MN,Ht.MATHML],[be.MO,Ht.MATHML],[be.MS,Ht.MATHML],[be.MTEXT,Ht.MATHML],[be.DESC,Ht.SVG],[be.FOREIGN_OBJECT,Ht.SVG],[be.TITLE,Ht.SVG]]),mo=[be.H1,be.H2,be.H3,be.H4,be.H5,be.H6],Dl=[be.TR,be.TEMPLATE,be.HTML],fh=[be.TBODY,be.TFOOT,be.THEAD,be.TEMPLATE,be.HTML],Qr=[be.TABLE,be.TEMPLATE,be.HTML],Tl=[be.TD,be.TH];class fu{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(he,Ce,ze){this.treeAdapter=Ce,this.handler=ze,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=be.UNKNOWN,this.current=he}_indexOf(he){return this.items.lastIndexOf(he,this.stackTop)}_isInTemplate(){return this.currentTagId===be.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ht.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(he,Ce){this.stackTop++,this.items[this.stackTop]=he,this.current=he,this.tagIDs[this.stackTop]=Ce,this.currentTagId=Ce,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(he,Ce,!0)}pop(){const he=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(he,!0)}replace(he,Ce){const ze=this._indexOf(he);this.items[ze]=Ce,ze===this.stackTop&&(this.current=Ce)}insertAfter(he,Ce,ze){const xt=this._indexOf(he)+1;this.items.splice(xt,0,Ce),this.tagIDs.splice(xt,0,ze),this.stackTop++,xt===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,xt===this.stackTop)}popUntilTagNamePopped(he){let Ce=this.stackTop+1;do{Ce=this.tagIDs.lastIndexOf(he,Ce-1)}while(Ce>0&&this.treeAdapter.getNamespaceURI(this.items[Ce])!==Ht.HTML);this.shortenToLength(Ce<0?0:Ce)}shortenToLength(he){for(;this.stackTop>=he;){const Ce=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(Ce,this.stackTop<he)}}popUntilElementPopped(he){const Ce=this._indexOf(he);this.shortenToLength(Ce<0?0:Ce)}popUntilPopped(he,Ce){const ze=this._indexOfTagNames(he,Ce);this.shortenToLength(ze<0?0:ze)}popUntilNumberedHeaderPopped(){this.popUntilPopped(mo,Ht.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Tl,Ht.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(he,Ce){for(let ze=this.stackTop;ze>=0;ze--)if(he.includes(this.tagIDs[ze])&&this.treeAdapter.getNamespaceURI(this.items[ze])===Ce)return ze;return-1}clearBackTo(he,Ce){const ze=this._indexOfTagNames(he,Ce);this.shortenToLength(ze+1)}clearBackToTableContext(){this.clearBackTo(Qr,Ht.HTML)}clearBackToTableBodyContext(){this.clearBackTo(fh,Ht.HTML)}clearBackToTableRowContext(){this.clearBackTo(Dl,Ht.HTML)}remove(he){const Ce=this._indexOf(he);Ce>=0&&(Ce===this.stackTop?this.pop():(this.items.splice(Ce,1),this.tagIDs.splice(Ce,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(he,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===be.BODY?this.items[1]:null}contains(he){return this._indexOf(he)>-1}getCommonAncestor(he){const Ce=this._indexOf(he)-1;return Ce>=0?this.items[Ce]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===be.HTML}hasInScope(he){for(let Ce=this.stackTop;Ce>=0;Ce--){const ze=this.tagIDs[Ce],xt=this.treeAdapter.getNamespaceURI(this.items[Ce]);if(ze===he&&xt===Ht.HTML)return!0;if(ic.get(ze)===xt)return!1}return!0}hasNumberedHeaderInScope(){for(let he=this.stackTop;he>=0;he--){const Ce=this.tagIDs[he],ze=this.treeAdapter.getNamespaceURI(this.items[he]);if(io(Ce)&&ze===Ht.HTML)return!0;if(ic.get(Ce)===ze)return!1}return!0}hasInListItemScope(he){for(let Ce=this.stackTop;Ce>=0;Ce--){const ze=this.tagIDs[Ce],xt=this.treeAdapter.getNamespaceURI(this.items[Ce]);if(ze===he&&xt===Ht.HTML)return!0;if((ze===be.UL||ze===be.OL)&&xt===Ht.HTML||ic.get(ze)===xt)return!1}return!0}hasInButtonScope(he){for(let Ce=this.stackTop;Ce>=0;Ce--){const ze=this.tagIDs[Ce],xt=this.treeAdapter.getNamespaceURI(this.items[Ce]);if(ze===he&&xt===Ht.HTML)return!0;if(ze===be.BUTTON&&xt===Ht.HTML||ic.get(ze)===xt)return!1}return!0}hasInTableScope(he){for(let Ce=this.stackTop;Ce>=0;Ce--){const ze=this.tagIDs[Ce];if(this.treeAdapter.getNamespaceURI(this.items[Ce])===Ht.HTML){if(ze===he)return!0;if(ze===be.TABLE||ze===be.TEMPLATE||ze===be.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let he=this.stackTop;he>=0;he--){const Ce=this.tagIDs[he];if(this.treeAdapter.getNamespaceURI(this.items[he])===Ht.HTML){if(Ce===be.TBODY||Ce===be.THEAD||Ce===be.TFOOT)return!0;if(Ce===be.TABLE||Ce===be.HTML)return!1}}return!0}hasInSelectScope(he){for(let Ce=this.stackTop;Ce>=0;Ce--){const ze=this.tagIDs[Ce];if(this.treeAdapter.getNamespaceURI(this.items[Ce])===Ht.HTML){if(ze===he)return!0;if(ze!==be.OPTION&&ze!==be.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ph.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;oc.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(he){for(;this.currentTagId!==he&&oc.has(this.currentTagId);)this.pop()}}var ls;!function(z){z[z.Marker=0]="Marker",z[z.Element=1]="Element"}(ls=ls||(ls={}));const mh={type:ls.Marker};class mu{constructor(he){this.treeAdapter=he,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(he,Ce){const ze=[],xt=Ce.length,pn=this.treeAdapter.getTagName(he),Sn=this.treeAdapter.getNamespaceURI(he);for(let Fr=0;Fr<this.entries.length;Fr++){const gr=this.entries[Fr];if(gr.type===ls.Marker)break;const{element:Ks}=gr;if(this.treeAdapter.getTagName(Ks)===pn&&this.treeAdapter.getNamespaceURI(Ks)===Sn){const is=this.treeAdapter.getAttrList(Ks);is.length===xt&&ze.push({idx:Fr,attrs:is})}}return ze}_ensureNoahArkCondition(he){if(this.entries.length<3)return;const Ce=this.treeAdapter.getAttrList(he),ze=this._getNoahArkConditionCandidates(he,Ce);if(ze.length<3)return;const xt=new Map(Ce.map(Sn=>[Sn.name,Sn.value]));let pn=0;for(let Sn=0;Sn<ze.length;Sn++){const Fr=ze[Sn];Fr.attrs.every(gr=>xt.get(gr.name)===gr.value)&&(pn+=1,pn>=3&&this.entries.splice(Fr.idx,1))}}insertMarker(){this.entries.unshift(mh)}pushElement(he,Ce){this._ensureNoahArkCondition(he),this.entries.unshift({type:ls.Element,element:he,token:Ce})}insertElementAfterBookmark(he,Ce){const ze=this.entries.indexOf(this.bookmark);this.entries.splice(ze,0,{type:ls.Element,element:he,token:Ce})}removeEntry(he){const Ce=this.entries.indexOf(he);Ce>=0&&this.entries.splice(Ce,1)}clearToLastMarker(){const he=this.entries.indexOf(mh);he>=0?this.entries.splice(0,he+1):this.entries.length=0}getElementEntryInScopeWithTagName(he){const Ce=this.entries.find(ze=>ze.type===ls.Marker||this.treeAdapter.getTagName(ze.element)===he);return Ce&&Ce.type===ls.Element?Ce:null}getElementEntry(he){return this.entries.find(Ce=>Ce.type===ls.Element&&Ce.element===he)}}function Ua(z){return{nodeName:"#text",value:z,parentNode:null}}const ho={createDocument:()=>({nodeName:"#document",mode:en.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(z,he,Ce)=>({nodeName:z,tagName:z,attrs:Ce,namespaceURI:he,childNodes:[],parentNode:null}),createCommentNode:z=>({nodeName:"#comment",data:z,parentNode:null}),appendChild(z,he){z.childNodes.push(he),he.parentNode=z},insertBefore(z,he,Ce){const ze=z.childNodes.indexOf(Ce);z.childNodes.splice(ze,0,he),he.parentNode=z},setTemplateContent(z,he){z.content=he},getTemplateContent:z=>z.content,setDocumentType(z,he,Ce,ze){const xt=z.childNodes.find(pn=>"#documentType"===pn.nodeName);xt?(xt.name=he,xt.publicId=Ce,xt.systemId=ze):ho.appendChild(z,{nodeName:"#documentType",name:he,publicId:Ce,systemId:ze,parentNode:null})},setDocumentMode(z,he){z.mode=he},getDocumentMode:z=>z.mode,detachNode(z){if(z.parentNode){const he=z.parentNode.childNodes.indexOf(z);z.parentNode.childNodes.splice(he,1),z.parentNode=null}},insertText(z,he){if(z.childNodes.length>0){const Ce=z.childNodes[z.childNodes.length-1];if(ho.isTextNode(Ce))return void(Ce.value+=he)}ho.appendChild(z,Ua(he))},insertTextBefore(z,he,Ce){const ze=z.childNodes[z.childNodes.indexOf(Ce)-1];ze&&ho.isTextNode(ze)?ze.value+=he:ho.insertBefore(z,Ua(he),Ce)},adoptAttributes(z,he){const Ce=new Set(z.attrs.map(ze=>ze.name));for(let ze=0;ze<he.length;ze++)Ce.has(he[ze].name)||z.attrs.push(he[ze])},getFirstChild:z=>z.childNodes[0],getChildNodes:z=>z.childNodes,getParentNode:z=>z.parentNode,getAttrList:z=>z.attrs,getTagName:z=>z.tagName,getNamespaceURI:z=>z.namespaceURI,getTextNodeContent:z=>z.value,getCommentNodeContent:z=>z.data,getDocumentTypeNodeName:z=>z.name,getDocumentTypeNodePublicId:z=>z.publicId,getDocumentTypeNodeSystemId:z=>z.systemId,isTextNode:z=>"#text"===z.nodeName,isCommentNode:z=>"#comment"===z.nodeName,isDocumentTypeNode:z=>"#documentType"===z.nodeName,isElementNode:z=>Object.prototype.hasOwnProperty.call(z,"tagName"),setNodeSourceCodeLocation(z,he){z.sourceCodeLocation=he},getNodeSourceCodeLocation:z=>z.sourceCodeLocation,updateNodeSourceCodeLocation(z,he){z.sourceCodeLocation={...z.sourceCodeLocation,...he}}},lc=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Cl=[...lc,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Uo=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Go=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],gh=[...Go,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function xi(z,he){return he.some(Ce=>z.startsWith(Ce))}const gu="definitionurl",yu="definitionURL",uc=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(z=>[z.toLowerCase(),z])),ja=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ht.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ht.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ht.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ht.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ht.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ht.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ht.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Ht.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ht.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ht.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ht.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ht.XMLNS}]]),hr=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(z=>[z.toLowerCase(),z])),_u=new Set([be.B,be.BIG,be.BLOCKQUOTE,be.BODY,be.BR,be.CENTER,be.CODE,be.DD,be.DIV,be.DL,be.DT,be.EM,be.EMBED,be.H1,be.H2,be.H3,be.H4,be.H5,be.H6,be.HEAD,be.HR,be.I,be.IMG,be.LI,be.LISTING,be.MENU,be.META,be.NOBR,be.OL,be.P,be.PRE,be.RUBY,be.S,be.SMALL,be.SPAN,be.STRONG,be.STRIKE,be.SUB,be.SUP,be.TABLE,be.TT,be.U,be.UL,be.VAR]);function cc(z){for(let he=0;he<z.attrs.length;he++)if(z.attrs[he].name===gu){z.attrs[he].name=yu;break}}function yd(z){for(let he=0;he<z.attrs.length;he++){const Ce=uc.get(z.attrs[he].name);null!=Ce&&(z.attrs[he].name=Ce)}}function hf(z){for(let he=0;he<z.attrs.length;he++){const Ce=ja.get(z.attrs[he].name);Ce&&(z.attrs[he].prefix=Ce.prefix,z.attrs[he].name=Ce.name,z.attrs[he].namespace=Ce.namespace)}}const pf="hidden",ff=8,pi=3;var St;!function(z){z[z.INITIAL=0]="INITIAL",z[z.BEFORE_HTML=1]="BEFORE_HTML",z[z.BEFORE_HEAD=2]="BEFORE_HEAD",z[z.IN_HEAD=3]="IN_HEAD",z[z.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",z[z.AFTER_HEAD=5]="AFTER_HEAD",z[z.IN_BODY=6]="IN_BODY",z[z.TEXT=7]="TEXT",z[z.IN_TABLE=8]="IN_TABLE",z[z.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",z[z.IN_CAPTION=10]="IN_CAPTION",z[z.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",z[z.IN_TABLE_BODY=12]="IN_TABLE_BODY",z[z.IN_ROW=13]="IN_ROW",z[z.IN_CELL=14]="IN_CELL",z[z.IN_SELECT=15]="IN_SELECT",z[z.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",z[z.IN_TEMPLATE=17]="IN_TEMPLATE",z[z.AFTER_BODY=18]="AFTER_BODY",z[z.IN_FRAMESET=19]="IN_FRAMESET",z[z.AFTER_FRAMESET=20]="AFTER_FRAMESET",z[z.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",z[z.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(St||(St={}));const ka={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},yh=new Set([be.TABLE,be.TBODY,be.TFOOT,be.THEAD,be.TR]),_d={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ho,onParseError:null};class va{constructor(he,Ce,ze=null,xt=null){this.fragmentContext=ze,this.scriptHandler=xt,this.currentToken=null,this.stopped=!1,this.insertionMode=St.INITIAL,this.originalInsertionMode=St.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={..._d,...he},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=Ce??this.treeAdapter.createDocument(),this.tokenizer=new sc(this.options,this),this.activeFormattingElements=new mu(this.treeAdapter),this.fragmentContextID=ze?Us(this.treeAdapter.getTagName(ze)):be.UNKNOWN,this._setContextModes(ze??this.document,this.fragmentContextID),this.openElements=new fu(this.document,this.treeAdapter,this)}static parse(he,Ce){const ze=new this(Ce);return ze.tokenizer.write(he,!0),ze.document}static getFragmentParser(he,Ce){const ze={..._d,...Ce};null!=he||(he=ze.treeAdapter.createElement(Ft.TEMPLATE,Ht.HTML,[]));const xt=ze.treeAdapter.createElement("documentmock",Ht.HTML,[]),pn=new this(ze,xt,he);return pn.fragmentContextID===be.TEMPLATE&&pn.tmplInsertionModeStack.unshift(St.IN_TEMPLATE),pn._initTokenizerForFragmentParsing(),pn._insertFakeRootElement(),pn._resetInsertionMode(),pn._findFormInFragmentContext(),pn}getFragment(){const he=this.treeAdapter.getFirstChild(this.document),Ce=this.treeAdapter.createDocumentFragment();return this._adoptNodes(he,Ce),Ce}_err(he,Ce,ze){var xt;if(!this.onParseError)return;const pn=null!==(xt=he.location)&&void 0!==xt?xt:ka;this.onParseError({code:Ce,startLine:pn.startLine,startCol:pn.startCol,startOffset:pn.startOffset,endLine:ze?pn.startLine:pn.endLine,endCol:ze?pn.startCol:pn.endCol,endOffset:ze?pn.startOffset:pn.endOffset})}onItemPush(he,Ce,ze){var xt,pn;null===(pn=(xt=this.treeAdapter).onItemPush)||void 0===pn||pn.call(xt,he),ze&&this.openElements.stackTop>0&&this._setContextModes(he,Ce)}onItemPop(he,Ce){var ze,xt;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(he,this.currentToken),null===(xt=(ze=this.treeAdapter).onItemPop)||void 0===xt||xt.call(ze,he,this.openElements.current),Ce){let pn,Sn;0===this.openElements.stackTop&&this.fragmentContext?(pn=this.fragmentContext,Sn=this.fragmentContextID):({current:pn,currentTagId:Sn}=this.openElements),this._setContextModes(pn,Sn)}}_setContextModes(he,Ce){const ze=he===this.document||this.treeAdapter.getNamespaceURI(he)===Ht.HTML;this.currentNotInHTML=!ze,this.tokenizer.inForeignNode=!ze&&!this._isIntegrationPoint(Ce,he)}_switchToTextParsing(he,Ce){this._insertElement(he,Ht.HTML),this.tokenizer.state=Ce,this.originalInsertionMode=this.insertionMode,this.insertionMode=St.TEXT}switchToPlaintextParsing(){this.insertionMode=St.TEXT,this.originalInsertionMode=St.IN_BODY,this.tokenizer.state=Yo.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let he=this.fragmentContext;for(;he;){if(this.treeAdapter.getTagName(he)===Ft.FORM){this.formElement=he;break}he=this.treeAdapter.getParentNode(he)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===Ht.HTML)switch(this.fragmentContextID){case be.TITLE:case be.TEXTAREA:this.tokenizer.state=Yo.RCDATA;break;case be.STYLE:case be.XMP:case be.IFRAME:case be.NOEMBED:case be.NOFRAMES:case be.NOSCRIPT:this.tokenizer.state=Yo.RAWTEXT;break;case be.SCRIPT:this.tokenizer.state=Yo.SCRIPT_DATA;break;case be.PLAINTEXT:this.tokenizer.state=Yo.PLAINTEXT}}_setDocumentType(he){if(this.treeAdapter.setDocumentType(this.document,he.name||"",he.publicId||"",he.systemId||""),he.location){const pn=this.treeAdapter.getChildNodes(this.document).find(Sn=>this.treeAdapter.isDocumentTypeNode(Sn));pn&&this.treeAdapter.setNodeSourceCodeLocation(pn,he.location)}}_attachElementToTree(he,Ce){if(this.options.sourceCodeLocationInfo){const ze=Ce&&{...Ce,startTag:Ce};this.treeAdapter.setNodeSourceCodeLocation(he,ze)}this._shouldFosterParentOnInsertion()?this._fosterParentElement(he):this.treeAdapter.appendChild(this.openElements.currentTmplContentOrNode,he)}_appendElement(he,Ce){const ze=this.treeAdapter.createElement(he.tagName,Ce,he.attrs);this._attachElementToTree(ze,he.location)}_insertElement(he,Ce){const ze=this.treeAdapter.createElement(he.tagName,Ce,he.attrs);this._attachElementToTree(ze,he.location),this.openElements.push(ze,he.tagID)}_insertFakeElement(he,Ce){const ze=this.treeAdapter.createElement(he,Ht.HTML,[]);this._attachElementToTree(ze,null),this.openElements.push(ze,Ce)}_insertTemplate(he){const Ce=this.treeAdapter.createElement(he.tagName,Ht.HTML,he.attrs),ze=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(Ce,ze),this._attachElementToTree(Ce,he.location),this.openElements.push(Ce,he.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(ze,null)}_insertFakeRootElement(){const he=this.treeAdapter.createElement(Ft.HTML,Ht.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(he,null),this.treeAdapter.appendChild(this.openElements.current,he),this.openElements.push(he,be.HTML)}_appendCommentNode(he,Ce){const ze=this.treeAdapter.createCommentNode(he.data);this.treeAdapter.appendChild(Ce,ze),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(ze,he.location)}_insertCharacters(he){let Ce,ze;if(this._shouldFosterParentOnInsertion()?(({parent:Ce,beforeElement:ze}=this._findFosterParentingLocation()),ze?this.treeAdapter.insertTextBefore(Ce,he.chars,ze):this.treeAdapter.insertText(Ce,he.chars)):(Ce=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(Ce,he.chars)),!he.location)return;const xt=this.treeAdapter.getChildNodes(Ce),pn=ze?xt.lastIndexOf(ze):xt.length,Sn=xt[pn-1];if(this.treeAdapter.getNodeSourceCodeLocation(Sn)){const{endLine:Fr,endCol:gr,endOffset:Ks}=he.location;this.treeAdapter.updateNodeSourceCodeLocation(Sn,{endLine:Fr,endCol:gr,endOffset:Ks})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(Sn,he.location)}_adoptNodes(he,Ce){for(let ze=this.treeAdapter.getFirstChild(he);ze;ze=this.treeAdapter.getFirstChild(he))this.treeAdapter.detachNode(ze),this.treeAdapter.appendChild(Ce,ze)}_setEndLocation(he,Ce){if(this.treeAdapter.getNodeSourceCodeLocation(he)&&Ce.location){const ze=Ce.location,xt=this.treeAdapter.getTagName(he),pn=Ce.type===sn.END_TAG&&xt===Ce.tagName?{endTag:{...ze},endLine:ze.endLine,endCol:ze.endCol,endOffset:ze.endOffset}:{endLine:ze.startLine,endCol:ze.startCol,endOffset:ze.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(he,pn)}}shouldProcessStartTagTokenInForeignContent(he){if(!this.currentNotInHTML)return!1;let Ce,ze;return 0===this.openElements.stackTop&&this.fragmentContext?(Ce=this.fragmentContext,ze=this.fragmentContextID):({current:Ce,currentTagId:ze}=this.openElements),(he.tagID!==be.SVG||this.treeAdapter.getTagName(Ce)!==Ft.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(Ce)!==Ht.MATHML)&&(this.tokenizer.inForeignNode||(he.tagID===be.MGLYPH||he.tagID===be.MALIGNMARK)&&!this._isIntegrationPoint(ze,Ce,Ht.HTML))}_processToken(he){switch(he.type){case sn.CHARACTER:this.onCharacter(he);break;case sn.NULL_CHARACTER:this.onNullCharacter(he);break;case sn.COMMENT:this.onComment(he);break;case sn.DOCTYPE:this.onDoctype(he);break;case sn.START_TAG:this._processStartTag(he);break;case sn.END_TAG:this.onEndTag(he);break;case sn.EOF:this.onEof(he);break;case sn.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(he)}}_isIntegrationPoint(he,Ce,ze){return xt=he,pn=this.treeAdapter.getNamespaceURI(Ce),Sn=this.treeAdapter.getAttrList(Ce),(!(Fr=ze)||Fr===Ht.HTML)&&function(gr,Ks,is){if(Ks===Ht.MATHML&&gr===be.ANNOTATION_XML)for(let vo=0;vo<is.length;vo++)if(is[vo].name===qr.ENCODING){const Md=is[vo].value.toLowerCase();return"text/html"===Md||"application/xhtml+xml"===Md}return Ks===Ht.SVG&&(gr===be.FOREIGN_OBJECT||gr===be.DESC||gr===be.TITLE)}(xt,pn,Sn)||(!Fr||Fr===Ht.MATHML)&&(gr=xt,pn===Ht.MATHML&&(gr===be.MI||gr===be.MO||gr===be.MN||gr===be.MS||gr===be.MTEXT));var xt,pn,Sn,Fr,gr}_reconstructActiveFormattingElements(){const he=this.activeFormattingElements.entries.length;if(he){const Ce=this.activeFormattingElements.entries.findIndex(ze=>ze.type===ls.Marker||this.openElements.contains(ze.element));for(let ze=Ce<0?he-1:Ce-1;ze>=0;ze--){const xt=this.activeFormattingElements.entries[ze];this._insertElement(xt.token,this.treeAdapter.getNamespaceURI(xt.element)),xt.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=St.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(be.P),this.openElements.popUntilTagNamePopped(be.P)}_resetInsertionMode(){for(let he=this.openElements.stackTop;he>=0;he--)switch(0===he&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[he]){case be.TR:return void(this.insertionMode=St.IN_ROW);case be.TBODY:case be.THEAD:case be.TFOOT:return void(this.insertionMode=St.IN_TABLE_BODY);case be.CAPTION:return void(this.insertionMode=St.IN_CAPTION);case be.COLGROUP:return void(this.insertionMode=St.IN_COLUMN_GROUP);case be.TABLE:return void(this.insertionMode=St.IN_TABLE);case be.BODY:return void(this.insertionMode=St.IN_BODY);case be.FRAMESET:return void(this.insertionMode=St.IN_FRAMESET);case be.SELECT:return void this._resetInsertionModeForSelect(he);case be.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case be.HTML:return void(this.insertionMode=this.headElement?St.AFTER_HEAD:St.BEFORE_HEAD);case be.TD:case be.TH:if(he>0)return void(this.insertionMode=St.IN_CELL);break;case be.HEAD:if(he>0)return void(this.insertionMode=St.IN_HEAD)}this.insertionMode=St.IN_BODY}_resetInsertionModeForSelect(he){if(he>0)for(let Ce=he-1;Ce>0;Ce--){const ze=this.openElements.tagIDs[Ce];if(ze===be.TEMPLATE)break;if(ze===be.TABLE)return void(this.insertionMode=St.IN_SELECT_IN_TABLE)}this.insertionMode=St.IN_SELECT}_isElementCausesFosterParenting(he){return yh.has(he)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let he=this.openElements.stackTop;he>=0;he--){const Ce=this.openElements.items[he];switch(this.openElements.tagIDs[he]){case be.TEMPLATE:if(this.treeAdapter.getNamespaceURI(Ce)===Ht.HTML)return{parent:this.treeAdapter.getTemplateContent(Ce),beforeElement:null};break;case be.TABLE:{const ze=this.treeAdapter.getParentNode(Ce);return ze?{parent:ze,beforeElement:Ce}:{parent:this.openElements.items[he-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(he){const Ce=this._findFosterParentingLocation();Ce.beforeElement?this.treeAdapter.insertBefore(Ce.parent,he,Ce.beforeElement):this.treeAdapter.appendChild(Ce.parent,he)}_isSpecialElement(he,Ce){const ze=this.treeAdapter.getNamespaceURI(he);return js[ze].has(Ce)}onCharacter(he){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)(Ce=this)._insertCharacters(he),Ce.framesetOk=!1;else switch(this.insertionMode){case St.INITIAL:Io(this,he);break;case St.BEFORE_HTML:Ea(this,he);break;case St.BEFORE_HEAD:at(this,he);break;case St.IN_HEAD:tn(this,he);break;case St.IN_HEAD_NO_SCRIPT:un(this,he);break;case St.AFTER_HEAD:In(this,he);break;case St.IN_BODY:case St.IN_CAPTION:case St.IN_CELL:case St.IN_TEMPLATE:$n(this,he);break;case St.TEXT:case St.IN_SELECT:case St.IN_SELECT_IN_TABLE:this._insertCharacters(he);break;case St.IN_TABLE:case St.IN_TABLE_BODY:case St.IN_ROW:Oo(this,he);break;case St.IN_TABLE_TEXT:vh(this,he);break;case St.IN_COLUMN_GROUP:vd(this,he);break;case St.AFTER_BODY:Mh(this,he);break;case St.AFTER_AFTER_BODY:Ed(this,he)}var Ce}onNullCharacter(he){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)this,(ze=he).chars=Te,this._insertCharacters(ze);else switch(this.insertionMode){case St.INITIAL:Io(this,he);break;case St.BEFORE_HTML:Ea(this,he);break;case St.BEFORE_HEAD:at(this,he);break;case St.IN_HEAD:tn(this,he);break;case St.IN_HEAD_NO_SCRIPT:un(this,he);break;case St.AFTER_HEAD:In(this,he);break;case St.TEXT:this._insertCharacters(he);break;case St.IN_TABLE:case St.IN_TABLE_BODY:case St.IN_ROW:Oo(this,he);break;case St.IN_COLUMN_GROUP:vd(this,he);break;case St.AFTER_BODY:Mh(this,he);break;case St.AFTER_AFTER_BODY:Ed(this,he)}var ze}onComment(he){if(this.skipNextNewLine=!1,this.currentNotInHTML)Sl(this,he);else switch(this.insertionMode){case St.INITIAL:case St.BEFORE_HTML:case St.BEFORE_HEAD:case St.IN_HEAD:case St.IN_HEAD_NO_SCRIPT:case St.AFTER_HEAD:case St.IN_BODY:case St.IN_TABLE:case St.IN_CAPTION:case St.IN_COLUMN_GROUP:case St.IN_TABLE_BODY:case St.IN_ROW:case St.IN_CELL:case St.IN_SELECT:case St.IN_SELECT_IN_TABLE:case St.IN_TEMPLATE:case St.IN_FRAMESET:case St.AFTER_FRAMESET:Sl(this,he);break;case St.IN_TABLE_TEXT:hc(this,he);break;case St.AFTER_BODY:(Ce=this)._appendCommentNode(he,Ce.openElements.items[0]);break;case St.AFTER_AFTER_BODY:case St.AFTER_AFTER_FRAMESET:!function(Ce,ze){Ce._appendCommentNode(ze,Ce.document)}(this,he)}var Ce}onDoctype(he){switch(this.skipNextNewLine=!1,this.insertionMode){case St.INITIAL:!function(Ce,ze){Ce._setDocumentType(ze);const xt=ze.forceQuirks?en.QUIRKS:function(pn){if("html"!==pn.name)return en.QUIRKS;const{systemId:Sn}=pn;if(Sn&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===Sn.toLowerCase())return en.QUIRKS;let{publicId:Fr}=pn;if(null!==Fr){if(Fr=Fr.toLowerCase(),Uo.has(Fr))return en.QUIRKS;let gr=null===Sn?Cl:lc;if(xi(Fr,gr))return en.QUIRKS;if(gr=null===Sn?Go:gh,xi(Fr,gr))return en.LIMITED_QUIRKS}return en.NO_QUIRKS}(ze);var pn;"html"===(pn=ze).name&&null===pn.publicId&&(null===pn.systemId||"about:legacy-compat"===pn.systemId)||Ce._err(ze,Ot.nonConformingDoctype),Ce.treeAdapter.setDocumentMode(Ce.document,xt),Ce.insertionMode=St.BEFORE_HTML}(this,he);break;case St.BEFORE_HEAD:case St.IN_HEAD:case St.IN_HEAD_NO_SCRIPT:case St.AFTER_HEAD:this._err(he,Ot.misplacedDoctype);break;case St.IN_TABLE_TEXT:hc(this,he)}}onStartTag(he){this.skipNextNewLine=!1,this.currentToken=he,this._processStartTag(he),he.selfClosing&&!he.ackSelfClosing&&this._err(he,Ot.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(he){this.shouldProcessStartTagTokenInForeignContent(he)?function(Ce,ze){if(function(xt){const pn=xt.tagID;return pn===be.FONT&&xt.attrs.some(({name:Sn})=>Sn===qr.COLOR||Sn===qr.SIZE||Sn===qr.FACE)||_u.has(pn)}(ze))vf(Ce),Ce._startTagOutsideForeignContent(ze);else{const xt=Ce._getAdjustedCurrentElement(),pn=Ce.treeAdapter.getNamespaceURI(xt);pn===Ht.MATHML?cc(ze):pn===Ht.SVG&&(function(Sn){const Fr=hr.get(Sn.tagName);null!=Fr&&(Sn.tagName=Fr,Sn.tagID=Us(Sn.tagName))}(ze),yd(ze)),hf(ze),ze.selfClosing?Ce._appendElement(ze,pn):Ce._insertElement(ze,pn),ze.ackSelfClosing=!0}}(this,he):this._startTagOutsideForeignContent(he)}_startTagOutsideForeignContent(he){switch(this.insertionMode){case St.INITIAL:Io(this,he);break;case St.BEFORE_HTML:this,(ze=he).tagID===be.HTML?(this._insertElement(ze,Ht.HTML),this.insertionMode=St.BEFORE_HEAD):Ea(this,ze);break;case St.BEFORE_HEAD:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.HEAD:Ce._insertElement(ze,Ht.HTML),Ce.headElement=Ce.openElements.current,Ce.insertionMode=St.IN_HEAD;break;default:at(Ce,ze)}}(this,he);break;case St.IN_HEAD:Mt(this,he);break;case St.IN_HEAD_NO_SCRIPT:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.BASEFONT:case be.BGSOUND:case be.HEAD:case be.LINK:case be.META:case be.NOFRAMES:case be.STYLE:Mt(Ce,ze);break;case be.NOSCRIPT:Ce._err(ze,Ot.nestedNoscriptInHead);break;default:un(Ce,ze)}}(this,he);break;case St.AFTER_HEAD:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.BODY:Ce._insertElement(ze,Ht.HTML),Ce.framesetOk=!1,Ce.insertionMode=St.IN_BODY;break;case be.FRAMESET:Ce._insertElement(ze,Ht.HTML),Ce.insertionMode=St.IN_FRAMESET;break;case be.BASE:case be.BASEFONT:case be.BGSOUND:case be.LINK:case be.META:case be.NOFRAMES:case be.SCRIPT:case be.STYLE:case be.TEMPLATE:case be.TITLE:Ce._err(ze,Ot.abandonedHeadElementChild),Ce.openElements.push(Ce.headElement,be.HEAD),Mt(Ce,ze),Ce.openElements.remove(Ce.headElement);break;case be.HEAD:Ce._err(ze,Ot.misplacedStartTagForHeadElement);break;default:In(Ce,ze)}}(this,he);break;case St.IN_BODY:Vn(this,he);break;case St.IN_TABLE:bo(this,he);break;case St.IN_TABLE_TEXT:hc(this,he);break;case St.IN_CAPTION:!function(Ce,ze){yf.has(ze.tagID)?Ce.openElements.hasInTableScope(be.CAPTION)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(be.CAPTION),Ce.activeFormattingElements.clearToLastMarker(),Ce.insertionMode=St.IN_TABLE,bo(Ce,ze)):Vn(Ce,ze)}(this,he);break;case St.IN_COLUMN_GROUP:Eh(this,he);break;case St.IN_TABLE_BODY:pc(this,he);break;case St.IN_ROW:_o(this,he);break;case St.IN_CELL:!function(Ce,ze){yf.has(ze.tagID)?(Ce.openElements.hasInTableScope(be.TD)||Ce.openElements.hasInTableScope(be.TH))&&(Ce._closeTableCell(),_o(Ce,ze)):Vn(Ce,ze)}(this,he);break;case St.IN_SELECT:Ms(this,he);break;case St.IN_SELECT_IN_TABLE:!function(Ce,ze){const xt=ze.tagID;xt===be.CAPTION||xt===be.TABLE||xt===be.TBODY||xt===be.TFOOT||xt===be.THEAD||xt===be.TR||xt===be.TD||xt===be.TH?(Ce.openElements.popUntilTagNamePopped(be.SELECT),Ce._resetInsertionMode(),Ce._processStartTag(ze)):Ms(Ce,ze)}(this,he);break;case St.IN_TEMPLATE:!function(Ce,ze){switch(ze.tagID){case be.BASE:case be.BASEFONT:case be.BGSOUND:case be.LINK:case be.META:case be.NOFRAMES:case be.SCRIPT:case be.STYLE:case be.TEMPLATE:case be.TITLE:Mt(Ce,ze);break;case be.CAPTION:case be.COLGROUP:case be.TBODY:case be.TFOOT:case be.THEAD:Ce.tmplInsertionModeStack[0]=St.IN_TABLE,Ce.insertionMode=St.IN_TABLE,bo(Ce,ze);break;case be.COL:Ce.tmplInsertionModeStack[0]=St.IN_COLUMN_GROUP,Ce.insertionMode=St.IN_COLUMN_GROUP,Eh(Ce,ze);break;case be.TR:Ce.tmplInsertionModeStack[0]=St.IN_TABLE_BODY,Ce.insertionMode=St.IN_TABLE_BODY,pc(Ce,ze);break;case be.TD:case be.TH:Ce.tmplInsertionModeStack[0]=St.IN_ROW,Ce.insertionMode=St.IN_ROW,_o(Ce,ze);break;default:Ce.tmplInsertionModeStack[0]=St.IN_BODY,Ce.insertionMode=St.IN_BODY,Vn(Ce,ze)}}(this,he);break;case St.AFTER_BODY:!function(Ce,ze){ze.tagID===be.HTML?Vn(Ce,ze):Mh(Ce,ze)}(this,he);break;case St.IN_FRAMESET:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.FRAMESET:Ce._insertElement(ze,Ht.HTML);break;case be.FRAME:Ce._appendElement(ze,Ht.HTML),ze.ackSelfClosing=!0;break;case be.NOFRAMES:Mt(Ce,ze)}}(this,he);break;case St.AFTER_FRAMESET:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.NOFRAMES:Mt(Ce,ze)}}(this,he);break;case St.AFTER_AFTER_BODY:!function(Ce,ze){ze.tagID===be.HTML?Vn(Ce,ze):Ed(Ce,ze)}(this,he);break;case St.AFTER_AFTER_FRAMESET:!function(Ce,ze){switch(ze.tagID){case be.HTML:Vn(Ce,ze);break;case be.NOFRAMES:Mt(Ce,ze)}}(this,he)}var ze}onEndTag(he){this.skipNextNewLine=!1,this.currentToken=he,this.currentNotInHTML?function(Ce,ze){if(ze.tagID===be.P||ze.tagID===be.BR)return vf(Ce),void Ce._endTagOutsideForeignContent(ze);for(let xt=Ce.openElements.stackTop;xt>0;xt--){const pn=Ce.openElements.items[xt];if(Ce.treeAdapter.getNamespaceURI(pn)===Ht.HTML){Ce._endTagOutsideForeignContent(ze);break}const Sn=Ce.treeAdapter.getTagName(pn);if(Sn.toLowerCase()===ze.tagName){ze.tagName=Sn,Ce.openElements.shortenToLength(xt);break}}}(this,he):this._endTagOutsideForeignContent(he)}_endTagOutsideForeignContent(he){switch(this.insertionMode){case St.INITIAL:Io(this,he);break;case St.BEFORE_HTML:!function(Ce,ze){const xt=ze.tagID;xt!==be.HTML&&xt!==be.HEAD&&xt!==be.BODY&&xt!==be.BR||Ea(Ce,ze)}(this,he);break;case St.BEFORE_HEAD:!function(Ce,ze){const xt=ze.tagID;xt===be.HEAD||xt===be.BODY||xt===be.HTML||xt===be.BR?at(Ce,ze):Ce._err(ze,Ot.endTagWithoutMatchingOpenElement)}(this,he);break;case St.IN_HEAD:!function(Ce,ze){switch(ze.tagID){case be.HEAD:Ce.openElements.pop(),Ce.insertionMode=St.AFTER_HEAD;break;case be.BODY:case be.BR:case be.HTML:tn(Ce,ze);break;case be.TEMPLATE:Rt(Ce,ze);break;default:Ce._err(ze,Ot.endTagWithoutMatchingOpenElement)}}(this,he);break;case St.IN_HEAD_NO_SCRIPT:!function(Ce,ze){switch(ze.tagID){case be.NOSCRIPT:Ce.openElements.pop(),Ce.insertionMode=St.IN_HEAD;break;case be.BR:un(Ce,ze);break;default:Ce._err(ze,Ot.endTagWithoutMatchingOpenElement)}}(this,he);break;case St.AFTER_HEAD:!function(Ce,ze){switch(ze.tagID){case be.BODY:case be.HTML:case be.BR:In(Ce,ze);break;case be.TEMPLATE:Rt(Ce,ze);break;default:Ce._err(ze,Ot.endTagWithoutMatchingOpenElement)}}(this,he);break;case St.IN_BODY:go(this,he);break;case St.TEXT:Ce=this,he.tagID===be.SCRIPT&&(null===(xt=Ce.scriptHandler)||void 0===xt||xt.call(Ce,Ce.openElements.current)),Ce.openElements.pop(),Ce.insertionMode=Ce.originalInsertionMode;break;case St.IN_TABLE:Qo(this,he);break;case St.IN_TABLE_TEXT:hc(this,he);break;case St.IN_CAPTION:!function(Ce,ze){const xt=ze.tagID;switch(xt){case be.CAPTION:case be.TABLE:Ce.openElements.hasInTableScope(be.CAPTION)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(be.CAPTION),Ce.activeFormattingElements.clearToLastMarker(),Ce.insertionMode=St.IN_TABLE,xt===be.TABLE&&Qo(Ce,ze));break;case be.BODY:case be.COL:case be.COLGROUP:case be.HTML:case be.TBODY:case be.TD:case be.TFOOT:case be.TH:case be.THEAD:case be.TR:break;default:go(Ce,ze)}}(this,he);break;case St.IN_COLUMN_GROUP:!function(Ce,ze){switch(ze.tagID){case be.COLGROUP:Ce.openElements.currentTagId===be.COLGROUP&&(Ce.openElements.pop(),Ce.insertionMode=St.IN_TABLE);break;case be.TEMPLATE:Rt(Ce,ze);break;case be.COL:break;default:vd(Ce,ze)}}(this,he);break;case St.IN_TABLE_BODY:_f(this,he);break;case St.IN_ROW:Il(this,he);break;case St.IN_CELL:!function(Ce,ze){const xt=ze.tagID;switch(xt){case be.TD:case be.TH:Ce.openElements.hasInTableScope(xt)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(xt),Ce.activeFormattingElements.clearToLastMarker(),Ce.insertionMode=St.IN_ROW);break;case be.TABLE:case be.TBODY:case be.TFOOT:case be.THEAD:case be.TR:Ce.openElements.hasInTableScope(xt)&&(Ce._closeTableCell(),Il(Ce,ze));break;case be.BODY:case be.CAPTION:case be.COL:case be.COLGROUP:case be.HTML:break;default:go(Ce,ze)}}(this,he);break;case St.IN_SELECT:mm(this,he);break;case St.IN_SELECT_IN_TABLE:!function(Ce,ze){const xt=ze.tagID;xt===be.CAPTION||xt===be.TABLE||xt===be.TBODY||xt===be.TFOOT||xt===be.THEAD||xt===be.TR||xt===be.TD||xt===be.TH?Ce.openElements.hasInTableScope(xt)&&(Ce.openElements.popUntilTagNamePopped(be.SELECT),Ce._resetInsertionMode(),Ce.onEndTag(ze)):mm(Ce,ze)}(this,he);break;case St.IN_TEMPLATE:!function(Ce,ze){ze.tagID===be.TEMPLATE&&Rt(Ce,ze)}(this,he);break;case St.AFTER_BODY:ym(this,he);break;case St.IN_FRAMESET:!function(Ce,ze){ze.tagID!==be.FRAMESET||Ce.openElements.isRootHtmlElementCurrent()||(Ce.openElements.pop(),Ce.fragmentContext||Ce.openElements.currentTagId===be.FRAMESET||(Ce.insertionMode=St.AFTER_FRAMESET))}(this,he);break;case St.AFTER_FRAMESET:!function(Ce,ze){ze.tagID===be.HTML&&(Ce.insertionMode=St.AFTER_AFTER_FRAMESET)}(this,he);break;case St.AFTER_AFTER_BODY:Ed(this,he)}var Ce,xt}onEof(he){switch(this.insertionMode){case St.INITIAL:Io(this,he);break;case St.BEFORE_HTML:Ea(this,he);break;case St.BEFORE_HEAD:at(this,he);break;case St.IN_HEAD:tn(this,he);break;case St.IN_HEAD_NO_SCRIPT:un(this,he);break;case St.AFTER_HEAD:In(this,he);break;case St.IN_BODY:case St.IN_TABLE:case St.IN_CAPTION:case St.IN_COLUMN_GROUP:case St.IN_TABLE_BODY:case St.IN_ROW:case St.IN_CELL:case St.IN_SELECT:case St.IN_SELECT_IN_TABLE:ao(this,he);break;case St.TEXT:(Ce=this)._err(ze=he,Ot.eofInElementThatCanContainOnlyText),Ce.openElements.pop(),Ce.insertionMode=Ce.originalInsertionMode,Ce.onEof(ze);break;case St.IN_TABLE_TEXT:hc(this,he);break;case St.IN_TEMPLATE:gm(this,he);break;case St.AFTER_BODY:case St.IN_FRAMESET:case St.AFTER_FRAMESET:case St.AFTER_AFTER_BODY:case St.AFTER_AFTER_FRAMESET:Wa(this,he)}var Ce,ze}onWhitespaceCharacter(he){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,he.chars.charCodeAt(0)===Me.LINE_FEED)){if(1===he.chars.length)return;he.chars=he.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(he);else switch(this.insertionMode){case St.IN_HEAD:case St.IN_HEAD_NO_SCRIPT:case St.AFTER_HEAD:case St.TEXT:case St.IN_COLUMN_GROUP:case St.IN_SELECT:case St.IN_SELECT_IN_TABLE:case St.IN_FRAMESET:case St.AFTER_FRAMESET:this._insertCharacters(he);break;case St.IN_BODY:case St.IN_CAPTION:case St.IN_CELL:case St.IN_TEMPLATE:case St.AFTER_BODY:case St.AFTER_AFTER_BODY:case St.AFTER_AFTER_FRAMESET:Fn(this,he);break;case St.IN_TABLE:case St.IN_TABLE_BODY:case St.IN_ROW:Oo(this,he);break;case St.IN_TABLE_TEXT:gf(this,he)}}}function vu(z,he){let Ce=z.activeFormattingElements.getElementEntryInScopeWithTagName(he.tagName);return Ce?z.openElements.contains(Ce.element)?z.openElements.hasInScope(he.tagID)||(Ce=null):(z.activeFormattingElements.removeEntry(Ce),Ce=null):fs(z,he),Ce}function _h(z,he){let Ce=null,ze=z.openElements.stackTop;for(;ze>=0;ze--){const xt=z.openElements.items[ze];if(xt===he.element)break;z._isSpecialElement(xt,z.openElements.tagIDs[ze])&&(Ce=xt)}return Ce||(z.openElements.shortenToLength(ze<0?0:ze),z.activeFormattingElements.removeEntry(he)),Ce}function qt(z,he,Ce){let ze=he,xt=z.openElements.getCommonAncestor(he);for(let pn=0,Sn=xt;Sn!==Ce;pn++,Sn=xt){xt=z.openElements.getCommonAncestor(Sn);const Fr=z.activeFormattingElements.getElementEntry(Sn),gr=Fr&&pn>=pi;!Fr||gr?(gr&&z.activeFormattingElements.removeEntry(Fr),z.openElements.remove(Sn)):(Sn=wr(z,Fr),ze===he&&(z.activeFormattingElements.bookmark=Fr),z.treeAdapter.detachNode(ze),z.treeAdapter.appendChild(Sn,ze),ze=Sn)}return ze}function wr(z,he){const Ce=z.treeAdapter.getNamespaceURI(he.element),ze=z.treeAdapter.createElement(he.token.tagName,Ce,he.token.attrs);return z.openElements.replace(he.element,ze),he.element=ze,ze}function mf(z,he,Ce){const ze=Us(z.treeAdapter.getTagName(he));if(z._isElementCausesFosterParenting(ze))z._fosterParentElement(Ce);else{const xt=z.treeAdapter.getNamespaceURI(he);ze===be.TEMPLATE&&xt===Ht.HTML&&(he=z.treeAdapter.getTemplateContent(he)),z.treeAdapter.appendChild(he,Ce)}}function dc(z,he,Ce){const ze=z.treeAdapter.getNamespaceURI(Ce.element),{token:xt}=Ce,pn=z.treeAdapter.createElement(xt.tagName,ze,xt.attrs);z._adoptNodes(he,pn),z.treeAdapter.appendChild(he,pn),z.activeFormattingElements.insertElementAfterBookmark(pn,xt),z.activeFormattingElements.removeEntry(Ce),z.openElements.remove(Ce.element),z.openElements.insertAfter(he,pn,xt.tagID)}function Hr(z,he){for(let Ce=0;Ce<ff;Ce++){const ze=vu(z,he);if(!ze)break;const xt=_h(z,ze);if(!xt)break;z.activeFormattingElements.bookmark=ze;const pn=qt(z,xt,ze.element),Sn=z.openElements.getCommonAncestor(ze.element);z.treeAdapter.detachNode(pn),Sn&&mf(z,Sn,pn),dc(z,xt,ze)}}function Sl(z,he){z._appendCommentNode(he,z.openElements.currentTmplContentOrNode)}function Wa(z,he){if(z.stopped=!0,he.location){const Ce=z.fragmentContext?0:2;for(let ze=z.openElements.stackTop;ze>=Ce;ze--)z._setEndLocation(z.openElements.items[ze],he);if(!z.fragmentContext&&z.openElements.stackTop>=0){const ze=z.openElements.items[0],xt=z.treeAdapter.getNodeSourceCodeLocation(ze);if(xt&&!xt.endTag&&(z._setEndLocation(ze,he),z.openElements.stackTop>=1)){const pn=z.openElements.items[1],Sn=z.treeAdapter.getNodeSourceCodeLocation(pn);Sn&&!Sn.endTag&&z._setEndLocation(pn,he)}}}}function Io(z,he){z._err(he,Ot.missingDoctype,!0),z.treeAdapter.setDocumentMode(z.document,en.QUIRKS),z.insertionMode=St.BEFORE_HTML,z._processToken(he)}function Ea(z,he){z._insertFakeRootElement(),z.insertionMode=St.BEFORE_HEAD,z._processToken(he)}function at(z,he){z._insertFakeElement(Ft.HEAD,be.HEAD),z.headElement=z.openElements.current,z.insertionMode=St.IN_HEAD,z._processToken(he)}function Mt(z,he){switch(he.tagID){case be.HTML:Vn(z,he);break;case be.BASE:case be.BASEFONT:case be.BGSOUND:case be.LINK:case be.META:z._appendElement(he,Ht.HTML),he.ackSelfClosing=!0;break;case be.TITLE:z._switchToTextParsing(he,Yo.RCDATA);break;case be.NOSCRIPT:z.options.scriptingEnabled?z._switchToTextParsing(he,Yo.RAWTEXT):(z._insertElement(he,Ht.HTML),z.insertionMode=St.IN_HEAD_NO_SCRIPT);break;case be.NOFRAMES:case be.STYLE:z._switchToTextParsing(he,Yo.RAWTEXT);break;case be.SCRIPT:z._switchToTextParsing(he,Yo.SCRIPT_DATA);break;case be.TEMPLATE:z._insertTemplate(he),z.activeFormattingElements.insertMarker(),z.framesetOk=!1,z.insertionMode=St.IN_TEMPLATE,z.tmplInsertionModeStack.unshift(St.IN_TEMPLATE);break;case be.HEAD:z._err(he,Ot.misplacedStartTagForHeadElement);break;default:tn(z,he)}}function Rt(z,he){z.openElements.tmplCount>0?(z.openElements.generateImpliedEndTagsThoroughly(),z.openElements.currentTagId!==be.TEMPLATE&&z._err(he,Ot.closingOfElementWithOpenChildElements),z.openElements.popUntilTagNamePopped(be.TEMPLATE),z.activeFormattingElements.clearToLastMarker(),z.tmplInsertionModeStack.shift(),z._resetInsertionMode()):z._err(he,Ot.endTagWithoutMatchingOpenElement)}function tn(z,he){z.openElements.pop(),z.insertionMode=St.AFTER_HEAD,z._processToken(he)}function un(z,he){z._err(he,he.type===sn.EOF?Ot.openElementsLeftAfterEof:Ot.disallowedContentInNoscriptInHead),z.openElements.pop(),z.insertionMode=St.IN_HEAD,z._processToken(he)}function In(z,he){z._insertFakeElement(Ft.BODY,be.BODY),z.insertionMode=St.IN_BODY,Pn(z,he)}function Pn(z,he){switch(he.type){case sn.CHARACTER:$n(z,he);break;case sn.WHITESPACE_CHARACTER:Fn(z,he);break;case sn.COMMENT:Sl(z,he);break;case sn.START_TAG:Vn(z,he);break;case sn.END_TAG:go(z,he);break;case sn.EOF:ao(z,he)}}function Fn(z,he){z._reconstructActiveFormattingElements(),z._insertCharacters(he)}function $n(z,he){z._reconstructActiveFormattingElements(),z._insertCharacters(he),z.framesetOk=!1}function Nr(z,he){z._reconstructActiveFormattingElements(),z._appendElement(he,Ht.HTML),z.framesetOk=!1,he.ackSelfClosing=!0}function qn(z){const he=Bn(z,qr.TYPE);return null!=he&&he.toLowerCase()===pf}function pr(z,he){z._switchToTextParsing(he,Yo.RAWTEXT)}function $r(z,he){z._reconstructActiveFormattingElements(),z._insertElement(he,Ht.HTML)}function Vn(z,he){switch(he.tagID){case be.I:case be.S:case be.B:case be.U:case be.EM:case be.TT:case be.BIG:case be.CODE:case be.FONT:case be.SMALL:case be.STRIKE:case be.STRONG:ze=he,(Ce=z)._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML),Ce.activeFormattingElements.pushElement(Ce.openElements.current,ze);break;case be.A:!function(Ce,ze){const xt=Ce.activeFormattingElements.getElementEntryInScopeWithTagName(Ft.A);xt&&(Hr(Ce,ze),Ce.openElements.remove(xt.element),Ce.activeFormattingElements.removeEntry(xt)),Ce._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML),Ce.activeFormattingElements.pushElement(Ce.openElements.current,ze)}(z,he);break;case be.H1:case be.H2:case be.H3:case be.H4:case be.H5:case be.H6:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),io(Ce.openElements.currentTagId)&&Ce.openElements.pop(),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.P:case be.DL:case be.OL:case be.UL:case be.DIV:case be.DIR:case be.NAV:case be.MAIN:case be.MENU:case be.ASIDE:case be.CENTER:case be.FIGURE:case be.FOOTER:case be.HEADER:case be.HGROUP:case be.DIALOG:case be.DETAILS:case be.ADDRESS:case be.ARTICLE:case be.SECTION:case be.SUMMARY:case be.FIELDSET:case be.BLOCKQUOTE:case be.FIGCAPTION:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.LI:case be.DD:case be.DT:!function(Ce,ze){Ce.framesetOk=!1;const xt=ze.tagID;for(let pn=Ce.openElements.stackTop;pn>=0;pn--){const Sn=Ce.openElements.tagIDs[pn];if(xt===be.LI&&Sn===be.LI||(xt===be.DD||xt===be.DT)&&(Sn===be.DD||Sn===be.DT)){Ce.openElements.generateImpliedEndTagsWithExclusion(Sn),Ce.openElements.popUntilTagNamePopped(Sn);break}if(Sn!==be.ADDRESS&&Sn!==be.DIV&&Sn!==be.P&&Ce._isSpecialElement(Ce.openElements.items[pn],Sn))break}Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.BR:case be.IMG:case be.WBR:case be.AREA:case be.EMBED:case be.KEYGEN:Nr(z,he);break;case be.HR:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._appendElement(ze,Ht.HTML),Ce.framesetOk=!1,ze.ackSelfClosing=!0}(z,he);break;case be.RB:case be.RTC:!function(Ce,ze){Ce.openElements.hasInScope(be.RUBY)&&Ce.openElements.generateImpliedEndTags(),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.RT:case be.RP:!function(Ce,ze){Ce.openElements.hasInScope(be.RUBY)&&Ce.openElements.generateImpliedEndTagsWithExclusion(be.RTC),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.PRE:case be.LISTING:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML),Ce.skipNextNewLine=!0,Ce.framesetOk=!1}(z,he);break;case be.XMP:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._reconstructActiveFormattingElements(),Ce.framesetOk=!1,Ce._switchToTextParsing(ze,Yo.RAWTEXT)}(z,he);break;case be.SVG:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),yd(ze),hf(ze),ze.selfClosing?Ce._appendElement(ze,Ht.SVG):Ce._insertElement(ze,Ht.SVG),ze.ackSelfClosing=!0}(z,he);break;case be.HTML:!function(Ce,ze){0===Ce.openElements.tmplCount&&Ce.treeAdapter.adoptAttributes(Ce.openElements.items[0],ze.attrs)}(z,he);break;case be.BASE:case be.LINK:case be.META:case be.STYLE:case be.TITLE:case be.SCRIPT:case be.BGSOUND:case be.BASEFONT:case be.TEMPLATE:Mt(z,he);break;case be.BODY:!function(Ce,ze){const xt=Ce.openElements.tryPeekProperlyNestedBodyElement();xt&&0===Ce.openElements.tmplCount&&(Ce.framesetOk=!1,Ce.treeAdapter.adoptAttributes(xt,ze.attrs))}(z,he);break;case be.FORM:!function(Ce,ze){const xt=Ce.openElements.tmplCount>0;Ce.formElement&&!xt||(Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML),xt||(Ce.formElement=Ce.openElements.current))}(z,he);break;case be.NOBR:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),Ce.openElements.hasInScope(be.NOBR)&&(Hr(Ce,ze),Ce._reconstructActiveFormattingElements()),Ce._insertElement(ze,Ht.HTML),Ce.activeFormattingElements.pushElement(Ce.openElements.current,ze)}(z,he);break;case be.MATH:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),cc(ze),hf(ze),ze.selfClosing?Ce._appendElement(ze,Ht.MATHML):Ce._insertElement(ze,Ht.MATHML),ze.ackSelfClosing=!0}(z,he);break;case be.TABLE:!function(Ce,ze){Ce.treeAdapter.getDocumentMode(Ce.document)!==en.QUIRKS&&Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML),Ce.framesetOk=!1,Ce.insertionMode=St.IN_TABLE}(z,he);break;case be.INPUT:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),Ce._appendElement(ze,Ht.HTML),qn(ze)||(Ce.framesetOk=!1),ze.ackSelfClosing=!0}(z,he);break;case be.PARAM:case be.TRACK:case be.SOURCE:!function(Ce,ze){Ce._appendElement(ze,Ht.HTML),ze.ackSelfClosing=!0}(z,he);break;case be.IMAGE:!function(Ce,ze){ze.tagName=Ft.IMG,ze.tagID=be.IMG,Nr(Ce,ze)}(z,he);break;case be.BUTTON:!function(Ce,ze){Ce.openElements.hasInScope(be.BUTTON)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(be.BUTTON)),Ce._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML),Ce.framesetOk=!1}(z,he);break;case be.APPLET:case be.OBJECT:case be.MARQUEE:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML),Ce.activeFormattingElements.insertMarker(),Ce.framesetOk=!1}(z,he);break;case be.IFRAME:!function(Ce,ze){Ce.framesetOk=!1,Ce._switchToTextParsing(ze,Yo.RAWTEXT)}(z,he);break;case be.SELECT:!function(Ce,ze){Ce._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML),Ce.framesetOk=!1,Ce.insertionMode=Ce.insertionMode===St.IN_TABLE||Ce.insertionMode===St.IN_CAPTION||Ce.insertionMode===St.IN_TABLE_BODY||Ce.insertionMode===St.IN_ROW||Ce.insertionMode===St.IN_CELL?St.IN_SELECT_IN_TABLE:St.IN_SELECT}(z,he);break;case be.OPTION:case be.OPTGROUP:!function(Ce,ze){Ce.openElements.currentTagId===be.OPTION&&Ce.openElements.pop(),Ce._reconstructActiveFormattingElements(),Ce._insertElement(ze,Ht.HTML)}(z,he);break;case be.NOEMBED:pr(z,he);break;case be.FRAMESET:!function(Ce,ze){const xt=Ce.openElements.tryPeekProperlyNestedBodyElement();Ce.framesetOk&&xt&&(Ce.treeAdapter.detachNode(xt),Ce.openElements.popAllUpToHtmlElement(),Ce._insertElement(ze,Ht.HTML),Ce.insertionMode=St.IN_FRAMESET)}(z,he);break;case be.TEXTAREA:!function(Ce,ze){Ce._insertElement(ze,Ht.HTML),Ce.skipNextNewLine=!0,Ce.tokenizer.state=Yo.RCDATA,Ce.originalInsertionMode=Ce.insertionMode,Ce.framesetOk=!1,Ce.insertionMode=St.TEXT}(z,he);break;case be.NOSCRIPT:z.options.scriptingEnabled?pr(z,he):$r(z,he);break;case be.PLAINTEXT:!function(Ce,ze){Ce.openElements.hasInButtonScope(be.P)&&Ce._closePElement(),Ce._insertElement(ze,Ht.HTML),Ce.tokenizer.state=Yo.PLAINTEXT}(z,he);break;case be.COL:case be.TH:case be.TD:case be.TR:case be.HEAD:case be.FRAME:case be.TBODY:case be.TFOOT:case be.THEAD:case be.CAPTION:case be.COLGROUP:break;default:$r(z,he)}var Ce,ze}function fs(z,he){const Ce=he.tagName,ze=he.tagID;for(let xt=z.openElements.stackTop;xt>0;xt--){const pn=z.openElements.items[xt],Sn=z.openElements.tagIDs[xt];if(ze===Sn&&(ze!==be.UNKNOWN||z.treeAdapter.getTagName(pn)===Ce)){z.openElements.generateImpliedEndTagsWithExclusion(ze),z.openElements.stackTop>=xt&&z.openElements.shortenToLength(xt);break}if(z._isSpecialElement(pn,Sn))break}}function go(z,he){switch(he.tagID){case be.A:case be.B:case be.I:case be.S:case be.U:case be.EM:case be.TT:case be.BIG:case be.CODE:case be.FONT:case be.NOBR:case be.SMALL:case be.STRIKE:case be.STRONG:Hr(z,he);break;case be.P:(Ce=z).openElements.hasInButtonScope(be.P)||Ce._insertFakeElement(Ft.P,be.P),Ce._closePElement();break;case be.DL:case be.UL:case be.OL:case be.DIR:case be.DIV:case be.NAV:case be.PRE:case be.MAIN:case be.MENU:case be.ASIDE:case be.BUTTON:case be.CENTER:case be.FIGURE:case be.FOOTER:case be.HEADER:case be.HGROUP:case be.DIALOG:case be.ADDRESS:case be.ARTICLE:case be.DETAILS:case be.SECTION:case be.SUMMARY:case be.LISTING:case be.FIELDSET:case be.BLOCKQUOTE:case be.FIGCAPTION:!function(Ce,ze){const xt=ze.tagID;Ce.openElements.hasInScope(xt)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(xt))}(z,he);break;case be.LI:!function(Ce){Ce.openElements.hasInListItemScope(be.LI)&&(Ce.openElements.generateImpliedEndTagsWithExclusion(be.LI),Ce.openElements.popUntilTagNamePopped(be.LI))}(z);break;case be.DD:case be.DT:!function(Ce,ze){const xt=ze.tagID;Ce.openElements.hasInScope(xt)&&(Ce.openElements.generateImpliedEndTagsWithExclusion(xt),Ce.openElements.popUntilTagNamePopped(xt))}(z,he);break;case be.H1:case be.H2:case be.H3:case be.H4:case be.H5:case be.H6:!function(Ce){Ce.openElements.hasNumberedHeaderInScope()&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilNumberedHeaderPopped())}(z);break;case be.BR:!function(Ce){Ce._reconstructActiveFormattingElements(),Ce._insertFakeElement(Ft.BR,be.BR),Ce.openElements.pop(),Ce.framesetOk=!1}(z);break;case be.BODY:!function(Ce,ze){if(Ce.openElements.hasInScope(be.BODY)&&(Ce.insertionMode=St.AFTER_BODY,Ce.options.sourceCodeLocationInfo)){const xt=Ce.openElements.tryPeekProperlyNestedBodyElement();xt&&Ce._setEndLocation(xt,ze)}}(z,he);break;case be.HTML:!function(Ce,ze){Ce.openElements.hasInScope(be.BODY)&&(Ce.insertionMode=St.AFTER_BODY,ym(Ce,ze))}(z,he);break;case be.FORM:!function(Ce){const ze=Ce.openElements.tmplCount>0,{formElement:xt}=Ce;ze||(Ce.formElement=null),(xt||ze)&&Ce.openElements.hasInScope(be.FORM)&&(Ce.openElements.generateImpliedEndTags(),ze?Ce.openElements.popUntilTagNamePopped(be.FORM):xt&&Ce.openElements.remove(xt))}(z);break;case be.APPLET:case be.OBJECT:case be.MARQUEE:!function(Ce,ze){const xt=ze.tagID;Ce.openElements.hasInScope(xt)&&(Ce.openElements.generateImpliedEndTags(),Ce.openElements.popUntilTagNamePopped(xt),Ce.activeFormattingElements.clearToLastMarker())}(z,he);break;case be.TEMPLATE:Rt(z,he);break;default:fs(z,he)}var Ce}function ao(z,he){z.tmplInsertionModeStack.length>0?gm(z,he):Wa(z,he)}function Oo(z,he){if(yh.has(z.openElements.currentTagId))switch(z.pendingCharacterTokens.length=0,z.hasNonWhitespacePendingCharacterToken=!1,z.originalInsertionMode=z.insertionMode,z.insertionMode=St.IN_TABLE_TEXT,he.type){case sn.CHARACTER:vh(z,he);break;case sn.WHITESPACE_CHARACTER:gf(z,he)}else yo(z,he)}function bo(z,he){switch(he.tagID){case be.TD:case be.TH:case be.TR:ze=he,(Ce=z).openElements.clearBackToTableContext(),Ce._insertFakeElement(Ft.TBODY,be.TBODY),Ce.insertionMode=St.IN_TABLE_BODY,pc(Ce,ze);break;case be.STYLE:case be.SCRIPT:case be.TEMPLATE:Mt(z,he);break;case be.COL:!function(Ce,ze){Ce.openElements.clearBackToTableContext(),Ce._insertFakeElement(Ft.COLGROUP,be.COLGROUP),Ce.insertionMode=St.IN_COLUMN_GROUP,Eh(Ce,ze)}(z,he);break;case be.FORM:!function(Ce,ze){Ce.formElement||0!==Ce.openElements.tmplCount||(Ce._insertElement(ze,Ht.HTML),Ce.formElement=Ce.openElements.current,Ce.openElements.pop())}(z,he);break;case be.TABLE:!function(Ce,ze){Ce.openElements.hasInTableScope(be.TABLE)&&(Ce.openElements.popUntilTagNamePopped(be.TABLE),Ce._resetInsertionMode(),Ce._processStartTag(ze))}(z,he);break;case be.TBODY:case be.TFOOT:case be.THEAD:!function(Ce,ze){Ce.openElements.clearBackToTableContext(),Ce._insertElement(ze,Ht.HTML),Ce.insertionMode=St.IN_TABLE_BODY}(z,he);break;case be.INPUT:!function(Ce,ze){qn(ze)?Ce._appendElement(ze,Ht.HTML):yo(Ce,ze),ze.ackSelfClosing=!0}(z,he);break;case be.CAPTION:!function(Ce,ze){Ce.openElements.clearBackToTableContext(),Ce.activeFormattingElements.insertMarker(),Ce._insertElement(ze,Ht.HTML),Ce.insertionMode=St.IN_CAPTION}(z,he);break;case be.COLGROUP:!function(Ce,ze){Ce.openElements.clearBackToTableContext(),Ce._insertElement(ze,Ht.HTML),Ce.insertionMode=St.IN_COLUMN_GROUP}(z,he);break;default:yo(z,he)}var Ce,ze}function Qo(z,he){switch(he.tagID){case be.TABLE:z.openElements.hasInTableScope(be.TABLE)&&(z.openElements.popUntilTagNamePopped(be.TABLE),z._resetInsertionMode());break;case be.TEMPLATE:Rt(z,he);break;case be.BODY:case be.CAPTION:case be.COL:case be.COLGROUP:case be.HTML:case be.TBODY:case be.TD:case be.TFOOT:case be.TH:case be.THEAD:case be.TR:break;default:yo(z,he)}}function yo(z,he){const Ce=z.fosterParentingEnabled;z.fosterParentingEnabled=!0,Pn(z,he),z.fosterParentingEnabled=Ce}function gf(z,he){z.pendingCharacterTokens.push(he)}function vh(z,he){z.pendingCharacterTokens.push(he),z.hasNonWhitespacePendingCharacterToken=!0}function hc(z,he){let Ce=0;if(z.hasNonWhitespacePendingCharacterToken)for(;Ce<z.pendingCharacterTokens.length;Ce++)yo(z,z.pendingCharacterTokens[Ce]);else for(;Ce<z.pendingCharacterTokens.length;Ce++)z._insertCharacters(z.pendingCharacterTokens[Ce]);z.insertionMode=z.originalInsertionMode,z._processToken(he)}const yf=new Set([be.CAPTION,be.COL,be.COLGROUP,be.TBODY,be.TD,be.TFOOT,be.TH,be.THEAD,be.TR]);function Eh(z,he){switch(he.tagID){case be.HTML:Vn(z,he);break;case be.COL:z._appendElement(he,Ht.HTML),he.ackSelfClosing=!0;break;case be.TEMPLATE:Mt(z,he);break;default:vd(z,he)}}function vd(z,he){z.openElements.currentTagId===be.COLGROUP&&(z.openElements.pop(),z.insertionMode=St.IN_TABLE,z._processToken(he))}function pc(z,he){switch(he.tagID){case be.TR:z.openElements.clearBackToTableBodyContext(),z._insertElement(he,Ht.HTML),z.insertionMode=St.IN_ROW;break;case be.TH:case be.TD:z.openElements.clearBackToTableBodyContext(),z._insertFakeElement(Ft.TR,be.TR),z.insertionMode=St.IN_ROW,_o(z,he);break;case be.CAPTION:case be.COL:case be.COLGROUP:case be.TBODY:case be.TFOOT:case be.THEAD:z.openElements.hasTableBodyContextInTableScope()&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE,bo(z,he));break;default:bo(z,he)}}function _f(z,he){const Ce=he.tagID;switch(he.tagID){case be.TBODY:case be.TFOOT:case be.THEAD:z.openElements.hasInTableScope(Ce)&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE);break;case be.TABLE:z.openElements.hasTableBodyContextInTableScope()&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE,Qo(z,he));break;case be.BODY:case be.CAPTION:case be.COL:case be.COLGROUP:case be.HTML:case be.TD:case be.TH:case be.TR:break;default:Qo(z,he)}}function _o(z,he){switch(he.tagID){case be.TH:case be.TD:z.openElements.clearBackToTableRowContext(),z._insertElement(he,Ht.HTML),z.insertionMode=St.IN_CELL,z.activeFormattingElements.insertMarker();break;case be.CAPTION:case be.COL:case be.COLGROUP:case be.TBODY:case be.TFOOT:case be.THEAD:case be.TR:z.openElements.hasInTableScope(be.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE_BODY,pc(z,he));break;default:bo(z,he)}}function Il(z,he){switch(he.tagID){case be.TR:z.openElements.hasInTableScope(be.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE_BODY);break;case be.TABLE:z.openElements.hasInTableScope(be.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE_BODY,_f(z,he));break;case be.TBODY:case be.TFOOT:case be.THEAD:(z.openElements.hasInTableScope(he.tagID)||z.openElements.hasInTableScope(be.TR))&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=St.IN_TABLE_BODY,_f(z,he));break;case be.BODY:case be.CAPTION:case be.COL:case be.COLGROUP:case be.HTML:case be.TD:case be.TH:break;default:Qo(z,he)}}function Ms(z,he){switch(he.tagID){case be.HTML:Vn(z,he);break;case be.OPTION:z.openElements.currentTagId===be.OPTION&&z.openElements.pop(),z._insertElement(he,Ht.HTML);break;case be.OPTGROUP:z.openElements.currentTagId===be.OPTION&&z.openElements.pop(),z.openElements.currentTagId===be.OPTGROUP&&z.openElements.pop(),z._insertElement(he,Ht.HTML);break;case be.INPUT:case be.KEYGEN:case be.TEXTAREA:case be.SELECT:z.openElements.hasInSelectScope(be.SELECT)&&(z.openElements.popUntilTagNamePopped(be.SELECT),z._resetInsertionMode(),he.tagID!==be.SELECT&&z._processStartTag(he));break;case be.SCRIPT:case be.TEMPLATE:Mt(z,he)}}function mm(z,he){switch(he.tagID){case be.OPTGROUP:z.openElements.stackTop>0&&z.openElements.currentTagId===be.OPTION&&z.openElements.tagIDs[z.openElements.stackTop-1]===be.OPTGROUP&&z.openElements.pop(),z.openElements.currentTagId===be.OPTGROUP&&z.openElements.pop();break;case be.OPTION:z.openElements.currentTagId===be.OPTION&&z.openElements.pop();break;case be.SELECT:z.openElements.hasInSelectScope(be.SELECT)&&(z.openElements.popUntilTagNamePopped(be.SELECT),z._resetInsertionMode());break;case be.TEMPLATE:Rt(z,he)}}function gm(z,he){z.openElements.tmplCount>0?(z.openElements.popUntilTagNamePopped(be.TEMPLATE),z.activeFormattingElements.clearToLastMarker(),z.tmplInsertionModeStack.shift(),z._resetInsertionMode(),z.onEof(he)):Wa(z,he)}function ym(z,he){var Ce;if(he.tagID===be.HTML){if(z.fragmentContext||(z.insertionMode=St.AFTER_AFTER_BODY),z.options.sourceCodeLocationInfo&&z.openElements.tagIDs[0]===be.HTML){z._setEndLocation(z.openElements.items[0],he);const ze=z.openElements.items[1];ze&&(null===(Ce=z.treeAdapter.getNodeSourceCodeLocation(ze))||void 0===Ce||!Ce.endTag)&&z._setEndLocation(ze,he)}}else Mh(z,he)}function Mh(z,he){z.insertionMode=St.IN_BODY,Pn(z,he)}function Ed(z,he){z.insertionMode=St.IN_BODY,Pn(z,he)}function vf(z){for(;z.treeAdapter.getNamespaceURI(z.openElements.current)!==Ht.HTML&&!z._isIntegrationPoint(z.openElements.currentTagId,z.openElements.current);)z.openElements.pop()}return k.parse=function(z,he){return va.parse(z,he)},k.parseFragment=function(z,he,Ce){"string"==typeof z&&(Ce=he,he=z,z=null);const ze=va.getFragmentParser(z,Ce);return ze.tokenizer.write(he,!0),ze.getFragment()},Object.defineProperty(k,"__esModule",{value:!0}),k}({}),Q=Xe.parse,De=Xe.parseFragment,Ke=new WeakMap;function Ye(k,ne){const Te=Q(ne.trim(),lt(k));return Te.documentElement=Te.firstElementChild,Te.head=Te.documentElement.firstElementChild,Te.body=Te.head.nextElementSibling,Te}function rt(k,ne){return ne="string"==typeof ne?ne.trim():"",De(ne,lt(k))}function lt(k){let ne=Ke.get(k);return null!=ne||(ne={treeAdapter:{createDocument(){const Me=k.createElement("#document");return Me["x-mode"]="no-quirks",Me},setNodeSourceCodeLocation(Me,it){Me.sourceCodeLocation=it},getNodeSourceCodeLocation:Me=>Me.sourceCodeLocation,createDocumentFragment:()=>k.createDocumentFragment(),createElement(Me,it,ct){const Tt=k.createElementNS(it,Me);for(let Nt=0;Nt<ct.length;Nt++){const Bt=ct[Nt];null==Bt.namespace||"http://www.w3.org/1999/xhtml"===Bt.namespace?Tt.setAttribute(Bt.name,Bt.value):Tt.setAttributeNS(Bt.namespace,Bt.name,Bt.value)}return Tt},createCommentNode:Me=>k.createComment(Me),appendChild(Me,it){Me.appendChild(it)},insertBefore(Me,it,ct){Me.insertBefore(it,ct)},setTemplateContent(Me,it){Me.content=it},getTemplateContent:Me=>Me.content,setDocumentType(Me,it,ct,Tt){let Nt=Me.childNodes.find(Bt=>10===Bt.nodeType);null==Nt&&(Nt=k.createDocumentTypeNode(),Me.insertBefore(Nt,Me.firstChild)),Nt.nodeValue="!DOCTYPE",Nt["x-name"]=it,Nt["x-publicId"]=ct,Nt["x-systemId"]=Tt},setDocumentMode(Me,it){Me["x-mode"]=it},getDocumentMode:Me=>Me["x-mode"],detachNode(Me){Me.remove()},insertText(Me,it){const ct=Me.lastChild;null!=ct&&3===ct.nodeType?ct.nodeValue+=it:Me.appendChild(k.createTextNode(it))},insertTextBefore(Me,it,ct){const Tt=Me.childNodes[Me.childNodes.indexOf(ct)-1];null!=Tt&&3===Tt.nodeType?Tt.nodeValue+=it:Me.insertBefore(k.createTextNode(it),ct)},adoptAttributes(Me,it){for(let ct=0;ct<it.length;ct++){const Tt=it[ct];!1===Me.hasAttributeNS(Tt.namespace,Tt.name)&&Me.setAttributeNS(Tt.namespace,Tt.name,Tt.value)}},getFirstChild:Me=>Me.childNodes[0],getChildNodes:Me=>Me.childNodes,getParentNode:Me=>Me.parentNode,getAttrList:Me=>Me.attributes.__items.map(ct=>({name:ct.name,value:ct.value,namespace:ct.namespaceURI,prefix:null})),getTagName:Me=>"http://www.w3.org/1999/xhtml"===Me.namespaceURI?Me.nodeName.toLowerCase():Me.nodeName,getNamespaceURI:Me=>Me.namespaceURI,getTextNodeContent:Me=>Me.nodeValue,getCommentNodeContent:Me=>Me.nodeValue,getDocumentTypeNodeName:Me=>Me["x-name"],getDocumentTypeNodePublicId:Me=>Me["x-publicId"],getDocumentTypeNodeSystemId:Me=>Me["x-systemId"],isTextNode:Me=>3===Me.nodeType,isCommentNode:Me=>8===Me.nodeType,isDocumentTypeNode:Me=>10===Me.nodeType,isElementNode:Me=>1===Me.nodeType}},Ke.set(k,ne)),ne}var _t=function(k,ne){if(!k.document)throw new Error("jQuery requires a window with a document");var Te=[],Me=Object.getPrototypeOf,it=Te.slice,ct=Te.flat?function(at){return Te.flat.call(at)}:function(at){return Te.concat.apply([],at)},Tt=Te.push,Nt=Te.indexOf,Bt={},Vt=Bt.toString,Ot=Bt.hasOwnProperty,sn=Ot.toString,Wn=sn.call(Object),Bn={};function Xr(at){var Mt=!!at&&at.length,Rt=function Rr(at){return null==at?at+"":"object"==typeof at?Bt[Vt.call(at)]||"object":typeof at}(at);return"function"!=typeof at&&!function Kr(at){return null!=at&&at===at.window}(at)&&("array"===Rt||0===Mt||"number"==typeof Mt&&Mt>0&&Mt-1 in at)}var Jr=k.document,Ht={type:!0,src:!0,nonce:!0,noModule:!0};const en={};var Ft="4.0.0-pre+9352011a7.dirty +selector",be=/HTML$/i;function Is(at,Mt){return at.nodeName&&at.nodeName.toLowerCase()===Mt.toLowerCase()}en.fn=en.prototype={jquery:Ft,constructor:en,length:0,toArray:function(){return it.call(this)},get:function(at){return null==at?it.call(this):at<0?this[at+this.length]:this[at]},pushStack:function(at){var Mt=en.merge(this.constructor(),at);return Mt.prevObject=this,Mt},each:function(at){return en.each(this,at)},map:function(at){return this.pushStack(en.map(this,function(Mt,Rt){return at.call(Mt,Rt,Mt)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(en.grep(this,function(at,Mt){return(Mt+1)%2}))},odd:function(){return this.pushStack(en.grep(this,function(at,Mt){return Mt%2}))},eq:function(at){var Mt=this.length,Rt=+at+(at<0?Mt:0);return this.pushStack(Rt>=0&&Rt<Mt?[this[Rt]]:[])},end:function(){return this.prevObject||this.constructor()}},en.extend=en.fn.extend=function(){var at,Mt,Rt,tn,un,In,Pn=arguments[0]||{},Fn=1,$n=arguments.length,Nr=!1;for("boolean"==typeof Pn&&(Nr=Pn,Pn=arguments[Fn]||{},Fn++),"object"!=typeof Pn&&"function"!=typeof Pn&&(Pn={}),Fn===$n&&(Pn=this,Fn--);Fn<$n;Fn++)if(null!=(at=arguments[Fn]))for(Mt in at)tn=at[Mt],"__proto__"!==Mt&&Pn!==tn&&(Nr&&tn&&(en.isPlainObject(tn)||(un=Array.isArray(tn)))?(Rt=Pn[Mt],In=un&&!Array.isArray(Rt)?[]:un||en.isPlainObject(Rt)?Rt:{},un=!1,Pn[Mt]=en.extend(Nr,In,tn)):void 0!==tn&&(Pn[Mt]=tn));return Pn},en.extend({expando:"jQuery"+(Ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(at){throw new Error(at)},noop:function(){},isPlainObject:function(at){var Mt,Rt;return!(!at||"[object Object]"!==Vt.call(at)||(Mt=Me(at))&&("function"!=typeof(Rt=Ot.call(Mt,"constructor")&&Mt.constructor)||sn.call(Rt)!==Wn))},isEmptyObject:function(at){var Mt;for(Mt in at)return!1;return!0},globalEval:function(at,Mt,Rt){!function qr(at,Mt,Rt){var tn,un=(Rt=Rt||Jr).createElement("script");if(un.text=at,Mt)for(tn in Ht)Mt[tn]&&(un[tn]=Mt[tn]);Rt.head.appendChild(un).parentNode.removeChild(un)}(at,{nonce:Mt&&Mt.nonce},Rt)},each:function(at,Mt){var Rt,tn=0;if(Xr(at))for(Rt=at.length;tn<Rt&&!1!==Mt.call(at[tn],tn,at[tn]);tn++);else for(tn in at)if(!1===Mt.call(at[tn],tn,at[tn]))break;return at},text:function(at){var Mt,Rt="",tn=0,un=at.nodeType;if(!un)for(;Mt=at[tn++];)Rt+=en.text(Mt);return 1===un||11===un?at.textContent:9===un?at.documentElement.textContent:3===un||4===un?at.nodeValue:Rt},makeArray:function(at,Mt){var Rt=Mt||[];return null!=at&&(Xr(Object(at))?en.merge(Rt,"string"==typeof at?[at]:at):Tt.call(Rt,at)),Rt},inArray:function(at,Mt,Rt){return null==Mt?-1:Nt.call(Mt,at,Rt)},isXMLDoc:function(at){var Rt=at&&(at.ownerDocument||at).documentElement;return!be.test(at&&at.namespaceURI||Rt&&Rt.nodeName||"HTML")},contains:function(at,Mt){var Rt=Mt&&Mt.parentNode;return at===Rt||!(!Rt||1!==Rt.nodeType||!(at.contains?at.contains(Rt):at.compareDocumentPosition&&16&at.compareDocumentPosition(Rt)))},merge:function(at,Mt){for(var Rt=+Mt.length,tn=0,un=at.length;tn<Rt;tn++)at[un++]=Mt[tn];return at.length=un,at},grep:function(at,Mt,Rt){for(var un=[],In=0,Pn=at.length,Fn=!Rt;In<Pn;In++)!Mt(at[In],In)!==Fn&&un.push(at[In]);return un},map:function(at,Mt,Rt){var tn,un,In=0,Pn=[];if(Xr(at))for(tn=at.length;In<tn;In++)null!=(un=Mt(at[In],In,Rt))&&Pn.push(un);else for(In in at)null!=(un=Mt(at[In],In,Rt))&&Pn.push(un);return ct(Pn)},guid:1,support:Bn}),"function"==typeof Symbol&&(en.fn[Symbol.iterator]=Te[Symbol.iterator]),en.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(at,Mt){Bt["[object "+Mt+"]"]=Mt.toLowerCase()});var Us=Te.pop,nn="[\\x20\\t\\r\\n\\f]",js=Jr.documentMode;try{Jr.querySelector(":has(*,:jqfake)"),Bn.cssHas=!1}catch{Bn.cssHas=!0}var io=[];js&&io.push(":enabled",":disabled","\\["+nn+"*name"+nn+"*="+nn+"*(?:''|\"\")"),Bn.cssHas||io.push(":has"),io=io.length&&new RegExp(io.join("|"));var si=new RegExp("^"+nn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nn+"+$","g"),yt="(?:\\\\[\\da-fA-F]{1,6}"+nn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",nc=new RegExp("^"+nn+"*([>+~]|"+nn+")"+nn+"*"),zi=(new RegExp(nn+"|>"),/[+~]/),hu=Jr.documentElement,_a=hu.matches||hu.msMatchesSelector;function Al(){var at=[];return function Mt(Rt,tn){return at.push(Rt+" ")>en.expr.cacheLength&&delete Mt[at.shift()],Mt[Rt+" "]=tn}}function pu(at){return at&&typeof at.getElementsByTagName<"u"&&at}var md="\\["+nn+"*("+yt+")(?:"+nn+"*([*^$|!~]?=)"+nn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+yt+"))|)"+nn+"*\\]",rc=":("+yt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+md+")*)|.*)\\)|)",sc={ID:new RegExp("^#("+yt+")"),CLASS:new RegExp("^\\.("+yt+")"),TAG:new RegExp("^("+yt+"|[*])"),ATTR:new RegExp("^"+md),PSEUDO:new RegExp("^"+rc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nn+"*(even|odd|(([+-]|)(\\d*)n|)"+nn+"*(?:([+-]|)"+nn+"*(\\d+)|))"+nn+"*\\)|)","i")},ph=new RegExp(rc),oc=new RegExp("\\\\[\\da-fA-F]{1,6}"+nn+"?|\\\\([^\\r\\n\\f])","g"),ic=function(at,Mt){var Rt="0x"+at.slice(1)-65536;return Mt||(Rt<0?String.fromCharCode(Rt+65536):String.fromCharCode(Rt>>10|55296,1023&Rt|56320))};function mo(at){return at.replace(oc,ic)}function Dl(at){en.error("Syntax error, unrecognized expression: "+at)}var fh=new RegExp("^"+nn+"*,"+nn+"*"),Qr=Al();function Tl(at,Mt){var Rt,tn,un,In,Pn,Fn,$n,Nr=Qr[at+" "];if(Nr)return Mt?0:Nr.slice(0);for(Pn=at,Fn=[],$n=en.expr.preFilter;Pn;){for(In in(!Rt||(tn=fh.exec(Pn)))&&(tn&&(Pn=Pn.slice(tn[0].length)||Pn),Fn.push(un=[])),Rt=!1,(tn=nc.exec(Pn))&&(Rt=tn.shift(),un.push({value:Rt,type:tn[0].replace(si," ")}),Pn=Pn.slice(Rt.length)),sc)(tn=en.expr.match[In].exec(Pn))&&(!$n[In]||(tn=$n[In](tn)))&&(Rt=tn.shift(),un.push({value:Rt,type:In,matches:tn}),Pn=Pn.slice(Rt.length));if(!Rt)break}return Mt?Pn.length:Pn?Dl(at):Qr(at,Fn).slice(0)}var fu={ATTR:function(at){return at[1]=mo(at[1]),at[3]=mo(at[3]||at[4]||at[5]||""),"~="===at[2]&&(at[3]=" "+at[3]+" "),at.slice(0,4)},CHILD:function(at){return at[1]=at[1].toLowerCase(),"nth"===at[1].slice(0,3)?(at[3]||Dl(at[0]),at[4]=+(at[4]?at[5]+(at[6]||1):2*("even"===at[3]||"odd"===at[3])),at[5]=+(at[7]+at[8]||"odd"===at[3])):at[3]&&Dl(at[0]),at},PSEUDO:function(at){var Mt,Rt=!at[6]&&at[2];return sc.CHILD.test(at[0])?null:(at[3]?at[2]=at[4]||at[5]||"":Rt&&ph.test(Rt)&&(Mt=Tl(Rt,!0))&&(Mt=Rt.indexOf(")",Rt.length-Mt)-Rt.length)&&(at[0]=at[0].slice(0,Mt),at[2]=Rt.slice(0,Mt)),at.slice(0,3))}};function ls(at){for(var Mt=0,Rt=at.length,tn="";Mt<Rt;Mt++)tn+=at[Mt].value;return tn}var mh=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function mu(at,Mt){return Mt?"\0"===at?"\ufffd":at.slice(0,-1)+"\\"+at.charCodeAt(at.length-1).toString(16)+" ":"\\"+at}en.escapeSelector=function(at){return(at+"").replace(mh,mu)};var ac,Ua=Te.sort,ho=Te.splice;function lc(at,Mt){if(at===Mt)return ac=!0,0;var Rt=!at.compareDocumentPosition-!Mt.compareDocumentPosition;return Rt||(1&(Rt=(at.ownerDocument||at)==(Mt.ownerDocument||Mt)?at.compareDocumentPosition(Mt):1)?at==Jr||at.ownerDocument==Jr&&en.contains(Jr,at)?-1:Mt==Jr||Mt.ownerDocument==Jr&&en.contains(Jr,Mt)?1:0:4&Rt?-1:1)}en.uniqueSort=function(at){var Mt,Rt=[],tn=0,un=0;if(ac=!1,Ua.call(at,lc),ac){for(;Mt=at[un++];)Mt===at[un]&&(tn=Rt.push(un));for(;tn--;)ho.call(at,Rt[tn],1)}return at},en.fn.uniqueSort=function(){return this.pushStack(en.uniqueSort(it.apply(this)))};var Cl,Uo,Go,gh,xi,Jo=0,gd=0,gu=Al(),yu=Al(),uc=Al(),ja=new RegExp(nn+"+","g"),hr=new RegExp("^"+yt+"$"),_u=en.extend({bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+nn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nn+"*((?:-\\d)?\\d*)"+nn+"*\\)|)(?=[^-]|$)","i")},sc),cc=/^(?:input|select|textarea|button)$/i,yd=/^h\d$/i,pf=function(){vu()},ff=qt(function(at){return!0===at.disabled&&Is(at,"fieldset")},{dir:"parentNode",next:"legend"});function pi(at,Mt,Rt,tn){var $r=Mt?Mt.nodeType:9;return Rt=Rt||[],"string"!=typeof at||!at||1!==$r&&9!==$r&&11!==$r?Rt:Ea(at.replace(si,"$1"),Mt,Rt,tn)}function St(at){return at[en.expando]=!0,at}function ka(at){return function(Mt){return Is(Mt,"input")&&Mt.type===at}}function yh(at){return function(Mt){return(Is(Mt,"input")||Is(Mt,"button"))&&Mt.type===at}}function _d(at){return function(Mt){return"form"in Mt?Mt.parentNode&&!1===Mt.disabled?"label"in Mt?"label"in Mt.parentNode?Mt.parentNode.disabled===at:Mt.disabled===at:Mt.isDisabled===at||Mt.isDisabled!==!at&&ff(Mt)===at:Mt.disabled===at:"label"in Mt&&Mt.disabled===at}}function va(at){return St(function(Mt){return Mt=+Mt,St(function(Rt,tn){for(var un,In=at([],Rt.length,Mt),Pn=In.length;Pn--;)Rt[un=In[Pn]]&&(Rt[un]=!(tn[un]=Rt[un]))})})}function vu(at){var Mt,Rt=at?at.ownerDocument||at:Jr;Rt==Go||9!==Rt.nodeType||(gh=(Go=Rt).documentElement,xi=!en.isXMLDoc(Go),js&&Jr!=Go&&(Mt=Go.defaultView)&&Mt.top!==Mt&&Mt.addEventListener("unload",pf))}for(Cl in pi.matches=function(at,Mt){return pi(at,null,null,Mt)},pi.matchesSelector=function(at,Mt){if(vu(at),xi&&!uc[Mt+" "]&&(!io||!io.test(Mt)))try{return _a.call(at,Mt)}catch{uc(Mt,!0)}return pi(Mt,Go,null,[at]).length>0},en.expr={cacheLength:50,createPseudo:St,match:_u,find:{ID:function(at,Mt){if(typeof Mt.getElementById<"u"&&xi){var Rt=Mt.getElementById(at);return Rt?[Rt]:[]}},TAG:function(at,Mt){return typeof Mt.getElementsByTagName<"u"?Mt.getElementsByTagName(at):Mt.querySelectorAll(at)},CLASS:function(at,Mt){if(typeof Mt.getElementsByClassName<"u"&&xi)return Mt.getElementsByClassName(at)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:fu,filter:{ID:function(at){var Mt=mo(at);return function(Rt){return Rt.getAttribute("id")===Mt}},TAG:function(at){var Mt=mo(at).toLowerCase();return"*"===at?function(){return!0}:function(Rt){return Is(Rt,Mt)}},CLASS:function(at){var Mt=gu[at+" "];return Mt||(Mt=new RegExp("(^|"+nn+")"+at+"("+nn+"|$)"))&&gu(at,function(Rt){return Mt.test("string"==typeof Rt.className&&Rt.className||typeof Rt.getAttribute<"u"&&Rt.getAttribute("class")||"")})},ATTR:function(at,Mt,Rt){return function(tn){var un=tn.getAttribute(at);return null==un?"!="===Mt:!Mt||(un+="","="===Mt?un===Rt:"!="===Mt?un!==Rt:"^="===Mt?Rt&&0===un.indexOf(Rt):"*="===Mt?Rt&&un.indexOf(Rt)>-1:"$="===Mt?Rt&&un.slice(-Rt.length)===Rt:"~="===Mt?(" "+un.replace(ja," ")+" ").indexOf(Rt)>-1:"|="===Mt&&(un===Rt||un.slice(0,Rt.length+1)===Rt+"-"))}},CHILD:function(at,Mt,Rt,tn,un){var In="nth"!==at.slice(0,3),Pn="last"!==at.slice(-4),Fn="of-type"===Mt;return 1===tn&&0===un?function($n){return!!$n.parentNode}:function($n,Nr,qn){var pr,$r,Vn,fs,go,ao=In!==Pn?"nextSibling":"previousSibling",Oo=$n.parentNode,bo=Fn&&$n.nodeName.toLowerCase(),Qo=!qn&&!Fn,yo=!1;if(Oo){if(In){for(;ao;){for(Vn=$n;Vn=Vn[ao];)if(Fn?Is(Vn,bo):1===Vn.nodeType)return!1;go=ao="only"===at&&!go&&"nextSibling"}return!0}if(go=[Pn?Oo.firstChild:Oo.lastChild],Pn&&Qo){for(yo=(fs=(pr=($r=Oo[en.expando]||(Oo[en.expando]={}))[at]||[])[0]===Jo&&pr[1])&&pr[2],Vn=fs&&Oo.childNodes[fs];Vn=++fs&&Vn&&Vn[ao]||(yo=fs=0)||go.pop();)if(1===Vn.nodeType&&++yo&&Vn===$n){$r[at]=[Jo,fs,yo];break}}else if(Qo&&(yo=fs=(pr=($r=$n[en.expando]||($n[en.expando]={}))[at]||[])[0]===Jo&&pr[1]),!1===yo)for(;(Vn=++fs&&Vn&&Vn[ao]||(yo=fs=0)||go.pop())&&(!(Fn?Is(Vn,bo):1===Vn.nodeType)||!++yo||(Qo&&(($r=Vn[en.expando]||(Vn[en.expando]={}))[at]=[Jo,yo]),Vn!==$n)););return(yo-=un)===tn||yo%tn==0&&yo/tn>=0}}},PSEUDO:function(at,Mt){var Rt=en.expr.pseudos[at]||en.expr.setFilters[at.toLowerCase()]||Dl("unsupported pseudo: "+at);return Rt[en.expando]?Rt(Mt):Rt}},pseudos:{not:St(function(at){var Mt=[],Rt=[],tn=Io(at.replace(si,"$1"));return tn[en.expando]?St(function(un,In,Pn,Fn){for(var $n,Nr=tn(un,null,Fn,[]),qn=un.length;qn--;)($n=Nr[qn])&&(un[qn]=!(In[qn]=$n))}):function(un,In,Pn){return Mt[0]=un,tn(Mt,null,Pn,Rt),Mt[0]=null,!Rt.pop()}}),has:St(function(at){return function(Mt){return pi(at,Mt).length>0}}),contains:St(function(at){return at=mo(at),function(Mt){return(Mt.textContent||en.text(Mt)).indexOf(at)>-1}}),lang:St(function(at){return hr.test(at||"")||Dl("unsupported lang: "+at),at=mo(at).toLowerCase(),function(Mt){var Rt;do{if(Rt=xi?Mt.lang:Mt.getAttribute("xml:lang")||Mt.getAttribute("lang"))return(Rt=Rt.toLowerCase())===at||0===Rt.indexOf(at+"-")}while((Mt=Mt.parentNode)&&1===Mt.nodeType);return!1}}),target:function(at){var Mt=k.location&&k.location.hash;return Mt&&Mt.slice(1)===at.id},root:function(at){return at===gh},focus:function(at){return at===Go.activeElement&&Go.hasFocus()&&!!(at.type||at.href||~at.tabIndex)},enabled:_d(!1),disabled:_d(!0),checked:function(at){return Is(at,"input")&&!!at.checked||Is(at,"option")&&!!at.selected},selected:function(at){return!0===at.selected},empty:function(at){for(at=at.firstChild;at;at=at.nextSibling)if(at.nodeType<6)return!1;return!0},parent:function(at){return!en.expr.pseudos.empty(at)},header:function(at){return yd.test(at.nodeName)},input:function(at){return cc.test(at.nodeName)},button:function(at){return Is(at,"input")&&"button"===at.type||Is(at,"button")},text:function(at){return Is(at,"input")&&"text"===at.type},first:va(function(){return[0]}),last:va(function(at,Mt){return[Mt-1]}),eq:va(function(at,Mt,Rt){return[Rt<0?Rt+Mt:Rt]}),even:va(function(at,Mt){for(var Rt=0;Rt<Mt;Rt+=2)at.push(Rt);return at}),odd:va(function(at,Mt){for(var Rt=1;Rt<Mt;Rt+=2)at.push(Rt);return at}),lt:va(function(at,Mt,Rt){var tn;for(tn=Rt<0?Rt+Mt:Rt>Mt?Mt:Rt;--tn>=0;)at.push(tn);return at}),gt:va(function(at,Mt,Rt){for(var tn=Rt<0?Rt+Mt:Rt;++tn<Mt;)at.push(tn);return at})}},en.expr.pseudos.nth=en.expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})en.expr.pseudos[Cl]=ka(Cl);for(Cl in{submit:!0,reset:!0})en.expr.pseudos[Cl]=yh(Cl);function _h(){}function qt(at,Mt,Rt){var tn=Mt.dir,un=Mt.next,In=un||tn,Pn=Rt&&"parentNode"===In,Fn=gd++;return Mt.first?function($n,Nr,qn){for(;$n=$n[tn];)if(1===$n.nodeType||Pn)return at($n,Nr,qn);return!1}:function($n,Nr,qn){var pr,$r,Vn=[Jo,Fn];if(qn){for(;$n=$n[tn];)if((1===$n.nodeType||Pn)&&at($n,Nr,qn))return!0}else for(;$n=$n[tn];)if(1===$n.nodeType||Pn)if($r=$n[en.expando]||($n[en.expando]={}),un&&Is($n,un))$n=$n[tn]||$n;else{if((pr=$r[In])&&pr[0]===Jo&&pr[1]===Fn)return Vn[2]=pr[2];if($r[In]=Vn,Vn[2]=at($n,Nr,qn))return!0}return!1}}function wr(at){return at.length>1?function(Mt,Rt,tn){for(var un=at.length;un--;)if(!at[un](Mt,Rt,tn))return!1;return!0}:at[0]}function dc(at,Mt,Rt,tn,un){for(var In,Pn=[],Fn=0,$n=at.length,Nr=null!=Mt;Fn<$n;Fn++)(In=at[Fn])&&(!Rt||Rt(In,tn,un))&&(Pn.push(In),Nr&&Mt.push(Fn));return Pn}function Hr(at,Mt,Rt,tn,un,In){return tn&&!tn[en.expando]&&(tn=Hr(tn)),un&&!un[en.expando]&&(un=Hr(un,In)),St(function(Pn,Fn,$n,Nr){var qn,pr,$r,Vn,fs=[],go=[],ao=Fn.length,Oo=Pn||function mf(at,Mt,Rt){for(var tn=0,un=Mt.length;tn<un;tn++)pi(at,Mt[tn],Rt);return Rt}(Mt||"*",$n.nodeType?[$n]:$n,[]),bo=!at||!Pn&&Mt?Oo:dc(Oo,fs,at,$n,Nr);if(Rt?Rt(bo,Vn=un||(Pn?at:ao||tn)?[]:Fn,$n,Nr):Vn=bo,tn)for(qn=dc(Vn,go),tn(qn,[],$n,Nr),pr=qn.length;pr--;)($r=qn[pr])&&(Vn[go[pr]]=!(bo[go[pr]]=$r));if(Pn){if(un||at){if(un){for(qn=[],pr=Vn.length;pr--;)($r=Vn[pr])&&qn.push(bo[pr]=$r);un(null,Vn=[],qn,Nr)}for(pr=Vn.length;pr--;)($r=Vn[pr])&&(qn=un?Nt.call(Pn,$r):fs[pr])>-1&&(Pn[qn]=!(Fn[qn]=$r))}}else Vn=dc(Vn===Fn?Vn.splice(ao,Vn.length):Vn),un?un(null,Fn,Vn,Nr):Tt.apply(Fn,Vn)})}function Sl(at){for(var Mt,Rt,tn,un=at.length,In=en.expr.relative[at[0].type],Pn=In||en.expr.relative[" "],Fn=In?1:0,$n=qt(function(pr){return pr===Mt},Pn,!0),Nr=qt(function(pr){return Nt.call(Mt,pr)>-1},Pn,!0),qn=[function(pr,$r,Vn){var fs=!In&&(Vn||$r!=Uo)||((Mt=$r).nodeType?$n(pr,$r,Vn):Nr(pr,$r,Vn));return Mt=null,fs}];Fn<un;Fn++)if(Rt=en.expr.relative[at[Fn].type])qn=[qt(wr(qn),Rt)];else{if((Rt=en.expr.filter[at[Fn].type].apply(null,at[Fn].matches))[en.expando]){for(tn=++Fn;tn<un&&!en.expr.relative[at[tn].type];tn++);return Hr(Fn>1&&wr(qn),Fn>1&&ls(at.slice(0,Fn-1).concat({value:" "===at[Fn-2].type?"*":""})).replace(si,"$1"),Rt,Fn<tn&&Sl(at.slice(Fn,tn)),tn<un&&Sl(at=at.slice(tn)),tn<un&&ls(at))}qn.push(Rt)}return wr(qn)}function Io(at,Mt){var Rt,tn=[],un=[],In=yu[at+" "];if(!In){for(Mt||(Mt=Tl(at)),Rt=Mt.length;Rt--;)(In=Sl(Mt[Rt]))[en.expando]?tn.push(In):un.push(In);(In=yu(at,function Wa(at,Mt){var Rt=Mt.length>0,tn=at.length>0,un=function(In,Pn,Fn,$n,Nr){var qn,pr,$r,Vn=0,fs="0",go=In&&[],ao=[],Oo=Uo,bo=In||tn&&en.expr.find.TAG("*",Nr),Qo=Jo+=null==Oo?1:Math.random()||.1;for(Nr&&(Uo=Pn==Go||Pn||Nr);null!=(qn=bo[fs]);fs++){if(tn&&qn){for(pr=0,!Pn&&qn.ownerDocument!=Go&&(vu(qn),Fn=!xi);$r=at[pr++];)if($r(qn,Pn||Go,Fn)){Tt.call($n,qn);break}Nr&&(Jo=Qo)}Rt&&((qn=!$r&&qn)&&Vn--,In&&go.push(qn))}if(Vn+=fs,Rt&&fs!==Vn){for(pr=0;$r=Mt[pr++];)$r(go,ao,Pn,Fn);if(In){if(Vn>0)for(;fs--;)go[fs]||ao[fs]||(ao[fs]=Us.call($n));ao=dc(ao)}Tt.apply($n,ao),Nr&&!In&&ao.length>0&&Vn+Mt.length>1&&en.uniqueSort($n)}return Nr&&(Jo=Qo,Uo=Oo),go};return Rt?St(un):un}(un,tn))).selector=at}return In}function Ea(at,Mt,Rt,tn){var un,In,Pn,Fn,$n,Nr="function"==typeof at&&at,qn=!tn&&Tl(at=Nr.selector||at);if(Rt=Rt||[],1===qn.length){if((In=qn[0]=qn[0].slice(0)).length>2&&"ID"===(Pn=In[0]).type&&9===Mt.nodeType&&xi&&en.expr.relative[In[1].type]){if(!(Mt=(en.expr.find.ID(mo(Pn.matches[0]),Mt)||[])[0]))return Rt;Nr&&(Mt=Mt.parentNode),at=at.slice(In.shift().value.length)}for(un=_u.needsContext.test(at)?0:In.length;un--&&!en.expr.relative[Fn=(Pn=In[un]).type];)if(($n=en.expr.find[Fn])&&(tn=$n(mo(Pn.matches[0]),zi.test(In[0].type)&&pu(Mt.parentNode)||Mt))){if(In.splice(un,1),!(at=tn.length&&ls(In)))return Tt.apply(Rt,tn),Rt;break}}return(Nr||Io(at,qn))(tn,Mt,!xi,Rt,!Mt||zi.test(at)&&pu(Mt.parentNode)||Mt),Rt}return _h.prototype=en.expr.filters=en.expr.pseudos,en.expr.setFilters=new _h,vu(),en.find=pi,pi.compile=Io,pi.select=Ea,pi.setDocument=vu,pi.tokenize=Tl,en}({document:{createElement:()=>({}),nodeType:9,documentElement:{nodeType:1,nodeName:"HTML"}}}),Be=[":scope",":where",":is"];function Ze(k,ne){const Te=Be.filter(Me=>k.includes(Me));Te.length>0&&ne.message&&(ne.message=`At present jQuery does not support the ${function Ne(k){return k.length<=1?k.join(""):`${k.slice(0,k.length-1).join(", ")} and ${k[k.length-1]}`}(Te)} ${1===Te.length?"selector":"selectors"}.\nIf you need this in your test, consider writing an end-to-end test instead.\n`+ne.message)}function He(k,ne={}){const Te={currentLineWidth:0,indent:0,isWithinBody:!1,text:[]};if(ne.prettyHtml?("number"!=typeof ne.indentSpaces&&(ne.indentSpaces=2),"boolean"!=typeof ne.newLines&&(ne.newLines=!0),ne.approximateLineWidth=-1):(ne.prettyHtml=!1,"boolean"!=typeof ne.newLines&&(ne.newLines=!1),"number"!=typeof ne.indentSpaces&&(ne.indentSpaces=0)),"number"!=typeof ne.approximateLineWidth&&(ne.approximateLineWidth=-1),"boolean"!=typeof ne.removeEmptyAttributes&&(ne.removeEmptyAttributes=!0),"boolean"!=typeof ne.removeAttributeQuotes&&(ne.removeAttributeQuotes=!1),"boolean"!=typeof ne.removeBooleanAttributeQuotes&&(ne.removeBooleanAttributeQuotes=!1),"boolean"!=typeof ne.removeHtmlComments&&(ne.removeHtmlComments=!1),"boolean"!=typeof ne.serializeShadowRoot&&(ne.serializeShadowRoot=!1),ne.outerHtml)Je(k,ne,Te,!1);else for(let Me=0,it=k.childNodes.length;Me<it;Me++)Je(k.childNodes[Me],ne,Te,!1);return"\n"===Te.text[0]&&Te.text.shift(),"\n"===Te.text[Te.text.length-1]&&Te.text.pop(),Te.text.join("")}function Je(k,ne,Te,Me){var it,ct,Tt,Nt,Bt,Vt,Ot,sn,Wn,Bn,Rr,Kr,Xr,Jr,Ht,qr;if(1===k.nodeType||Me){const en=Me?"mock:shadow-root":function Gt(k){return"http://www.w3.org/1999/xhtml"===k.namespaceURI?k.nodeName.toLowerCase():k.nodeName}(k);"body"===en&&(Te.isWithinBody=!0);const Ft=null!=ne.excludeTags&&ne.excludeTags.includes(en);if(!1===Ft){const be=!!(ne.newLines||(null!=(it=ne.indentSpaces)?it:0)>0)&&an(k);if(ne.newLines&&!be&&(Te.text.push("\n"),Te.currentLineWidth=0),(null!=(ct=ne.indentSpaces)?ct:0)>0&&!be){for(let Us=0;Us<Te.indent;Us++)Te.text.push(" ");Te.currentLineWidth+=Te.indent}Te.text.push("<"+en),Te.currentLineWidth+=en.length+1;const oo=k.attributes.length,Is=ne.prettyHtml&&oo>1?J(k.attributes,!0):k.attributes;for(let Us=0;Us<oo;Us++){const nn=Is.item(Us),js=nn.name;if("style"===js)continue;let io=nn.value;if(ne.removeEmptyAttributes&&""===io&&Cn.has(js))continue;const si=nn.namespaceURI;null==si?(Te.currentLineWidth+=js.length+1,ne.approximateLineWidth&&ne.approximateLineWidth>0&&Te.currentLineWidth>ne.approximateLineWidth?(Te.text.push("\n"+js),Te.currentLineWidth=0):Te.text.push(" "+js)):"http://www.w3.org/XML/1998/namespace"===si?(Te.text.push(" xml:"+js),Te.currentLineWidth+=js.length+5):"http://www.w3.org/2000/xmlns/"===si?"xmlns"!==js?(Te.text.push(" xmlns:"+js),Te.currentLineWidth+=js.length+7):(Te.text.push(" "+js),Te.currentLineWidth+=js.length+1):si===S?(Te.text.push(" xlink:"+js),Te.currentLineWidth+=js.length+7):(Te.text.push(" "+si+":"+js),Te.currentLineWidth+=si.length+js.length+2),ne.prettyHtml&&"class"===js&&(io=nn.value=io.split(" ").filter(yt=>""!==yt).sort().join(" ").trim()),(""!==io||!(ne.removeBooleanAttributeQuotes&&Nn.has(js)||ne.removeEmptyAttributes&&js.startsWith("data-")))&&(ne.removeAttributeQuotes&&Kt.test(io)?(Te.text.push("="+Zt(io,!0)),Te.currentLineWidth+=io.length+1):(Te.text.push('="'+Zt(io,!0)+'"'),Te.currentLineWidth+=io.length+3))}if(k.hasAttribute("style")){const Us=k.style.cssText;ne.approximateLineWidth&&ne.approximateLineWidth>0&&Te.currentLineWidth+Us.length+10>ne.approximateLineWidth?(Te.text.push(`\nstyle="${Us}">`),Te.currentLineWidth=0):(Te.text.push(` style="${Us}">`),Te.currentLineWidth+=Us.length+10)}else Te.text.push(">"),Te.currentLineWidth+=1}if(!1===kn.has(en)){if(ne.serializeShadowRoot&&null!=k.shadowRoot&&(Te.indent=Te.indent+(null!=(Tt=ne.indentSpaces)?Tt:0),Je(k.shadowRoot,ne,Te,!0),Te.indent=Te.indent-(null!=(Nt=ne.indentSpaces)?Nt:0),ne.newLines&&(0===k.childNodes.length||1===k.childNodes.length&&3===k.childNodes[0].nodeType&&""===(null==(Bt=k.childNodes[0].nodeValue)?void 0:Bt.trim())))){Te.text.push("\n"),Te.currentLineWidth=0;for(let be=0;be<Te.indent;be++)Te.text.push(" ");Te.currentLineWidth+=Te.indent}if(null==ne.excludeTagContent||!1===ne.excludeTagContent.includes(en)){const be="template"===en?k.content.childNodes:k.childNodes,oo=be.length;if(oo>0&&(1!==oo||3!==be[0].nodeType||"string"==typeof be[0].nodeValue&&""!==be[0].nodeValue.trim())){const Is=!!(ne.newLines||(null!=(Vt=ne.indentSpaces)?Vt:0)>0)&&an(k);!Is&&(null!=(Ot=ne.indentSpaces)?Ot:0)>0&&!1===Ft&&(Te.indent=Te.indent+(null!=(sn=ne.indentSpaces)?sn:0));for(let Us=0;Us<oo;Us++)Je(be[Us],ne,Te,!1);if(!1===Ft&&(ne.newLines&&!Is&&(Te.text.push("\n"),Te.currentLineWidth=0),(null!=(Wn=ne.indentSpaces)?Wn:0)>0&&!Is)){Te.indent=Te.indent-(null!=(Bn=ne.indentSpaces)?Bn:0);for(let Us=0;Us<Te.indent;Us++)Te.text.push(" ");Te.currentLineWidth+=Te.indent}}!1===Ft&&(Te.text.push("</"+en+">"),Te.currentLineWidth+=en.length+3)}}(null!=(Rr=ne.approximateLineWidth)?Rr:0)>0&&er.has(en)&&(Te.text.push("\n"),Te.currentLineWidth=0),"body"===en&&(Te.isWithinBody=!1)}else if(3===k.nodeType){let en=k.nodeValue;if("string"==typeof en){const Ft=en.trim();if(""===Ft)an(k)?(Te.text.push(en),Te.currentLineWidth+=en.length):(null!=(Kr=ne.approximateLineWidth)?Kr:0)>0&&!Te.isWithinBody||ne.prettyHtml||(Te.currentLineWidth+=1,ne.approximateLineWidth&&ne.approximateLineWidth>0&&Te.currentLineWidth>ne.approximateLineWidth?(Te.text.push("\n"),Te.currentLineWidth=0):Te.text.push(" "));else{const be=!!(ne.newLines||(null!=(Xr=ne.indentSpaces)?Xr:0)>0||ne.prettyHtml)&&an(k);if(ne.newLines&&!be&&(Te.text.push("\n"),Te.currentLineWidth=0),(null!=(Jr=ne.indentSpaces)?Jr:0)>0&&!be){for(let Is=0;Is<Te.indent;Is++)Te.text.push(" ");Te.currentLineWidth+=Te.indent}let oo=en.length;if(oo>0){const Is=null!=k.parentNode&&1===k.parentNode.nodeType?k.parentNode.nodeName:null;"string"==typeof Is&&mn.has(Is)?(an(k)?Te.text.push(en):(Te.text.push(Ft),oo=Ft.length),Te.currentLineWidth+=oo):ne.prettyHtml&&!be?(Te.text.push(Zt(en.replace(/\s\s+/g," ").trim(),!1)),Te.currentLineWidth+=oo):(an(k)||(/\s/.test(en.charAt(0))&&(en=" "+en.trimLeft()),oo=en.length,oo>1&&/\s/.test(en.charAt(oo-1))&&(ne.approximateLineWidth&&ne.approximateLineWidth>0&&Te.currentLineWidth+oo>ne.approximateLineWidth?(en=en.trimRight()+"\n",Te.currentLineWidth=0):en=en.trimRight()+" ")),Te.currentLineWidth+=oo,Te.text.push(Zt(en,!1)))}}}}else if(8===k.nodeType){const en=k.nodeValue;if(ne.removeHtmlComments&&!(en?.startsWith(P+".")||en?.startsWith(H+".")||en?.startsWith(j+".")||en?.startsWith($+".")))return;const Ft=!!(ne.newLines||(null!=(Ht=ne.indentSpaces)?Ht:0)>0)&&an(k);if(ne.newLines&&!Ft&&(Te.text.push("\n"),Te.currentLineWidth=0),(null!=(qr=ne.indentSpaces)?qr:0)>0&&!Ft){for(let be=0;be<Te.indent;be++)Te.text.push(" ");Te.currentLineWidth+=Te.indent}Te.text.push("\x3c!--"+en+"--\x3e"),Te.currentLineWidth+=en.length+7}else 10===k.nodeType&&Te.text.push("<!doctype html>")}var ut=/&/g,dt=/\u00a0/g,Et=/"/g,Lt=/</g,jt=/>/g,Kt=/^[^ \t\n\f\r"'`=<>\/\\-]+$/;function Zt(k,ne){return k=k.replace(ut,"&amp;").replace(dt,"&nbsp;"),ne?k.replace(Et,"&quot;"):k.replace(Lt,"&lt;").replace(jt,"&gt;")}function an(k){let ne=k;for(;null!=ne;){if(Kn.has(ne.nodeName))return!0;ne=ne.parentNode}return!1}var mn=new Set(["STYLE","SCRIPT","IFRAME","NOSCRIPT","XMP","NOEMBED","NOFRAMES","PLAINTEXT"]),Kn=new Set(["CODE","OUTPUT","PLAINTEXT","PRE","SCRIPT","TEMPLATE","TEXTAREA"]),kn=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","meta","param","source","trace","wbr"]),Cn=new Set(["class","dir","id","lang","name","title"]),Nn=new Set(["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","nomodule","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","truespeed","typemustmatch","visible"]),er=new Set(["html","body","head","iframe","meta","link","base","title","script","style"]),Un=(()=>{let k=class{constructor(ne,Te,Me,it){this.ownerDocument=ne,this.nodeType=Te,this.nodeName=Me,this._nodeValue=it,this.parentNode=null,this.childNodes=[]}appendChild(ne){if(11===ne.nodeType){const Te=ne.childNodes.slice();for(const Me of Te)this.appendChild(Me)}else ne.remove(),ne.parentNode=this,this.childNodes.push(ne),ve(this.ownerDocument,ne);return ne}append(...ne){ne.forEach(Te=>{this.appendChild("object"==typeof Te&&null!==Te&&"nodeType"in Te?Te:this.ownerDocument.createTextNode(String(Te)))})}prepend(...ne){const Te=this.firstChild;ne.forEach(Me=>{Te&&this.insertBefore("object"==typeof Me&&null!==Me&&"nodeType"in Me?Me:this.ownerDocument.createTextNode(String(Me)),Te)})}cloneNode(ne){throw new Error(`invalid node type to clone: ${this.nodeType}, deep: ${ne}`)}compareDocumentPosition(ne){return-1}get firstChild(){return this.childNodes[0]||null}insertBefore(ne,Te){if(11===ne.nodeType)for(let Me=0,it=ne.childNodes.length;Me<it;Me++)tr(this,ne.childNodes[Me],Te);else tr(this,ne,Te);return ne}get isConnected(){let ne=this;for(;null!=ne;){if(9===ne.nodeType)return!0;ne=ne.parentNode,null!=ne&&11===ne.nodeType&&(ne=ne.host)}return!1}isSameNode(ne){return this===ne}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get nextSibling(){if(null!=this.parentNode){const ne=this.parentNode.childNodes.indexOf(this)+1;return this.parentNode.childNodes[ne]||null}return null}get nodeValue(){var ne;return null!=(ne=this._nodeValue)?ne:""}set nodeValue(ne){this._nodeValue=ne}get parentElement(){return this.parentNode||null}set parentElement(ne){this.parentNode=ne}get previousSibling(){if(null!=this.parentNode){const ne=this.parentNode.childNodes.indexOf(this)-1;return this.parentNode.childNodes[ne]||null}return null}contains(ne){if(ne===this)return!0;const Te=Array.from(this.childNodes);return!!Te.includes(ne)||Te.some(Me=>this.contains.bind(Me)(ne))}removeChild(ne){const Te=this.childNodes.indexOf(ne);if(!(Te>-1))throw new Error("node not found within childNodes during removeChild");if(this.childNodes.splice(Te,1),1===this.nodeType){const Me=this.isConnected;ne.parentNode=null,!0===Me&&fe(ne)}else ne.parentNode=null;return ne}remove(){null!=this.parentNode&&this.parentNode.removeChild(this)}replaceChild(ne,Te){return Te.parentNode===this?(this.insertBefore(ne,Te),Te.remove(),ne):null}get textContent(){var ne;return null!=(ne=this._nodeValue)?ne:""}set textContent(ne){this._nodeValue=String(ne)}};return k.ELEMENT_NODE=1,k.TEXT_NODE=3,k.PROCESSING_INSTRUCTION_NODE=7,k.COMMENT_NODE=8,k.DOCUMENT_NODE=9,k.DOCUMENT_TYPE_NODE=10,k.DOCUMENT_FRAGMENT_NODE=11,k})(),ur=class{constructor(k,ne,Te){this.ownerDocument=k,this.childNodes=ne,this.length=Te}},fr=class extends Un{attachInternals(){return new Proxy({},{get:function(k,ne,Te){console.error(`NOTE: Property ${String(ne)} was accessed on ElementInternals, but this property is not implemented.\nTesting components with ElementInternals is fully supported in e2e tests.`)}})}constructor(k,ne,Te=null){super(k,1,"string"==typeof ne?ne:null,null),this.__namespaceURI=Te,this.__shadowRoot=null,this.__attributeMap=null}addEventListener(k,ne){Le(this,k,ne)}attachShadow(k){const ne=this.ownerDocument.createDocumentFragment();return this.shadowRoot=ne,ne}blur(){ke(this,new X("blur",{relatedTarget:null,bubbles:!0,cancelable:!0,composed:!0}))}get localName(){if(!this.nodeName)throw new Error("Can't compute elements localName without nodeName");return this.nodeName.toLocaleLowerCase()}get namespaceURI(){return this.__namespaceURI}get shadowRoot(){return this.__shadowRoot||null}set shadowRoot(k){null!=k?(k.host=this,this.__shadowRoot=k):delete this.__shadowRoot}get attributes(){if(null==this.__attributeMap){const k=O(!1);return this.__attributeMap=k,k}return this.__attributeMap}set attributes(k){this.__attributeMap=k}get children(){return this.childNodes.filter(k=>1===k.nodeType)}get childElementCount(){return this.childNodes.filter(k=>1===k.nodeType).length}get className(){return this.getAttributeNS(null,"class")||""}set className(k){this.setAttributeNS(null,"class",k)}get classList(){return new b(this)}click(){ke(this,new le("click",{bubbles:!0,cancelable:!0,composed:!0}))}cloneNode(k){return null}closest(k){let ne=this;for(;null!=ne;){if(ne.matches(k))return ne;ne=ne.parentNode}return null}get dataset(){return function re(k){const ne={},Te=k.attributes,Me=Te.length;for(let it=0;it<Me;it++){const ct=Te.item(it),Tt=ct.nodeName;Tt.startsWith("data-")&&(ne[oe(Tt)]=ct.nodeValue)}return new Proxy(ne,{get:(it,ct)=>ne[ct],set(it,ct,Tt){const Nt=function ce(k){return"data-"+String(k).replace(/([A-Z0-9])/g,ne=>" "+ne[0]).trim().replace(/ /g,"-").toLowerCase()}(ct);return k.setAttribute(Nt,Tt),!0}})}(this)}get dir(){return this.getAttributeNS(null,"dir")||""}set dir(k){this.setAttributeNS(null,"dir",k)}dispatchEvent(k){return ke(this,k)}get firstElementChild(){return this.children[0]||null}focus(k){ke(this,new X("focus",{relatedTarget:null,bubbles:!0,cancelable:!0,composed:!0}))}getAttribute(k){if("style"===k)return null!=this.__style&&this.__style.length>0?this.style.cssText:null;const ne=this.attributes.getNamedItem(k);return null!=ne?ne.value:null}getAttributeNS(k,ne){const Te=this.attributes.getNamedItemNS(k,ne);return null!=Te?Te.value:null}getAttributeNode(k){return this.hasAttribute(k)?new L(k,this.getAttribute(k)):null}getBoundingClientRect(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}getRootNode(k){const ne=null!=k&&!0===k.composed;let Te=this;for(;null!=Te.parentNode;)Te=Te.parentNode,!0===ne&&null==Te.parentNode&&null!=Te.host&&(Te=Te.host);return Te}get draggable(){return"true"===this.getAttributeNS(null,"draggable")}set draggable(k){this.setAttributeNS(null,"draggable",k)}hasChildNodes(){return this.childNodes.length>0}get id(){return this.getAttributeNS(null,"id")||""}set id(k){this.setAttributeNS(null,"id",k)}get innerHTML(){return 0===this.childNodes.length?"":He(this,{newLines:!1,indentSpaces:0})}set innerHTML(k){var ne;if(!0===mn.has(null!=(ne=this.nodeName)?ne:""))gs(this,k);else{for(let Te=this.childNodes.length-1;Te>=0;Te--)this.removeChild(this.childNodes[Te]);if("string"==typeof k){const Te=rt(this.ownerDocument,k);for(;Te.childNodes.length>0;)this.appendChild(Te.childNodes[0])}}}get innerText(){const k=[];return Hn(this.childNodes,k),k.join("")}set innerText(k){gs(this,k)}insertAdjacentElement(k,ne){return"beforebegin"===k?tr(this.parentNode,ne,this):"afterbegin"===k?this.prepend(ne):"beforeend"===k?this.appendChild(ne):"afterend"===k&&tr(this.parentNode,ne,this.nextSibling),ne}insertAdjacentHTML(k,ne){const Te=rt(this.ownerDocument,ne);if("beforebegin"===k)for(;Te.childNodes.length>0;)tr(this.parentNode,Te.childNodes[0],this);else if("afterbegin"===k)for(;Te.childNodes.length>0;)this.prepend(Te.childNodes[Te.childNodes.length-1]);else if("beforeend"===k)for(;Te.childNodes.length>0;)this.appendChild(Te.childNodes[0]);else if("afterend"===k)for(;Te.childNodes.length>0;)tr(this.parentNode,Te.childNodes[Te.childNodes.length-1],this.nextSibling)}insertAdjacentText(k,ne){const Te=this.ownerDocument.createTextNode(ne);"beforebegin"===k?tr(this.parentNode,Te,this):"afterbegin"===k?this.prepend(Te):"beforeend"===k?this.appendChild(Te):"afterend"===k&&tr(this.parentNode,Te,this.nextSibling)}hasAttribute(k){return"style"===k?null!=this.__style&&this.__style.length>0:null!==this.getAttribute(k)}hasAttributeNS(k,ne){return null!==this.getAttributeNS(k,ne)}get hidden(){return this.hasAttributeNS(null,"hidden")}set hidden(k){!0===k?this.setAttributeNS(null,"hidden",""):this.removeAttributeNS(null,"hidden")}get lang(){return this.getAttributeNS(null,"lang")||""}set lang(k){this.setAttributeNS(null,"lang",k)}get lastElementChild(){const k=this.children;return k[k.length-1]||null}matches(k){return function tt(k,ne){try{return _t.find(k,void 0,void 0,[ne]).length>0}catch(Te){throw Ze(k,Te),Te}}(k,this)}get nextElementSibling(){const k=this.parentElement;if(null!=k&&(1===k.nodeType||11===k.nodeType||9===k.nodeType)){const Te=k.children.indexOf(this)+1;return k.children[Te]||null}return null}get outerHTML(){return He(this,{newLines:!1,outerHtml:!0,indentSpaces:0})}get previousElementSibling(){const k=this.parentElement;if(null!=k&&(1===k.nodeType||11===k.nodeType||9===k.nodeType)){const Te=k.children.indexOf(this)-1;return k.children[Te]||null}return null}getElementsByClassName(k){const Te=[];return ir(this,k.trim().split(" ").filter(Me=>Me.length>0),Te),Te}getElementsByTagName(k){const ne=[];return wn(this,k.toLowerCase(),ne),ne}querySelector(k){return function qe(k,ne){try{return _t.find(k,ne,void 0,void 0)[0]||null}catch(Te){throw Ze(k,Te),Te}}(k,this)}querySelectorAll(k){return function xe(k,ne){try{return _t.find(k,ne,void 0,void 0)}catch(Te){throw Ze(k,Te),Te}}(k,this)}removeAttribute(k){if("style"===k)delete this.__style;else{const ne=this.attributes.getNamedItem(k);null!=ne&&(this.attributes.removeNamedItemNS(ne),!0===ye(this)&&ie(this,k,ne.value,null))}}removeAttributeNS(k,ne){const Te=this.attributes.getNamedItemNS(k,ne);null!=Te&&(this.attributes.removeNamedItemNS(Te),!0===ye(this)&&ie(this,ne,Te.value,null))}removeEventListener(k,ne){Oe(this,k,ne)}setAttribute(k,ne){if("style"===k)this.style=ne;else{const Te=this.attributes;let Me=Te.getNamedItem(k);const it=ye(this);if(null!=Me)if(!0===it){const ct=Me.value;Me.value=ne,ct!==Me.value&&ie(this,Me.name,ct,Me.value)}else Me.value=ne;else Te.caseInsensitive&&(k=k.toLowerCase()),Me=new L(k,ne),Te.__items.push(Me),!0===it&&ie(this,k,null,Me.value)}}setAttributeNS(k,ne,Te){const Me=this.attributes;let it=Me.getNamedItemNS(k,ne);const ct=ye(this);if(null!=it)if(!0===ct){const Tt=it.value;it.value=Te,Tt!==it.value&&ie(this,it.name,Tt,it.value)}else it.value=Te;else it=new L(ne,Te,k),Me.__items.push(it),!0===ct&&ie(this,ne,null,it.value)}get style(){return null==this.__style&&(this.__style=K()),this.__style}set style(k){"string"==typeof k?(null==this.__style&&(this.__style=K()),this.__style.cssText=k):this.__style=k}get tabIndex(){return parseInt(this.getAttributeNS(null,"tabindex")||"-1",10)}set tabIndex(k){this.setAttributeNS(null,"tabindex",k)}get tagName(){var k;return null!=(k=this.nodeName)?k:""}set tagName(k){this.nodeName=k}get textContent(){const k=[];return Hn(this.childNodes,k),k.join("")}set textContent(k){gs(this,k)}get title(){return this.getAttributeNS(null,"title")||""}set title(k){this.setAttributeNS(null,"title",k)}animate(){}onanimationstart(){}onanimationend(){}onanimationiteration(){}onabort(){}onauxclick(){}onbeforecopy(){}onbeforecut(){}onbeforepaste(){}onblur(){}oncancel(){}oncanplay(){}oncanplaythrough(){}onchange(){}onclick(){}onclose(){}oncontextmenu(){}oncopy(){}oncuechange(){}oncut(){}ondblclick(){}ondrag(){}ondragend(){}ondragenter(){}ondragleave(){}ondragover(){}ondragstart(){}ondrop(){}ondurationchange(){}onemptied(){}onended(){}onerror(){}onfocus(){}onfocusin(){}onfocusout(){}onformdata(){}onfullscreenchange(){}onfullscreenerror(){}ongotpointercapture(){}oninput(){}oninvalid(){}onkeydown(){}onkeypress(){}onkeyup(){}onload(){}onloadeddata(){}onloadedmetadata(){}onloadstart(){}onlostpointercapture(){}onmousedown(){}onmouseenter(){}onmouseleave(){}onmousemove(){}onmouseout(){}onmouseover(){}onmouseup(){}onmousewheel(){}onpaste(){}onpause(){}onplay(){}onplaying(){}onpointercancel(){}onpointerdown(){}onpointerenter(){}onpointerleave(){}onpointermove(){}onpointerout(){}onpointerover(){}onpointerup(){}onprogress(){}onratechange(){}onreset(){}onresize(){}onscroll(){}onsearch(){}onseeked(){}onseeking(){}onselect(){}onselectstart(){}onstalled(){}onsubmit(){}onsuspend(){}ontimeupdate(){}ontoggle(){}onvolumechange(){}onwaiting(){}onwebkitfullscreenchange(){}onwebkitfullscreenerror(){}onwheel(){}requestFullscreen(){}scrollBy(){}scrollTo(){}scrollIntoView(){}toString(k){return He(this,k)}};function ir(k,ne,Te){const Me=k.children;for(let it=0,ct=Me.length;it<ct;it++){const Tt=Me[it];for(let Nt=0,Bt=ne.length;Nt<Bt;Nt++)Tt.classList.contains(ne[Nt])&&Te.push(Tt);ir(Tt,ne,Te)}}function wn(k,ne,Te){var Me;const it=k.children;for(let ct=0,Tt=it.length;ct<Tt;ct++){const Nt=it[ct];("*"===ne||(null!=(Me=Nt.nodeName)?Me:"").toLowerCase()===ne)&&Te.push(Nt),wn(Nt,ne,Te)}}function Er(k){_e(k),delete k.__attributeMap,delete k.__shadowRoot,delete k.__style}function tr(k,ne,Te){if(ne!==Te){if(ne.remove(),ne.parentNode=k,ne.ownerDocument=k.ownerDocument,null!=Te){const Me=k.childNodes.indexOf(Te);if(!(Me>-1))throw new Error("referenceNode not found in parentNode.childNodes");k.childNodes.splice(Me,0,ne)}else k.childNodes.push(ne);ve(k.ownerDocument,ne)}return ne}var jn=class extends fr{constructor(k,ne){super(k,"string"==typeof ne?ne.toUpperCase():null),this.__namespaceURI="http://www.w3.org/1999/xhtml"}get tagName(){var k;return null!=(k=this.nodeName)?k:""}set tagName(k){this.nodeName=k}get parentElement(){return"HTML"===this.nodeName?null:super.parentElement}get attributes(){if(null==this.__attributeMap){const k=O(!0);return this.__attributeMap=k,k}return this.__attributeMap}set attributes(k){this.__attributeMap=k}},xs=class xR extends Un{constructor(ne,Te){super(ne,3,"#text",Te)}cloneNode(ne){return new xR(null,this.nodeValue)}get textContent(){return this.nodeValue}set textContent(ne){this.nodeValue=ne}get data(){return this.nodeValue}set data(ne){this.nodeValue=ne}get wholeText(){if(null!=this.parentNode){const ne=[];for(let Te=0,Me=this.parentNode.childNodes.length;Te<Me;Te++){const it=this.parentNode.childNodes[Te];3===it.nodeType&&ne.push(it.nodeValue)}return ne.join("")}return this.nodeValue}};function Hn(k,ne){for(let Te=0,Me=k.length;Te<Me;Te++){const it=k[Te];3===it.nodeType?ne.push(it.nodeValue):1===it.nodeType&&Hn(it.childNodes,ne)}}function gs(k,ne){for(let Me=k.childNodes.length-1;Me>=0;Me--)k.removeChild(k.childNodes[Me]);const Te=new xs(k.ownerDocument,ne);k.appendChild(Te)}var ys=class NR extends Un{constructor(ne,Te){super(ne,8,"#comment",Te)}cloneNode(ne){return new NR(null,this.nodeValue)}get textContent(){return this.nodeValue}set textContent(ne){this.nodeValue=ne}},on=class BR extends jn{constructor(ne){super(ne,null),this.nodeName="#document-fragment",this.nodeType=11}getElementById(ne){return Yl(this,ne)}cloneNode(ne){const Te=new BR(null);if(ne)for(let Me=0,it=this.childNodes.length;Me<it;Me++){const ct=this.childNodes[Me];if(1===ct.nodeType||3===ct.nodeType||8===ct.nodeType){const Tt=this.childNodes[Me].cloneNode(!0);Te.appendChild(Tt)}}return Te}},zr=class extends jn{constructor(k){super(k,"!DOCTYPE"),this.nodeType=10,this.setAttribute("html","")}},En=class{constructor(k){this.parentStyleSheet=k,this.cssText="",this.type=0}},zn=class{constructor(k){this.type="text/css",this.parentStyleSheet=null,this.cssRules=[],this.ownerNode=k}get rules(){return this.cssRules}set rules(k){this.cssRules=k}deleteRule(k){k>=0&&k<this.cssRules.length&&(this.cssRules.splice(k,1),mt(this.ownerNode))}insertRule(k,ne=0){"number"!=typeof ne&&(ne=0),ne<0&&(ne=0),ne>this.cssRules.length&&(ne=this.cssRules.length);const Te=new En(this);return Te.cssText=k,this.cssRules.splice(ne,0,Te),mt(this.ownerNode),ne}};function gt(k){const ne=[];for(let Te=0;Te<k.childNodes.length;Te++)ne.push(k.childNodes[Te].nodeValue);return ne.join("")}function je(k,ne){const Te=k.sheet;Te.cssRules.length=0,Te.insertRule(ne),mt(k)}function mt(k){const ne=k.childNodes.length;if(ne>1)for(let Me=ne-1;Me>=1;Me--)k.removeChild(k.childNodes[Me]);else ne<1&&k.appendChild(k.ownerDocument.createTextNode(""));k.childNodes[0].nodeValue=k.sheet.cssRules.map(Me=>Me.cssText).join("\n")}function st(k,ne){if("string"!=typeof ne||""===ne||!/^[a-z0-9-_:]+$/i.test(ne))throw new Error(`The tag name provided (${ne}) is not a valid name.`);switch(ne=ne.toLowerCase()){case"a":return new $t(k);case"base":return new _n(k);case"button":return new ln(k);case"canvas":return new lo(k);case"form":return new yr(k);case"img":return new Rn(k);case"input":return new Cr(k);case"link":return new Fe(k);case"meta":return new At(k);case"script":return new Ct(k);case"style":return new zt(k);case"template":return new as(k);case"title":return new Lr(k);case"ul":return new Zs(k)}if(null!=k&&ne.includes("-")){const Te=k.defaultView;if(null!=Te&&null!=Te.customElements)return pe(Te.customElements,k,ne)}return new jn(k,ne)}var $t=class extends jn{constructor(k){super(k,"a")}get href(){return _s(this,"href")}set href(k){this.setAttribute("href",k)}get pathname(){return new URL(this.href).pathname}},ln=class extends jn{constructor(k){super(k,"button")}};eo(ln.prototype,{type:String},{type:"submit"});var Rn=class extends jn{constructor(k){super(k,"img")}get draggable(){return"false"!==this.getAttributeNS(null,"draggable")}set draggable(k){this.setAttributeNS(null,"draggable",k)}get src(){return _s(this,"src")}set src(k){this.setAttribute("src",k)}};eo(Rn.prototype,{height:Number,width:Number});var Cr=class extends jn{constructor(k){super(k,"input")}get list(){const k=this.getAttribute("list");return k?this.ownerDocument.getElementById(k):null}};eo(Cr.prototype,{accept:String,autocomplete:String,autofocus:Boolean,capture:String,checked:Boolean,disabled:Boolean,form:String,formaction:String,formenctype:String,formmethod:String,formnovalidate:String,formtarget:String,height:Number,inputmode:String,max:String,maxLength:Number,min:String,minLength:Number,multiple:Boolean,name:String,pattern:String,placeholder:String,required:Boolean,readOnly:Boolean,size:Number,spellCheck:Boolean,src:String,step:String,type:String,value:String,width:Number},{type:"text"});var yr=class extends jn{constructor(k){super(k,"form")}};eo(yr.prototype,{name:String});var Fe=class extends jn{constructor(k){super(k,"link")}get href(){return _s(this,"href")}set href(k){this.setAttribute("href",k)}};eo(Fe.prototype,{crossorigin:String,media:String,rel:String,type:String});var At=class extends jn{constructor(k){super(k,"meta")}};eo(At.prototype,{charset:String,content:String,name:String});var Ct=class extends jn{constructor(k){super(k,"script")}get src(){return _s(this,"src")}set src(k){this.setAttribute("src",k)}};eo(Ct.prototype,{type:String});var kt,ot=class Vi{constructor(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,this.is2D=!0,this.isIdentity=!0}static fromMatrix(){return new Vi}inverse(){return new Vi}flipX(){return new Vi}flipY(){return new Vi}multiply(){return new Vi}rotate(){return new Vi}rotateAxisAngle(){return new Vi}rotateFromVector(){return new Vi}scale(){return new Vi}scaleNonUniform(){return new Vi}skewX(){return new Vi}skewY(){return new Vi}toJSON(){}toString(){}transformPoint(){return new pt}translate(){return new Vi}},pt=class{constructor(){this.w=1,this.x=0,this.y=0,this.z=0}toJSON(){}matrixTransform(){return new ot}},Pt=class{constructor(){this.height=10,this.width=10,this.x=0,this.y=0}},zt=class extends jn{constructor(k){super(k,"style"),this.sheet=new zn(this)}get innerHTML(){return gt(this)}set innerHTML(k){je(this,k)}get innerText(){return gt(this)}set innerText(k){je(this,k)}get textContent(){return gt(this)}set textContent(k){je(this,k)}},gn=class extends fr{constructor(){super(...arguments),this.__namespaceURI="http://www.w3.org/2000/svg"}get ownerSVGElement(){return null}get viewportElement(){return null}onunload(){}get pathLength(){return 0}isPointInFill(k){return!1}isPointInStroke(k){return!1}getTotalLength(){return 0}},yn=class extends gn{getBBox(k){return new Pt}getCTM(){return new ot}getScreenCTM(){return new ot}},Tr=class extends yn{createSVGPoint(){return new pt}},Or=class extends yn{getComputedTextLength(){return 0}},_n=class extends jn{constructor(k){super(k,"base")}get href(){return _s(this,"href")}set href(k){this.setAttribute("href",k)}},as=class FR extends jn{constructor(ne){super(ne,"template"),this.content=new on(ne)}get innerHTML(){return this.content.innerHTML}set innerHTML(ne){this.content.innerHTML=ne}cloneNode(ne){const Te=new FR(null);Te.attributes=J(this.attributes);const Me=this.getAttribute("style");if(null!=Me&&Me.length>0&&Te.setAttribute("style",Me),Te.content=this.content.cloneNode(ne),ne)for(let it=0,ct=this.childNodes.length;it<ct;it++){const Tt=this.childNodes[it].cloneNode(!0);Te.appendChild(Tt)}return Te}},Lr=class extends jn{constructor(k){super(k,"title")}get text(){return this.textContent}set text(k){this.textContent=k}},Zs=class extends jn{constructor(k){super(k,"ul")}},lo=class extends jn{constructor(k){super(k,"canvas")}getContext(){return{fillRect(){},clearRect(){},getImageData:function(k,ne,Te,Me){return{data:new Array(Te*Me*4)}},putImageData(){},createImageData:function(){return[]},setTransform(){},drawImage(){},save(){},fillText(){},restore(){},beginPath(){},moveTo(){},lineTo(){},closePath(){},stroke(){},translate(){},scale(){},rotate(){},arc(){},fill(){},measureText:()=>({width:0}),transform(){},rect(){},clip(){}}}};function _s(k,ne){const Te=k.getAttribute(ne)||"";if(null!=k.ownerDocument){const Me=k.ownerDocument.defaultView;if(null!=Me){const it=Me.location;if(null!=it)try{return new URL(Te,it.href).href}catch{}}}return Te.replace(/\'|\"/g,"").trim()}function eo(k,ne,Te={}){Object.keys(ne).forEach(Me=>{const it=ne[Me],ct=Te[Me];it===Boolean?Object.defineProperty(k,Me,{get(){return this.hasAttribute(Me)},set(Tt){Tt?this.setAttribute(Me,""):this.removeAttribute(Me)}}):Object.defineProperty(k,Me,it===Number?{get(){const Tt=this.getAttribute(Me);return Tt?parseInt(Tt,10):void 0===ct?0:ct},set(Tt){this.setAttribute(Me,Tt)}}:{get(){return this.hasAttribute(Me)?this.getAttribute(Me):ct||""},set(Tt){this.setAttribute(Me,Tt)}})})}fr.prototype.cloneNode=function(k){const ne=st(this.ownerDocument,this.nodeName);ne.attributes=J(this.attributes);const Te=this.getAttribute("style");if(null!=Te&&Te.length>0&&ne.setAttribute("style",Te),k)for(let Me=0,it=this.childNodes.length;Me<it;Me++){const ct=this.childNodes[Me].cloneNode(!0);ne.appendChild(ct)}return ne};var Yn=()=>{},bn=class{constructor(k){if(this._values=[],"object"==typeof k)if("function"==typeof k[Symbol.iterator]){const ne=[];for(const Te of k)"function"==typeof Te[Symbol.iterator]&&ne.push([...Te]);for(const Te of ne)this.append(Te[0],Te[1])}else for(const ne in k)this.append(ne,k[ne])}append(k,ne){this._values.push([k,ne+""])}delete(k){k=k.toLowerCase();for(let ne=this._values.length-1;ne>=0;ne--)this._values[ne][0].toLowerCase()===k&&this._values.splice(ne,1)}entries(){const k=[];for(const Te of this.keys())k.push([Te,this.get(Te)]);let ne=-1;return{next:()=>(ne++,{value:k[ne],done:!k[ne]}),[Symbol.iterator](){return this}}}forEach(k){for(const ne of this.entries())k(ne[1],ne[0])}get(k){const ne=[];k=k.toLowerCase();for(const Te of this._values)Te[0].toLowerCase()===k&&ne.push(Te[1]);return ne.length>0?ne.join(", "):null}has(k){k=k.toLowerCase();for(const ne of this._values)if(ne[0].toLowerCase()===k)return!0;return!1}keys(){const k=[];for(const Te of this._values){const Me=Te[0].toLowerCase();k.includes(Me)||k.push(Me)}let ne=-1;return{next:()=>(ne++,{value:k[ne],done:!k[ne]}),[Symbol.iterator](){return this}}}set(k,ne){for(const Te of this._values)if(Te[0].toLowerCase()===k.toLowerCase())return void(Te[1]=ne+"");this.append(k,ne)}values(){const k=this._values;let ne=-1;return{next(){ne++;const Te=!k[ne];return{value:Te?void 0:k[ne][1],done:Te}},[Symbol.iterator](){return this}}}[Symbol.iterator](){return this.entries()}},Jn=[["CustomEvent",class extends le{constructor(k,ne){super(k),this.detail=null,null!=ne&&Object.assign(this,ne)}}],["Event",le],["Headers",bn],["FocusEvent",X],["KeyboardEvent",class extends le{constructor(k,ne){super(k),this.code="",this.key="",this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.location=0,this.repeat=!1,null!=ne&&Object.assign(this,ne)}}],["MouseEvent",class extends le{constructor(k,ne){super(k),this.screenX=0,this.screenY=0,this.clientX=0,this.clientY=0,this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,this.button=0,this.buttons=0,this.relatedTarget=null,null!=ne&&Object.assign(this,ne)}}],["Request",class UR{constructor(ne,Te={}){this._method="GET",this._url="/",this.bodyUsed=!1,this.cache="default",this.credentials="same-origin",this.integrity="",this.keepalive=!1,this.mode="cors",this.redirect="follow",this.referrer="about:client",this.referrerPolicy="","string"==typeof ne?this.url=ne:ne&&(Object.assign(this,ne),this.headers=new bn(ne.headers)),Object.assign(this,Te),Te.headers&&(this.headers=new bn(Te.headers)),this.headers||(this.headers=new bn)}get url(){return"string"==typeof this._url?new URL(this._url,location.href).href:new URL("/",location.href).href}set url(ne){this._url=ne}get method(){return"string"==typeof this._method?this._method.toUpperCase():"GET"}set method(ne){this._method=ne}clone(){const ne={...this};return ne.headers=new bn(this.headers),new UR(ne)}}],["Response",class jR{constructor(ne,Te={}){this.ok=!0,this.status=200,this.statusText="",this.type="default",this.url="",this._body=ne,Te&&Object.assign(this,Te),this.headers=new bn(Te.headers)}json(){var ne=this;return(0,E.A)(function*(){return JSON.parse(ne._body)})()}text(){var ne=this;return(0,E.A)(function*(){return ne._body})()}clone(){const ne={...this};return ne.headers=new bn(this.headers),new jR(this._body,ne)}}],["DOMParser",class{parseFromString(k,ne){return"text/html"!==ne&&console.error("XML parsing not implemented yet, continuing as html"),function kr(k,ne=null){return null==ne&&(null==kt&&(kt=new cr),ne=kt),Ye(ne,k)}(k)}}],["HTMLAnchorElement",$t],["HTMLBaseElement",_n],["HTMLButtonElement",ln],["HTMLCanvasElement",lo],["HTMLFormElement",yr],["HTMLImageElement",Rn],["HTMLInputElement",Cr],["HTMLLinkElement",Fe],["HTMLMetaElement",At],["HTMLScriptElement",Ct],["HTMLStyleElement",zt],["HTMLTemplateElement",as],["HTMLTitleElement",Lr],["HTMLUListElement",Zs]],Vc=class{constructor(){this.items=[]}get length(){return this.items.length}back(){this.go(-1)}forward(){this.go(1)}go(k){}pushState(k,ne,Te){}replaceState(k,ne,Te){}},Hl=class{constructor(){}disconnect(){}observe(){}takeRecords(){return[]}unobserve(){}},Ki=class{constructor(){this.ancestorOrigins=null,this.protocol="",this.host="",this.hostname="",this.port="",this.pathname="",this.search="",this.hash="",this.username="",this.password="",this.origin="",this._href=""}get href(){return this._href}set href(k){const ne=new URL(k,"http://mockdoc.stenciljs.com");this._href=ne.href,this.protocol=ne.protocol,this.host=ne.host,this.hostname=ne.hostname,this.port=ne.port,this.pathname=ne.pathname,this.search=ne.search,this.hash=ne.hash,this.username=ne.username,this.password=ne.password,this.origin=ne.origin}assign(k){}reload(k){}replace(k){}toString(){return this.href}},Zc=class{constructor(){this.appCodeName="MockNavigator",this.appName="MockNavigator",this.appVersion="MockNavigator",this.platform="MockNavigator",this.userAgent="MockNavigator"}},sl=class{constructor(){this.timeOrigin=Date.now(),this.eventCounts=new Map}addEventListener(){}clearMarks(){}clearMeasures(){}clearResourceTimings(){}dispatchEvent(){return!0}getEntries(){return[]}getEntriesByName(){return[]}getEntriesByType(){return[]}mark(){}measure(){}get navigation(){return{}}now(){return Date.now()-this.timeOrigin}get onresourcetimingbufferfull(){return null}removeEventListener(){}setResourceTimingBufferSize(){}get timing(){return{}}toJSON(){}},ol=class{constructor(){this.items=new Map}key(k){}getItem(k){return k=String(k),this.items.has(k)?this.items.get(k):null}setItem(k,ne){null==ne&&(ne="null"),this.items.set(String(k),String(ne))}removeItem(k){this.items.delete(String(k))}clear(){this.items.clear()}},Hi=clearInterval,il=clearTimeout,to=setInterval,ju=setTimeout,xn=URL;function Ns(k){k.__clearInterval=Hi,k.__clearTimeout=il,k.__setInterval=to,k.__setTimeout=ju,k.__maxTimeout=3e4,k.__allowInterval=!0,k.URL=xn}function dn(k){try{k.devicePixelRatio=1,k.innerHeight=768,k.innerWidth=1366,k.pageXOffset=0,k.pageYOffset=0,k.screenLeft=0,k.screenTop=0,k.screenX=0,k.screenY=0,k.scrollX=0,k.scrollY=0,k.screen={availHeight:k.innerHeight,availLeft:0,availTop:0,availWidth:k.innerWidth,colorDepth:24,height:k.innerHeight,keepAwake:!1,orientation:{angle:0,type:"portrait-primary"},pixelDepth:24,width:k.innerWidth}}catch{}}!function Uu(k){Jn.forEach(([ne,Te])=>{Object.defineProperty(k,ne,{get(){return this["__"+ne]||Te},set(Me){this["__"+ne]=Me},configurable:!0,enumerable:!0})})}(class{constructor(k=null){this.document=!1!==k?new cr(k,this):null,this.performance=new sl,this.customElements=new te(this),this.console=function oa(){return{debug:Yn,error:Yn,info:Yn,log:Yn,warn:Yn,dir:Yn,dirxml:Yn,table:Yn,trace:Yn,group:Yn,groupCollapsed:Yn,groupEnd:Yn,clear:Yn,count:Yn,countReset:Yn,assert:Yn,profile:Yn,profileEnd:Yn,time:Yn,timeLog:Yn,timeEnd:Yn,timeStamp:Yn,context:Yn,memory:Yn}}(),Ns(this),dn(this)}addEventListener(k,ne){Le(this,k,ne)}alert(k){this.console?this.console.debug(k):console.debug(k)}blur(){}cancelAnimationFrame(k){this.__clearTimeout(k)}cancelIdleCallback(k){this.__clearTimeout(k)}get CharacterData(){if(null==this.__charDataCstr){const k=this.document;this.__charDataCstr=class extends Un{constructor(){throw super(k,0,"test",""),new Error("Illegal constructor: cannot construct CharacterData")}}}return this.__charDataCstr}set CharacterData(k){this.__charDataCstr=k}clearInterval(k){this.__clearInterval(k)}clearTimeout(k){this.__clearTimeout(k)}close(){!function Xt(k){if(null!=k){k.__timeouts&&(k.__timeouts.forEach(ne=>{Hi(ne),il(ne)}),k.__timeouts.clear()),k.customElements&&k.customElements.clear&&k.customElements.clear(),function Co(k){if(null!=k){_e(k);const ne=k.documentElement;if(null!=ne){Er(ne);for(let Te=0,Me=ne.childNodes.length;Te<Me;Te++){const it=ne.childNodes[Te];Er(it),it.childNodes.length=0}}for(const Te in k)k.hasOwnProperty(Te)&&!Si.has(Te)&&delete k[Te];try{k.nodeName="#document"}catch{}try{k.nodeType=9}catch{}try{k.cookie=""}catch{}try{k.referrer=""}catch{}}}(k.document),function Hs(k){if(null!=k)try{k.timeOrigin=Date.now()}catch{}}(k.performance);for(const ne in k)k.hasOwnProperty(ne)&&"document"!==ne&&"performance"!==ne&&"customElements"!==ne&&delete k[ne];if(Ns(k),dn(k),_e(k),null!=k.document)try{k.document.defaultView=k}catch{}k.fetch=null,k.Headers=null,k.Request=null,k.Response=null,k.FetchError=null}}(this)}confirm(){return!1}get CSS(){return{supports:()=>!0}}get Document(){if(null==this.__docCstr){const k=this;this.__docCstr=class extends cr{constructor(){throw super(!1,k),new Error("Illegal constructor: cannot construct Document")}}}return this.__docCstr}set Document(k){this.__docCstr=k}get DocumentFragment(){if(null==this.__docFragCstr){const k=this.document;this.__docFragCstr=class extends on{constructor(){throw super(k),new Error("Illegal constructor: cannot construct DocumentFragment")}}}return this.__docFragCstr}set DocumentFragment(k){this.__docFragCstr=k}get DocumentType(){if(null==this.__docTypeCstr){const k=this.document;this.__docTypeCstr=class extends Un{constructor(){throw super(k,0,"test",""),new Error("Illegal constructor: cannot construct DocumentType")}}}return this.__docTypeCstr}set DocumentType(k){this.__docTypeCstr=k}get DOMTokenList(){return null==this.__domTokenListCstr&&(this.__domTokenListCstr=class{}),this.__domTokenListCstr}set DOMTokenList(k){this.__domTokenListCstr=k}dispatchEvent(k){return ke(this,k)}get Element(){if(null==this.__elementCstr){const k=this.document;this.__elementCstr=class extends fr{constructor(){throw super(k,""),new Error("Illegal constructor: cannot construct Element")}}}return this.__elementCstr}fetch(k,ne){if("function"==typeof fetch)return fetch(k,ne);throw new Error("fetch() not implemented")}focus(){}getComputedStyle(k){return{cssText:"",length:0,parentRule:null,getPropertyPriority:()=>null,getPropertyValue:()=>"",item:()=>null,removeProperty:()=>null,setProperty:()=>null}}get globalThis(){return this}get history(){return null==this.__history&&(this.__history=new Vc),this.__history}set history(k){this.__history=k}get JSON(){return JSON}get HTMLElement(){if(null==this.__htmlElementCstr){const k=this.document;this.__htmlElementCstr=class extends jn{constructor(){super(k,"");const ne=this.constructor.observedAttributes;Array.isArray(ne)&&"function"==typeof this.attributeChangedCallback&&ne.forEach(Te=>{const Me=this.getAttribute(Te);null!=Me&&this.attributeChangedCallback(Te,null,Me)})}}}return this.__htmlElementCstr}set HTMLElement(k){this.__htmlElementCstr=k}get IntersectionObserver(){return Hl}get localStorage(){return null==this.__localStorage&&(this.__localStorage=new ol),this.__localStorage}set localStorage(k){this.__localStorage=k}get location(){return null==this.__location&&(this.__location=new Ki),this.__location}set location(k){"string"==typeof k?(null==this.__location&&(this.__location=new Ki),this.__location.href=k):this.__location=k}matchMedia(k){return{media:k,matches:!1,addListener:ne=>{},removeListener:ne=>{},addEventListener:(ne,Te)=>{},removeEventListener:(ne,Te)=>{},dispatchEvent:ne=>{},onchange:null}}get Node(){if(null==this.__nodeCstr){const k=this.document;this.__nodeCstr=class extends Un{constructor(){throw super(k,0,"test",""),new Error("Illegal constructor: cannot construct Node")}}}return this.__nodeCstr}get NodeList(){if(null==this.__nodeListCstr){const k=this.document;this.__nodeListCstr=class extends ur{constructor(){throw super(k,[],0),new Error("Illegal constructor: cannot construct NodeList")}}}return this.__nodeListCstr}get navigator(){return null==this.__navigator&&(this.__navigator=new Zc),this.__navigator}set navigator(k){this.__navigator=k}get parent(){return null}prompt(){return""}open(){return null}get origin(){return this.location.origin}removeEventListener(k,ne){Oe(this,k,ne)}requestAnimationFrame(k){return this.setTimeout(()=>{k(Date.now())},0)}requestIdleCallback(k){return this.setTimeout(()=>{k({didTimeout:!1,timeRemaining:()=>0})},0)}scroll(k,ne){}scrollBy(k,ne){}scrollTo(k,ne){}get self(){return this}get sessionStorage(){return null==this.__sessionStorage&&(this.__sessionStorage=new ol),this.__sessionStorage}set sessionStorage(k){this.__sessionStorage=k}setInterval(k,ne,...Te){if(null==this.__timeouts&&(this.__timeouts=new Set),ne=Math.min(ne,this.__maxTimeout),this.__allowInterval){const it=this.__setInterval(()=>{if(this.__timeouts){this.__timeouts.delete(it);try{k(...Te)}catch(ct){this.console?this.console.error(ct):console.error(ct)}}},ne);return this.__timeouts&&this.__timeouts.add(it),it}const Me=this.__setTimeout(()=>{if(this.__timeouts){this.__timeouts.delete(Me);try{k(...Te)}catch(it){this.console?this.console.error(it):console.error(it)}}},ne);return this.__timeouts&&this.__timeouts.add(Me),Me}setTimeout(k,ne,...Te){null==this.__timeouts&&(this.__timeouts=new Set),ne=Math.min(ne,this.__maxTimeout);const Me=this.__setTimeout(()=>{if(this.__timeouts){this.__timeouts.delete(Me);try{k(...Te)}catch(it){this.console?this.console.error(it):console.error(it)}}},ne);return this.__timeouts&&this.__timeouts.add(Me),Me}get top(){return this}get window(){return this}onanimationstart(){}onanimationend(){}onanimationiteration(){}onabort(){}onauxclick(){}onbeforecopy(){}onbeforecut(){}onbeforepaste(){}onblur(){}oncancel(){}oncanplay(){}oncanplaythrough(){}onchange(){}onclick(){}onclose(){}oncontextmenu(){}oncopy(){}oncuechange(){}oncut(){}ondblclick(){}ondrag(){}ondragend(){}ondragenter(){}ondragleave(){}ondragover(){}ondragstart(){}ondrop(){}ondurationchange(){}onemptied(){}onended(){}onerror(){}onfocus(){}onfocusin(){}onfocusout(){}onformdata(){}onfullscreenchange(){}onfullscreenerror(){}ongotpointercapture(){}oninput(){}oninvalid(){}onkeydown(){}onkeypress(){}onkeyup(){}onload(){}onloadeddata(){}onloadedmetadata(){}onloadstart(){}onlostpointercapture(){}onmousedown(){}onmouseenter(){}onmouseleave(){}onmousemove(){}onmouseout(){}onmouseover(){}onmouseup(){}onmousewheel(){}onpaste(){}onpause(){}onplay(){}onplaying(){}onpointercancel(){}onpointerdown(){}onpointerenter(){}onpointerleave(){}onpointermove(){}onpointerout(){}onpointerover(){}onpointerup(){}onprogress(){}onratechange(){}onreset(){}onresize(){}onscroll(){}onsearch(){}onseeked(){}onseeking(){}onselect(){}onselectstart(){}onstalled(){}onsubmit(){}onsuspend(){}ontimeupdate(){}ontoggle(){}onvolumechange(){}onwaiting(){}onwebkitfullscreenchange(){}onwebkitfullscreenerror(){}onwheel(){}}.prototype);var cr=class kR extends jn{constructor(ne=null,Te=null){if(super(null,null),this.nodeName="#document",this.nodeType=9,this.defaultView=Te,this.cookie="",this.referrer="",this.appendChild(this.createDocumentTypeNode()),"string"==typeof ne){const it=Ye(this,ne).children.find(ct=>"HTML"===ct.nodeName);null!=it&&(this.appendChild(it),wa(it,this))}else if(!1!==ne){const Me=new jn(this,"html");this.appendChild(Me),Me.appendChild(new jn(this,"head")),Me.appendChild(new jn(this,"body"))}}get dir(){return this.documentElement.dir}set dir(ne){this.documentElement.dir=ne}get localName(){throw new Error("Unimplemented")}get location(){return null!=this.defaultView?this.defaultView.location:null}set location(ne){null!=this.defaultView&&(this.defaultView.location=ne)}get baseURI(){const ne=this.head.childNodes.find(Te=>"BASE"===Te.nodeName);return ne?ne.href:this.URL}get URL(){return this.location.href}get styleSheets(){return this.querySelectorAll("style")}get scripts(){return this.querySelectorAll("script")}get forms(){return this.querySelectorAll("form")}get images(){return this.querySelectorAll("img")}get scrollingElement(){return this.documentElement}get documentElement(){for(let Te=this.childNodes.length-1;Te>=0;Te--)if("HTML"===this.childNodes[Te].nodeName)return this.childNodes[Te];const ne=new jn(this,"html");return this.appendChild(ne),ne}set documentElement(ne){for(let Te=this.childNodes.length-1;Te>=0;Te--)10!==this.childNodes[Te].nodeType&&this.childNodes[Te].remove();null!=ne&&(this.appendChild(ne),wa(ne,this))}get head(){const ne=this.documentElement;for(let Me=0;Me<ne.childNodes.length;Me++)if("HEAD"===ne.childNodes[Me].nodeName)return ne.childNodes[Me];const Te=new jn(this,"head");return ne.insertBefore(Te,ne.firstChild),Te}set head(ne){const Te=this.documentElement;for(let Me=Te.childNodes.length-1;Me>=0;Me--)"HEAD"===Te.childNodes[Me].nodeName&&Te.childNodes[Me].remove();null!=ne&&(Te.insertBefore(ne,Te.firstChild),wa(ne,this))}get body(){const ne=this.documentElement;for(let Me=ne.childNodes.length-1;Me>=0;Me--)if("BODY"===ne.childNodes[Me].nodeName)return ne.childNodes[Me];const Te=new jn(this,"body");return ne.appendChild(Te),Te}set body(ne){const Te=this.documentElement;for(let Me=Te.childNodes.length-1;Me>=0;Me--)"BODY"===Te.childNodes[Me].nodeName&&Te.childNodes[Me].remove();null!=ne&&(Te.appendChild(ne),wa(ne,this))}appendChild(ne){return ne.remove(),ne.parentNode=this,this.childNodes.push(ne),ne}createComment(ne){return new ys(this,ne)}createAttribute(ne){return new L(ne.toLowerCase(),"")}createAttributeNS(ne,Te){return new L(Te,"",ne)}createElement(ne){if("#document"===ne){const Te=new kR(!1);return Te.nodeName=ne,Te.parentNode=null,Te}return st(this,ne)}createElementNS(ne,Te){return function vt(k,ne,Te){if("http://www.w3.org/1999/xhtml"===ne)return st(k,Te);if("http://www.w3.org/2000/svg"!==ne)return new fr(k,Te,ne);switch(Te.toLowerCase()){case"text":case"tspan":case"tref":case"altglyph":case"textpath":return new Or(k,Te);case"circle":case"ellipse":case"image":case"line":case"path":case"polygon":case"polyline":case"rect":case"use":return new yn(k,Te);case"svg":return new Tr(k,Te);default:return new gn(k,Te)}}(this,ne,Te)}createTextNode(ne){return new xs(this,ne)}createDocumentFragment(){return new on(this)}createDocumentTypeNode(){return new zr(this)}getElementById(ne){return Yl(this,ne)}getElementsByName(ne){return ku(this,ne.toLowerCase())}get title(){const ne=this.head.childNodes.find(Te=>"TITLE"===Te.nodeName);return null!=ne&&"string"==typeof ne.textContent?ne.textContent.trim():""}set title(ne){const Te=this.head;let Me=Te.childNodes.find(it=>"TITLE"===it.nodeName);null==Me&&(Me=this.createElement("title"),Te.appendChild(Me)),Me.textContent=ne}},Si=new Set(["nodeName","nodeType","nodeValue","ownerDocument","parentNode","childNodes","_shadowRoot"]);function Yl(k,ne){const Te=k.children;for(let Me=0,it=Te.length;Me<it;Me++){const ct=Te[Me];if(ct.id===ne)return ct;const Tt=Yl(ct,ne);if(null!=Tt)return Tt}return null}function ku(k,ne,Te=[]){const Me=k.children;for(let it=0,ct=Me.length;it<ct;it++){const Tt=Me[it];Tt.name&&Tt.name.toLowerCase()===ne&&Te.push(Tt),ku(Tt,ne,Te)}return Te}function wa(k,ne){for(let Te=0,Me=k.childNodes.length;Te<Me;Te++)k.childNodes[Te].ownerDocument=ne,1===k.childNodes[Te].nodeType&&wa(k.childNodes[Te],ne)}var Gi=Object.defineProperty,Wu={isDev:!!D.isDev,isBrowser:!0,isServer:!1,isTesting:!!D.isTesting},lr=k=>{const ne=new URL(k,Mn.$resourcesUrl$);return ne.origin!==Yr.location.origin?ne.href:ne.pathname},Wr=k=>Mn.$resourcesUrl$=k,Jl={},Kc=k=>"object"==(k=typeof k)||"function"===k;((k,ne)=>{for(var Te in ne)Gi(k,Te,{get:ne[Te],enumerable:!0})})({},{err:()=>Hc,map:()=>Zo,ok:()=>Ql,unwrap:()=>nh,unwrapErr:()=>lm});var Ql=k=>({isOk:!0,isErr:!1,value:k}),Hc=k=>({isOk:!1,isErr:!0,value:k});function Zo(k,ne){if(k.isOk){const Te=ne(k.value);return Te instanceof Promise?Te.then(Me=>Ql(Me)):Ql(Te)}if(k.isErr)return Hc(k.value);throw"should never get here"}var nh=k=>{if(k.isOk)return k.value;throw k.value},lm=k=>{if(k.isErr)return k.value;throw k.value},rf=0,Ko=(k,ne="")=>{if(D.profile&&performance.mark){const Te=`st:${k}:${ne}:${rf++}`;return performance.mark(Te),()=>performance.measure(`[Stencil] ${k}() <${ne}>`,Te)}return()=>{}},Vu="s-id",fn="http://www.w3.org/1999/xlink",Zu=["formAssociatedCallback","formResetCallback","formDisabledCallback","formStateRestoreCallback"],Xl=(k,ne,...Te)=>{let Me=null,it=null,ct=null,Tt=!1,Nt=!1;const Bt=[],Vt=sn=>{for(let Wn=0;Wn<sn.length;Wn++)Me=sn[Wn],Array.isArray(Me)?Vt(Me):null!=Me&&"boolean"!=typeof Me&&((Tt="function"!=typeof k&&!Kc(Me))?Me=String(Me):D.isDev&&"function"!=typeof k&&void 0===Me.$flags$&&cu("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),Tt&&Nt?Bt[Bt.length-1].$text$+=Me:Bt.push(Tt?Oi(null,Me):Me),Nt=Tt)};if(Vt(Te),ne&&(D.isDev&&"input"===k&&ni(ne),D.vdomKey&&ne.key&&(it=ne.key),D.slotRelocation&&ne.name&&(ct=ne.name),D.vdomClass)){const sn=ne.className||ne.class;sn&&(ne.class="object"!=typeof sn?sn:Object.keys(sn).filter(Wn=>sn[Wn]).join(" "))}if(D.isDev&&Bt.some(Qc)&&cu("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),D.vdomFunctional&&"function"==typeof k)return k(null===ne?{}:ne,Bt,oh);const Ot=Oi(k,null);return Ot.$attrs$=ne,Bt.length>0&&(Ot.$children$=Bt),D.vdomKey&&(Ot.$key$=it),D.slotRelocation&&(Ot.$name$=ct),Ot},Oi=(k,ne)=>{const Te={$flags$:0,$tag$:k,$text$:ne,$elm$:null,$children$:null};return D.vdomAttribute&&(Te.$attrs$=null),D.vdomKey&&(Te.$key$=null),D.slotRelocation&&(Te.$name$=null),Te},sh={},Qc=k=>k&&k.$tag$===sh,oh={forEach:(k,ne)=>k.map(Xc).forEach(ne),map:(k,ne)=>k.map(Xc).map(ne).map(qc)},Xc=k=>({vattrs:k.$attrs$,vchildren:k.$children$,vkey:k.$key$,vname:k.$name$,vtag:k.$tag$,vtext:k.$text$}),qc=k=>{if("function"==typeof k.vtag){const Te={...k.vattrs};return k.vkey&&(Te.key=k.vkey),k.vname&&(Te.name=k.vname),Xl(k.vtag,Te,...k.vchildren||[])}const ne=Oi(k.vtag,k.vtext);return ne.$attrs$=k.vattrs,ne.$children$=k.vchildren,ne.$key$=k.vkey,ne.$name$=k.vname,ne},ni=k=>{const ne=Object.keys(k),Te=ne.indexOf("value");if(-1===Te)return;const Me=ne.indexOf("type"),it=ne.indexOf("min"),ct=ne.indexOf("max"),Tt=ne.indexOf("step");(Te<Me||Te<it||Te<ct||Te<Tt)&&ps('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},ed=(k,ne,Te,Me,it,ct,Tt)=>{let Nt,Bt,Vt,Ot;if(1===ct.nodeType){for(Nt=ct.getAttribute("c-id"),Nt&&(Bt=Nt.split("."),(Bt[0]===Tt||"0"===Bt[0])&&(Vt={$flags$:0,$hostId$:Bt[0],$nodeId$:Bt[1],$depth$:Bt[2],$index$:Bt[3],$tag$:ct.tagName.toLowerCase(),$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ne.push(Vt),ct.removeAttribute("c-id"),k.$children$||(k.$children$=[]),k.$children$[Vt.$index$]=Vt,k=Vt,Me&&"0"===Vt.$depth$&&(Me[Vt.$index$]=Vt.$elm$))),Ot=ct.childNodes.length-1;Ot>=0;Ot--)ed(k,ne,Te,Me,it,ct.childNodes[Ot],Tt);if(ct.shadowRoot)for(Ot=ct.shadowRoot.childNodes.length-1;Ot>=0;Ot--)ed(k,ne,Te,Me,it,ct.shadowRoot.childNodes[Ot],Tt)}else if(8===ct.nodeType)Bt=ct.nodeValue.split("."),(Bt[1]===Tt||"0"===Bt[1])&&(Nt=Bt[0],Vt={$flags$:0,$hostId$:Bt[1],$nodeId$:Bt[2],$depth$:Bt[3],$index$:Bt[4],$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Nt?(Vt.$elm$=ct.nextSibling,Vt.$elm$&&3===Vt.$elm$.nodeType&&(Vt.$text$=Vt.$elm$.textContent,ne.push(Vt),ct.remove(),k.$children$||(k.$children$=[]),k.$children$[Vt.$index$]=Vt,Me&&"0"===Vt.$depth$&&(Me[Vt.$index$]=Vt.$elm$))):Vt.$hostId$===Tt&&("s"===Nt?(Vt.$tag$="slot",ct["s-sn"]=Bt[5]?Vt.$name$=Bt[5]:"",ct["s-sr"]=!0,D.shadowDom&&Me&&(Vt.$elm$=Pr.createElement(Vt.$tag$),Vt.$name$&&Vt.$elm$.setAttribute("name",Vt.$name$),ct.parentNode.insertBefore(Vt.$elm$,ct),ct.remove(),"0"===Vt.$depth$&&(Me[Vt.$index$]=Vt.$elm$)),Te.push(Vt),k.$children$||(k.$children$=[]),k.$children$[Vt.$index$]=Vt):"r"===Nt&&(D.shadowDom&&Me?ct.remove():D.slotRelocation&&(it["s-cr"]=ct,ct["s-cn"]=!0))));else if(k&&"style"===k.$tag$){const sn=Oi(null,ct.textContent);sn.$elm$=ct,sn.$index$="0",k.$children$=[sn]}},Lo=(k,ne)=>{if(1===k.nodeType){let Te=0;for(;Te<k.childNodes.length;Te++)Lo(k.childNodes[Te],ne);if(k.shadowRoot)for(Te=0;Te<k.shadowRoot.childNodes.length;Te++)Lo(k.shadowRoot.childNodes[Te],ne)}else if(8===k.nodeType){const Te=k.nodeValue.split(".");"o"===Te[0]&&(ne.set(Te[1]+"."+Te[2],k),k.nodeValue="",k["s-en"]=Te[3])}},jr=(k,ne,Te)=>{const Me=(k=>D.lazyLoad?Bo(k).$hostElement$:k)(k);return{emit:it=>(D.isDev&&!Me.isConnected&&ps(`The "${ne}" event was emitted, but the dispatcher node is no longer connected to the dom.`),bi(Me,ne,{bubbles:!!(4&Te),composed:!!(2&Te),cancelable:!!(1&Te),detail:it}))}},bi=(k,ne,Te)=>{const Me=Mn.ce(ne,Te);return k.dispatchEvent(Me),Me},af=new WeakMap,ql=(k,ne,Te)=>{var Me;const it=eu(ne,Te),ct=fo.get(it);if(!D.attachStyles)return it;if(k=11===k.nodeType?k:Pr,ct)if("string"==typeof ct){let Nt,Tt=af.get(k=k.head||k);if(Tt||af.set(k,Tt=new Set),!Tt.has(it)){if(D.hydrateClientSide&&k.host&&(Nt=k.querySelector(`[sty-id="${it}"]`)))Nt.innerHTML=ct;else{Nt=Pr.createElement("style"),Nt.innerHTML=ct;const Bt=null!=(Me=Mn.$nonce$)?Me:function al(k){var ne,Te,Me;return null!=(Me=null==(Te=null==(ne=k.head)?void 0:ne.querySelector('meta[name="csp-nonce"]'))?void 0:Te.getAttribute("content"))?Me:void 0}(Pr);null!=Bt&&Nt.setAttribute("nonce",Bt),(D.hydrateServerSide||D.hotModuleReplacement)&&Nt.setAttribute("sty-id",it),k.insertBefore(Nt,k.querySelector("link"))}4&ne.$flags$&&(Nt.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),Tt&&Tt.add(it)}}else D.constructableCSS&&!k.adoptedStyleSheets.includes(ct)&&(k.adoptedStyleSheets=[...k.adoptedStyleSheets,ct]);return it},eu=(k,ne)=>"sc-"+(D.mode&&ne&&32&k.$flags$?k.$tagName$+"-"+ne:k.$tagName$),nd=(k,ne,Te,Me,it,ct)=>{if(Te!==Me){let Tt=pm(k,ne),Nt=ne.toLowerCase();if(D.vdomClass&&"class"===ne){const Bt=k.classList,Vt=di(Te),Ot=di(Me);Bt.remove(...Vt.filter(sn=>sn&&!Ot.includes(sn))),Bt.add(...Ot.filter(sn=>sn&&!Vt.includes(sn)))}else if(D.vdomStyle&&"style"===ne){if(D.updatable)for(const Bt in Te)(!Me||null==Me[Bt])&&(!D.hydrateServerSide&&Bt.includes("-")?k.style.removeProperty(Bt):k.style[Bt]="");for(const Bt in Me)(!Te||Me[Bt]!==Te[Bt])&&(!D.hydrateServerSide&&Bt.includes("-")?k.style.setProperty(Bt,Me[Bt]):k.style[Bt]=Me[Bt])}else if(!D.vdomKey||"key"!==ne)if(D.vdomRef&&"ref"===ne)Me&&Me(k);else if(!D.vdomListener||(D.lazyLoad?Tt:k.__lookupSetter__(ne))||"o"!==ne[0]||"n"!==ne[1]){if(D.vdomPropOrAttr){const Bt=Kc(Me);if((Tt||Bt&&null!==Me)&&!it)try{if(k.tagName.includes("-"))k[ne]=Me;else{const Ot=Me??"";"list"===ne?Tt=!1:(null==Te||k[ne]!=Ot)&&(k[ne]=Ot)}}catch{}let Vt=!1;D.vdomXlink&&Nt!==(Nt=Nt.replace(/^xlink\:?/,""))&&(ne=Nt,Vt=!0),null==Me||!1===Me?(!1!==Me||""===k.getAttribute(ne))&&(D.vdomXlink&&Vt?k.removeAttributeNS(fn,ne):k.removeAttribute(ne)):(!Tt||4&ct||it)&&!Bt&&(Me=!0===Me?"":Me,D.vdomXlink&&Vt?k.setAttributeNS(fn,ne,Me):k.setAttribute(ne,Me))}}else if(ne="-"===ne[2]?ne.slice(3):pm(Yr,Nt)?Nt.slice(2):Nt[2]+ne.slice(3),Te||Me){const Bt=ne.endsWith(Vr);ne=ne.replace(Ys,""),Te&&Mn.rel(k,ne,Te,Bt),Me&&Mn.ael(k,ne,Me,Bt)}}},rd=/\s/,di=k=>k?k.split(rd):[],Vr="Capture",Ys=new RegExp(Vr+"$"),sd=(k,ne,Te,Me)=>{const it=11===ne.$elm$.nodeType&&ne.$elm$.host?ne.$elm$.host:ne.$elm$,ct=k&&k.$attrs$||Jl,Tt=ne.$attrs$||Jl;if(D.updatable)for(Me of Zr(Object.keys(ct)))Me in Tt||nd(it,Me,ct[Me],void 0,Te,ne.$flags$);for(Me of Zr(Object.keys(Tt)))nd(it,Me,ct[Me],Tt[Me],Te,ne.$flags$)};function Zr(k){return k.includes("ref")?[...k.filter(ne=>"ref"!==ne),"ref"]:k}var la,Ra,Js,ua=!1,tu=!1,So=!1,No=!1,ca=(k,ne,Te,Me)=>{var it;const ct=ne.$children$[Te];let Nt,Bt,Vt,Tt=0;if(D.slotRelocation&&!ua&&(So=!0,"slot"===ct.$tag$&&(la&&Me.classList.add(la+"-s"),ct.$flags$|=ct.$children$?2:1)),D.isDev&&ct.$elm$&&cu(`The JSX ${null!==ct.$text$?`"${ct.$text$}" text`:`"${ct.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),D.vdomText&&null!==ct.$text$)Nt=ct.$elm$=Pr.createTextNode(ct.$text$);else if(D.slotRelocation&&1&ct.$flags$)Nt=ct.$elm$=D.isDebug||D.hydrateServerSide?uh(ct):Pr.createTextNode("");else{if(D.svg&&!No&&(No="svg"===ct.$tag$),Nt=ct.$elm$=D.svg?Pr.createElementNS(No?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",D.slotRelocation&&2&ct.$flags$?"slot-fb":ct.$tag$):Pr.createElement(D.slotRelocation&&2&ct.$flags$?"slot-fb":ct.$tag$),D.svg&&No&&"foreignObject"===ct.$tag$&&(No=!1),D.vdomAttribute&&sd(null,ct,No),(D.shadowDom||D.scoped)&&(k=>null!=k)(la)&&Nt["s-si"]!==la&&Nt.classList.add(Nt["s-si"]=la),ct.$children$)for(Tt=0;Tt<ct.$children$.length;++Tt)Bt=ca(k,ct,Tt,Nt),Bt&&Nt.appendChild(Bt);D.svg&&("svg"===ct.$tag$?No=!1:"foreignObject"===Nt.tagName&&(No=!0))}return Nt["s-hn"]=Js,D.slotRelocation&&3&ct.$flags$&&(Nt["s-sr"]=!0,Nt["s-cr"]=Ra,Nt["s-sn"]=ct.$name$||"",Nt["s-rf"]=null==(it=ct.$attrs$)?void 0:it.ref,Vt=k&&k.$children$&&k.$children$[Te],Vt&&Vt.$tag$===ct.$tag$&&k.$elm$&&(D.experimentalSlotFixes?dl(k.$elm$):hl(k.$elm$,!1))),Nt},dl=k=>{Mn.$flags$|=1;const ne=k.closest(Js.toLowerCase());if(null!=ne){const Te=Array.from(ne.childNodes).find(it=>it["s-cr"]),Me=Array.from(k.childNodes);for(const it of Te?Me.reverse():Me)null!=it["s-sh"]&&(ne.insertBefore(it,Te??null),it["s-sh"]=void 0,So=!0)}Mn.$flags$&=-2},hl=(k,ne)=>{Mn.$flags$|=1;const Te=Array.from(k.childNodes);if(k["s-sr"]&&D.experimentalSlotFixes){let Me=k;for(;Me=Me.nextSibling;)Me&&Me["s-sn"]===k["s-sn"]&&Me["s-sh"]===Js&&Te.push(Me)}for(let Me=Te.length-1;Me>=0;Me--){const it=Te[Me];it["s-hn"]!==Js&&it["s-ol"]&&(Ho(it).insertBefore(it,ad(it)),it["s-ol"].remove(),it["s-ol"]=void 0,it["s-sh"]=void 0,So=!0),ne&&hl(it,ne)}Mn.$flags$&=-2},od=(k,ne,Te,Me,it,ct)=>{let Nt,Tt=D.slotRelocation&&k["s-cr"]&&k["s-cr"].parentNode||k;for(D.shadowDom&&Tt.shadowRoot&&Tt.tagName===Js&&(Tt=Tt.shadowRoot);it<=ct;++it)Me[it]&&(Nt=ca(null,Te,it,k),Nt&&(Me[it].$elm$=Nt,Tt.insertBefore(Nt,D.slotRelocation?ad(ne):ne)))},ah=(k,ne,Te)=>{for(let Me=ne;Me<=Te;++Me){const it=k[Me];if(it){const ct=it.$elm$;ud(it),ct&&(D.slotRelocation&&(tu=!0,ct["s-ol"]?ct["s-ol"].remove():hl(ct,!0)),ct.remove())}}},Hu=(k,ne,Te=!1)=>k.$tag$===ne.$tag$&&(D.slotRelocation&&"slot"===k.$tag$?k.$name$===ne.$name$:!(D.vdomKey&&!Te)||k.$key$===ne.$key$),ad=k=>k&&k["s-ol"]||k,Ho=k=>(k["s-ol"]?k["s-ol"]:k).parentNode,pl=(k,ne,Te=!1)=>{const Me=ne.$elm$=k.$elm$,it=k.$children$,ct=ne.$children$,Tt=ne.$tag$,Nt=ne.$text$;let Bt;D.vdomText&&null!==Nt?D.vdomText&&D.slotRelocation&&(Bt=Me["s-cr"])?Bt.parentNode.textContent=Nt:D.vdomText&&k.$text$!==Nt&&(Me.data=Nt):(D.svg&&(No="svg"===Tt||"foreignObject"!==Tt&&No),(D.vdomAttribute||D.reflect)&&(D.slot&&"slot"===Tt&&!ua?D.experimentalSlotFixes&&k.$name$!==ne.$name$&&(ne.$elm$["s-sn"]=ne.$name$||"",dl(ne.$elm$.parentElement)):sd(k,ne,No)),D.updatable&&null!==it&&null!==ct?((k,ne,Te,Me,it=!1)=>{let Kr,Xr,ct=0,Tt=0,Nt=0,Bt=0,Vt=ne.length-1,Ot=ne[0],sn=ne[Vt],Wn=Me.length-1,Bn=Me[0],Rr=Me[Wn];for(;ct<=Vt&&Tt<=Wn;)if(null==Ot)Ot=ne[++ct];else if(null==sn)sn=ne[--Vt];else if(null==Bn)Bn=Me[++Tt];else if(null==Rr)Rr=Me[--Wn];else if(Hu(Ot,Bn,it))pl(Ot,Bn,it),Ot=ne[++ct],Bn=Me[++Tt];else if(Hu(sn,Rr,it))pl(sn,Rr,it),sn=ne[--Vt],Rr=Me[--Wn];else if(Hu(Ot,Rr,it))D.slotRelocation&&("slot"===Ot.$tag$||"slot"===Rr.$tag$)&&hl(Ot.$elm$.parentNode,!1),pl(Ot,Rr,it),k.insertBefore(Ot.$elm$,sn.$elm$.nextSibling),Ot=ne[++ct],Rr=Me[--Wn];else if(Hu(sn,Bn,it))D.slotRelocation&&("slot"===Ot.$tag$||"slot"===Rr.$tag$)&&hl(sn.$elm$.parentNode,!1),pl(sn,Bn,it),k.insertBefore(sn.$elm$,Ot.$elm$),sn=ne[--Vt],Bn=Me[++Tt];else{if(Nt=-1,D.vdomKey)for(Bt=ct;Bt<=Vt;++Bt)if(ne[Bt]&&null!==ne[Bt].$key$&&ne[Bt].$key$===Bn.$key$){Nt=Bt;break}D.vdomKey&&Nt>=0?(Xr=ne[Nt],Xr.$tag$!==Bn.$tag$?Kr=ca(ne&&ne[Tt],Te,Nt,k):(pl(Xr,Bn,it),ne[Nt]=void 0,Kr=Xr.$elm$),Bn=Me[++Tt]):(Kr=ca(ne&&ne[Tt],Te,Tt,k),Bn=Me[++Tt]),Kr&&(D.slotRelocation?Ho(Ot.$elm$).insertBefore(Kr,ad(Ot.$elm$)):Ot.$elm$.parentNode.insertBefore(Kr,Ot.$elm$))}ct>Vt?od(k,null==Me[Wn+1]?null:Me[Wn+1].$elm$,Te,Me,Tt,Wn):D.updatable&&Tt>Wn&&ah(ne,ct,Vt)})(Me,it,ne,ct,Te):null!==ct?(D.updatable&&D.vdomText&&null!==k.$text$&&(Me.textContent=""),od(Me,null,ne,ct,0,ct.length-1)):D.updatable&&null!==it&&ah(it,0,it.length-1),D.svg&&No&&"svg"===Tt&&(No=!1))},nu=k=>{const ne=k.childNodes;for(const Te of ne)if(1===Te.nodeType){if(Te["s-sr"]){const Me=Te["s-sn"];Te.hidden=!1;for(const it of ne)if(it!==Te)if(it["s-hn"]!==Te["s-hn"]||""!==Me){if(1===it.nodeType&&(Me===it.getAttribute("slot")||Me===it["s-sn"])||3===it.nodeType&&Me===it["s-sn"]){Te.hidden=!0;break}}else if(1===it.nodeType||3===it.nodeType&&""!==it.textContent.trim()){Te.hidden=!0;break}}nu(Te)}},Pi=[],ld=k=>{let ne,Te,Me;for(const it of k.childNodes){if(it["s-sr"]&&(ne=it["s-cr"])&&ne.parentNode){Te=ne.parentNode.childNodes;const ct=it["s-sn"];for(Me=Te.length-1;Me>=0;Me--)if(ne=Te[Me],!(ne["s-cn"]||ne["s-nr"]||ne["s-hn"]===it["s-hn"]||D.experimentalSlotFixes&&ne["s-sh"]&&ne["s-sh"]===it["s-hn"]))if(lh(ne,ct)){let Tt=Pi.find(Nt=>Nt.$nodeToRelocate$===ne);tu=!0,ne["s-sn"]=ne["s-sn"]||ct,Tt?(Tt.$nodeToRelocate$["s-sh"]=it["s-hn"],Tt.$slotRefNode$=it):(ne["s-sh"]=it["s-hn"],Pi.push({$slotRefNode$:it,$nodeToRelocate$:ne})),ne["s-sr"]&&Pi.map(Nt=>{lh(Nt.$nodeToRelocate$,ne["s-sn"])&&(Tt=Pi.find(Bt=>Bt.$nodeToRelocate$===ne),Tt&&!Nt.$slotRefNode$&&(Nt.$slotRefNode$=Tt.$slotRefNode$))})}else Pi.some(Tt=>Tt.$nodeToRelocate$===ne)||Pi.push({$nodeToRelocate$:ne})}1===it.nodeType&&ld(it)}},lh=(k,ne)=>1===k.nodeType?null===k.getAttribute("slot")&&""===ne||k.getAttribute("slot")===ne:k["s-sn"]===ne||""===ne,ud=k=>{D.vdomRef&&(k.$attrs$&&k.$attrs$.ref&&k.$attrs$.ref(null),k.$children$&&k.$children$.map(ud))},ru=(k,ne,Te=!1)=>{var Me,it,ct,Tt,Nt;const Bt=k.$hostElement$,Vt=k.$cmpMeta$,Ot=k.$vnode$||Oi(null,null),sn=Qc(ne)?ne:Xl(null,null,ne);if(Js=Bt.tagName,D.isDev&&Array.isArray(ne)&&ne.some(Qc))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${Js.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(D.reflect&&Vt.$attrsToReflect$&&(sn.$attrs$=sn.$attrs$||{},Vt.$attrsToReflect$.map(([Wn,Bn])=>sn.$attrs$[Bn]=Bt[Wn])),Te&&sn.$attrs$)for(const Wn of Object.keys(sn.$attrs$))Bt.hasAttribute(Wn)&&!["key","ref","style","class"].includes(Wn)&&(sn.$attrs$[Wn]=Bt[Wn]);if(sn.$tag$=null,sn.$flags$|=4,k.$vnode$=sn,sn.$elm$=Ot.$elm$=D.shadowDom&&Bt.shadowRoot||Bt,(D.scoped||D.shadowDom)&&(la=Bt["s-sc"]),ua=ma&&!!(1&Vt.$flags$),D.slotRelocation&&(Ra=Bt["s-cr"],tu=!1),pl(Ot,sn,Te),D.slotRelocation){if(Mn.$flags$|=1,So){ld(sn.$elm$);for(const Wn of Pi){const Bn=Wn.$nodeToRelocate$;if(!Bn["s-ol"]){const Rr=D.isDebug||D.hydrateServerSide?Gu(Bn):Pr.createTextNode("");Rr["s-nr"]=Bn,Bn.parentNode.insertBefore(Bn["s-ol"]=Rr,Bn)}}for(const Wn of Pi){const Bn=Wn.$nodeToRelocate$,Rr=Wn.$slotRefNode$;if(Rr){const Kr=Rr.parentNode;let Xr=Rr.nextSibling;if(!D.experimentalSlotFixes||Xr&&1===Xr.nodeType){let Jr=null==(Me=Bn["s-ol"])?void 0:Me.previousSibling;for(;Jr;){let Ht=null!=(it=Jr["s-nr"])?it:null;if(Ht&&Ht["s-sn"]===Bn["s-sn"]&&Kr===Ht.parentNode){for(Ht=Ht.nextSibling;Ht===Bn||Ht?.["s-sr"];)Ht=Ht?.nextSibling;if(!Ht||!Ht["s-nr"]){Xr=Ht;break}}Jr=Jr.previousSibling}}(!Xr&&Kr!==Bn.parentNode||Bn.nextSibling!==Xr)&&Bn!==Xr&&(!D.experimentalSlotFixes&&!Bn["s-hn"]&&Bn["s-ol"]&&(Bn["s-hn"]=Bn["s-ol"].parentNode.nodeName),Kr.insertBefore(Bn,Xr),1===Bn.nodeType&&(Bn.hidden=null!=(ct=Bn["s-ih"])&&ct)),Bn&&"function"==typeof Rr["s-rf"]&&Rr["s-rf"](Bn)}else 1===Bn.nodeType&&(Te&&(Bn["s-ih"]=null!=(Tt=Bn.hidden)&&Tt),Bn.hidden=!0)}}tu&&nu(sn.$elm$),Mn.$flags$&=-2,Pi.length=0}if(D.experimentalScopedSlotChanges&&2&Vt.$flags$)for(const Wn of sn.$elm$.childNodes)Wn["s-hn"]!==Js&&!Wn["s-sh"]&&(Te&&null==Wn["s-ih"]&&(Wn["s-ih"]=null!=(Nt=Wn.hidden)&&Nt),Wn.hidden=!0);Ra=void 0},uh=k=>Pr.createComment(`<slot${k.$name$?' name="'+k.$name$+'"':""}> (host=${Js.toLowerCase()})`),Gu=k=>Pr.createComment("org-location for "+(k.localName?`<${k.localName}> (host=${k["s-hn"]})`:`[${k.textContent}]`)),zu=(k,ne)=>{D.asyncLoading&&ne&&!k.$onRenderResolve$&&ne["s-p"]&&ne["s-p"].push(new Promise(Te=>k.$onRenderResolve$=Te))},da=(k,ne)=>{if(D.taskQueue&&D.updatable&&(k.$flags$|=16),D.asyncLoading&&4&k.$flags$)return void(k.$flags$|=512);zu(k,k.$ancestorComponent$);const Te=()=>La(k,ne);return D.taskQueue?hh(Te):Te()},La=(k,ne)=>{const Te=k.$hostElement$,Me=Ko("scheduleUpdate",k.$cmpMeta$.$tagName$),it=D.lazyLoad?k.$lazyInstance$:Te;let ct;return ne?(D.lazyLoad&&D.hostListener&&(k.$flags$|=256,k.$queuedListeners$&&(k.$queuedListeners$.map(([Tt,Nt])=>Es(it,Tt,Nt)),k.$queuedListeners$=void 0)),xa(Te,"componentWillLoad"),D.cmpWillLoad&&(ct=Es(it,"componentWillLoad"))):(xa(Te,"componentWillUpdate"),D.cmpWillUpdate&&(ct=Es(it,"componentWillUpdate"))),xa(Te,"componentWillRender"),D.cmpWillRender&&(ct=cd(ct,()=>Es(it,"componentWillRender"))),Me(),cd(ct,()=>ou(k,it,ne))},cd=(k,ne)=>su(k)?k.then(ne):ne(),su=k=>k instanceof Promise||k&&k.then&&"function"==typeof k.then,ou=function(){var k=(0,E.A)(function*(ne,Te,Me){var it;const ct=ne.$hostElement$,Tt=Ko("update",ne.$cmpMeta$.$tagName$),Nt=ct["s-rc"];D.style&&Me&&(k=>{const ne=k.$cmpMeta$,Te=k.$hostElement$,Me=ne.$flags$,it=Ko("attachStyles",ne.$tagName$),ct=ql(D.shadowDom&&ma&&Te.shadowRoot?Te.shadowRoot:Te.getRootNode(),ne,k.$modeName$);(D.shadowDom||D.scoped)&&D.cssAnnotations&&10&Me&&(Te["s-sc"]=ct,Te.classList.add(ct+"-h"),D.scoped&&2&Me&&Te.classList.add(ct+"-s")),it()})(ne);const Bt=Ko("render",ne.$cmpMeta$.$tagName$);if(D.isDev&&(ne.$flags$|=1024),D.hydrateServerSide?yield no(ne,Te,ct,Me):no(ne,Te,ct,Me),D.isDev&&(ne.$renderCount$=void 0===ne.$renderCount$?1:ne.$renderCount$+1,ne.$flags$&=-1025),D.hydrateServerSide)try{iu(ct),Me&&(1&ne.$cmpMeta$.$flags$?ct["s-en"]="":2&ne.$cmpMeta$.$flags$&&(ct["s-en"]="c"))}catch(Vt){Ba(Vt,ct)}if(D.asyncLoading&&Nt&&(Nt.map(Vt=>Vt()),ct["s-rc"]=void 0),Bt(),Tt(),D.asyncLoading){const Vt=null!=(it=ct["s-p"])?it:[],Ot=()=>Bs(ne);0===Vt.length?Ot():(Promise.all(Vt).then(Ot),ne.$flags$|=4,Vt.length=0)}else Bs(ne)});return function(Te,Me,it){return k.apply(this,arguments)}}(),no=(k,ne,Te,Me)=>{const it=!!D.allRenderFn,ct=!!D.lazyLoad,Tt=!!D.taskQueue,Nt=!!D.updatable;try{if(ne=(it||ne.render)&&ne.render(),Nt&&Tt&&(k.$flags$&=-17),(Nt||ct)&&(k.$flags$|=2),D.hasRenderFn||D.reflect)if(D.vdomRender||D.reflect){if(D.hydrateServerSide)return Promise.resolve(ne).then(Bt=>ru(k,Bt,Me));ru(k,ne,Me)}else 1&k.$cmpMeta$.$flags$?Te.shadowRoot.textContent=ne:Te.textContent=ne}catch(Bt){Ba(Bt,k.$hostElement$)}return null},Bs=k=>{const ne=k.$cmpMeta$.$tagName$,Te=k.$hostElement$,Me=Ko("postUpdate",ne),it=D.lazyLoad?k.$lazyInstance$:Te,ct=k.$ancestorComponent$;D.cmpDidRender&&(D.isDev&&(k.$flags$|=1024),Es(it,"componentDidRender"),D.isDev&&(k.$flags$&=-1025)),xa(Te,"componentDidRender"),64&k.$flags$?(D.cmpDidUpdate&&(D.isDev&&(k.$flags$|=1024),Es(it,"componentDidUpdate"),D.isDev&&(k.$flags$&=-1025)),xa(Te,"componentDidUpdate"),Me()):(k.$flags$|=64,D.asyncLoading&&D.cssAnnotations&&Yu(Te),D.cmpDidLoad&&(D.isDev&&(k.$flags$|=2048),Es(it,"componentDidLoad"),D.isDev&&(k.$flags$&=-2049)),xa(Te,"componentDidLoad"),Me(),D.asyncLoading&&(k.$onReadyResolve$(Te),ct||hi(ne))),D.method&&D.lazyLoad&&k.$onInstanceResolve$(Te),D.asyncLoading&&(k.$onRenderResolve$&&(k.$onRenderResolve$(),k.$onRenderResolve$=void 0),512&k.$flags$&&Ml(()=>da(k,!1)),k.$flags$&=-517)},ro=k=>{if(D.updatable&&(Wu.isBrowser||Wu.isTesting)){const ne=Bo(k),Te=ne.$hostElement$.isConnected;return Te&&2==(18&ne.$flags$)&&da(ne,!1),Te}return!1},hi=k=>{D.cssAnnotations&&Yu(Pr.documentElement),D.asyncQueue&&(Mn.$flags$|=2),Ml(()=>bi(Yr,"appload",{detail:{namespace:B}})),D.profile&&performance.measure&&performance.measure(`[Stencil] ${B} initial load (by ${k})`,"st:app:start")},Es=(k,ne,Te)=>{if(k&&k[ne])try{return k[ne](Te)}catch(Me){Ba(Me)}},xa=(k,ne)=>{D.lifecycleDOMEvents&&bi(k,"stencil_"+ne,{bubbles:!0,composed:!0,detail:{namespace:B}})},Yu=k=>D.hydratedClass?k.classList.add("hydrated"):D.hydratedAttribute?k.setAttribute("hydrated",""):void 0,iu=k=>{const ne=k.children;if(null!=ne)for(let Te=0,Me=ne.length;Te<Me;Te++){const it=ne[Te];"function"==typeof it.connectedCallback&&it.connectedCallback(),iu(it)}},ha=(k,ne,Te)=>{var Me;const it=k.prototype;if(D.formAssociated&&64&ne.$flags$&&1&Te&&Zu.forEach(ct=>Object.defineProperty(it,ct,{value(...Tt){const Nt=Bo(this),Vt=D.lazyLoad?Nt.$lazyInstance$:D.lazyLoad?Nt.$hostElement$:this;if(Vt){const Ot=Vt[ct];"function"==typeof Ot&&Ot.call(Vt,...Tt)}else Nt.$onReadyPromise$.then(Ot=>{const sn=Ot[ct];"function"==typeof sn&&sn.call(Ot,...Tt)})}})),D.member&&ne.$members$){D.watchCallback&&k.watchers&&(ne.$watchers$=k.watchers);const ct=Object.entries(ne.$members$);if(ct.map(([Tt,[Nt]])=>{(D.prop||D.state)&&(31&Nt||(!D.lazyLoad||2&Te)&&32&Nt)?Object.defineProperty(it,Tt,{get(){return((k,ne)=>Bo(this).$instanceValues$.get(ne))(0,Tt)},set(Bt){if(D.isDev){const Vt=Bo(this);!(1&Te)&&0===(Vt&&8&Vt.$flags$)&&31&Nt&&!(1024&Nt)&&ps(`@Prop() "${Tt}" on <${ne.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}((k,ne,Te,Me)=>{const it=Bo(k),ct=D.lazyLoad?it.$hostElement$:k,Tt=it.$instanceValues$.get(ne),Nt=it.$flags$,Bt=D.lazyLoad?it.$lazyInstance$:ct;Te=((k,ne)=>null==k||Kc(k)?k:D.propBoolean&&4&ne?"false"!==k&&(""===k||!!k):D.propNumber&&2&ne?parseFloat(k):D.propString&&1&ne?String(k):k)(Te,Me.$members$[ne][0]);const Vt=Number.isNaN(Tt)&&Number.isNaN(Te);if((!D.lazyLoad||!(8&Nt)||void 0===Tt)&&Te!==Tt&&!Vt&&(it.$instanceValues$.set(ne,Te),D.isDev&&(1024&it.$flags$?ps(`The state/prop "${ne}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",ct,"\nNew value",Te,"\nOld value",Tt):2048&it.$flags$&&ps(`The state/prop "${ne}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",ct,"\nNew value",Te,"\nOld value",Tt)),!D.lazyLoad||Bt)){if(D.watchCallback&&Me.$watchers$&&128&Nt){const sn=Me.$watchers$[ne];sn&&sn.map(Wn=>{try{Bt[Wn](Te,Tt,ne)}catch(Bn){Ba(Bn,ct)}})}if(D.updatable&&2==(18&Nt)){if(D.cmpShouldUpdate&&Bt.componentShouldUpdate&&!1===Bt.componentShouldUpdate(Te,Tt,ne))return;da(it,!1)}}})(this,Tt,Bt,ne)},configurable:!0,enumerable:!0}):D.lazyLoad&&D.method&&1&Te&&64&Nt&&Object.defineProperty(it,Tt,{value(...Bt){var Vt;const Ot=Bo(this);return null==(Vt=Ot?.$onInstancePromise$)?void 0:Vt.then(()=>{var sn;return null==(sn=Ot.$lazyInstance$)?void 0:sn[Tt](...Bt)})}})}),D.observeAttribute&&(!D.lazyLoad||1&Te)){const Tt=new Map;it.attributeChangedCallback=function(Nt,Bt,Vt){Mn.jmp(()=>{var Ot;const sn=Tt.get(Nt);if(this.hasOwnProperty(sn))Vt=this[sn],delete this[sn];else{if(it.hasOwnProperty(sn)&&"number"==typeof this[sn]&&this[sn]==Vt)return;if(null==sn){const Wn=Bo(this),Bn=Wn?.$flags$;if(Bn&&!(8&Bn)&&128&Bn&&Vt!==Bt){const Kr=D.lazyLoad?Wn.$lazyInstance$:D.lazyLoad?Wn.$hostElement$:this,Xr=null==(Ot=ne.$watchers$)?void 0:Ot[Nt];Xr?.forEach(Jr=>{null!=Kr[Jr]&&Kr[Jr].call(Kr,Vt,Bt,Nt)})}return}}this[sn]=(null!==Vt||"boolean"!=typeof this[sn])&&Vt})},k.observedAttributes=Array.from(new Set([...Object.keys(null!=(Me=ne.$watchers$)?Me:{}),...ct.filter(([Nt,Bt])=>15&Bt[0]).map(([Nt,Bt])=>{var Vt;const Ot=Bt[1]||Nt;return Tt.set(Ot,Nt),D.reflect&&512&Bt[0]&&(null==(Vt=ne.$attrsToReflect$)||Vt.push([Nt,Ot])),Ot})]))}}return k},Ju=function(){var k=(0,E.A)(function*(ne,Te,Me,it){let ct;if(!(32&Te.$flags$)){if(Te.$flags$|=32,(D.lazyLoad||D.hydrateClientSide)&&Me.$lazyBundleId$){if(ct=Fo(Me,Te,it),ct.then){const Ot=((k,ne)=>D.profile&&performance.mark?(0===performance.getEntriesByName(k,"mark").length&&performance.mark(k),()=>{0===performance.getEntriesByName(ne,"measure").length&&performance.measure(ne,k)}):()=>{})(`st:load:${Me.$tagName$}:${Te.$modeName$}`,`[Stencil] Load module for <${Me.$tagName$}>`);ct=yield ct,Ot()}if((D.isDev||D.isDebug)&&!ct)throw new Error(`Constructor for "${Me.$tagName$}#${Te.$modeName$}" was not found`);D.member&&!ct.isProxied&&(D.watchCallback&&(Me.$watchers$=ct.watchers),ha(ct,Me,2),ct.isProxied=!0);const Vt=Ko("createInstance",Me.$tagName$);D.member&&(Te.$flags$|=8);try{new ct(Te)}catch(Ot){Ba(Ot)}D.member&&(Te.$flags$&=-9),D.watchCallback&&(Te.$flags$|=128),Vt(),fl(Te.$lazyInstance$)}else ct=ne.constructor,customElements.whenDefined(Me.$tagName$).then(()=>Te.$flags$|=128);if(D.style&&ct.style){let Vt=ct.style;D.mode&&"string"!=typeof Vt&&(Vt=Vt[Te.$modeName$=(k=>yl.map(ne=>ne(k)).find(ne=>!!ne))(ne)],D.hydrateServerSide&&Te.$modeName$&&ne.setAttribute("s-mode",Te.$modeName$));const Ot=eu(Me,Te.$modeName$);if(!fo.has(Ot)){const sn=Ko("registerStyles",Me.$tagName$);!D.hydrateServerSide&&D.shadowDom&&D.shadowDomShim&&8&Me.$flags$&&(Vt=yield v.e(5180).then(v.bind(v,55180)).then(Wn=>Wn.scopeCss(Vt,Ot,!1))),((k,ne,Te)=>{let Me=fo.get(k);du&&Te?(Me=Me||new CSSStyleSheet,"string"==typeof Me?Me=ne:Me.replaceSync(ne)):Me=ne,fo.set(k,Me)})(Ot,Vt,!!(1&Me.$flags$)),sn()}}}const Tt=Te.$ancestorComponent$,Nt=()=>da(Te,!0);D.asyncLoading&&Tt&&Tt["s-rc"]?Tt["s-rc"].push(Nt):Nt()});return function(Te,Me,it,ct){return k.apply(this,arguments)}}(),fl=k=>{D.lazyLoad&&D.connectedCallback&&Es(k,"connectedCallback")},_r=k=>{const ne=k["s-cr"]=Pr.createComment(D.isDebug?`content-ref (host=${k.localName})`:"");ne["s-cn"]=!0,k.insertBefore(ne,k.firstChild)},ml=k=>{D.lazyLoad&&D.disconnectedCallback&&Es(k,"disconnectedCallback"),D.cmpDidUnload&&Es(k,"componentDidUnload")},dd=function(){var k=(0,E.A)(function*(ne){if(!(1&Mn.$flags$)){const Te=Bo(ne);D.hostListener&&Te.$rmListeners$&&(Te.$rmListeners$.map(Me=>Me()),Te.$rmListeners$=void 0),D.lazyLoad?Te?.$lazyInstance$?ml(Te.$lazyInstance$):Te?.$onReadyPromise$&&Te.$onReadyPromise$.then(()=>ml(Te.$lazyInstance$)):ml(ne)}});return function(Te){return k.apply(this,arguments)}}(),me=k=>{const ne=k.cloneNode;k.cloneNode=function(Te){const Me=this,it=!!D.shadowDom&&Me.shadowRoot&&ma,ct=ne.call(Me,!!it&&Te);if(D.slot&&!it&&Te){let Nt,Bt,Tt=0;const Vt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf"];for(;Tt<Me.childNodes.length;Tt++)Nt=Me.childNodes[Tt]["s-nr"],Bt=Vt.every(Ot=>!Me.childNodes[Tt][Ot]),Nt&&(D.appendChildSlotFix&&ct.__appendChild?ct.__appendChild(Nt.cloneNode(!0)):ct.appendChild(Nt.cloneNode(!0))),Bt&&ct.appendChild(Me.childNodes[Tt].cloneNode(!0))}return ct}},We=k=>{k.__appendChild=k.appendChild,k.appendChild=function(ne){const Te=ne["s-sn"]=ss(ne),Me=rr(this.childNodes,Te,this.tagName);if(Me){const it=Qs(Me,Te),ct=it[it.length-1],Tt=ct.parentNode.insertBefore(ne,ct.nextSibling);return nu(this),Tt}return this.__appendChild(ne)}},Qe=k=>{k.__removeChild=k.removeChild,k.removeChild=function(ne){if(ne&&typeof ne["s-sn"]<"u"){const Te=rr(this.childNodes,ne["s-sn"],this.tagName);if(Te){const it=Qs(Te,ne["s-sn"]).find(ct=>ct===ne);if(it)return it.remove(),void nu(this)}}return this.__removeChild(ne)}},ht=k=>{const ne=k.prepend;k.prepend=function(...Te){Te.forEach(Me=>{"string"==typeof Me&&(Me=this.ownerDocument.createTextNode(Me));const it=Me["s-sn"]=ss(Me),ct=rr(this.childNodes,it,this.tagName);if(ct){const Tt=document.createTextNode("");Tt["s-nr"]=Me,ct["s-cr"].parentNode.__appendChild(Tt),Me["s-ol"]=Tt;const Bt=Qs(ct,it)[0];return Bt.parentNode.insertBefore(Me,Bt.nextSibling)}return 1===Me.nodeType&&Me.getAttribute("slot")&&(Me.hidden=!0),ne.call(this,Me)})}},bt=k=>{k.append=function(...ne){ne.forEach(Te=>{"string"==typeof Te&&(Te=this.ownerDocument.createTextNode(Te)),this.appendChild(Te)})}},wt=k=>{const ne=k.insertAdjacentHTML;k.insertAdjacentHTML=function(Te,Me){if("afterbegin"!==Te&&"beforeend"!==Te)return ne.call(this,Te,Me);const it=this.ownerDocument.createElement("_");let ct;if(it.innerHTML=Me,"afterbegin"===Te)for(;ct=it.firstChild;)this.prepend(ct);else if("beforeend"===Te)for(;ct=it.firstChild;)this.append(ct)}},Wt=k=>{k.insertAdjacentText=function(ne,Te){this.insertAdjacentHTML(ne,Te)}},Qt=k=>{const ne=k.insertAdjacentElement;k.insertAdjacentElement=function(Te,Me){return"afterbegin"!==Te&&"beforeend"!==Te?ne.call(this,Te,Me):"afterbegin"===Te?(this.prepend(Me),Me):("beforeend"===Te&&this.append(Me),Me)}},cn=k=>{const ne=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(k,"__textContent",ne),Object.defineProperty(k,"textContent",D.experimentalScopedSlotChanges?{get(){return" "+ar(this.childNodes).map(it=>{var ct,Tt;const Nt=[];let Bt=it.nextSibling;for(;Bt&&Bt["s-sn"]===it["s-sn"];)(Bt.nodeType===C.TEXT_NODE||Bt.nodeType===C.ELEMENT_NODE)&&Nt.push(null!=(Tt=null==(ct=Bt.textContent)?void 0:ct.trim())?Tt:""),Bt=Bt.nextSibling;return Nt.filter(Vt=>""!==Vt).join(" ")}).filter(it=>""!==it).join(" ")+" "},set(Te){ar(this.childNodes).forEach(it=>{let ct=it.nextSibling;for(;ct&&ct["s-sn"]===it["s-sn"];){const Tt=ct;ct=ct.nextSibling,Tt.remove()}if(""===it["s-sn"]){const Tt=this.ownerDocument.createTextNode(Te);Tt["s-sn"]="",it.parentElement.insertBefore(Tt,it.nextSibling)}else it.remove()})}}:{get(){var Te;const Me=rr(this.childNodes,"",this.tagName);return(null==(Te=Me?.nextSibling)?void 0:Te.nodeType)===C.TEXT_NODE?Me.nextSibling.textContent:Me?Me.textContent:this.__textContent},set(Te){var Me;const it=rr(this.childNodes,"",this.tagName);if((null==(Me=it?.nextSibling)?void 0:Me.nodeType)===C.TEXT_NODE)it.nextSibling.textContent=Te;else if(it)it.textContent=Te;else{this.__textContent=Te;const ct=this["s-cr"];ct&&this.insertBefore(ct,this.firstChild)}}})},Xn=(k,ne)=>{class Te extends Array{item(it){return this[it]}}if(8&ne.$flags$){const Me=k.__lookupGetter__("childNodes");Object.defineProperty(k,"children",{get(){return this.childNodes.map(it=>1===it.nodeType)}}),Object.defineProperty(k,"childElementCount",{get:()=>k.children.length}),Object.defineProperty(k,"childNodes",{get(){const it=Me.call(this);if(!(1&Mn.$flags$)&&2&Bo(this).$flags$){const ct=new Te;for(let Tt=0;Tt<it.length;Tt++){const Nt=it[Tt]["s-nr"];Nt&&ct.push(Nt)}return ct}return Te.from(it)}})}},ar=k=>{const ne=[];for(const Te of Array.from(k))Te["s-sr"]&&ne.push(Te),ne.push(...ar(Te.childNodes));return ne},ss=k=>k["s-sn"]||1===k.nodeType&&k.getAttribute("slot")||"",rr=(k,ne,Te)=>{let it,Me=0;for(;Me<k.length;Me++)if(it=k[Me],it["s-sr"]&&it["s-sn"]===ne&&it["s-hn"]===Te||(it=rr(it.childNodes,ne,Te),it))return it;return null},Qs=(k,ne)=>{const Te=[k];for(;(k=k.nextSibling)&&k["s-sn"]===ne;)Te.push(k);return Te},ri=(k,ne)=>{const Te={$flags$:ne[0],$tagName$:ne[1]};D.member&&(Te.$members$=ne[2]),D.hostListener&&(Te.$listeners$=ne[3]),D.watchCallback&&(Te.$watchers$=k.$watchers$),D.reflect&&(Te.$attrsToReflect$=[]),D.shadowDom&&!ma&&1&Te.$flags$&&(Te.$flags$|=8),D.experimentalSlotFixes?D.scoped&&2&Te.$flags$&&((k,ne)=>{me(k),We(k),bt(k),ht(k),Qt(k),wt(k),Wt(k),cn(k),Xn(k,ne),Qe(k)})(k.prototype,Te):(D.slotChildNodesFix&&Xn(k.prototype,Te),D.cloneNodeFix&&me(k.prototype),D.appendChildSlotFix&&We(k.prototype),D.scopedSlotTextContentFix&&2&Te.$flags$&&cn(k.prototype));const Me=k.prototype.connectedCallback,it=k.prototype.disconnectedCallback;return Object.assign(k.prototype,{__registerHost(){hm(this,Te)},connectedCallback(){(k=>{if(!(1&Mn.$flags$)){const ne=Bo(k),Te=ne.$cmpMeta$,Me=Ko("connectedCallback",Te.$tagName$);if(D.hostListenerTargetParent&&gl(k,ne,Te.$listeners$,!0),1&ne.$flags$)gl(k,ne,Te.$listeners$,!1),ne?.$lazyInstance$?fl(ne.$lazyInstance$):ne?.$onReadyPromise$&&ne.$onReadyPromise$.then(()=>fl(ne.$lazyInstance$));else{let it;if(ne.$flags$|=1,D.hydrateClientSide&&(it=k.getAttribute(Vu),it)){if(D.shadowDom&&ma&&1&Te.$flags$){const ct=D.mode?ql(k.shadowRoot,Te,k.getAttribute("s-mode")):ql(k.shadowRoot,Te);k.classList.remove(ct+"-h",ct+"-s")}((k,ne,Te,Me)=>{const it=Ko("hydrateClient",ne),ct=k.shadowRoot,Tt=[],Bt=D.shadowDom&&ct?[]:null,Vt=Me.$vnode$=Oi(ne,null);Mn.$orgLocNodes$||Lo(Pr.body,Mn.$orgLocNodes$=new Map),k[Vu]=Te,k.removeAttribute(Vu),ed(Vt,Tt,[],Bt,k,k,Te),Tt.map(Ot=>{const sn=Ot.$hostId$+"."+Ot.$nodeId$,Wn=Mn.$orgLocNodes$.get(sn),Bn=Ot.$elm$;Wn&&ma&&""===Wn["s-en"]&&Wn.parentNode.insertBefore(Bn,Wn.nextSibling),ct||(Bn["s-hn"]=ne,Wn&&(Bn["s-ol"]=Wn,Bn["s-ol"]["s-nr"]=Bn)),Mn.$orgLocNodes$.delete(sn)}),D.shadowDom&&ct&&Bt.map(Ot=>{Ot&&ct.appendChild(Ot)}),it()})(k,Te.$tagName$,it,ne)}if(D.slotRelocation&&!it&&(D.hydrateServerSide||(D.slot||D.shadowDom)&&12&Te.$flags$)&&_r(k),D.asyncLoading){let ct=k;for(;ct=ct.parentNode||ct.host;)if(D.hydrateClientSide&&1===ct.nodeType&&ct.hasAttribute("s-id")&&ct["s-p"]||ct["s-p"]){zu(ne,ne.$ancestorComponent$=ct);break}}D.prop&&!D.hydrateServerSide&&Te.$members$&&Object.entries(Te.$members$).map(([ct,[Tt]])=>{if(31&Tt&&k.hasOwnProperty(ct)){const Nt=k[ct];delete k[ct],k[ct]=Nt}}),D.initializeNextTick?Ml(()=>Ju(k,ne,Te)):Ju(k,ne,Te)}Me()}})(this),D.connectedCallback&&Me&&Me.call(this)},disconnectedCallback(){dd(this),D.disconnectedCallback&&it&&it.call(this)},__attachShadow(){ma?this.attachShadow(D.shadowDelegatesFocus?{mode:"open",delegatesFocus:!!(16&Te.$flags$)}:{mode:"open"}):this.shadowRoot=this}}),k.is=Te.$tagName$,ha(k,Te,3)},df=(k,ne)=>ne,gl=(k,ne,Te,Me)=>{D.hostListener&&Te&&(D.hostListenerTargetParent&&(Te=Te.filter(Me?([it])=>32&it:([it])=>!(32&it))),Te.map(([it,ct,Tt])=>{const Nt=D.hostListenerTarget?ch(k,it):k,Bt=Ri(ne,Tt),Vt=Xu(it);Mn.ael(Nt,ct,Bt,Vt),(ne.$rmListeners$=ne.$rmListeners$||[]).push(()=>Mn.rel(Nt,ct,Bt,Vt))}))},Ri=(k,ne)=>Te=>{try{D.lazyLoad?256&k.$flags$?k.$lazyInstance$[ne](Te):(k.$queuedListeners$=k.$queuedListeners$||[]).push([ne,Te]):k.$hostElement$[ne](Te)}catch(Me){Ba(Me)}},ch=(k,ne)=>D.hostListenerTargetDocument&&4&ne?Pr:D.hostListenerTargetWindow&&8&ne?Yr:D.hostListenerTargetBody&&16&ne?Pr.body:D.hostListenerTargetParent&&32&ne?k.parentElement:k,Xu=k=>ec?{passive:!!(1&k),capture:!!(2&k)}:!!(2&k),uu=D.hotModuleReplacement?window.__STENCIL_HOSTREFS__||(window.__STENCIL_HOSTREFS__=new WeakMap):new WeakMap,Bo=k=>uu.get(k),hm=(k,ne)=>{const Te={$flags$:0,$hostElement$:k,$cmpMeta$:ne,$instanceValues$:new Map};return D.isDev&&(Te.$renderCount$=0),D.method&&D.lazyLoad&&(Te.$onInstancePromise$=new Promise(Me=>Te.$onInstanceResolve$=Me)),D.asyncLoading&&(Te.$onReadyPromise$=new Promise(Me=>Te.$onReadyResolve$=Me),k["s-p"]=[],k["s-rc"]=[]),gl(k,Te,ne.$listeners$,!1),uu.set(k,Te)},pm=(k,ne)=>ne in k,Ba=(k,ne)=>(0,console.error)(k,ne),hd=D.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],cu=(...k)=>console.error(...hd,...k),ps=(...k)=>console.warn(...hd,...k),so=new Map,Fo=(k,ne,Te)=>{const Me=k.$tagName$.replace(/-/g,"_"),it=k.$lazyBundleId$;if(D.isDev&&"string"!=typeof it)return void cu(`Trying to lazily load component <${k.$tagName$}> with style mode "${ne.$modeName$}", but it does not exist.`);const ct=!D.hotModuleReplacement&&so.get(it);return ct?ct[Me]:v(3199)(`./${it}.entry.js${D.hotModuleReplacement&&Te?"?s-hmr="+Te:""}`).then(Tt=>(D.hotModuleReplacement||so.set(it,Tt),Tt[Me]),Ba)},fo=new Map,yl=[],Yr=typeof window<"u"?window:{},Pr=Yr.document||{head:{}},fa=Yr.HTMLElement||class{},Mn={$flags$:0,$resourcesUrl$:"",jmp:k=>k(),raf:k=>requestAnimationFrame(k),ael:(k,ne,Te,Me)=>k.addEventListener(ne,Te,Me),rel:(k,ne,Te,Me)=>k.removeEventListener(ne,Te,Me),ce:(k,ne)=>new CustomEvent(k,ne)},ma=!D.shadowDomShim||!D.shadowDom||(Pr.head.attachShadow+"").indexOf("[native")>-1,ec=(()=>{let k=!1;try{Pr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){k=!0}}))}catch{}return k})(),du=!!D.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),_l=0,Li=!1,Fa=[],vl=[],ga=[],pd=(k,ne)=>Te=>{k.push(Te),Li||(Li=!0,ne&&4&Mn.$flags$?Ml(tc):Mn.raf(tc))},El=k=>{for(let ne=0;ne<k.length;ne++)try{k[ne](performance.now())}catch(Te){Ba(Te)}k.length=0},sr=(k,ne)=>{let Te=0,Me=0;for(;Te<k.length&&(Me=performance.now())<ne;)try{k[Te++](Me)}catch(it){Ba(it)}Te===k.length?k.length=0:0!==Te&&k.splice(0,Te)},tc=()=>{if(D.asyncQueue&&_l++,El(Fa),D.asyncQueue){const k=2==(6&Mn.$flags$)?performance.now()+14*Math.ceil(.1*_l):1/0;sr(vl,k),sr(ga,k),vl.length>0&&(ga.push(...vl),vl.length=0),(Li=Fa.length+vl.length+ga.length>0)?Mn.raf(tc):_l=0}else El(vl),(Li=Fa.length>0)&&Mn.raf(tc)},Ml=k=>Promise.resolve(void 0).then(k),ya=pd(Fa,!1),hh=pd(vl,!0)},3199:et=>{function Ae(v){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+v+"'");throw E.code="MODULE_NOT_FOUND",E})}Ae.keys=()=>[],Ae.resolve=Ae,Ae.id=3199,et.exports=Ae},4360:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{default:()=>ye});var E=v(10467),D=v(8189),W=v(89563),B=v(31178),P=v(5605),H=v(71065),j=v(77806),$=v(55098),S=v(4879),I=v(35150),O=v(11432),U=v(56492),N=v(45272),J=v(85211),L=(v(3248),v(76576)),C=v(50305),b=v(32034),x=v(73874),R=v(46577),w=v(37361),K=v(98877),ue=(v(40707),v(88996));const ee=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let te=class extends K.A{constructor(q){super(q),this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const q=(0,ue.JK)().toLowerCase();switch(q){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const re=(0,ue.Z0)(q);return"pt"===re?"pt-BR":re&&ee.has(re)?re:"global"}};(0,D._)([(0,J.MZ)()],te.prototype,"id",void 0),(0,D._)([(0,J.MZ)()],te.prototype,"language",void 0),(0,D._)([(0,J.MZ)()],te.prototype,"places",void 0),(0,D._)([(0,J.MZ)()],te.prototype,"serviceUrl",void 0),(0,D._)([(0,J.MZ)()],te.prototype,"worldview",void 0),te=(0,D._)([(0,L.$)("esri.support.BasemapStyle")],te);const pe=te;var de,ae=v(85263);let ve=0,G=de=class extends((0,H.Te)($.A)){constructor(q){super(q),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+ve++,this.baseLayers=new B.A,this.referenceLayers=new B.A;const re=oe=>{oe.parent&&oe.parent!==this&&"remove"in oe.parent&&oe.parent.remove(oe),oe.parent=this,"elevation"===oe.type&&I.A.getLogger(this).error(`Layer '${oe.title}, id:${oe.id}' of type '${oe.type}' is not supported as a basemap layer and will therefore be ignored.`)},ce=oe=>{oe.parent=null};this.addHandles([this.baseLayers.on("after-add",oe=>re(oe.item)),this.referenceLayers.on("after-add",oe=>re(oe.item)),this.baseLayers.on("after-remove",oe=>ce(oe.item)),this.referenceLayers.on("after-remove",oe=>ce(oe.item))])}initialize(){this.when().catch(q=>{I.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,q)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const q=this.baseLayers.toArray();for(const ce of q)ce.destroy();const re=this.referenceLayers.toArray();for(const ce of re)ce.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,O.pR)(this.portalItem)}normalizeCtorArgs(q){return q&&"resourceInfo"in q&&(this._set("resourceInfo",q.resourceInfo),delete(q={...q}).resourceInfo),q}set baseLayers(q){this._set("baseLayers",(0,P.V)(q,this._get("baseLayers")))}_writeBaseLayers(q,re,ce){const oe=[];q&&(ce={...ce,layerContainerType:"basemap"},this.baseLayers.forEach(le=>{const Se=(0,ae.CJ)(le,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(le):null,ce);null!=Se&&oe.push(Se)}),this.referenceLayers.forEach(le=>{const Se=(0,ae.CJ)(le,ce.webmap?ce.webmap.getLayerJSONFromResourceInfo(le):null,ce);null!=Se&&("scene"!==le.type&&(Se.isReference=!0),oe.push(Se))})),re.baseMapLayers=oe}set referenceLayers(q){this._set("referenceLayers",(0,P.V)(q,this._get("referenceLayers")))}writeTitle(q,re){re.title=q||"Basemap"}load(q){return this.addResolvingPromise(this._loadFromSource(q)),Promise.resolve(this)}loadAll(){return(0,S.g)(this,q=>{q(this.baseLayers,this.referenceLayers)})}clone(){const q={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(re=>(0,j.Nb)(re)?re.clone():re),referenceLayers:this.referenceLayers.map(re=>(0,j.Nb)(re)?re.clone():re)};return this.loaded&&(q.loadStatus="loaded"),new de({resourceInfo:this.resourceInfo}).set(q)}read(q,re){this.resourceInfo||this._set("resourceInfo",{data:q,context:re}),super.read(q,re)}write(q,re){return q=q||{},re?.origin||(re={origin:"web-map",...re}),super.write(q,re),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(q.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(ce=>{const oe=(0,j.o8)(ce);return oe.url&&(0,N.BQ)(oe.url)&&(oe.url=`https:${oe.url}`),oe.templateUrl&&(0,N.BQ)(oe.templateUrl)&&(oe.templateUrl=`https:${oe.templateUrl}`),oe})),q}_loadFromSource(q){var re=this;return(0,E.A)(function*(){const{resourceInfo:ce,portalItem:oe,style:le}=re;(0,U.Te)(q);const Se=[];ce?(Se.push(re._loadLayersFromJSON(ce.data,ce.context?ce.context.url:null,q)),ce.data.id&&!ce.data.title&&Se.push((0,w.q)(ce.data.id).then(Ie=>{Ie&&re.read({title:Ie},ce.context)}))):oe?Se.push(re._loadFromItem(oe,q)):le&&Se.push(re._loadFromStylesService(le,q)),yield Promise.all(Se)})()}_loadLayersFromJSON(q,re,ce){var oe=this;return(0,E.A)(function*(){const le=oe.resourceInfo?.context,Se=oe.portalItem?.portal||le?.portal||null,se=ie[le?.origin||""]??"web-map",{populateOperationalLayers:Pe}=yield Promise.all([v.e(5565),v.e(2076)]).then(v.bind(v,66323)),Ie=[];if((0,U.Te)(ce),q.baseMapLayers&&Array.isArray(q.baseMapLayers)){const X={context:{...le,origin:se,url:re,portal:Se,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},Ee=_e=>"web-scene"===se&&"ArcGISSceneServiceLayer"===_e.layerType||_e.isReference,Le=Pe(oe.baseLayers,q.baseMapLayers.filter(_e=>!Ee(_e)),X);Ie.push(Le);const Oe=Pe(oe.referenceLayers,q.baseMapLayers.filter(Ee),X);Ie.push(Oe)}yield Promise.allSettled(Ie)})()}_loadFromItem(q,re){var ce=this;return(0,E.A)(function*(){const oe=yield q.load(re),le=yield oe.fetchData("json",re),Se=(0,N.An)(q.itemUrl??"");return ce._set("resourceInfo",{data:le.baseMap??{},context:{origin:fe[q.type||""]??"web-map",portal:q.portal||x.A.getDefault(),url:Se}}),ce.read(ce.resourceInfo.data,ce.resourceInfo.context),ce.read({spatialReference:le.spatialReference},ce.resourceInfo.context),ce.read({title:q.title,thumbnailUrl:q.thumbnailUrl},{origin:"portal-item",portal:q.portal||x.A.getDefault(),url:Se}),ce._loadLayersFromJSON(ce.resourceInfo.data,Se,re)})()}_loadFromStylesService(q,re){var ce=this;return(0,E.A)(function*(){const oe=`${q.serviceUrl}/${q.id}`,le=(yield(0,W.A)(oe,{query:{language:q.getLanguageParamValue(),places:q.places,worldview:q.worldview},signal:re?.signal})).data,Se=(0,N.An)(oe);return ce._set("resourceInfo",{data:le.baseMap??{},context:{origin:"web-map",url:Se}}),ce.read(ce.resourceInfo.data,ce.resourceInfo.context),ce.read({spatialReference:le.spatialReference},ce.resourceInfo.context),ce._loadLayersFromJSON(ce.resourceInfo.data,Se,re)})()}static fromId(q){const re=w.H[q];return re?re.itemId?new de({portalItem:{id:re.itemId,portal:{url:"https://www.arcgis.com"}}}):de.fromJSON(re,{origin:re.is3d?"web-scene":"web-map"}):null}};(0,D._)([(0,J.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(q,re,ce,oe){this._writeBaseLayers(q,re,oe)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:B.A}},writer(q,re,ce,oe){this._writeBaseLayers(q,re,oe)}}}}}})],G.prototype,"baseLayers",null),(0,D._)([(0,J.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],G.prototype,"id",void 0),(0,D._)([(0,J.MZ)({type:R.default})],G.prototype,"portalItem",void 0),(0,D._)([(0,J.MZ)()],G.prototype,"referenceLayers",null),(0,D._)([(0,J.MZ)({readOnly:!0})],G.prototype,"resourceInfo",void 0),(0,D._)([(0,J.MZ)({type:b.A})],G.prototype,"spatialReference",void 0),(0,D._)([(0,J.MZ)({type:pe})],G.prototype,"style",void 0),(0,D._)([(0,J.MZ)()],G.prototype,"thumbnailUrl",void 0),(0,D._)([(0,J.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],G.prototype,"title",void 0),(0,D._)([(0,C.K)("title")],G.prototype,"writeTitle",null),G=de=(0,D._)([(0,L.$)("esri.Basemap")],G);const fe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ie={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},ye=G},68677:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>$});var S,I,E=v(27980),D=v(69287),W=v(55739);function B(S){return(0,D.qE)((0,W.Vr)(S),0,255)}function P(S,I,O){return S=Number(S),isNaN(S)?O:S<I?I:S>O?O:S}function H(S,I){const O=S.toString(16).padStart(2,"0");return I?O.substring(0,1):O}class j{static blendColors(I,O,U,N=new j){return N.r=Math.round(I.r+(O.r-I.r)*U),N.g=Math.round(I.g+(O.g-I.g)*U),N.b=Math.round(I.b+(O.b-I.b)*U),N.a=I.a+(O.a-I.a)*U,N._sanitize()}static fromRgb(I,O){const U=I.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(U){const N=U[2].split(/\s*,\s*/),J=U[1];if("rgb"===J&&3===N.length||"rgba"===J&&4===N.length){const Z=N[0];if("%"===Z.charAt(Z.length-1)){const L=N.map(C=>2.56*parseFloat(C));return 4===N.length&&(L[3]=parseFloat(N[3])),j.fromArray(L,O)}return j.fromArray(N.map(L=>parseFloat(L)),O)}if("hsl"===J&&3===N.length||"hsla"===J&&4===N.length)return j.fromArray((0,E.z$)(parseFloat(N[0]),parseFloat(N[1])/100,parseFloat(N[2])/100,parseFloat(N[3])),O)}return null}static fromHex(I,O=new j){if("#"!==I[0]||isNaN(+`0x${I.substring(1)}`))return null;switch(I.length){case 4:case 5:{const U=parseInt(I.substring(1,2),16),N=parseInt(I.substring(2,3),16),J=parseInt(I.substring(3,4),16),Z=5===I.length?15:parseInt(I.substring(4),16);return j.fromArray([U+16*U,N+16*N,J+16*J,(Z+16*Z)/255],O)}case 7:case 9:{const U=parseInt(I.substring(1,3),16),N=parseInt(I.substring(3,5),16),J=parseInt(I.substring(5,7),16),Z=7===I.length?255:parseInt(I.substring(7),16);return j.fromArray([U,N,J,Z/255],O)}default:return null}}static fromArray(I,O=new j){return O._set(Number(I[0]),Number(I[1]),Number(I[2]),Number(I[3])),isNaN(O.a)&&(O.a=1),O._sanitize()}static fromString(I,O){const U=(0,E.V6)(I)?(0,E.TS)(I):null;return U&&j.fromArray(U,O)||j.fromRgb(I,O)||j.fromHex(I,O)}static fromJSON(I){return null!=I?new j([I[0],I[1],I[2],(I[3]??255)/255]):void 0}static toUnitRGB(I){return null!=I?[I.r/255,I.g/255,I.b/255]:null}static toUnitRGBA(I){return null!=I?[I.r/255,I.g/255,I.b/255,null!=I.a?I.a:1]:null}constructor(I){this.r=255,this.g=255,this.b=255,this.a=1,I&&this.setColor(I)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(I){return"string"==typeof I?j.fromString(I,this):Array.isArray(I)?j.fromArray(I,this):(this._set(I.r??0,I.g??0,I.b??0,I.a??1),I instanceof j||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(I){const O=I?.capitalize??!1,U=I?.digits??6,N=3===U||4===U,J=4===U||8===U,Z=`#${H(this.r,N)}${H(this.g,N)}${H(this.b,N)}${J?H(Math.round(255*this.a),N):""}`;return O?Z.toUpperCase():Z}toCss(I=!1){const O=this.r+", "+this.g+", "+this.b;return I?`rgba(${O}, ${this.a})`:`rgb(${O})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(I=j.AlphaMode.ALWAYS){const O=B(this.r),U=B(this.g),N=B(this.b);return I===j.AlphaMode.ALWAYS||1!==this.a?[O,U,N,B(255*this.a)]:[O,U,N]}clone(){return new j(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(I){return null!=I&&I.r===this.r&&I.g===this.g&&I.b===this.b&&I.a===this.a}_sanitize(){return this.r=Math.round(P(this.r,0,255)),this.g=Math.round(P(this.g,0,255)),this.b=Math.round(P(this.b,0,255)),this.a=P(this.a,0,1),this}_set(I,O,U,N){this.r=I,this.g=O,this.b=U,this.a=N}}j.prototype.declaredClass="esri.Color",(I=(S=j||(j={})).AlphaMode||(S.AlphaMode={}))[I.ALWAYS=0]="ALWAYS",I[I.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const $=j},81098:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>x});var Z,E=v(8189),D=v(21152),W=v(92165),B=v(47280),P=v(90660),H=v(71065),j=v(48900),$=v(33894),S=v(85211),N=(v(3248),v(35150),v(40707),v(76576)),J=v(61320);function C(R){if(null==R)return null;const w={};for(const K in R){const V=R[K];V&&(w[K]=V.toJSON())}return 0!==Object.keys(w).length?w:null}let b=Z=class extends((0,P.O)(H.oY)){constructor(R){super(R),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,$.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(R){const w=this._get("aggregateGeometries");JSON.stringify(w)!==JSON.stringify(R)&&this._set("aggregateGeometries",R)}set attributes(R){const w=this._get("attributes");w!==R&&(this._set("attributes",R),this._notifyLayer("attributes",w,R))}set geometry(R){const w=this._get("geometry");w!==R&&(this._set("geometry",R),"mesh"!==R?.type&&this._notifyLayer("geometry",w,R))}set symbol(R){const w=this._get("symbol");w!==R&&(this._set("symbol",R),this._notifyLayer("symbol",w,R))}set visible(R){const w=this._get("visible");w!==R&&(this._set("visible",R),this._notifyLayer("visible",w,R))}cloneShallow(){return new Z({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(R=!1){if(this.popupTemplate)return this.popupTemplate;const w=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const K of[w,this.sourceLayer,this.layer])if(K){if("popupTemplate"in K&&K.popupTemplate)return K.popupTemplate;if(R&&"defaultPopupTemplate"in K&&null!=K.defaultPopupTemplate)return K.defaultPopupTemplate}return null}getAttribute(R){return this.attributes?.[R]}setAttribute(R,w){if(this.attributes){const K=this.getAttribute(R);this.attributes[R]=w,this._notifyLayer("attributes",K,w,R)}else this.attributes={[R]:w},this._notifyLayer("attributes",void 0,w,R)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:C(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,H.Wj)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(R={}){const{geometry:w}=this;if("mesh"===w?.type){const K={origin:w.origin,transform:w.transform};this._notifyLayer("origin-transform",K,K,R.action)}}_notifyLayer(R,w,K,V){if(!this.layer||!("graphicChanged"in this.layer))return;const ue={graphic:this,property:R,oldValue:w,newValue:K};"origin-transform"===R&&(ue.action=V),"attributes"===R&&(ue.attributeName=V),this.layer.graphicChanged(ue)}_watchMeshGeometryChanges(){this.addHandles([(0,j.z7)(()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:R,origin:w})=>{this._lastMeshTransform.localMatrix===R&&this._lastMeshTransform.origin===w||(this._lastMeshTransform.localMatrix=R,this._lastMeshTransform.origin=w,this.notifyMeshTransformChanged())}),(0,j.z7)(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const R=this.geometry;"mesh"===R?.type&&R.vertexSpace.origin?(this._lastMeshTransform.localMatrix=R.transform?.localMatrix,this._lastMeshTransform.origin=R.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(R,w)=>R===w,sync:!0})])}};(0,E._)([(0,S.MZ)({value:null,json:{read:function L(R){if(!R)return null;const w={};for(const K in R){const V=(0,J.rS)(R[K]);V&&(w[K]=V)}return 0!==Object.keys(w).length?w:null}}})],b.prototype,"aggregateGeometries",null),(0,E._)([(0,S.MZ)({value:null})],b.prototype,"attributes",null),(0,E._)([(0,S.MZ)({value:null,types:D.yR,json:{read:J.rS}})],b.prototype,"geometry",null),(0,E._)([(0,S.MZ)({type:Boolean})],b.prototype,"isAggregate",void 0),(0,E._)([(0,S.MZ)({clonable:"reference"})],b.prototype,"layer",void 0),(0,E._)([(0,S.MZ)({clonable:"reference"})],b.prototype,"origin",void 0),(0,E._)([(0,S.MZ)({type:W.A})],b.prototype,"popupTemplate",void 0),(0,E._)([(0,S.MZ)({clonable:"reference"})],b.prototype,"sourceLayer",void 0),(0,E._)([(0,S.MZ)({value:null,types:B.Es})],b.prototype,"symbol",null),(0,E._)([(0,S.MZ)({type:Boolean,value:!0})],b.prototype,"visible",null),b=Z=(0,E._)([(0,N.$)("esri.Graphic")],b),(b||(b={})).generateUID=$.c;const x=b},31336:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>de});var K,E=v(10467),D=v(8189),W=v(68677),B=v(31178),P=v(5605),H=v(69690),j=v(5922),$=v(71065),S=v(77806),I=v(55098),O=v(4879),U=v(35150),N=v(11432),J=v(56492),Z=v(85211),L=v(55739),C=v(76576),b=v(50305),w=(v(3248),v(40707),v(15463));let V=K=class extends $.oY{constructor(ve){super(ve),this.type="none"}clone(){return new K({type:this.type})}};(0,D._)([(0,w.e)({none:"none",stayAbove:"stay-above"})],V.prototype,"type",void 0),V=K=(0,D._)([(0,C.$)("esri.ground.NavigationConstraint")],V);var ee,ue=v(46873);let te=ee=class extends((0,$.Te)(I.A)){constructor(ve){super(ve),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new B.A;const G=ie=>{ie.parent&&ie.parent!==this&&"remove"in ie.parent&&ie.parent.remove(ie),ie.parent=this,"elevation"!==ie.type&&"base-elevation"!==ie.type&&U.A.getLogger(this).error(`Layer '${ie.title}, id:${ie.id}' of type '${ie.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",ie=>G(ie.item)),this.layers.on("after-remove",ie=>(ie=>{ie.parent=null})(ie.item))])}initialize(){this.when().catch(ve=>{(0,J.zf)(ve)||U.A.getLogger(this).error("#load()","Failed to load ground",ve)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const ve=this.layers.removeAll();for(const G of ve)(0,N.pR)(G);this.layers.destroy()}normalizeCtorArgs(ve){return ve&&"resourceInfo"in ve&&(this._set("resourceInfo",ve.resourceInfo),delete(ve={...ve}).resourceInfo),ve}set layers(ve){this._set("layers",(0,P.V)(ve,this._get("layers")))}writeLayers(ve,G,fe,ie){const ye=[];ve&&(ie={...ie,layerContainerType:"ground"},ve.forEach(q=>{if("write"in q){const re={};(0,H.GB)(q)().write(re,ie)&&ye.push(re)}else ie?.messages&&ie.messages.push(new j.A("layer:unsupported",`Layers (${q.title}, ${q.id}) of type '${q.declaredClass}' cannot be persisted in the ground`,{layer:q}))})),G.layers=ye}load(ve){return this.addResolvingPromise(this._loadFromSource(ve)),Promise.resolve(this)}loadAll(){return(0,O.g)(this,ve=>{ve(this.layers)})}queryElevation(ve,G){var fe=this;return(0,E.A)(function*(){yield fe.load({signal:G?.signal});const{ElevationQuery:ie}=yield Promise.all([v.e(2076),v.e(4164)]).then(v.bind(v,24164));(0,J.Te)(G);const ye=new ie,q=fe.layers.filter(ae).toArray();return ye.queryAll(q,ve,G)})()}createElevationSampler(ve,G){var fe=this;return(0,E.A)(function*(){yield fe.load({signal:G?.signal});const{ElevationQuery:ie}=yield Promise.all([v.e(2076),v.e(4164)]).then(v.bind(v,24164));(0,J.Te)(G);const ye=new ie,q=fe.layers.filter(ae).toArray();return ye.createSamplerAll(q,ve,G)})()}clone(){const ve={opacity:this.opacity,surfaceColor:(0,S.o8)(this.surfaceColor),navigationConstraint:(0,S.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(ve.loadStatus="loaded"),new ee({resourceInfo:this.resourceInfo}).set(ve)}read(ve,G){this.resourceInfo||this._set("resourceInfo",{data:ve,context:G}),super.read(ve,G)}_loadFromSource(ve){const G=this.resourceInfo;return G?this._loadLayersFromJSON(G.data,G.context,ve):Promise.resolve()}_loadLayersFromJSON(ve,G,fe){var ie=this;return(0,E.A)(function*(){const ye=G?.origin||"web-scene",q=G?.portal||null,re=G?.url||null,{populateOperationalLayers:ce}=yield Promise.all([v.e(5565),v.e(2076)]).then(v.bind(v,66323));(0,J.Te)(fe);const oe=[];ve.layers&&Array.isArray(ve.layers)&&oe.push(ce(ie.layers,ve.layers,{context:{origin:ye,url:re,portal:q,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),yield Promise.allSettled(oe)})()}};function ae(ve){return"elevation"===ve.type||function pe(ve){return ve&&"createElevationSampler"in ve}(ve)}(0,D._)([(0,Z.MZ)({json:{read:!1}})],te.prototype,"layers",null),(0,D._)([(0,b.K)("layers")],te.prototype,"writeLayers",null),(0,D._)([(0,Z.MZ)({readOnly:!0})],te.prototype,"resourceInfo",void 0),(0,D._)([(0,Z.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:L.jz,read:{reader:ue.D,source:"transparency"},write:{writer:(ve,G)=>{G.transparency=(0,ue.p)(ve)},target:"transparency"}}})],te.prototype,"opacity",void 0),(0,D._)([(0,Z.MZ)({type:W.A,json:{type:[L.jz],write:(ve,G)=>{G.surfaceColor=ve.toJSON().slice(0,3)}}})],te.prototype,"surfaceColor",void 0),(0,D._)([(0,Z.MZ)({type:V,json:{write:!0}})],te.prototype,"navigationConstraint",void 0),te=ee=(0,D._)([(0,C.$)("esri.Ground")],te);const de=te},92165:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Oe});var E=v(10467),D=v(8189),W=v(90660),B=v(31178),P=v(71065),H=v(77806),j=v(35150),$=v(56492),S=v(85211),I=v(48669),O=v(17221),U=v(76576),N=v(50305),J=v(55739),Z=v(86300),L=v(54042),C=v(75432),b=v(65121),x=v(558),R=v(8975),w=v(90792),K=v(83902),V=v(98089);const ee={base:null,key:"type",typeMap:{attachment:L.A,media:w.A,text:V.A,expression:x.A,field:R.A,relationship:K.A}};var ve,te=v(26025),pe=v(61099);v(3248),v(40707);let G=ve=class extends P.oY{constructor(_e){super(_e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new ve({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,D._)([(0,S.MZ)({type:Boolean,json:{write:!0}})],G.prototype,"returnTopmostRaster",void 0),(0,D._)([(0,S.MZ)({type:Boolean,json:{write:!0}})],G.prototype,"showNoDataRecords",void 0),G=ve=(0,D._)([(0,U.$)("esri.popup.LayerOptions")],G);const fe=G;var ye,ie=v(61852);let q=ye=class extends P.oY{constructor(_e){super(_e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ye({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,H.o8)(this.orderByFields):null})}};(0,D._)([(0,S.MZ)({type:Boolean,json:{write:!0}})],q.prototype,"showRelatedRecords",void 0),(0,D._)([(0,S.MZ)({type:[ie.A],json:{write:!0}})],q.prototype,"orderByFields",void 0),q=ye=(0,D._)([(0,U.$)("esri.popup.RelatedRecordsInfo")],q);const re=q;var ce=v(47272),oe=v(52491),le=v(11342),Se=v(41866);const se="relationships/",Pe="expression/",Ie=B.A.ofType({key:"type",defaultKeyValue:"button",base:oe.A,typeMap:{button:le.A,toggle:Se.A}}),X={base:C.A,key:"type",typeMap:{media:w.A,custom:b.A,text:V.A,attachments:L.A,fields:R.A,expression:x.A,relationship:K.A}},Ee=new Set(["attachments","fields","media","text","expression","relationship"]);let Le=class extends((0,W.O)(P.oY)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(_e){return Array.isArray(_e)?_e.map(we=>(0,J.aq)(X,we)):"string"==typeof _e||"function"==typeof _e||_e instanceof HTMLElement||(0,$.$X)(_e)?_e:(j.A.getLogger(this).error("content error","unsupported content value",{value:_e}),null)}readContent(_e,we){const{popupElements:ke}=we;return Array.isArray(ke)&&ke.length>0?this._readPopupInfoElements(we.description,we.mediaInfos,ke):this._readPopupInfo(we)}writeContent(_e,we,ke,Xe){"string"!=typeof _e?Array.isArray(_e)&&(we.popupElements=_e.filter(Q=>Ee.has(Q.type)).map(Q=>Q?.toJSON(Xe)),we.popupElements.forEach(Q=>{"attachments"===Q.type?this._writeAttachmentContent(we):"media"===Q.type?this._writeMediaContent(Q,we):"text"===Q.type?this._writeTextContent(Q,we):"relationship"===Q.type&&this._writeRelationshipContent(Q,we)})):we.description=_e}writeFieldInfos(_e,we,ke,Xe){const{content:Q}=this,De=Array.isArray(Q)?Q:null;if(_e){const Ke=De?De.filter(rt=>"fields"===rt.type):[],Ye=Ke.length&&Ke.every(rt=>rt.fieldInfos?.length);we.fieldInfos=_e.filter(Boolean).map(rt=>{const lt=rt.toJSON(Xe);return Ye&&(lt.visible=!1),lt})}if(De)for(const Ke of De)"fields"===Ke.type&&this._writeFieldsContent(Ke,we)}writeLayerOptions(_e,we,ke,Xe){we[ke]=!_e||null===_e.showNoDataRecords&&null===_e.returnTopmostRaster?null:_e.toJSON(Xe)}writeTitle(_e,we){we.title=_e||""}collectRequiredFields(_e,we){var ke=this;return(0,E.A)(function*(){const Xe=ke.expressionInfos||[];yield ke._collectExpressionInfoFields(_e,we,[...Xe,...ke._getContentExpressionInfos(ke.content,Xe)]),(0,Z._w)(_e,we,[...ke.outFields||[],...ke._getActionsFields(ke.actions),...ke._getTitleFields(ke.title),...ke._getContentFields(ke.content)])})()}getRequiredFields(_e){var we=this;return(0,E.A)(function*(){const ke=new Set;return yield we.collectRequiredFields(ke,_e),[...ke].sort()})()}_writeFieldsContent(_e,we){if(!Array.isArray(_e.fieldInfos)||!_e.fieldInfos.length)return;const ke=(0,H.o8)(_e.fieldInfos);Array.isArray(we.fieldInfos)?ke.forEach(Xe=>{const Q=we.fieldInfos.find(De=>De.fieldName?.toLowerCase()===Xe.fieldName?.toLowerCase());Q?Q.visible=!0:we.fieldInfos.push(Xe)}):we.fieldInfos=ke}_writeAttachmentContent(_e){_e.showAttachments||(_e.showAttachments=!0)}_writeRelationshipContent(_e,we){const ke=_e.orderByFields?.map(Q=>this._toFieldOrderJSON(Q,_e.relationshipId))||[],Xe=[...we.relatedRecordsInfo?.orderByFields||[],...ke];we.relatedRecordsInfo={showRelatedRecords:!0,...Xe?.length&&{orderByFields:Xe}}}_writeTextContent(_e,we){!we.description&&_e.text&&(we.description=_e.text)}_writeMediaContent(_e,we){if(!Array.isArray(_e.mediaInfos)||!_e.mediaInfos.length)return;const ke=(0,H.o8)(_e.mediaInfos);we.mediaInfos=Array.isArray(we.mediaInfos)?[...we.mediaInfos,...ke]:ke}_readPopupInfoElements(_e,we,ke){const Xe={description:!1,mediaInfos:!1};return ke.map(Q=>"media"===Q.type?(Q.mediaInfos||!we||Xe.mediaInfos||(Q.mediaInfos=we,Xe.mediaInfos=!0),w.A.fromJSON(Q)):"text"===Q.type?(Q.text||!_e||Xe.description||(Q.text=_e,Xe.description=!0),V.A.fromJSON(Q)):"attachments"===Q.type?L.A.fromJSON(Q):"fields"===Q.type?R.A.fromJSON(Q):"expression"===Q.type?x.A.fromJSON(Q):"relationship"===Q.type?K.A.fromJSON(Q):void 0).filter(Boolean)}_toRelationshipContent(_e){const{field:we,order:ke}=_e;if(!we?.startsWith(se))return null;const Xe=we.replace(se,"").split("/");if(2!==Xe.length)return null;const Q=parseInt(Xe[0],10),De=Xe[1];return"number"==typeof Q&&De?K.A.fromJSON({relationshipId:Q,orderByFields:[{field:De,order:ke}]}):null}_toFieldOrderJSON(_e,we){const{order:ke,field:Xe}=_e;return{field:`${se}${we}/${Xe}`,order:ke}}_readPopupInfo({description:_e,mediaInfos:we,showAttachments:ke,relatedRecordsInfo:Xe={showRelatedRecords:!1}}){const Q=[];Q.push(_e?new V.A({text:_e}):new R.A),Array.isArray(we)&&we.length&&Q.push(w.A.fromJSON({mediaInfos:we})),ke&&Q.push(L.A.fromJSON({displayType:"auto"}));const{showRelatedRecords:De,orderByFields:Ke}=Xe;return De&&Ke?.length&&Ke.forEach(Ye=>{const rt=this._toRelationshipContent(Ye);rt&&Q.push(rt)}),Q.length?Q:_e}_getContentElementFields(_e){const we=_e?.type;if("attachments"===we)return[...this._extractFieldNames(_e.title),...this._extractFieldNames(_e.description)];if("custom"===we)return _e.outFields||[];if("fields"===we)return[...this._extractFieldNames(_e.title),...this._extractFieldNames(_e.description),...this._getFieldInfoFields(_e.fieldInfos??this.fieldInfos)];if("media"===we){const ke=_e.mediaInfos||[];return[...this._extractFieldNames(_e.title),...this._extractFieldNames(_e.description),...ke.reduce((Xe,Q)=>[...Xe,...this._getMediaInfoFields(Q)],[])]}return"text"===we?this._extractFieldNames(_e.text):[]}_getMediaInfoFields(_e){const{caption:we,title:ke,value:Xe}=_e,Q=Xe||{},{fields:De,normalizeField:Ke,tooltipField:Ye,sourceURL:rt,linkURL:lt}=Q,_t=[...this._extractFieldNames(ke),...this._extractFieldNames(we),...this._extractFieldNames(rt),...this._extractFieldNames(lt),...De??[]];return Ke&&_t.push(Ke),Ye&&_t.push(Ye),_t}_getContentExpressionInfos(_e,we){return Array.isArray(_e)?_e.reduce((ke,Xe)=>[...ke,..."expression"===Xe.type&&Xe.expressionInfo?[Xe.expressionInfo]:[]],we):[]}_getContentFields(_e){return"string"==typeof _e?this._extractFieldNames(_e):Array.isArray(_e)?_e.reduce((we,ke)=>[...we,...this._getContentElementFields(ke)],[]):[]}_collectExpressionInfoFields(_e,we,ke){return(0,E.A)(function*(){ke&&(yield Promise.all(ke.map(Xe=>(0,Z.Dx)(_e,we,Xe.expression))))})()}_getFieldInfoFields(_e){return _e?_e.filter(({fieldName:we,visible:ke})=>!(void 0!==ke&&!ke||!we||we.startsWith(se)||we.startsWith(Pe))).map(we=>we.fieldName):[]}_getActionsFields(_e){return _e?_e.toArray().reduce((we,ke)=>[...we,...this._getActionFields(ke)],[]):[]}_getActionFields(_e){const{className:we,title:ke,type:Xe}=_e,Q="button"===Xe||"toggle"===Xe?_e.image:"";return[...this._extractFieldNames(ke),...this._extractFieldNames(we),...this._extractFieldNames(Q)]}_getTitleFields(_e){return"string"==typeof _e?this._extractFieldNames(_e):[]}_extractFieldNames(_e){return(0,Z.nw)(_e).filter(we=>!(0===we.indexOf(se)||0===we.indexOf(Pe)))}};(0,D._)([(0,S.MZ)({type:Ie})],Le.prototype,"actions",void 0),(0,D._)([(0,S.MZ)()],Le.prototype,"content",void 0),(0,D._)([(0,I.w)("content")],Le.prototype,"castContent",null),(0,D._)([(0,O.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Le.prototype,"readContent",null),(0,D._)([(0,N.K)("content",{popupElements:{type:B.A.ofType(ee)},showAttachments:{type:Boolean},mediaInfos:{type:B.A.ofType(ce.g)},description:{type:String},relatedRecordsInfo:{type:re}})],Le.prototype,"writeContent",null),(0,D._)([(0,S.MZ)({type:[te.A],json:{write:!0}})],Le.prototype,"expressionInfos",void 0),(0,D._)([(0,S.MZ)({type:[pe.A]})],Le.prototype,"fieldInfos",void 0),(0,D._)([(0,N.K)("fieldInfos")],Le.prototype,"writeFieldInfos",null),(0,D._)([(0,S.MZ)({type:fe})],Le.prototype,"layerOptions",void 0),(0,D._)([(0,N.K)("layerOptions")],Le.prototype,"writeLayerOptions",null),(0,D._)([(0,S.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Le.prototype,"lastEditInfoEnabled",void 0),(0,D._)([(0,S.MZ)()],Le.prototype,"outFields",void 0),(0,D._)([(0,S.MZ)()],Le.prototype,"overwriteActions",void 0),(0,D._)([(0,S.MZ)()],Le.prototype,"returnGeometry",void 0),(0,D._)([(0,S.MZ)({json:{type:String}})],Le.prototype,"title",void 0),(0,D._)([(0,N.K)("title")],Le.prototype,"writeTitle",null),Le=(0,D._)([(0,U.$)("esri.PopupTemplate")],Le);const Oe=Le},12849:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var U,E=v(8189),D=v(71065),W=v(97442),B=v(85211),$=(v(3248),v(35150),v(40707),v(17221)),S=v(76576),I=v(50305),O=v(22639);let N=U=class extends D.oY{static get allTime(){return J}static get empty(){return Z}static fromArray(C){return new U({start:null!=C[0]?new Date(C[0]):C[0],end:null!=C[1]?new Date(C[1]):C[1]})}constructor(C){super(C),this.end=null,this.start=null}readEnd(C,b){return null!=b.end?new Date(b.end):null}writeEnd(C,b){b.end=C?.getTime()??null}get isAllTime(){return this.equals(U.allTime)}get isEmpty(){return this.equals(U.empty)}readStart(C,b){return null!=b.start?new Date(b.start):null}writeStart(C,b){b.start=C?.getTime()??null}clone(){return new U({end:this.end,start:this.start})}equals(C){if(!C)return!1;const b=this.start?.getTime()??this.start,x=this.end?.getTime()??this.end,R=C.start?.getTime()??C.start,w=C.end?.getTime()??C.end;return b===R&&x===w}expandTo(C,b=O.qU){if(this.isEmpty||this.isAllTime)return this.clone();let x=this.start;x&&(x=(0,W.lL)(x,C,b));let R=this.end;if(R){const w=(0,W.lL)(R,C,b);R=R.getTime()===w.getTime()?w:(0,W.S1)(w,1,C,b)}return new U({start:x,end:R})}intersection(C){if(!C)return this.clone();if(this.isEmpty||C.isEmpty)return U.empty;if(this.isAllTime)return C.clone();if(C.isAllTime)return this.clone();const b=this.start?.getTime()??-1/0,x=this.end?.getTime()??1/0,R=C.start?.getTime()??-1/0,w=C.end?.getTime()??1/0;let K,V;return R>=b&&R<=x?K=R:b>=R&&b<=w&&(K=b),x>=R&&x<=w?V=x:w>=b&&w<=x&&(V=w),null==K||null==V||isNaN(K)||isNaN(V)?U.empty:new U({start:K===-1/0?null:new Date(K),end:V===1/0?null:new Date(V)})}offset(C,b,x=O.qU){if(this.isEmpty||this.isAllTime)return this.clone();const R=new U,{start:w,end:K}=this;return null!=w&&(R.start=(0,W.S1)(w,C,b,x)),null!=K&&(R.end=(0,W.S1)(K,C,b,x)),R}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(C){if(!C||C.isEmpty)return this.clone();if(this.isEmpty)return C.clone();if(this.isAllTime||C.isAllTime)return J.clone();const b=null!=this.start&&null!=C.start?new Date(Math.min(this.start.getTime(),C.start.getTime())):null,x=null!=this.end&&null!=C.end?new Date(Math.max(this.end.getTime(),C.end.getTime())):null;return new U({start:b,end:x})}};(0,E._)([(0,B.MZ)({type:Date,json:{write:{allowNull:!0}}})],N.prototype,"end",void 0),(0,E._)([(0,$.w)("end")],N.prototype,"readEnd",null),(0,E._)([(0,I.K)("end")],N.prototype,"writeEnd",null),(0,E._)([(0,B.MZ)({readOnly:!0,json:{read:!1}})],N.prototype,"isAllTime",null),(0,E._)([(0,B.MZ)({readOnly:!0,json:{read:!1}})],N.prototype,"isEmpty",null),(0,E._)([(0,B.MZ)({type:Date,json:{write:{allowNull:!0}}})],N.prototype,"start",void 0),(0,E._)([(0,$.w)("start")],N.prototype,"readStart",null),(0,E._)([(0,I.K)("start")],N.prototype,"writeStart",null),N=U=(0,E._)([(0,S.$)("esri.TimeExtent")],N);const J=new N,Z=new N({start:void 0,end:void 0}),L=N},99980:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var E=v(8189),D=v(90660),W=v(71065),B=v(97442),P=v(85211),S=(v(3248),v(35150),v(40707),v(15463)),I=v(76576),O=v(26957);let U=class extends((0,D.O)(W.oY)){constructor(J){super(J),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,B.t)(this.value,this.unit,"milliseconds")}};(0,E._)([(0,S.e)(O.j,{nonNullable:!0})],U.prototype,"unit",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0},nonNullable:!0})],U.prototype,"value",void 0),U=(0,E._)([(0,I.$)("esri.TimeInterval")],U);const N=U},20351:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ue});var E=v(8189),D=v(90660),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.P{constructor(te){super(te),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(te){return null!=te&&this.row===te.row&&this.rows===te.rows&&this.column===te.column&&this.columns===te.columns}};(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$.prototype,"row",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$.prototype,"column",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$.prototype,"rows",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],$.prototype,"columns",void 0),$=(0,E._)([(0,j.$)("esri.CameraLayout")],$);const S=$;var I=v(73596),O=v(71065),U=v(69287),N=v(48669),J=v(17221),Z=v(50305),L=v(55739),C=v(1749);let b=class extends((0,D.O)(O.oY)){constructor(...te){super(...te),this.position=new C.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new S}normalizeCtorArgs(te,pe,ae,de){if(te&&"object"==typeof te&&("x"in te||Array.isArray(te))){const ve={position:te};return null!=pe&&(ve.heading=pe),null!=ae&&(ve.tilt=ae),null!=de&&(ve.fov=de),ve}return te}writePosition(te,pe,ae,de){const ve=te.clone();ve.x=(0,L.GB)(te.x||0),ve.y=(0,L.GB)(te.y||0),ve.z=te.hasZ?(0,L.GB)(te.z||0):te.z,pe[ae]=ve.write({},de)}readPosition(te,pe){const ae=new C.A;return ae.read(te,pe),ae.x=(0,L.GB)(ae.x||0),ae.y=(0,L.GB)(ae.y||0),ae.z=ae.hasZ?(0,L.GB)(ae.z||0):ae.z,ae}equals(te){return null!=te&&this.tilt===te.tilt&&this.heading===te.heading&&this.fov===te.fov&&this.position.equals(te.position)&&this.layout.equals(te.layout)}};(0,E._)([(0,W.MZ)({type:C.A,json:{write:{isRequired:!0}}})],b.prototype,"position",void 0),(0,E._)([(0,Z.K)("position")],b.prototype,"writePosition",null),(0,E._)([(0,J.w)("position")],b.prototype,"readPosition",null),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.w)(te=>I.ie.normalize((0,L.GB)(te)))],b.prototype,"heading",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.w)(te=>(0,U.qE)((0,L.GB)(te),-180,180))],b.prototype,"tilt",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0),(0,E._)([(0,W.MZ)({type:S,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"layout",void 0),b=(0,E._)([(0,j.$)("esri.Camera")],b);const x=b;var K,R=v(21152),w=v(61320);let V=K=class extends O.oY{constructor(te){super(te),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(te){return(te%=360)<0&&(te+=360),te}clone(){return new K({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,E._)([(0,W.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ee}}}}})],V.prototype,"rotation",void 0),(0,E._)([(0,N.w)("rotation")],V.prototype,"castRotation",null),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:ee}}}}})],V.prototype,"scale",void 0),(0,E._)([(0,W.MZ)({types:R.yR,json:{read:w.rS,write:!0,origins:{"web-scene":{read:w.rS,write:{overridePolicy:ee}}}}})],V.prototype,"targetGeometry",void 0),(0,E._)([(0,W.MZ)({type:x,json:{write:!0}})],V.prototype,"camera",void 0),V=K=(0,E._)([(0,j.$)("esri.Viewpoint")],V);const ue=V;function ee(){return{enabled:!this.camera}}},90261:(et,Ae,v)=>{"use strict";v.d(Ae,{s:()=>j});var E=v(23098),W=(v(89563),v(5922)),B=v(35150),P=v(45272);function j($){if(!E.A.assetsPath)throw B.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new W.A("assets:path-not-set","config.assetsPath is not set");return(0,P.fj)(E.A.assetsPath,$)}},93293:(et,Ae,v)=>{"use strict";v.d(Ae,{c:()=>E,g:()=>D});var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D(W){return W&&W.__esModule&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W}},33658:(et,Ae,v)=>{"use strict";v.d(Ae,{P:()=>I,a:()=>S,g:()=>$,h:()=>J,i:()=>P,j:()=>x,l:()=>j,p:()=>te});var E=v(90261),D=v(3248);let W,B=null;function P(){return!!B}function j(){return W||(W=v.e(9083).then(v.bind(v,79083)).then(pe=>pe.p).then(({default:pe})=>pe({locateFile:ae=>(0,E.s)(`esri/geometry/support/${ae}`)})).then(pe=>{w(pe)}),W)}var $,S,I,pe;(function(pe){function ae(fe,ie,ye){B.ensureCache.prepare();const q=ue(ye),re=ye===q,ce=B.ensureFloat64(q),oe=B._pe_geog_to_proj(B.getPointer(fe),ie,ce);return oe&&ee(ye,ie,ce,re),oe}function ve(fe,ie,ye){return G(fe,ie,ye,0)}function G(fe,ie,ye,q){B.ensureCache.prepare();const re=ue(ye),ce=ye===re,oe=B.ensureFloat64(re),le=B._pe_proj_to_geog_center(B.getPointer(fe),ie,oe,q);return le&&ee(ye,ie,oe,ce),le}pe.geogToProj=ae,pe.projGeog=function de(fe,ie,ye,q){switch(q){case S.PE_TRANSFORM_P_TO_G:return ve(fe,ie,ye);case S.PE_TRANSFORM_G_TO_P:return ae(fe,ie,ye)}return 0},pe.projToGeog=ve,pe.projToGeogCenter=G})($||($={})),(pe=S||(S={})).init=function ae(){pe.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,pe.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,pe.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,pe.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,pe.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,pe.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,pe.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,pe.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,pe.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,pe.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,pe.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,pe.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,pe.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,pe.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,pe.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,pe.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,pe.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,pe.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,pe.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,pe.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,pe.PE_STR_FMT_WKT=B.PeDefs.prototype.PE_STR_FMT_WKT,pe.PE_STR_FMT_WKT2=B.PeDefs.prototype.PE_STR_FMT_WKT2,pe.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,pe.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,pe.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,pe.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,pe.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,pe.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,pe.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,pe.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,pe.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,pe.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA},function(pe){const ae={},de={},ve=Se=>{if(Se){const se=Se.getType();switch(se){case S.PE_TYPE_GEOGCS:Se=B.castObject(Se,B.PeGeogcs);break;case S.PE_TYPE_PROJCS:Se=B.castObject(Se,B.PeProjcs);break;case S.PE_TYPE_GEOGTRAN:Se=B.castObject(Se,B.PeGeogtran);break;default:se&S.PE_TYPE_UNIT&&(Se=B.castObject(Se,B.PeUnit))}}return Se};function ie(Se,se){let Pe=null,Ie=ae[Se];if(Ie||(Ie={},ae[Se]=Ie),Ie.hasOwnProperty(String(se)))Pe=Ie[se];else{const X=B.PeFactory.prototype.factoryByType(Se,se);B.compare(X,B.NULL)||(Pe=X,Ie[se]=Pe)}return Pe=ve(Pe),Pe}pe.initialize=function G(){B.PeFactory.prototype.initialize(null)},pe.coordsys=function fe(Se){return ie(S.PE_TYPE_COORDSYS,Se)},pe.factoryByType=ie,pe.fromString=function ye(Se,se){let Pe=null,Ie=de[Se];if(Ie||(Ie={},de[Se]=Ie),Ie.hasOwnProperty(se))Pe=Ie[se];else{const X=B.PeFactory.prototype.fromString(Se,se);B.compare(X,B.NULL)||(Pe=X,Ie[se]=Pe)}return Pe=ve(Pe),Pe},pe.geogcs=function q(Se){return ie(S.PE_TYPE_GEOGCS,Se)},pe.geogtran=function re(Se){return ie(S.PE_TYPE_GEOGTRAN,Se)},pe.getCode=function ce(Se){return B.PeFactory.prototype.getCode(Se)},pe.projcs=function oe(Se){return ie(S.PE_TYPE_PROJCS,Se)},pe.unit=function le(Se){return ie(S.PE_TYPE_UNIT,Se)}}(I||(I={}));let O=null;var U,N,J,Z,L,C,b,x,R;function w(pe){function ae(fe,ie,ye){fe[ie]=ye(fe[ie])}B=pe,S.init(),U.init(),L.init(),b.init(),x.init(),O=class extends B.PeGCSExtent{destroy(){B.destroy(this)}};const de=[B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(const fe of de)ae(fe.prototype,"getName",ie=>function(){return ie.call(this,new Array(S.PE_NAME_MAX))});for(const fe of[B.PeGeogtran,B.PeProjcs])ae(fe.prototype,"getParameters",ie=>function(){const ye=new Array(S.PE_PARM_MAX);let q=ie.call(this);for(let re=0;re<ye.length;re++){const ce=B.getValue(q,"*");ye[re]=ce?B.wrapPointer(ce,B.PeParameter):null,q+=Int32Array.BYTES_PER_ELEMENT}return ye});ae(B.PeHorizon.prototype,"getCoord",fe=>function(){const ie=this.getSize();if(!ie)return null;const ye=[];return ee(ye,ie,fe.call(this)),ye}),ae(B.PeGTlistExtendedEntry.prototype,"getEntries",fe=>{const ie=B._pe_getPeGTlistExtendedGTsSize();return function(){let ye=null;const q=fe.call(this);if(!B.compare(q,B.NULL)){ye=[q];const re=this.getSteps();if(re>1){const ce=B.getPointer(q);for(let oe=1;oe<re;oe++)ye.push(B.wrapPointer(ce+ie*oe,B.PeGTlistExtendedGTs))}}return ye}});const ve=B._pe_getPeHorizonSize(),G=fe=>function(){let ie=this._cache;if(ie||(ie=new Map,this._cache=ie),ie.has(fe))return ie.get(fe);let ye=null;const q=fe.call(this);if(!B.compare(q,B.NULL)){ye=[q];const re=q.getNump();if(re>1){const ce=B.getPointer(q);for(let oe=1;oe<re;oe++)ye.push(B.wrapPointer(ce+ve*oe,B.PeHorizon))}}return ie.set(fe,ye),ye};ae(B.PeProjcs.prototype,"horizonGcsGenerate",G),ae(B.PeProjcs.prototype,"horizonPcsGenerate",G),B.PeObject.prototype.toString=function(fe=S.PE_STR_OPTS_NONE){B.ensureCache.prepare();const ie=B.getPointer(this),ye=B.ensureInt8(new Array(S.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(ie,fe,ye))}}function K(pe){if(!pe)return;const ae=B.getClass(pe);if(!ae)return;const de=B.getCache(ae);if(!de)return;const ve=B.getPointer(pe);ve&&delete de[ve]}function V(pe,ae){const de=[],ve=new Array(ae);for(let G=0;G<pe;G++)de.push(B.ensureInt8(ve));return de}function ue(pe){let ae;return Array.isArray(pe[0])?(ae=[],pe.forEach(de=>{ae.push(de[0],de[1])})):ae=pe,ae}function ee(pe,ae,de,ve=!1){if(ve)for(let G=0;G<2*ae;G++)pe[G]=B.getValue(de+G*Float64Array.BYTES_PER_ELEMENT,"double");else{const G=0===pe.length;for(let fe=0;fe<ae;fe++)G&&(pe[fe]=new Array(2)),pe[fe][0]=B.getValue(de,"double"),pe[fe][1]=B.getValue(de+Float64Array.BYTES_PER_ELEMENT,"double"),de+=2*Float64Array.BYTES_PER_ELEMENT}}(function(pe){let ae;pe.init=function de(){pe.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,ae=B._pe_getPeGTlistExtendedEntrySize()},pe.getGTlist=function ve(G,fe,ie,ye,q,re){let ce=null;const oe=new B.PeInteger(re);try{const le=B.PeGTlistExtended.prototype.getGTlist(G,fe,ie,ye,q,oe);if((re=oe.val)&&(ce=[le],re>1)){const Se=B.getPointer(le);for(let se=1;se<re;se++)ce.push(B.wrapPointer(Se+ae*se,B.PeGTlistExtendedEntry))}}finally{B.destroy(oe)}return ce}})(U||(U={})),function(pe){pe.destroy=function ae(de){if(de?.length){for(const ve of de)K(ve),ve.getEntries().forEach(G=>{K(G);const fe=G.getGeogtran();K(fe),fe.getParameters().forEach(K),[fe.getGeogcs1(),fe.getGeogcs2()].forEach(ie=>{K(ie);const ye=ie.getDatum();K(ye),K(ye.getSpheroid()),K(ie.getPrimem()),K(ie.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(de[0])}}}(N||(N={})),function(pe){pe.geogToGeog=function ae(de,ve,G,fe,ie){B.ensureCache.prepare();const ye=ue(G),q=G===ye,re=B.ensureFloat64(ye);let ce=0;fe&&(ce=B.ensureFloat64(fe));const oe=B._pe_geog_to_geog(B.getPointer(de),ve,re,ce,ie);return oe&&ee(G,ve,re,q),oe}}(J||(J={})),function(pe){const ae=(re,ce,oe,le,Se,se)=>{let Pe,Ie;switch(B.ensureCache.prepare(),re){case"dd":Pe=B._pe_geog_to_dd,Ie=S.PE_DD_MAX;break;case"ddm":Pe=B._pe_geog_to_ddm,Ie=S.PE_DDM_MAX;break;case"dms":Pe=B._pe_geog_to_dms,Ie=S.PE_DMS_MAX}let X=0;ce&&(X=B.getPointer(ce));const Ee=ue(le),Le=B.ensureFloat64(Ee),Oe=V(oe,Ie),_e=Pe(X,oe,Le,Se,B.ensureInt32(Oe));if(_e)for(let we=0;we<oe;we++)se[we]=B.UTF8ToString(Oe[we]);return _e},de=(re,ce,oe,le,Se)=>{let se;switch(B.ensureCache.prepare(),re){case"dd":se=B._pe_dd_to_geog;break;case"ddm":se=B._pe_ddm_to_geog;break;case"dms":se=B._pe_dms_to_geog}let Pe=0;ce&&(Pe=B.getPointer(ce));const Ie=le.map(Oe=>B.ensureString(Oe)),X=B.ensureInt32(Ie),Ee=B.ensureFloat64(new Array(2*oe)),Le=se(Pe,oe,X,Ee);return Le&&ee(Se,oe,Ee),Le};pe.geogToDms=function ve(re,ce,oe,le,Se){return ae("dms",re,ce,oe,le,Se)},pe.dmsToGeog=function G(re,ce,oe,le){return de("dms",re,ce,oe,le)},pe.geogToDdm=function fe(re,ce,oe,le,Se){return ae("ddm",re,ce,oe,le,Se)},pe.ddmToGeog=function ie(re,ce,oe,le){return de("ddm",re,ce,oe,le)},pe.geogToDd=function ye(re,ce,oe,le,Se){return ae("dd",re,ce,oe,le,Se)},pe.ddToGeog=function q(re,ce,oe,le){return de("dd",re,ce,oe,le)}}(Z||(Z={})),function(pe){pe.init=function ae(){pe.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,pe.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,pe.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,pe.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,pe.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},pe.geogToMgrsExtended=function de(G,fe,ie,ye,q,re,ce){B.ensureCache.prepare();let oe=0;G&&(oe=B.getPointer(G));const le=ue(ie),Se=B.ensureFloat64(le),se=V(fe,S.PE_MGRS_MAX),Pe=B.ensureInt32(se),Ie=B._pe_geog_to_mgrs_extended(oe,fe,Se,ye,q,re,Pe);if(Ie)for(let X=0;X<fe;X++)ce[X]=B.UTF8ToString(se[X]);return Ie},pe.mgrsToGeogExtended=function ve(G,fe,ie,ye,q){B.ensureCache.prepare();let re=0;G&&(re=B.getPointer(G));const ce=ie.map(se=>B.ensureString(se)),oe=B.ensureInt32(ce),le=B.ensureFloat64(new Array(2*fe)),Se=B._pe_mgrs_to_geog_extended(re,fe,oe,ye,le);return Se&&ee(q,fe,le),Se}}(L||(L={})),function(pe){pe.geogToUsng=function ae(ve,G,fe,ie,ye,q,re){B.ensureCache.prepare();let ce=0;ve&&(ce=B.getPointer(ve));const oe=ue(fe),le=B.ensureFloat64(oe),Se=V(G,S.PE_MGRS_MAX),se=B.ensureInt32(Se),Pe=B._pe_geog_to_usng(ce,G,le,ie,ye,q,se);if(Pe)for(let Ie=0;Ie<G;Ie++)re[Ie]=B.UTF8ToString(Se[Ie]);return Pe},pe.usngToGeog=function de(ve,G,fe,ie){B.ensureCache.prepare();let ye=0;ve&&(ye=B.getPointer(ve));const q=fe.map(le=>B.ensureString(le)),re=B.ensureInt32(q),ce=B.ensureFloat64(new Array(2*G)),oe=B._pe_usng_to_geog(ye,G,re,ce);return oe&&ee(ie,G,ce),oe}}(C||(C={})),function(pe){pe.init=function ae(){pe.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,pe.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,pe.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS},pe.geogToUtm=function de(G,fe,ie,ye,q){B.ensureCache.prepare();let re=0;G&&(re=B.getPointer(G));const ce=ue(ie),oe=B.ensureFloat64(ce),le=V(fe,S.PE_UTM_MAX),Se=B.ensureInt32(le),se=B._pe_geog_to_utm(re,fe,oe,ye,Se);if(se)for(let Pe=0;Pe<fe;Pe++)q[Pe]=B.UTF8ToString(le[Pe]);return se},pe.utmToGeog=function ve(G,fe,ie,ye,q){B.ensureCache.prepare();let re=0;G&&(re=B.getPointer(G));const ce=ie.map(se=>B.ensureString(se)),oe=B.ensureInt32(ce),le=B.ensureFloat64(new Array(2*fe)),Se=B._pe_utm_to_geog(re,fe,oe,ye,le);return Se&&ee(q,fe,le),Se}}(b||(b={})),function(pe){const ae=new Map;pe.init=function de(){pe.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,pe.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,pe.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,pe.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT},pe.generate=function ve(G,fe=pe.PE_PCSINFO_OPTION_DOMAIN){let ie=null,ye=null;return ae.has(G)&&(ye=ae.get(G),ye[fe]&&(ie=ye[fe])),ie||(ie=B.PePCSInfo.prototype.generate(G,fe),ye||(ye=[],ae.set(G,ye)),ye[fe]=ie),ie}}(x||(x={})),function(pe){pe.versionString=function ae(){return B.PeVersion.prototype.version_string()}}(R||(R={}));const te=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return $},get PeDefs(){return S},get PeFactory(){return I},get PeGCSExtent(){return O},get PeGTTransformations(){return J},get PeGTlistExtended(){return U},get PeGTlistExtendedEntry(){return N},get PeNotationDms(){return Z},get PeNotationMgrs(){return L},get PeNotationUsng(){return C},get PeNotationUtm(){return b},get PePCSInfo(){return x},get PeVersion(){return R},_init:w,get _pe(){return B},isLoaded:P,isSupported:function H(){return!!(0,D.A)("esri-wasm")},load:j},Symbol.toStringTag,{value:"Module"}))},88135:(et,Ae,v)=>{"use strict";v.d(Ae,{M:()=>Z,a:()=>N,b:()=>L,e:()=>O,f:()=>W,i:()=>S,p:()=>I,r:()=>P,t:()=>B,w:()=>H});var E=v(77469),D=v(45272);function W(C,b){const x=b?.url?.path;if(C&&x&&(C=(0,D.s2)(C,x,{preserveProtocolRelative:!0}),b.portalItem&&b.readResourcePaths)){const R=(0,D.V1)(C,b.portalItem.itemUrl);null!=R&&$.test(R)&&b.readResourcePaths.push(b.portalItem.resourceFromPath(R).path)}return(C=U(C,b?.portal))&&j.test(C)?N(C):C}function B(C,b,x=Z.YES){if(null==(C=C&&j.test(C)?J(C):C))return C;!(0,D.oP)(C)&&b?.blockedRelativeUrls&&b.blockedRelativeUrls.push(C);let R=(0,D.s2)(C);if(b){const w=b.verifyItemRelativeUrls?.rootPath||b.url?.path;if(w){const K=U(w,b.portal),V=U(R,b.portal);R=(0,D.V1)(V,K,K),null!=R&&R!==V&&R!==C&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(R)}}return R=O(R,b?.portal),(0,D.oP)(R)&&(R=(0,D.S8)(R)),b?.resources&&b?.portalItem&&!(0,D.oP)(R)&&!(0,D.DB)(R)&&x===Z.YES&&b.resources.toKeep.push({resource:b.portalItem.resourceFromPath(R),compress:!1}),R}function P(C,b,x){return W(C,x)}function H(C,b,x,R){const w=B(C,R);void 0!==w&&(b[x]=w)}const j=/\/items\/([^/]+)\/resources\/(.*)/,$=/^\.\/resources\//;function S(C){return(C?.match(j)??null)?.[1]??null}function I(C){const b=C?.match(j)??null;if(null==b)return null;const x=b[2],R=x.lastIndexOf("/");if(-1===R){const{path:V,extension:ue}=(0,D.xw)(x);return{prefix:null,filename:V,extension:ue}}const{path:w,extension:K}=(0,D.xw)(x.slice(R+1));return{prefix:x.slice(0,R),filename:w,extension:K}}function O(C,b){return b&&!b.isPortal&&b.urlKey&&b.customBaseUrl?(0,D.T1)(C,`${b.urlKey}.${b.customBaseUrl}`,b.portalHostname):C}function U(C,b){if(!b||b.isPortal||!b.urlKey||!b.customBaseUrl)return C;const x=`${b.urlKey}.${b.customBaseUrl}`,R=(0,D.Xq)();return(0,D.FX)(R,`${R.scheme}://${x}`)?(0,D.T1)(C,b.portalHostname,x):(0,D.T1)(C,x,b.portalHostname)}function N(C){if(!C)return C||null;let b=C;return b&&E.id&&!E.id.findCredential(b)&&(b=E.id._normalizeAGOLorgDomain(b),b=b.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),b=b.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),b=b.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),b}function J(C){if(!C)return C||null;let b=C;return b=b.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),b=b.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),b=b.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),b&&E.id&&!E.id.findCredential(b)&&(b=E.id._normalizeAGOLorgDomain(b)),b}var Z,C;(C=Z||(Z={}))[C.YES=0]="YES",C[C.NO=1]="NO";const L=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Z},ensureMainOnlineDomain:O,fromCDNUrl:J,fromJSON:W,itemIdFromResourceUrl:S,prefixAndFilenameFromResourceUrl:I,read:P,toCDNUrl:N,toJSON:B,write:H},Symbol.toStringTag,{value:"Module"}))},17694:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>H});var D,B,E=v(93293),P={exports:{}};D=P,void 0!==(B=function(){function $(O,U,N,J,Z){for(;J>N;){if(J-N>600){var L=J-N+1,C=U-N+1,b=Math.log(L),x=.5*Math.exp(2*b/3),R=.5*Math.sqrt(b*x*(L-x)/L)*(C-L/2<0?-1:1);$(O,U,Math.max(N,Math.floor(U-C*x/L+R)),Math.min(J,Math.floor(U+(L-C)*x/L+R)),Z)}var w=O[U],K=N,V=J;for(S(O,N,U),Z(O[J],w)>0&&S(O,N,J);K<V;){for(S(O,K,V),K++,V--;Z(O[K],w)<0;)K++;for(;Z(O[V],w)>0;)V--}0===Z(O[N],w)?S(O,N,V):S(O,++V,J),V<=U&&(N=V+1),U<=V&&(J=V-1)}}function S(O,U,N){var J=O[U];O[U]=O[N],O[N]=J}function I(O,U){return O<U?-1:O>U?1:0}return function j(O,U,N,J,Z){$(O,U,N||0,J||O.length-1,Z||I)}}())&&(D.exports=B);const H=(0,E.g)(P.exports)},77413:(et,Ae,v)=>{"use strict";v.d(Ae,{r:()=>D});var E=v(17694);function D(C,b){if(!(this instanceof D))return new D(C,b);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&("function"==typeof b?this.toBBox=b:this._initFormat(b)),this.clear()}function W(C,b,x){if(!x)return b.indexOf(C);for(var R=0;R<b.length;R++)if(x(C,b[R]))return R;return-1}function B(C,b){P(C,0,C.children.length,b,C)}function P(C,b,x,R,w){w||(w=Z(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var K,V=b;V<x;V++)K=C.children[V],H(w,C.leaf?R(K):K);return w}function H(C,b){return C.minX=Math.min(C.minX,b.minX),C.minY=Math.min(C.minY,b.minY),C.maxX=Math.max(C.maxX,b.maxX),C.maxY=Math.max(C.maxY,b.maxY),C}function j(C,b){return C.minX-b.minX}function $(C,b){return C.minY-b.minY}function S(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function I(C){return C.maxX-C.minX+(C.maxY-C.minY)}function O(C,b){return(Math.max(b.maxX,C.maxX)-Math.min(b.minX,C.minX))*(Math.max(b.maxY,C.maxY)-Math.min(b.minY,C.minY))}function U(C,b){var x=Math.max(C.minX,b.minX),R=Math.max(C.minY,b.minY),w=Math.min(C.maxX,b.maxX),K=Math.min(C.maxY,b.maxY);return Math.max(0,w-x)*Math.max(0,K-R)}function N(C,b){return C.minX<=b.minX&&C.minY<=b.minY&&b.maxX<=C.maxX&&b.maxY<=C.maxY}function J(C,b){return b.minX<=C.maxX&&b.minY<=C.maxY&&b.maxX>=C.minX&&b.maxY>=C.minY}function Z(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function L(C,b,x,R,w){for(var K,V=[b,x];V.length;)(x=V.pop())-(b=V.pop())<=R||(K=b+Math.ceil((x-b)/R/2)*R,(0,E.q)(C,K,b,x,w),V.push(b,K,K,x))}D.prototype={all:function(){return this._all(this.data,[])},search:function(C){var b=this.data,x=[],R=this.toBBox;if(!J(C,b))return x;for(var w,K,V,ue,ee=[];b;){for(w=0,K=b.children.length;w<K;w++)V=b.children[w],J(C,ue=b.leaf?R(V):V)&&(b.leaf?x.push(V):N(C,ue)?this._all(V,x):ee.push(V));b=ee.pop()}return x},collides:function(C){var b=this.data,x=this.toBBox;if(!J(C,b))return!1;for(var R,w,K,V,ue=[];b;){for(R=0,w=b.children.length;R<w;R++)if(K=b.children[R],J(C,V=b.leaf?x(K):K)){if(b.leaf||N(C,V))return!0;ue.push(K)}b=ue.pop()}return!1},load:function(C){if(!C||!C.length)return this;if(C.length<this._minEntries){for(var b=0,x=C.length;b<x;b++)this.insert(C[b]);return this}var R=this._build(C.slice(),0,C.length-1,0);if(this.data.children.length)if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var w=this.data;this.data=R,R=w}this._insert(R,this.data.height-R.height-1,!0)}else this.data=R;return this},insert:function(C){return null!=C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=Z([]),this},remove:function(C,b){if(null==C)return this;for(var x,R,w,K,V=this.data,ue=this.toBBox(C),ee=[],te=[];V||ee.length;){if(V||(V=ee.pop(),R=ee[ee.length-1],x=te.pop(),K=!0),V.leaf&&-1!==(w=W(C,V.children,b)))return V.children.splice(w,1),ee.push(V),this._condense(ee),this;K||V.leaf||!N(V,ue)?R?(x++,V=R.children[x],K=!1):V=null:(ee.push(V),te.push(x),x=0,R=V,V=V.children[0])}return this},toBBox:function(C){return C},compareMinX:j,compareMinY:$,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,b){for(var x=[];C;)C.leaf?b.push.apply(b,C.children):x.push.apply(x,C.children),C=x.pop();return b},_build:function(C,b,x,R){var w,K=x-b+1,V=this._maxEntries;if(K<=V)return B(w=Z(C.slice(b,x+1)),this.toBBox),w;R||(R=Math.ceil(Math.log(K)/Math.log(V)),V=Math.ceil(K/Math.pow(V,R-1))),(w=Z([])).leaf=!1,w.height=R;var ue,ee,te,pe,ae=Math.ceil(K/V),de=ae*Math.ceil(Math.sqrt(V));for(L(C,b,x,de,this.compareMinX),ue=b;ue<=x;ue+=de)for(L(C,ue,te=Math.min(ue+de-1,x),ae,this.compareMinY),ee=ue;ee<=te;ee+=ae)pe=Math.min(ee+ae-1,te),w.children.push(this._build(C,ee,pe,R-1));return B(w,this.toBBox),w},_chooseSubtree:function(C,b,x,R){for(var w,K,V,ue,ee,te,pe,ae;R.push(b),!b.leaf&&R.length-1!==x;){for(pe=ae=1/0,w=0,K=b.children.length;w<K;w++)ee=S(V=b.children[w]),(te=O(C,V)-ee)<ae?(ae=te,pe=ee<pe?ee:pe,ue=V):te===ae&&ee<pe&&(pe=ee,ue=V);b=ue||b.children[0]}return b},_insert:function(C,b,x){var w=x?C:(0,this.toBBox)(C),K=[],V=this._chooseSubtree(w,this.data,b,K);for(V.children.push(C),H(V,w);b>=0&&K[b].children.length>this._maxEntries;)this._split(K,b),b--;this._adjustParentBBoxes(w,K,b)},_split:function(C,b){var x=C[b],R=x.children.length,w=this._minEntries;this._chooseSplitAxis(x,w,R);var K=this._chooseSplitIndex(x,w,R),V=Z(x.children.splice(K,x.children.length-K));V.height=x.height,V.leaf=x.leaf,B(x,this.toBBox),B(V,this.toBBox),b?C[b-1].children.push(V):this._splitRoot(x,V)},_splitRoot:function(C,b){this.data=Z([C,b]),this.data.height=C.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},_chooseSplitIndex:function(C,b,x){var R,w,K,V,ue,ee,te,pe;for(ee=te=1/0,R=b;R<=x-b;R++)V=U(w=P(C,0,R,this.toBBox),K=P(C,R,x,this.toBBox)),ue=S(w)+S(K),V<ee?(ee=V,pe=R,te=ue<te?ue:te):V===ee&&ue<te&&(te=ue,pe=R);return pe},_chooseSplitAxis:function(C,b,x){var R=C.leaf?this.compareMinX:j,w=C.leaf?this.compareMinY:$;this._allDistMargin(C,b,x,R)<this._allDistMargin(C,b,x,w)&&C.children.sort(R)},_allDistMargin:function(C,b,x,R){C.children.sort(R);var w,K,V=this.toBBox,ue=P(C,0,b,V),ee=P(C,x-b,x,V),te=I(ue)+I(ee);for(w=b;w<x-b;w++)K=C.children[w],H(ue,C.leaf?V(K):K),te+=I(ue);for(w=x-b-1;w>=b;w--)K=C.children[w],H(ee,C.leaf?V(K):K),te+=I(ee);return te},_adjustParentBBoxes:function(C,b,x){for(var R=x;R>=0;R--)H(b[R],C)},_condense:function(C){for(var b,x=C.length-1;x>=0;x--)0===C[x].children.length?x>0?(b=C[x-1].children).splice(b.indexOf(C[x]),1):this.clear():B(C[x],this.toBBox)},_initFormat:function(C){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(C[0])),this.compareMinY=new Function("a","b",b.join(C[1])),this.toBBox=new Function("a","return {minX: a"+C[0]+", minY: a"+C[1]+", maxX: a"+C[2]+", maxY: a"+C[3]+"};")}}},8189:(et,Ae,v)=>{"use strict";function E(B,P,H,j){var $,S=arguments.length,I=S<3?P:null===j?j=Object.getOwnPropertyDescriptor(P,H):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(B,P,H,j);else for(var O=B.length-1;O>=0;O--)($=B[O])&&(I=(S<3?$(I):S>3?$(P,H,I):$(P,H))||I);return S>3&&I&&Object.defineProperty(P,H,I),I}function D(B,P){return function(H,j){P(H,j,B)}}function W(B,P,H,j){return new(H||(H=Promise))(function(S,I){function O(J){try{N(j.next(J))}catch(Z){I(Z)}}function U(J){try{N(j.throw(J))}catch(Z){I(Z)}}function N(J){J.done?S(J.value):function $(S){return S instanceof H?S:new H(function(I){I(S)})}(J.value).then(O,U)}N((j=j.apply(B,P||[])).next())})}v.d(Ae,{_:()=>E,a:()=>D,b:()=>W}),"function"==typeof SuppressedError&&SuppressedError},28714:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>X,B:()=>N,C:()=>$,D:()=>Z,F:()=>S,G:()=>Ie,H:()=>we,a:()=>R,b:()=>te,c:()=>B,e:()=>se,f:()=>j,g:()=>H,h:()=>G,i:()=>V,j:()=>C,k:()=>K,l:()=>W,m:()=>ee,n:()=>ue,o:()=>pe,p:()=>Oe,q:()=>w,r:()=>x,s:()=>P,t:()=>fe,u:()=>b,v:()=>ie,w:()=>U,x:()=>_e,y:()=>ke,z:()=>J});var E=v(25866),D=v(85952);function W(Q){const De=Q[0],Ke=Q[1],Ye=Q[2];return Math.sqrt(De*De+Ke*Ke+Ye*Ye)}function B(Q,De){return Q[0]=De[0],Q[1]=De[1],Q[2]=De[2],Q}function P(Q,De,Ke,Ye){return Q[0]=De,Q[1]=Ke,Q[2]=Ye,Q}function H(Q,De,Ke){return Q[0]=De[0]+Ke[0],Q[1]=De[1]+Ke[1],Q[2]=De[2]+Ke[2],Q}function j(Q,De,Ke){return Q[0]=De[0]-Ke[0],Q[1]=De[1]-Ke[1],Q[2]=De[2]-Ke[2],Q}function $(Q,De,Ke){return Q[0]=De[0]*Ke[0],Q[1]=De[1]*Ke[1],Q[2]=De[2]*Ke[2],Q}function S(Q,De,Ke){return Q[0]=De[0]/Ke[0],Q[1]=De[1]/Ke[1],Q[2]=De[2]/Ke[2],Q}function U(Q,De){return Q[0]=Math.abs(De[0]),Q[1]=Math.abs(De[1]),Q[2]=Math.abs(De[2]),Q}function N(Q,De){return Q[0]=Math.sign(De[0]),Q[1]=Math.sign(De[1]),Q[2]=Math.sign(De[2]),Q}function J(Q,De,Ke){return Q[0]=Math.min(De[0],Ke[0]),Q[1]=Math.min(De[1],Ke[1]),Q[2]=Math.min(De[2],Ke[2]),Q}function Z(Q,De,Ke){return Q[0]=Math.max(De[0],Ke[0]),Q[1]=Math.max(De[1],Ke[1]),Q[2]=Math.max(De[2],Ke[2]),Q}function C(Q,De,Ke){return Q[0]=De[0]*Ke,Q[1]=De[1]*Ke,Q[2]=De[2]*Ke,Q}function b(Q,De,Ke,Ye){return Q[0]=De[0]+Ke[0]*Ye,Q[1]=De[1]+Ke[1]*Ye,Q[2]=De[2]+Ke[2]*Ye,Q}function x(Q,De){const Ke=De[0]-Q[0],Ye=De[1]-Q[1],rt=De[2]-Q[2];return Math.sqrt(Ke*Ke+Ye*Ye+rt*rt)}function R(Q,De){const Ke=De[0]-Q[0],Ye=De[1]-Q[1],rt=De[2]-Q[2];return Ke*Ke+Ye*Ye+rt*rt}function w(Q){const De=Q[0],Ke=Q[1],Ye=Q[2];return De*De+Ke*Ke+Ye*Ye}function K(Q,De){return Q[0]=-De[0],Q[1]=-De[1],Q[2]=-De[2],Q}function V(Q,De){return Q[0]=1/De[0],Q[1]=1/De[1],Q[2]=1/De[2],Q}function ue(Q,De){const Ke=De[0],Ye=De[1],rt=De[2];let lt=Ke*Ke+Ye*Ye+rt*rt;return lt>0&&(lt=1/Math.sqrt(lt),Q[0]=De[0]*lt,Q[1]=De[1]*lt,Q[2]=De[2]*lt),Q}function ee(Q,De){return Q[0]*De[0]+Q[1]*De[1]+Q[2]*De[2]}function te(Q,De,Ke){const Ye=De[0],rt=De[1],lt=De[2],_t=Ke[0],tt=Ke[1],qe=Ke[2];return Q[0]=rt*qe-lt*tt,Q[1]=lt*_t-Ye*qe,Q[2]=Ye*tt-rt*_t,Q}function pe(Q,De,Ke,Ye){const rt=De[0],lt=De[1],_t=De[2];return Q[0]=rt+Ye*(Ke[0]-rt),Q[1]=lt+Ye*(Ke[1]-lt),Q[2]=_t+Ye*(Ke[2]-_t),Q}function G(Q,De,Ke){const Ye=De[0],rt=De[1],lt=De[2];return Q[0]=Ke[0]*Ye+Ke[4]*rt+Ke[8]*lt+Ke[12],Q[1]=Ke[1]*Ye+Ke[5]*rt+Ke[9]*lt+Ke[13],Q[2]=Ke[2]*Ye+Ke[6]*rt+Ke[10]*lt+Ke[14],Q}function fe(Q,De,Ke){const Ye=De[0],rt=De[1],lt=De[2];return Q[0]=Ye*Ke[0]+rt*Ke[3]+lt*Ke[6],Q[1]=Ye*Ke[1]+rt*Ke[4]+lt*Ke[7],Q[2]=Ye*Ke[2]+rt*Ke[5]+lt*Ke[8],Q}function ie(Q,De,Ke){const Ye=Ke[0],rt=Ke[1],lt=Ke[2],tt=De[0],qe=De[1],xe=De[2],Be=rt*xe-lt*qe,Ze=lt*tt-Ye*xe,Ne=Ye*qe-rt*tt,Je=lt*Be-Ye*Ne,ut=Ye*Ze-rt*Be,dt=2*Ke[3];return Q[0]=tt+Be*dt+2*(rt*Ne-lt*Ze),Q[1]=qe+Ze*dt+2*Je,Q[2]=xe+Ne*dt+2*ut,Q}const oe=(0,E.vt)(),le=(0,E.vt)();function se(Q,De){return Q[0]===De[0]&&Q[1]===De[1]&&Q[2]===De[2]}function Ie(Q,De,Ke){const Ye=Ke[0]-De[0],rt=Ke[1]-De[1],lt=Ke[2]-De[2];let _t=Ye*Ye+rt*rt+lt*lt;return _t>0?(_t=1/Math.sqrt(_t),Q[0]=Ye*_t,Q[1]=rt*_t,Q[2]=lt*_t,Q):(Q[0]=0,Q[1]=0,Q[2]=0,Q)}const X=j,Oe=x,_e=R,we=W,ke=w;Object.freeze(Object.defineProperty({__proto__:null,abs:U,add:H,angle:function ce(Q,De){ue(oe,Q),ue(le,De);const Ke=ee(oe,le);return Ke>1?0:Ke<-1?Math.PI:Math.acos(Ke)},bezier:function de(Q,De,Ke,Ye,rt,lt){const _t=1-lt,tt=_t*_t,qe=lt*lt,xe=tt*_t,Be=3*lt*tt,Ze=3*qe*_t,Ne=qe*lt;return Q[0]=De[0]*xe+Ke[0]*Be+Ye[0]*Ze+rt[0]*Ne,Q[1]=De[1]*xe+Ke[1]*Be+Ye[1]*Ze+rt[1]*Ne,Q[2]=De[2]*xe+Ke[2]*Be+Ye[2]*Ze+rt[2]*Ne,Q},ceil:function I(Q,De){return Q[0]=Math.ceil(De[0]),Q[1]=Math.ceil(De[1]),Q[2]=Math.ceil(De[2]),Q},copy:B,cross:te,direction:Ie,dist:Oe,distance:x,div:S,divide:S,dot:ee,equals:function Pe(Q,De){if(Q===De)return!0;const Ke=Q[0],Ye=Q[1],rt=Q[2],lt=De[0],_t=De[1],tt=De[2],qe=(0,D.FD)();return Math.abs(Ke-lt)<=qe*Math.max(1,Math.abs(Ke),Math.abs(lt))&&Math.abs(Ye-_t)<=qe*Math.max(1,Math.abs(Ye),Math.abs(_t))&&Math.abs(rt-tt)<=qe*Math.max(1,Math.abs(rt),Math.abs(tt))},exactEquals:se,floor:function O(Q,De){return Q[0]=Math.floor(De[0]),Q[1]=Math.floor(De[1]),Q[2]=Math.floor(De[2]),Q},hermite:function ae(Q,De,Ke,Ye,rt,lt){const _t=lt*lt,tt=_t*(2*lt-3)+1,qe=_t*(lt-2)+lt,xe=_t*(lt-1),Be=_t*(3-2*lt);return Q[0]=De[0]*tt+Ke[0]*qe+Ye[0]*xe+rt[0]*Be,Q[1]=De[1]*tt+Ke[1]*qe+Ye[1]*xe+rt[1]*Be,Q[2]=De[2]*tt+Ke[2]*qe+Ye[2]*xe+rt[2]*Be,Q},inverse:V,len:we,length:W,lerp:pe,max:Z,min:J,mul:$,multiply:$,negate:K,normalize:ue,random:function ve(Q,De){De=De||1;const Ke=D.Ov,Ye=2*Ke()*Math.PI,rt=2*Ke()-1,lt=Math.sqrt(1-rt*rt)*De;return Q[0]=Math.cos(Ye)*lt,Q[1]=Math.sin(Ye)*lt,Q[2]=rt*De,Q},rotateX:function ye(Q,De,Ke,Ye){const rt=[],lt=[];return rt[0]=De[0]-Ke[0],rt[1]=De[1]-Ke[1],rt[2]=De[2]-Ke[2],lt[0]=rt[0],lt[1]=rt[1]*Math.cos(Ye)-rt[2]*Math.sin(Ye),lt[2]=rt[1]*Math.sin(Ye)+rt[2]*Math.cos(Ye),Q[0]=lt[0]+Ke[0],Q[1]=lt[1]+Ke[1],Q[2]=lt[2]+Ke[2],Q},rotateY:function q(Q,De,Ke,Ye){const rt=[],lt=[];return rt[0]=De[0]-Ke[0],rt[1]=De[1]-Ke[1],rt[2]=De[2]-Ke[2],lt[0]=rt[2]*Math.sin(Ye)+rt[0]*Math.cos(Ye),lt[1]=rt[1],lt[2]=rt[2]*Math.cos(Ye)-rt[0]*Math.sin(Ye),Q[0]=lt[0]+Ke[0],Q[1]=lt[1]+Ke[1],Q[2]=lt[2]+Ke[2],Q},rotateZ:function re(Q,De,Ke,Ye){const rt=[],lt=[];return rt[0]=De[0]-Ke[0],rt[1]=De[1]-Ke[1],rt[2]=De[2]-Ke[2],lt[0]=rt[0]*Math.cos(Ye)-rt[1]*Math.sin(Ye),lt[1]=rt[0]*Math.sin(Ye)+rt[1]*Math.cos(Ye),lt[2]=rt[2],Q[0]=lt[0]+Ke[0],Q[1]=lt[1]+Ke[1],Q[2]=lt[2]+Ke[2],Q},round:function L(Q,De){return Q[0]=Math.round(De[0]),Q[1]=Math.round(De[1]),Q[2]=Math.round(De[2]),Q},scale:C,scaleAndAdd:b,set:P,sign:N,sqrDist:_e,sqrLen:ke,squaredDistance:R,squaredLength:w,str:function Se(Q){return"vec3("+Q[0]+", "+Q[1]+", "+Q[2]+")"},sub:X,subtract:j,transformMat3:fe,transformMat4:G,transformQuat:ie},Symbol.toStringTag,{value:"Module"}))},53781:(et,Ae,v)=>{"use strict";v.d(Ae,{a:()=>de,b:()=>J,c:()=>D,e:()=>ve,f:()=>P,g:()=>V,i:()=>b,j:()=>x,l:()=>ue,n:()=>K,s:()=>B,t:()=>te});var E=v(85952);function D(le,Se){return le[0]=Se[0],le[1]=Se[1],le[2]=Se[2],le[3]=Se[3],le}function B(le,Se,se,Pe,Ie){return le[0]=Se,le[1]=se,le[2]=Pe,le[3]=Ie,le}function P(le,Se,se){return le[0]=Se[0]+se[0],le[1]=Se[1]+se[1],le[2]=Se[2]+se[2],le[3]=Se[3]+se[3],le}function H(le,Se,se){return le[0]=Se[0]-se[0],le[1]=Se[1]-se[1],le[2]=Se[2]-se[2],le[3]=Se[3]-se[3],le}function j(le,Se,se){return le[0]=Se[0]*se[0],le[1]=Se[1]*se[1],le[2]=Se[2]*se[2],le[3]=Se[3]*se[3],le}function $(le,Se,se){return le[0]=Se[0]/se[0],le[1]=Se[1]/se[1],le[2]=Se[2]/se[2],le[3]=Se[3]/se[3],le}function J(le,Se,se){return le[0]=Se[0]*se,le[1]=Se[1]*se,le[2]=Se[2]*se,le[3]=Se[3]*se,le}function L(le,Se){const se=Se[0]-le[0],Pe=Se[1]-le[1],Ie=Se[2]-le[2],X=Se[3]-le[3];return Math.sqrt(se*se+Pe*Pe+Ie*Ie+X*X)}function C(le,Se){const se=Se[0]-le[0],Pe=Se[1]-le[1],Ie=Se[2]-le[2],X=Se[3]-le[3];return se*se+Pe*Pe+Ie*Ie+X*X}function b(le){const Se=le[0],se=le[1],Pe=le[2],Ie=le[3];return Math.sqrt(Se*Se+se*se+Pe*Pe+Ie*Ie)}function x(le){const Se=le[0],se=le[1],Pe=le[2],Ie=le[3];return Se*Se+se*se+Pe*Pe+Ie*Ie}function K(le,Se){const se=Se[0],Pe=Se[1],Ie=Se[2],X=Se[3];let Ee=se*se+Pe*Pe+Ie*Ie+X*X;return Ee>0&&(Ee=1/Math.sqrt(Ee),le[0]=se*Ee,le[1]=Pe*Ee,le[2]=Ie*Ee,le[3]=X*Ee),le}function V(le,Se){return le[0]*Se[0]+le[1]*Se[1]+le[2]*Se[2]+le[3]*Se[3]}function ue(le,Se,se,Pe){const Ie=Se[0],X=Se[1],Ee=Se[2],Le=Se[3];return le[0]=Ie+Pe*(se[0]-Ie),le[1]=X+Pe*(se[1]-X),le[2]=Ee+Pe*(se[2]-Ee),le[3]=Le+Pe*(se[3]-Le),le}function te(le,Se,se){const Pe=Se[0],Ie=Se[1],X=Se[2],Ee=Se[3];return le[0]=se[0]*Pe+se[4]*Ie+se[8]*X+se[12]*Ee,le[1]=se[1]*Pe+se[5]*Ie+se[9]*X+se[13]*Ee,le[2]=se[2]*Pe+se[6]*Ie+se[10]*X+se[14]*Ee,le[3]=se[3]*Pe+se[7]*Ie+se[11]*X+se[15]*Ee,le}function de(le,Se){return le[0]===Se[0]&&le[1]===Se[1]&&le[2]===Se[2]&&le[3]===Se[3]}function ve(le,Se){const se=le[0],Pe=le[1],Ie=le[2],X=le[3],Ee=Se[0],Le=Se[1],Oe=Se[2],_e=Se[3],we=(0,E.FD)();return Math.abs(se-Ee)<=we*Math.max(1,Math.abs(se),Math.abs(Ee))&&Math.abs(Pe-Le)<=we*Math.max(1,Math.abs(Pe),Math.abs(Le))&&Math.abs(Ie-Oe)<=we*Math.max(1,Math.abs(Ie),Math.abs(Oe))&&Math.abs(X-_e)<=we*Math.max(1,Math.abs(X),Math.abs(_e))}Object.freeze(Object.defineProperty({__proto__:null,add:P,ceil:function S(le,Se){return le[0]=Math.ceil(Se[0]),le[1]=Math.ceil(Se[1]),le[2]=Math.ceil(Se[2]),le[3]=Math.ceil(Se[3]),le},copy:D,copyVec3:function W(le,Se){return le[0]=Se[0],le[1]=Se[1],le[2]=Se[2],le},dist:L,distance:L,div:$,divide:$,dot:V,equals:ve,exactEquals:de,floor:function I(le,Se){return le[0]=Math.floor(Se[0]),le[1]=Math.floor(Se[1]),le[2]=Math.floor(Se[2]),le[3]=Math.floor(Se[3]),le},inverse:function w(le,Se){return le[0]=1/Se[0],le[1]=1/Se[1],le[2]=1/Se[2],le[3]=1/Se[3],le},len:b,length:b,lerp:ue,max:function U(le,Se,se){return le[0]=Math.max(Se[0],se[0]),le[1]=Math.max(Se[1],se[1]),le[2]=Math.max(Se[2],se[2]),le[3]=Math.max(Se[3],se[3]),le},min:function O(le,Se,se){return le[0]=Math.min(Se[0],se[0]),le[1]=Math.min(Se[1],se[1]),le[2]=Math.min(Se[2],se[2]),le[3]=Math.min(Se[3],se[3]),le},mul:j,multiply:j,negate:function R(le,Se){return le[0]=-Se[0],le[1]=-Se[1],le[2]=-Se[2],le[3]=-Se[3],le},normalize:K,random:function ee(le,Se){const se=E.Ov;let Pe,Ie,X,Ee,Le,Oe;Se=Se||1;do{Pe=2*se()-1,Ie=2*se()-1,Le=Pe*Pe+Ie*Ie}while(Le>=1);do{X=2*se()-1,Ee=2*se()-1,Oe=X*X+Ee*Ee}while(Oe>=1);const _e=Math.sqrt((1-Le)/Oe);return le[0]=Se*Pe,le[1]=Se*Ie,le[2]=Se*X*_e,le[3]=Se*Ee*_e,le},round:function N(le,Se){return le[0]=Math.round(Se[0]),le[1]=Math.round(Se[1]),le[2]=Math.round(Se[2]),le[3]=Math.round(Se[3]),le},scale:J,scaleAndAdd:function Z(le,Se,se,Pe){return le[0]=Se[0]+se[0]*Pe,le[1]=Se[1]+se[1]*Pe,le[2]=Se[2]+se[2]*Pe,le[3]=Se[3]+se[3]*Pe,le},set:B,sqrDist:C,sqrLen:x,squaredDistance:C,squaredLength:x,str:function ae(le){return"vec4("+le[0]+", "+le[1]+", "+le[2]+", "+le[3]+")"},sub:H,subtract:H,transformMat4:te,transformQuat:function pe(le,Se,se){const Pe=Se[0],Ie=Se[1],X=Se[2],Ee=se[0],Le=se[1],Oe=se[2],_e=se[3],we=_e*Pe+Le*X-Oe*Ie,ke=_e*Ie+Oe*Pe-Ee*X,Xe=_e*X+Ee*Ie-Le*Pe,Q=-Ee*Pe-Le*Ie-Oe*X;return le[0]=we*_e+Q*-Ee+ke*-Oe-Xe*-Le,le[1]=ke*_e+Q*-Le+Xe*-Ee-we*-Oe,le[2]=Xe*_e+Q*-Oe+we*-Le-ke*-Ee,le[3]=Se[3],le}},Symbol.toStringTag,{value:"Module"}))},27980:(et,Ae,v)=>{"use strict";v.d(Ae,{TS:()=>W,V6:()=>D,c4:()=>B,qh:()=>j,z$:()=>H});const E={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function D($){return!!E[$]||!!E[$.toLowerCase()]}function W($){return E[$]??E[$.toLowerCase()]}function B($){return[...W($)]}function P($,S,I){I<0&&++I,I>1&&--I;const O=6*I;return O<1?$+(S-$)*O:2*I<1?S:3*I<2?$+(S-$)*(2/3-I)*6:$}function H($,S,I,O=1){const U=($%360+360)%360/360,N=I<=.5?I*(S+1):I+S-I*S,J=2*I-N;return[Math.round(255*P(J,N,U+1/3)),Math.round(255*P(J,N,U)),Math.round(255*P(J,N,U-1/3)),O]}function j($){const S=$.length>5,I=S?8:4,O=(1<<I)-1,U=S?1:17,N=S?9===$.length:5===$.length;let J=+("0x"+$.substr(1));if(isNaN(J))return null;const Z=[0,0,0,1];let L;return N&&(L=J&O,J>>=I,Z[3]=U*L/255),L=J&O,J>>=I,Z[2]=U*L,L=J&O,J>>=I,Z[1]=U*L,L=J&O,J>>=I,Z[0]=U*L,Z}},23098:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>B}),v(3248);var D=v(89221),W=v(97333);const B={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,D.$N)(B,globalThis.esriConfig,!0),delete B.has),B.assetsPath||(B.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@4.30.0-next.${W.$}/assets`,B.defaultAssetsPath=B.assetsPath)},98877:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>re});var E=v(23159),D=v(86807),W=v(35150),B=v(11432),P=v(84838),H=v(92073),j=v(97681),$=v(2716),I=(v(3248),v(77806)),O=v(61591),U=v(86112),N=v(26514),J=v(9700),Z=v(58272);class L extends U.T{constructor(oe,le){super(),this.propertyName=oe,this.metadata=le,this._accessed=null,this._handles=null,this.flags=0,this.flags=Z.i.Dirty|(le.nonNullable?Z.i.NonNullable:0)|(le.hasOwnProperty("value")?Z.i.HasDefaultValue:0)|(void 0===le.get?Z.i.DepTrackingInitialized:0)|(void 0===le.dependsOn?Z.i.AutoTracked:0)}destroy(){this.flags&Z.i.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(oe){(0,J.gc)(this);const le=oe.store,Se=this.propertyName,se=this.flags,Pe=le.get(Se);if(se&Z.i.Computing||~se&Z.i.Dirty&&le.has(Se))return Pe;this.flags|=Z.i.Computing;const Ie=oe.host;let X;se&Z.i.AutoTracked?X=(0,J.a)(this,this.metadata.get,Ie):((0,J.Xr)(Ie,this),X=this.metadata.get.call(Ie)),le.set(Se,X,N.Gr.COMPUTED);const Ee=le.get(Se);return Ee===Pe?this.flags&=~Z.i.Dirty:(0,J.F_)(this.commit,this),this.flags&=~Z.i.Computing,Ee}onObservableAccessed(oe){oe!==this&&(this._accessed??=new Set,this._accessed.add(oe))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=Z.i.DepTrackingInitialized,null!=this._accessed&&(this._handles??=[],this._accessed.forEach(oe=>{this._handles.push(oe.observe(this))}),this._accessed.clear())}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~Z.i.Dirty,this.onCommitted()}_clearObservationHandles(){const oe=this._handles;if(null!==oe){for(let le=0;le<oe.length;++le)oe[le].remove();oe.length=0}}onInvalidated(){~this.flags&Z.i.Overridden&&(this.flags|=Z.i.Dirty);const oe=this._observers;if(oe&&oe.length>0)for(const le of oe)le.onInvalidated()}onCommitted(){const oe=this._observers;if(oe&&oe.length>0){const le=oe.slice();for(const Se of le)Se.onCommitted()}}}class C{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(oe){const le=new C;return this._values.forEach((Se,se)=>{oe&&oe.has(se)||le.set(se,(0,I.o8)(Se))}),le}get(oe){return this._values.get(oe)}originOf(){return N.Gr.USER}keys(){return[...this._values.keys()]}set(oe,le){this._values.set(oe,le)}delete(oe){this._values.delete(oe)}has(oe){return this._values.has(oe)}forEach(oe){this._values.forEach(oe)}}function b(ce,oe,le){return void 0!==ce}function x(ce,oe,le,Se){return!(void 0===ce||null==le&&ce.flags&Z.i.NonNullable)}class R{constructor(oe){this.host=oe,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=j.v.INITIALIZING,this.store=new C,this._origin=N.Gr.USER;const le=this.host.constructor.__accessorMetadata__;for(const Se in le){const se=new L(Se,le[Se]);this.propertiesByName.set(Se,se)}this.metadata=le}initialize(){this.lifecycle=j.v.CONSTRUCTING}constructed(){this.lifecycle=j.v.CONSTRUCTED}destroy(){this.lifecycle=j.v.DESTROYED,this.propertiesByName.forEach(oe=>oe.destroy())}get initialized(){return this.lifecycle!==j.v.INITIALIZING}get(oe){const le=this.propertiesByName.get(oe);if(le.metadata.get)return le.getComputed(this);(0,J.gc)(le);const Se=this.store;return Se.has(oe)?Se.get(oe):le.metadata.value}originOf(oe){const le=this.store.originOf(oe);if(void 0===le){const Se=this.propertiesByName.get(oe);if(void 0!==Se&&Se.flags&Z.i.HasDefaultValue)return"defaults"}return(0,N.OL)(le)}has(oe){return this.propertiesByName.has(oe)&&this.store.has(oe)}keys(){return[...this.propertiesByName.keys()]}internalGet(oe){const le=this.propertiesByName.get(oe);if(b(le))return this.store.has(oe)?this.store.get(oe):le.metadata.value}internalSet(oe,le){const Se=this.propertiesByName.get(oe);b(Se)&&this._internalSet(Se,le)}getDependsInfo(oe,le,Se){const se=this.propertiesByName.get(le);if(!b(se))return"";const Pe=new Set,Ie=(0,J.a)({onObservableAccessed:Ee=>Pe.add(Ee),onTrackingEnd:()=>{}},()=>se.metadata.get?.call(oe));let X=`${Se}${oe.declaredClass.split(".").pop()}.${le}: ${Ie}\n`;if(0===Pe.size)return X;Se+="  ";for(const Ee of Pe)Ee instanceof L&&(X+=`${Se}${Ee.propertyName}: undefined\n`);return X}setAtOrigin(oe,le,Se){const se=this.propertiesByName.get(oe);if(b(se))return this._setAtOrigin(se,le,Se)}isOverridden(oe){const le=this.propertiesByName.get(oe);return void 0!==le&&!!(le.flags&Z.i.Overridden)}clearOverride(oe){const le=this.propertiesByName.get(oe);le&&le.flags&Z.i.Overridden&&(le.flags&=~Z.i.Overridden,le.notifyChange())}override(oe,le){const Se=this.propertiesByName.get(oe);if(!x(Se,0,le))return;const se=Se.metadata.cast;if(se){const Pe=this._cast(se,le),{valid:Ie,value:X}=Pe;if(K.release(Pe),!Ie)return;le=X}Se.flags|=Z.i.Overridden,this._internalSet(Se,le)}set(oe,le){const Se=this.propertiesByName.get(oe);if(!x(Se,0,le))return;const se=Se.metadata.cast;if(se){const Ie=this._cast(se,le),{valid:X,value:Ee}=Ie;if(K.release(Ie),!X)return;le=Ee}const Pe=Se.metadata.set;Pe?Pe.call(this.host,le):this._internalSet(Se,le)}setDefaultOrigin(oe){this._origin=(0,N.aB)(oe)}getDefaultOrigin(){return(0,N.OL)(this._origin)}notifyChange(oe){const le=this.propertiesByName.get(oe);void 0!==le&&le.notifyChange()}invalidate(oe){const le=this.propertiesByName.get(oe);void 0!==le&&le.invalidate()}commit(oe){const le=this.propertiesByName.get(oe);void 0!==le&&le.commit()}_internalSet(oe,le){this._setAtOrigin(oe,le,this.lifecycle!==j.v.INITIALIZING?this._origin:N.Gr.DEFAULTS)}_setAtOrigin(oe,le,Se){const se=this.store,Pe=oe.propertyName;se.has(Pe,Se)&&(0,I.aI)(le,se.get(Pe))&&~oe.flags&Z.i.Overridden&&Se===se.originOf(Pe)||(oe.invalidate(),se.set(Pe,le,Se),oe.commit(),(0,J.fE)(this.host,oe))}_cast(oe,le){const Se=K.acquire();return Se.valid=!0,Se.value=le,oe&&(Se.value=oe.call(this.host,le,Se)),Se}}const K=new O.A(class w{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var V=v(23245);var pe,ce;(ce=pe||(pe={}))[ce.Ignore=0]="Ignore",ce[ce.Destroy=1]="Destroy",ce[ce.ThrowError=2]="ThrowError";var G,fe,ae=v(76410),de=v(85211),ve=v(76576);function ie(ce){if(null==ce)return{value:ce};if(Array.isArray(ce))return{type:[ce[0]],value:null};switch(typeof ce){case"object":return ce.constructor?.__accessorMetadata__||ce instanceof Date?{type:ce.constructor,value:ce}:ce;case"boolean":return{type:Boolean,value:ce};case"string":return{type:String,value:ce};case"number":return{type:Number,value:ce};case"function":return{type:ce,value:null};default:return}}const ye=Symbol("Accessor-Handles"),q=Symbol("Accessor-Initialized");class re{static createSubclass(oe={}){if(Array.isArray(oe))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:le,declaredClass:Se,constructor:se}=oe;delete oe.declaredClass,delete oe.properties,delete oe.constructor;const Pe=this;class Ie extends Pe{constructor(...Ee){super(...Ee),this.inherited=null,se&&se.apply(this,Ee)}}(0,$.tD)(Ie.prototype);for(const X in oe){const Ee=oe[X];Ie.prototype[X]="function"==typeof Ee?function(...Le){const Oe=this.inherited;let _e;this.inherited=function(...we){if(Pe.prototype[X])return Pe.prototype[X].apply(this,we)};try{_e=Ee.apply(this,Le)}catch(we){throw this.inherited=Oe,we}return this.inherited=Oe,_e}:oe[X]}for(const X in le){const Ee=ie(le[X]);(0,de.MZ)(Ee)(Ie.prototype,X)}return(0,ve.$)(Se)(Ie)}constructor(...oe){if(this[G]=null,this[fe]=!1,this.constructor===re)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const le=new R(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:le}),oe.length>0&&(le.ctorArgs=this.normalizeCtorArgs?.apply(this,oe)??oe[0])}postscript(){const oe=this.__accessor__,le=oe.ctorArgs;oe.initialize(),le&&(this.set(le),oe.ctorArgs=null),oe.constructed(),this.initialize(),this[q]=!0}initialize(){}[P.G](){this[ye]=(0,B.pR)(this[ye])}destroy(){this.destroyed||((0,ae.iS)(this),this.__accessor__.destroy())}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[q]}get destroyed(){return this.__accessor__?.lifecycle===j.v.DESTROYED||!1}commitProperty(oe){(0,H.Jt)(this,oe)}get(oe){return(0,E.eO)(W.A.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),(0,H.Jt)(this,oe)}hasOwnProperty(oe){return this.__accessor__?this.__accessor__.has(oe):Object.prototype.hasOwnProperty.call(this,oe)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(oe,le){return(0,V.h)(this,oe,le),this}watch(oe,le,Se){return(0,ae.wB)(this,oe,le,Se)}addHandles(oe,le){if(this.destroyed){const Se=Array.isArray(oe)?oe:[oe];for(const se of Se)se.remove()}else(this[ye]??=new D.A).add(oe,le)}removeHandles(oe){this[ye]?.remove(oe)}removeAllHandles(){this[ye]?.removeAll()}removeHandlesReference(oe){this[ye]?.removeReference(oe)}hasHandles(oe){return!0===this[ye]?.has(oe)}_override(oe,le){void 0===le?this.__accessor__.clearOverride(oe):this.__accessor__.override(oe,le)}_clearOverride(oe){return this.__accessor__.clearOverride(oe)}_overrideIfSome(oe,le){null==le?this.__accessor__.clearOverride(oe):this.__accessor__.override(oe,le)}_isOverridden(oe){return this.__accessor__.isOverridden(oe)}notifyChange(oe){this.__accessor__.notifyChange(oe)}_get(oe){return this.__accessor__.internalGet(oe)}_set(oe,le){return this.__accessor__.internalSet(oe,le),this}}G=ye,fe=q},56595:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});var E=v(61591);function D(P){P.length=0}class W{constructor(H=50,j=50){this._pool=new E.A(Array,void 0,D,j,H)}acquire(){return this._pool.acquire()}release(H){this._pool.release(H)}prune(){this._pool.prune(0)}static acquire(){return B.acquire()}static release(H){return B.release(H)}static prune(){B.prune()}}const B=new W(100)},90660:(et,Ae,v)=>{"use strict";v.d(Ae,{O:()=>I,P:()=>O});var E=v(8189),D=v(98877),B=(v(3248),v(77806)),H=(v(35150),v(11432)),j=v(26514),$=v(74220),S=v(76576);const I=U=>{let N=class extends U{clone(){const J=(0,$.oY)(this);(0,H.Lw)(J,"unable to clone instance of non-accessor class");const Z=J.metadata,L=J.store,C={},b=new Map;for(const R in Z){const w=Z[R],K=L?.originOf(R),V=w.clonable;if(w.readOnly||!1===V||K!==j.Gr.USER&&K!==j.Gr.DEFAULTS&&K!==j.Gr.WEB_MAP&&K!==j.Gr.WEB_SCENE)continue;const ue=this[R];let ee=null;ee="function"==typeof V?V(ue):"reference"===V?ue:(0,B.TU)(ue),null!=ue&&null==ee||(K===j.Gr.DEFAULTS?b.set(R,ee):C[R]=ee)}const x=new(Object.getPrototypeOf(this).constructor)(C);if(b.size){const R=(0,$.oY)(x)?.store;if(R)for(const[w,K]of b)R.set(w,K,j.Gr.DEFAULTS)}return x}};return N=(0,E._)([(0,S.$)("esri.core.Clonable")],N),N};let O=class extends(I(D.A)){};O=(0,E._)([(0,S.$)("esri.core.Clonable")],O)},31178:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ve});var j,G,E=v(8189),D=v(56595),W=v(42425),B=v(17715),P=v(77806),H=v(61591);(G=j||(j={}))[G.ADD=1]="ADD",G[G.REMOVE=2]="REMOVE",G[G.MOVE=4]="MOVE";var Z,$=v(3804),S=v(55739),I=v(9700),O=v(85211),U=v(69039),N=v(76576),J=v(4032);class C{constructor(fe,ie,ye,q,re){this.target=fe,this.added=ie,this.removed=ye,this.start=q,this.deleteCount=re}}const b=new H.A(class L{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(fe){this.defaultPrevented=!1,this.item=fe}},void 0,G=>{G.item=null,G.target=null,G.defaultPrevented=!1,G.cancellable=!1});function x(G){G&&"object"==typeof G&&"destroy"in G&&"function"==typeof G.destroy&&G.destroy()}function R(G){return G?G instanceof de?G.toArray():G.length?Array.prototype.slice.apply(G):[]:[]}function w(G){if(G?.length)return G[0]}function K(G,fe,ie,ye){const q=Math.min(G.length-ie,fe.length-ye);let re=0;for(;re<q&&G[ie+re]===fe[ye+re];)re++;return re}function V(G,fe,ie,ye){fe&&fe.forEach((q,re,ce)=>{G.push(q),V(G,ie.call(ye,q,re,ce),ie,ye)})}const ue=new Set,ee=new Set,te=new Set,pe=new Map;let ae=0,de=Z=class extends W.A.EventedAccessor{static isCollection(G){return null!=G&&G instanceof Z}constructor(G){super(G),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new J.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ae++})}normalizeCtorArgs(G){return G?Array.isArray(G)||G instanceof Z?{items:G}:G:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove()}*[Symbol.iterator](){yield*this.items}get items(){return(0,I.gc)(this._observable),this._items}set items(G){this._emitBeforeChanges(j.ADD)||(this._splice(0,this.length,R(G)),this._emitAfterChanges(j.ADD))}hasEventListener(G){return"change"===G?this._chgListeners.length>0:this._emitter.hasEventListener(G)}on(G,fe){if("change"===G){const ie=this._chgListeners,ye={removed:!1,callback:fe};return ie.push(ye),this._notifications&&this._notifications.push({listeners:ie.slice(),items:this._items.slice(),changes:[]}),(0,B.hA)(()=>{ye.removed=!0,ie.splice(ie.indexOf(ye),1)})}return this._emitter.on(G,fe)}once(G,fe){const ie="deref"in fe?()=>fe.deref():()=>fe,ye=this.on(G,q=>{ie()?.call(null,q),ye.remove()});return ye}add(G,fe){if((0,I.gc)(this._observable),this._emitBeforeChanges(j.ADD))return this;const ie=this.getNextIndex(fe??null);return this._splice(ie,0,[G]),this._emitAfterChanges(j.ADD),this}addMany(G,fe=this._items.length){if((0,I.gc)(this._observable),!G?.length)return this;if(this._emitBeforeChanges(j.ADD))return this;const ie=this.getNextIndex(fe);return this._splice(ie,0,R(G)),this._emitAfterChanges(j.ADD),this}at(G){if((0,I.gc)(this._observable),(G=Math.trunc(G)||0)<0&&(G+=this.length),!(G<0||G>=this.length))return this._items[G]}removeAll(){if((0,I.gc)(this._observable),!this.length||this._emitBeforeChanges(j.REMOVE))return[];const G=this._removeAllRaw();return this._emitAfterChanges(j.REMOVE),G}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,I.gc)(this._observable),this._createNewInstance({items:this._items.map(P.o8)})}concat(...G){(0,I.gc)(this._observable);const fe=G.map(R);return this._createNewInstance({items:this._items.concat(...fe)})}drain(G,fe){if((0,I.gc)(this._observable),!this.length||this._emitBeforeChanges(j.REMOVE))return;const ie=this._splice(0,this.length),ye=ie.length;for(let q=0;q<ye;q++)G.call(fe,ie[q],q,ie);this._emitAfterChanges(j.REMOVE)}destroyAll(){this.drain(x)}destroyMany(G){const fe=this.removeMany(G);return fe.forEach(x),fe}every(G,fe){return(0,I.gc)(this._observable),this._items.every(G,fe)}filter(G,fe){let ie;return(0,I.gc)(this._observable),ie=2===arguments.length?this._items.filter(G,fe):this._items.filter(G),this._createNewInstance({items:ie})}find(G,fe){return(0,I.gc)(this._observable),this._items.find(G,fe)}findIndex(G,fe){return(0,I.gc)(this._observable),this._items.findIndex(G,fe)}flatten(G,fe){(0,I.gc)(this._observable);const ie=[];return V(ie,this,G,fe),new Z(ie)}forEach(G,fe){return(0,I.gc)(this._observable),this._items.forEach(G,fe)}getItemAt(G){return(0,I.gc)(this._observable),this._items[G]}getNextIndex(G){(0,I.gc)(this._observable);const fe=this.length;return(G=G??fe)<0?G=0:G>fe&&(G=fe),G}includes(G,fe=0){return(0,I.gc)(this._observable),this._items.includes(G,fe)}indexOf(G,fe=0){return(0,I.gc)(this._observable),this._items.indexOf(G,fe)}join(G=","){return(0,I.gc)(this._observable),this._items.join(G)}lastIndexOf(G,fe=this.length-1){return(0,I.gc)(this._observable),this._items.lastIndexOf(G,fe)}map(G,fe){(0,I.gc)(this._observable);const ie=this._items.map(G,fe);return new Z({items:ie})}reorder(G,fe=this.length-1){(0,I.gc)(this._observable);const ie=this.indexOf(G);if(-1!==ie){if(fe<0?fe=0:fe>=this.length&&(fe=this.length-1),ie!==fe){if(this._emitBeforeChanges(j.MOVE))return G;this._splice(ie,1),this._splice(fe,0,[G]),this._emitAfterChanges(j.MOVE)}return G}}pop(){if((0,I.gc)(this._observable),!this.length||this._emitBeforeChanges(j.REMOVE))return;const G=w(this._splice(this.length-1,1));return this._emitAfterChanges(j.REMOVE),G}push(...G){return(0,I.gc)(this._observable),this._emitBeforeChanges(j.ADD)||(this._splice(this.length,0,G),this._emitAfterChanges(j.ADD)),this.length}reduce(G,fe){(0,I.gc)(this._observable);const ie=this._items;return 2===arguments.length?ie.reduce(G,fe):ie.reduce(G)}reduceRight(G,fe){(0,I.gc)(this._observable);const ie=this._items;return 2===arguments.length?ie.reduceRight(G,fe):ie.reduceRight(G)}remove(G){return(0,I.gc)(this._observable),this.removeAt(this.indexOf(G))}removeAt(G){if((0,I.gc)(this._observable),G<0||G>=this.length||this._emitBeforeChanges(j.REMOVE))return;const fe=w(this._splice(G,1));return this._emitAfterChanges(j.REMOVE),fe}removeMany(G){if((0,I.gc)(this._observable),!G?.length||this._emitBeforeChanges(j.REMOVE))return[];const fe=G instanceof Z?G.toArray():G,ie=this._items,ye=[],q=fe.length;for(let re=0;re<q;re++){const oe=ie.indexOf(fe[re]);if(oe>-1){const le=1+K(fe,ie,re+1,oe+1),Se=this._splice(oe,le);Se&&Se.length>0&&ye.push.apply(ye,Se),re+=le-1}}return this._emitAfterChanges(j.REMOVE),ye}reverse(){if((0,I.gc)(this._observable),this._emitBeforeChanges(j.MOVE))return this;const G=this._splice(0,this.length);return G&&(G.reverse(),this._splice(0,0,G)),this._emitAfterChanges(j.MOVE),this}shift(){if((0,I.gc)(this._observable),!this.length||this._emitBeforeChanges(j.REMOVE))return;const G=w(this._splice(0,1));return this._emitAfterChanges(j.REMOVE),G}slice(G=0,fe=this.length){return(0,I.gc)(this._observable),this._createNewInstance({items:this._items.slice(G,fe)})}some(G,fe){return(0,I.gc)(this._observable),this._items.some(G,fe)}sort(G){if((0,I.gc)(this._observable),!this.length||this._emitBeforeChanges(j.MOVE))return this;const fe=this._splice(0,this.length);return arguments.length?fe.sort(G):fe.sort(),this._splice(0,0,fe),this._emitAfterChanges(j.MOVE),this}splice(G,fe,...ie){(0,I.gc)(this._observable);const ye=(fe?j.REMOVE:0)|(ie.length?j.ADD:0);if(this._emitBeforeChanges(ye))return[];const q=this._splice(G,fe,ie)||[];return this._emitAfterChanges(ye),q}toArray(){return(0,I.gc)(this._observable),this._items.slice()}toJSON(){return(0,I.gc)(this._observable),this.toArray()}toLocaleString(){return(0,I.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,I.gc)(this._observable),this._items.toString()}unshift(...G){return(0,I.gc)(this._observable),!G.length||this._emitBeforeChanges(j.ADD)||(this._splice(0,0,G),this._emitAfterChanges(j.ADD)),this.length}_createNewInstance(G){return new this.constructor(G)}_splice(G,fe,ie){const ye=this._items,q=this.itemType;let re,ce;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,$._)(()=>this._dispatchChange())),G<0&&(G+=this.length),fe){if(ce=ye.splice(G,fe),this.hasEventListener("before-remove")){const oe=b.acquire();oe.target=this,oe.cancellable=!0;for(let le=0,Se=ce.length;le<Se;le++)re=ce[le],oe.reset(re),this.emit("before-remove",oe),oe.defaultPrevented&&(ce.splice(le,1),ye.splice(G,0,re),G+=1,le-=1,Se-=1);b.release(oe)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const oe=b.acquire();oe.target=this,oe.cancellable=!1;const le=ce.length;for(let Se=0;Se<le;Se++)oe.reset(ce[Se]),this.emit("after-remove",oe);b.release(oe)}}if(ie?.length){if(q){const se=[];for(const Pe of ie){const Ie=q.ensureType(Pe);null==Ie&&null!=Pe||se.push(Ie)}ie=se}const oe=this.hasEventListener("before-add"),le=this.hasEventListener("after-add"),Se=G===this.length;if(oe||le){const se=b.acquire();se.target=this,se.cancellable=!0;const Pe=b.acquire();Pe.target=this,Pe.cancellable=!1;for(const Ie of ie)oe?(se.reset(Ie),this.emit("before-add",se),se.defaultPrevented||(Se?ye.push(Ie):ye.splice(G++,0,Ie),this._set("length",ye.length),le&&(Pe.reset(Ie),this.emit("after-add",Pe)))):(Se?ye.push(Ie):ye.splice(G++,0,Ie),this._set("length",ye.length),Pe.reset(Ie),this.emit("after-add",Pe));b.release(Pe),b.release(se)}else{if(Se)for(const se of ie)ye.push(se);else ye.splice(G,0,...ie);this._set("length",ye.length)}}if((ie?.length||ce?.length)&&this._notifyChangeEvent(ie,ce),this.hasEventListener("after-splice")){const oe=new C(this,ie,ce,G,fe);this.emit("after-splice",oe)}return ce}_emitBeforeChanges(G){let fe=!1;if(this.hasEventListener("before-changes")){const ie=b.acquire();ie.target=this,ie.cancellable=!0,ie.type=G,this.emit("before-changes",ie),fe=ie.defaultPrevented,b.release(ie)}return fe}_emitAfterChanges(G){if(this.hasEventListener("after-changes")){const fe=b.acquire();fe.target=this,fe.cancellable=!1,fe.type=G,this.emit("after-changes",fe),b.release(fe)}this._observable.notify()}_notifyChangeEvent(G,fe){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:G,removed:fe})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const G=this._notifications;this._notifications=null;for(const fe of G){const ie=fe.changes;ue.clear(),ee.clear(),te.clear();for(const{added:le,removed:Se}of ie){if(le)if(0===te.size&&0===ee.size)for(const se of le)ue.add(se);else for(const se of le)ee.has(se)?(te.add(se),ee.delete(se)):te.has(se)||ue.add(se);if(Se)if(0===te.size&&0===ue.size)for(const se of Se)ee.add(se);else for(const se of Se)ue.has(se)?ue.delete(se):(te.delete(se),ee.add(se))}const ye=D.A.acquire();ue.forEach(le=>{ye.push(le)});const q=D.A.acquire();ee.forEach(le=>{q.push(le)});const re=this._items,ce=fe.items,oe=D.A.acquire();if(te.forEach(le=>{ce.indexOf(le)!==re.indexOf(le)&&oe.push(le)}),fe.listeners&&(ye.length||q.length||oe.length)){const le={target:this,added:ye,removed:q,moved:oe},Se=fe.listeners.length;for(let se=0;se<Se;se++){const Pe=fe.listeners[se];Pe.removed||Pe.callback.call(this,le)}}D.A.release(ye),D.A.release(q),D.A.release(oe)}ue.clear(),ee.clear(),te.clear()}};de.ofType=G=>{if(!G)return Z;if(pe.has(G))return pe.get(G);let fe=null;if("function"==typeof G)fe=G.prototype.declaredClass;else if(G.base)fe=G.base.prototype.declaredClass;else for(const ye in G.typeMap){const q=G.typeMap[ye].prototype.declaredClass;fe?fe+=` | ${q}`:fe=q}let ie=class extends Z{};return(0,E._)([(0,U.u)({Type:G,ensureType:"function"==typeof G?(0,S.dp)(G):(0,S.aq)(G)})],ie.prototype,"itemType",void 0),ie=(0,E._)([(0,N.$)(`esri.core.Collection<${fe}>`)],ie),pe.set(G,ie),ie},(0,E._)([(0,O.MZ)()],de.prototype,"_updating",void 0),(0,E._)([(0,O.MZ)()],de.prototype,"length",void 0),(0,E._)([(0,O.MZ)()],de.prototype,"items",null),(0,E._)([(0,O.MZ)({readOnly:!0})],de.prototype,"updating",null),de=Z=(0,E._)([(0,N.$)("esri.core.Collection")],de);const ve=de},2993:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var E=v(8189),D=v(31178),j=(v(89447),v(5922),v(35150),v(76410),v(34703)),$=v(85211),S=v(76576);let I=class extends D.A{constructor(U){super(U),this.getCollections=null}initialize(){this.addHandles((0,j.fm)(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const U=null!=this.getCollections?this.getCollections():null;if(null==U)return void this.removeAll();let N=0;for(const J of U)null!=J&&(N=this._processCollection(N,J));this.splice(N,this.length)}_createNewInstance(U){return new D.A(U)}_processCollection(U,N){if(!N)return U;const J=this.itemFilterFunction??(Z=>!!Z);for(const Z of N)if(Z){if(J(Z)){const L=this.indexOf(Z,U);L>=0?L!==U&&this.reorder(Z,U):this.add(Z,U),++U}if(this.getChildrenFunction){const L=this.getChildrenFunction(Z);if(Array.isArray(L))for(const C of L)U=this._processCollection(U,C);else U=this._processCollection(U,L)}}return U}};(0,E._)([(0,$.MZ)()],I.prototype,"getCollections",void 0),(0,E._)([(0,$.MZ)()],I.prototype,"getChildrenFunction",void 0),(0,E._)([(0,$.MZ)()],I.prototype,"itemFilterFunction",void 0),I=(0,E._)([(0,S.$)("esri.core.CollectionFlattener")],I);const O=I},73596:(et,Ae,v)=>{"use strict";v.d(Ae,{ie:()=>j});var E=v(69287);class D{constructor(S,I){this.min=S,this.max=I,this.range=I-S}normalize(S,I=0,O=!1){return W(this.range,this.min,this.max,S,I,O)}clamp(S,I=0){return(0,E.qE)(S-I,this.min,this.max)+I}monotonic(S,I,O){return S<I?I:I+B(this.range,S-I,O)}minimalMonotonic(S,I,O){return W(this.range,S,S+this.range,I,O)}center(S,I,O){return I=this.monotonic(S,I,O),this.normalize((S+I)/2,O)}diff(S,I,O){return this.monotonic(S,I,O)-S}shortestSignedDiff(S,I){S=this.normalize(S);const O=(I=this.normalize(I))-S,U=I<S?this.minimalMonotonic(S,I)-S:I-this.minimalMonotonic(I,S);return Math.abs(O)<Math.abs(U)?O:U}contains(S,I,O){return I=this.minimalMonotonic(S,I),(O=this.minimalMonotonic(S,O))>S&&O<I}}function W($,S,I,O,U=0,N=!1){return(O-=U)<S?O+=B($,S-O):O>I&&(O-=B($,O-I)),N&&O===I&&(O=S),O+U}function B($,S,I=0){return Math.ceil((S-I)/$)*$+I}new D(0,2*Math.PI),new D(-Math.PI,Math.PI);const j=new D(0,360)},5922:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>B});var E=v(77806),D=v(35150),W=v(931);class B extends W.A{constructor(H,j,$){super(H,j,$)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(H,j)=>{if(j&&"object"==typeof j&&"function"==typeof j.toJSON)return j;try{return(0,E.o8)(j)}catch{return"[object]"}}))}}catch(H){throw D.A.getLogger("esri.core.Error").error(H),H}return{name:this.name,message:this.message,details:this.details}}static fromJSON(H){return new B(H.name,H.message,H.details)}}B.prototype.type="error"},42425:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>H});var E=v(8189),D=v(98877),W=v(17715),B=v(76576);class P{constructor(){this._emitter=new P.EventEmitter(this)}emit($,S){return this._emitter.emit($,S)}on($,S){return this._emitter.on($,S)}once($,S){return this._emitter.once($,S)}hasEventListener($){return this._emitter.hasEventListener($)}}!function(j){class ${constructor(O=null){this._target=O,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(O,U){let N=this._listenersMap?.get(O);if(!N)return!1;const J=this._target||this;let Z=!1;for(const L of N.slice()){const C="deref"in L?L.deref():L;C?C?.call(J,U):Z=!0}return Z&&(N=N.filter(L=>!("deref"in L)||null!=L.deref()),this._listenersMap.set(O,N)),N.length>0}on(O,U){if(Array.isArray(O)){const J=O.map(Z=>this.on(Z,U));return(0,W.vE)(J)}if(O.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const N=this._listenersMap.get(O)||[];return N.push(U),this._listenersMap.set(O,N),(0,W.hA)(()=>{const J=this._listenersMap?.get(O),Z=J?.indexOf(U)??-1;Z>=0&&J.splice(Z,1)})}once(O,U){const N=this.on(O,J=>{N.remove(),("deref"in U?U.deref():U)?.call(null,J)});return N}hasEventListener(O){const U=this._listenersMap?.get(O);return null!=U&&U.length>0}}j.EventEmitter=$,j.EventedMixin=I=>{let O=class extends I{constructor(){super(...arguments),this._emitter=new $}destroy(){this._emitter.clear()}emit(U,N){return this._emitter.emit(U,N)}on(U,N){return this._emitter.on(U,N)}once(U,N){return this._emitter.once(U,N)}hasEventListener(U){return this._emitter.hasEventListener(U)}};return O=(0,E._)([(0,B.$)("esri.core.Evented")],O),O};let S=class extends D.A{constructor(){super(...arguments),this._emitter=new P.EventEmitter(this)}destroy(){this._emitter.clear()}emit(I,O){return this._emitter.emit(I,O)}on(I,O){return this._emitter.on(I,O)}once(I,O){return this._emitter.once(I,O)}hasEventListener(I){return this._emitter.hasEventListener(I)}};S=(0,E._)([(0,B.$)("esri.core.Evented.EventedAccessor")],S),j.EventedAccessor=S}(P||(P={}));const H=P},86807:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>D});var E=v(5191);class D{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let j=0;return this._groups.forEach($=>{j+=$.length}),j}add(j,$){if((0,E.xZ)(j)){const S=this._getOrCreateGroup($);for(const I of j)P(I)&&S.push(I)}else P(j)&&this._getOrCreateGroup($).push(j);return this}forEach(j,$){if("function"==typeof j)this._groups.forEach(S=>S.forEach(j));else{const S=this._getGroup(j);S&&$&&S.forEach($)}}has(j){return this._groups.has(W(j))}remove(j){if("string"!=typeof j&&(0,E.xZ)(j)){for(const $ of j)this.remove($);return this}return this.has(j)?(B(this._getGroup(j)),this._groups.delete(W(j)),this):this}removeAll(){return this._groups.forEach(B),this._groups.clear(),this}removeReference(j){return this._groups.delete(j),this}_getOrCreateGroup(j){if(this.has(j))return this._getGroup(j);const $=[];return this._groups.set(W(j),$),$}_getGroup(j){return this._groups.get(W(j))}}function W(H){return H||"_default_"}function B(H){for(const j of H)j instanceof D?j.removeAll():j.remove()}function P(H){return null!=H&&(!!H.remove||H instanceof D)}},3046:(et,Ae,v)=>{"use strict";v.d(Ae,{PH:()=>P,sA:()=>B});var E=v(8189),D=v(76576);let W=0;const B=j=>{let $=class extends j{constructor(...S){super(...S),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+W++})}};return $=(0,E._)([(0,D.$)("esri.core.Identifiable")],$),$},P=j=>{let $=class extends j{constructor(...S){super(...S),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:W++})}};return $=(0,E._)([(0,D.$)("esri.core.Identifiable.NumericIdentifiable")],$),$};let H=class extends(B(class{})){};H=(0,E._)([(0,D.$)("esri.core.Identifiable")],H)},71065:(et,Ae,v)=>{"use strict";v.d(Ae,{oY:()=>Z,Te:()=>U,Wj:()=>J});var E=v(8189),D=v(98877),W=v(77806),B=v(26514);class P{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(C){const b=new P;return this._values.forEach((x,R)=>{C&&C.has(R)||b.set(R,(0,W.o8)(x.value),x.origin)}),b}get(C,b){b=this._normalizeOrigin(b);const x=this._values.get(C);return null==b||x?.origin===b?x?.value:void 0}originOf(C){return this._values.get(C)?.origin??B.Gr.USER}keys(C){C=this._normalizeOrigin(C);const b=[...this._values.keys()];return null==C?b:b.filter(x=>this._values.get(x)?.origin===C)}set(C,b,x){if((x=this._normalizeOrigin(x))===B.Gr.DEFAULTS){const R=this._values.get(C);if(null!=R?.origin&&R.origin>x)return}this._values.set(C,new H(b,x))}delete(C,b){null!=(b=this._normalizeOrigin(b))&&this._values.get(C)?.origin!==b||this._values.delete(C)}has(C,b){return null!=(b=this._normalizeOrigin(b))?this._values.get(C)?.origin===b:this._values.has(C)}forEach(C){this._values.forEach(({value:b},x)=>C(b,x))}_normalizeOrigin(C){if(null!=C)return C===B.Gr.DEFAULTS?C:B.Gr.USER}}class H{constructor(C,b){this.value=C,this.origin=b}}var j=v(29529),$=v(34813),S=v(74220),I=v(56558),O=v(76576);const U=L=>{let C=class extends L{constructor(...b){super(...b);const x=(0,S.oY)(this),R=x.store,w=new P;x.store=w,(0,j.k)(x,R,w)}read(b,x){(0,$.L)(this,b,x)}write(b,x){return(0,I.M)(this,b??{},x)}toJSON(b){return this.write({},b)}static fromJSON(b,x){return N.call(this,b,x)}};return C=(0,E._)([(0,O.$)("esri.core.JSONSupport")],C),C.prototype.toJSON.isDefaultToJSON=!0,C};function N(L,C){if(!L)return null;if(L.declaredClass)throw new Error("JSON object is already hydrated");const b=new this;return b.read(L,C),b}function J(L){return L&&"object"==typeof L&&"toJSON"in L&&"function"==typeof L.toJSON}let Z=class extends(U(D.A)){};Z=(0,E._)([(0,O.$)("esri.core.JSONSupport")],Z)},33087:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>D});var E=v(60611);class D{constructor(B,P){this._storage=new E.F,this.id="",this.name="",this.size=0,this._storage.maxSize=B,this._storage.register(this),P&&this._storage.registerRemoveFunc("",P)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(B,P,H=1){this._storage.put(this,B,P,H,1)}pop(B){return this._storage.pop(this,B)}get(B){return this._storage.get(this,B)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(B){this._storage.maxSize=B}resetHitRate(){}}},55098:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var E=v(8189),D=v(5922),W=v(11432),B=v(64261),P=v(56492),H=v(96996),j=v(85211),$=v(76576);const U="loaded",N=L=>{let C=class extends L{constructor(...b){super(...b),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(x=>{const R=this.load.bind(this);this.load=w=>{const K=new Promise((V,ue)=>{const ee=(0,P.NY)(w,ue);this.destroyed&&ue(new D.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(V,ue).finally(()=>{ee&&ee.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const V=this._loadController=new AbortController;R({signal:V.signal})}return x(),K}})),this.when(()=>{this._set("loadStatus",U),this._loadController=null},x=>{this._set("loadStatus","failed"),this._set("loadError",x),this._loadController=null})}destroy(){this._loadController&&(this._loadController=(0,W.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===U}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new D.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,E._)([(0,j.MZ)({readOnly:!0})],C.prototype,"loaded",null),(0,E._)([(0,j.MZ)({readOnly:!0})],C.prototype,"loadError",void 0),(0,E._)([(0,j.MZ)({clonable:!1})],C.prototype,"loadStatus",void 0),(0,E._)([(0,j.MZ)({type:[H.A],readOnly:!0})],C.prototype,"loadWarnings",null),C=(0,E._)([(0,$.$)("esri.core.Loadable")],C),C};let J=class extends(N(B.Z)){};var L;J=(0,E._)([(0,$.$)("esri.core.Loadable")],J),(L=J||(J={})).LoadableMixin=N,L.isLoadable=function C(b){return!(!b||!b.load)};const Z=J},35150:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>P});var E=v(23098),W=(v(3248),v(1119));const B={info:0,warn:1,error:2,none:3};class P{constructor(S){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=S.level&&(this.level=S.level),null!=S.writer&&(this.writer=S.writer),this._module=S.module,P._loggers.set(this.module,this);const I=this.module.lastIndexOf(".");-1!==I&&(this._parent=P.getLogger(this.module.slice(0,I)))}get module(){return this._module}get parent(){return this._parent}error(...S){this._log("error","always",...S)}warn(...S){this._log("warn","always",...S)}info(...S){this._log("info","always",...S)}errorOnce(...S){this._log("error","once",...S)}warnOnce(...S){this._log("warn","once",...S)}infoOnce(...S){this._log("info","once",...S)}errorOncePerTick(...S){this._log("error","oncePerTick",...S)}warnOncePerTick(...S){this._log("warn","oncePerTick",...S)}infoOncePerTick(...S){this._log("info","oncePerTick",...S)}get test(){}static get test(){}static getLogger(S){return P._loggers.get(S="string"!=typeof S?S.declaredClass:S)||new P({module:S})}_log(S,I,...O){if(this._matchLevel(S)){if("always"!==I&&!P._throttlingDisabled){const U=function j(...$){return(0,W.Wm)(JSON.stringify($,(I,O)=>"object"!=typeof O||Array.isArray(O)?O:"[Object]"))}(O),N=this._loggedMessages[S].get(U);if("once"===I&&null!=N||"oncePerTick"===I&&N&&N>=P._tickCounter)return;this._loggedMessages[S].set(U,P._tickCounter),P._scheduleTickCounterIncrement()}for(const U of E.A.log.interceptors)if(U(S,this.module,...O))return;this._inheritedWriter()(S,this.module,...O)}}_parentWithMember(S,I){let O=this;for(;null!=O;){const U=O[S];if(null!=U)return U;O=O.parent}return I}_inheritedWriter(){return this._parentWithMember("writer",H)}_matchLevel(S){return B[this._parentWithMember("level",E.A.log.level||"warn")]<=B[S]}static _scheduleTickCounterIncrement(){P._tickCounterScheduled||(P._tickCounterScheduled=!0,Promise.resolve().then(()=>{P._tickCounter++,P._tickCounterScheduled=!1}))}}function H($,S,...I){console[$](`[${S}]`,...I)}P._loggers=new Map,P._tickCounter=0,P._tickCounterScheduled=!1,P._throttlingDisabled=!1},55144:(et,Ae,v)=>{"use strict";v.d(Ae,{T:()=>E,d:()=>L});const E={Base64:0,Hex:1,String:2,Raw:3},D=8,W=(1<<D)-1;function B(C,b){const x=(65535&C)+(65535&b);return(C>>16)+(b>>16)+(x>>16)<<16|65535&x}function I(C,b,x,R,w,K){return B(function S(C,b){return C<<b|C>>>32-b}(B(B(b,C),B(R,K)),w),x)}function O(C,b,x,R,w,K,V){return I(b&x|~b&R,C,b,w,K,V)}function U(C,b,x,R,w,K,V){return I(b&R|x&~R,C,b,w,K,V)}function N(C,b,x,R,w,K,V){return I(b^x^R,C,b,w,K,V)}function J(C,b,x,R,w,K,V){return I(x^(b|~R),C,b,w,K,V)}function L(C,b=E.Hex){const x=b||E.Base64,R=function Z(C,b){C[b>>5]|=128<<b%32,C[14+(b+64>>>9<<4)]=b;let x=1732584193,R=-271733879,w=-1732584194,K=271733878;for(let V=0;V<C.length;V+=16){const ue=x,ee=R,te=w,pe=K;x=O(x,R,w,K,C[V],7,-680876936),K=O(K,x,R,w,C[V+1],12,-389564586),w=O(w,K,x,R,C[V+2],17,606105819),R=O(R,w,K,x,C[V+3],22,-1044525330),x=O(x,R,w,K,C[V+4],7,-176418897),K=O(K,x,R,w,C[V+5],12,1200080426),w=O(w,K,x,R,C[V+6],17,-1473231341),R=O(R,w,K,x,C[V+7],22,-45705983),x=O(x,R,w,K,C[V+8],7,1770035416),K=O(K,x,R,w,C[V+9],12,-1958414417),w=O(w,K,x,R,C[V+10],17,-42063),R=O(R,w,K,x,C[V+11],22,-1990404162),x=O(x,R,w,K,C[V+12],7,1804603682),K=O(K,x,R,w,C[V+13],12,-40341101),w=O(w,K,x,R,C[V+14],17,-1502002290),R=O(R,w,K,x,C[V+15],22,1236535329),x=U(x,R,w,K,C[V+1],5,-165796510),K=U(K,x,R,w,C[V+6],9,-1069501632),w=U(w,K,x,R,C[V+11],14,643717713),R=U(R,w,K,x,C[V],20,-373897302),x=U(x,R,w,K,C[V+5],5,-701558691),K=U(K,x,R,w,C[V+10],9,38016083),w=U(w,K,x,R,C[V+15],14,-660478335),R=U(R,w,K,x,C[V+4],20,-405537848),x=U(x,R,w,K,C[V+9],5,568446438),K=U(K,x,R,w,C[V+14],9,-1019803690),w=U(w,K,x,R,C[V+3],14,-187363961),R=U(R,w,K,x,C[V+8],20,1163531501),x=U(x,R,w,K,C[V+13],5,-1444681467),K=U(K,x,R,w,C[V+2],9,-51403784),w=U(w,K,x,R,C[V+7],14,1735328473),R=U(R,w,K,x,C[V+12],20,-1926607734),x=N(x,R,w,K,C[V+5],4,-378558),K=N(K,x,R,w,C[V+8],11,-2022574463),w=N(w,K,x,R,C[V+11],16,1839030562),R=N(R,w,K,x,C[V+14],23,-35309556),x=N(x,R,w,K,C[V+1],4,-1530992060),K=N(K,x,R,w,C[V+4],11,1272893353),w=N(w,K,x,R,C[V+7],16,-155497632),R=N(R,w,K,x,C[V+10],23,-1094730640),x=N(x,R,w,K,C[V+13],4,681279174),K=N(K,x,R,w,C[V],11,-358537222),w=N(w,K,x,R,C[V+3],16,-722521979),R=N(R,w,K,x,C[V+6],23,76029189),x=N(x,R,w,K,C[V+9],4,-640364487),K=N(K,x,R,w,C[V+12],11,-421815835),w=N(w,K,x,R,C[V+15],16,530742520),R=N(R,w,K,x,C[V+2],23,-995338651),x=J(x,R,w,K,C[V],6,-198630844),K=J(K,x,R,w,C[V+7],10,1126891415),w=J(w,K,x,R,C[V+14],15,-1416354905),R=J(R,w,K,x,C[V+5],21,-57434055),x=J(x,R,w,K,C[V+12],6,1700485571),K=J(K,x,R,w,C[V+3],10,-1894986606),w=J(w,K,x,R,C[V+10],15,-1051523),R=J(R,w,K,x,C[V+1],21,-2054922799),x=J(x,R,w,K,C[V+8],6,1873313359),K=J(K,x,R,w,C[V+15],10,-30611744),w=J(w,K,x,R,C[V+6],15,-1560198380),R=J(R,w,K,x,C[V+13],21,1309151649),x=J(x,R,w,K,C[V+4],6,-145523070),K=J(K,x,R,w,C[V+11],10,-1120210379),w=J(w,K,x,R,C[V+2],15,718787259),R=J(R,w,K,x,C[V+9],21,-343485551),x=B(x,ue),R=B(R,ee),w=B(w,te),K=B(K,pe)}return[x,R,w,K]}(function P(C){const b=[];for(let x=0,R=C.length*D;x<R;x+=D)b[x>>5]|=(C.charCodeAt(x/D)&W)<<x%32;return b}(C),C.length*D);switch(x){case E.Raw:return R;case E.Hex:return function j(C){const b="0123456789abcdef",x=[];for(let R=0,w=4*C.length;R<w;R++)x.push(b.charAt(C[R>>2]>>R%4*8+4&15)+b.charAt(C[R>>2]>>R%4*8&15));return x.join("")}(R);case E.String:return function H(C){const b=[];for(let x=0,R=32*C.length;x<R;x+=D)b.push(String.fromCharCode(C[x>>5]>>>x%32&W));return b.join("")}(R);case E.Base64:return function $(C){const R=[];for(let w=0,K=4*C.length;w<K;w+=3){const V=(C[w>>2]>>w%4*8&255)<<16|(C[w+1>>2]>>(w+1)%4*8&255)<<8|C[w+2>>2]>>(w+2)%4*8&255;for(let ue=0;ue<4;ue++)R.push(8*w+6*ue>32*C.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(V>>6*(3-ue)&63))}return R.join("")}(R)}}},60797:(et,Ae,v)=>{"use strict";function E(H,j){for(const[$,S]of H)if(j(S,$))return!0;return!1}function W(H,j,$){const S=H.get(j);if(void 0!==S)return S;const I=$();return H.set(j,I),I}function P(H){const j=new Map;return $=>(j.has($)||j.set($,H($)),j.get($))}v.d(Ae,{Bj:()=>P,Bs:()=>E,tE:()=>W})},60611:(et,Ae,v)=>{"use strict";v.d(Ae,{F:()=>H,Mn:()=>P});var B,S,E=v(12438);(S=B||(B={}))[S.ALL=0]="ALL",S[S.SOME=1]="SOME";class P{constructor(I,O,U){this.name=I,this._storage=O,this.id=j+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),U&&(this._storage.registerRemoveFunc(this.id,U),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(I){return this._storage.getSize(this,I)}resetHitRate(){this._hit=this._miss=0}put(I,O,U,N=0){this._storage.put(this,I,O,U,N)}pop(I){const O=this._storage.pop(this,I);return void 0===O?++this._miss:++this._hit,O}get(I){const O=this._storage.get(this,I);return void 0===O?++this._miss:++this._hit,O}peek(I){return this._storage.peek(this,I)}updateSize(I,O,U){this._storage.updateSize(this,I,O,U)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class H{get size(){return this._size}constructor(I=10485760){this._maxSize=I,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new E.A,this._users=new E.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(I){this._users.push(I)}deregister(I){this._users.removeUnordered(I)}registerRemoveFunc(I,O){this._removeFuncs.push([I,O])}deregisterRemoveFunc(I){this._removeFuncs.filterInPlace(O=>O[0]!==I)}get maxSize(){return this._maxSize}set maxSize(I){this._maxSize=Math.max(I,-1),this._checkSize()}getSize(I,O){return this._db.get(I.id+O)?.size??0}put(I,O,U,N,J){const Z=this._db.get(O=I.id+O);if(Z&&(this._size-=Z.size,I.size-=Z.size,this._db.delete(O),Z.entry!==U&&this._notifyRemove(O,Z.entry,Z.size,B.ALL)),N>this._maxSize)return void this._notifyRemove(O,U,N,B.ALL);if(void 0===U)return void console.warn("Refusing to cache undefined entry ");if(!N||N<0)return console.warn(`Refusing to cache entry with size ${N} for key ${O}`),void this._notifyRemove(O,U,0,B.ALL);const L=1+Math.max(J,-4)- -3;this._db.set(O,new $(U,N,L)),this._size+=N,I.size+=N,this._checkSize()}updateSize(I,O,U,N){const J=this._db.get(O=I.id+O);if(J&&J.entry===U){for(this._size-=J.size,I.size-=J.size;N>this._maxSize;){const Z=this._notifyRemove(O,U,N,B.SOME);if(!(null!=Z&&Z>0))return void this._db.delete(O);N=Z}J.size=N,this._size+=N,I.size+=N,this._checkSize()}}pop(I,O){const U=this._db.get(O=I.id+O);if(U)return this._size-=U.size,I.size-=U.size,this._db.delete(O),++this._hit,U.entry;++this._miss}get(I,O){const U=this._db.get(O=I.id+O);if(void 0!==U)return this._db.delete(O),U.lives=U.lifetime,this._db.set(O,U),++this._hit,U.entry;++this._miss}peek(I,O){const U=this._db.get(I.id+O);return U?++this._hit:++this._miss,U?.entry}get performanceInfo(){const I={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},O={},U=new Array;this._db.forEach((Z,L)=>{const C=Z.lifetime;U[C]=(U[C]||0)+Z.size,this._users.forAll(b=>{const{id:x,name:R}=b;L.startsWith(x)&&(O[R]=(O[R]||0)+Z.size)})});const N={};this._users.forAll(Z=>{const L=Z.name;"hitRate"in Z&&"number"==typeof Z.hitRate&&!isNaN(Z.hitRate)&&Z.hitRate>0?(O[L]=O[L]||0,N[L]=Math.round(100*Z.hitRate)+"%"):N[L]="0%"});const J=Object.keys(O);J.sort((Z,L)=>O[L]-O[Z]),J.forEach(Z=>I[Z]=Math.round(O[Z]/2**20)+"MB / "+N[Z]);for(let Z=U.length-1;Z>=0;--Z){const L=U[Z];L&&(I["Priority "+(Z+-3-1)]=Math.round(L/this._size*100)+"%")}return I}resetStats(){this._hit=this._miss=0,this._users.forAll(I=>I.resetHitRate())}clear(I){const O=I.id;this._db.forEach((U,N)=>{N.startsWith(O)&&(this._size-=U.size,this._db.delete(N),this._notifyRemove(N,U.entry,U.size,B.ALL))}),I.size=0}clearAll(){this._db.forEach((I,O)=>this._notifyRemove(O,I.entry,I.size,B.ALL)),this._users.forAll(I=>I.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(I,O,U,N){let J;return this._removeFuncs.some(Z=>{if(I.startsWith(Z[0])){const L=Z[1](O,N,U);return"number"==typeof L&&(J=L),!0}return!1}),J}_checkSize(){this._users.forAll(I=>this._checkSizeLimits(I)),this._checkSizeLimits()}_checkSizeLimits(I){const O=I??this;if(O.maxSize<0||O.size<=O.maxSize)return;const U=I?.id;let N=!0;for(;N;){N=!1;for(const[J,Z]of this._db)if(0===Z.lifetime&&(!U||J.startsWith(U))){if(this._purgeItem(J,Z,I),O.size<=.9*O.maxSize)return;N||=this._db.has(J)}}for(const[J,Z]of this._db)if((!U||J.startsWith(U))&&(this._purgeItem(J,Z,I),O.size<=.9*O.maxSize))return}_purgeItem(I,O,U=this._users.find(N=>I.startsWith(N.id))){if(this._db.delete(I),O.lives<=1){this._size-=O.size,U&&(U.size-=O.size);const N=this._notifyRemove(I,O.entry,O.size,B.SOME);null!=N&&N>0&&(this._size+=N,U&&(U.size+=N),O.lives=O.lifetime,O.size=N,this._db.set(I,O))}else--O.lives,this._db.set(I,O)}}let j=0;class ${constructor(I,O,U){this.entry=I,this.size=O,this.lifetime=U,this.lives=U}}},931:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});var E=v(89221);class W{constructor(P,H,j=void 0){this.name=P,this.details=j,this.message=(H&&function D(B,P){return B.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(H,j)=>""===j?"$":((0,E.wc)(j,P)??"").toString())}(H,j))??""}toString(){return"["+this.name+"]: "+this.message}}},39693:(et,Ae,v)=>{"use strict";v.d(Ae,{P:()=>C,L:()=>b});var E=v(8189),D=v(98877),W=v(29529),B=v(77806),P=v(26514);class H{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(P.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(R){const w=new H,K=this._originStores[P.Gr.DEFAULTS];K&&K.forEach((V,ue)=>{w.set(ue,(0,B.o8)(V),P.Gr.DEFAULTS)});for(let V=P.Gr.SERVICE;V<P.AU;V++){const ue=this._originStores[V];ue&&ue.forEach((ee,te)=>{R&&R.has(te)||w.set(te,(0,B.o8)(ee),V)})}return w}get(R,w){const K=void 0===w?this._values:this._originStores[w];return K?K.get(R):void 0}keys(R){const w=null==R?this._values:this._originStores[R];return w?[...w.keys()]:[]}set(R,w,K=P.Gr.USER){let V=this._originStores[K];if(V||(V=new Map,this._originStores[K]=V),V.set(R,w),!this._values.has(R)||this._propertyOriginMap.get(R)<=K){const ue=this._values.get(R);return this._values.set(R,w),this._propertyOriginMap.set(R,K),ue!==w}return!1}delete(R,w=P.Gr.USER){const K=this._originStores[w];if(!K)return;const V=K.get(R);if(K.delete(R),this._values.has(R)&&this._propertyOriginMap.get(R)===w){this._values.delete(R);for(let ue=w-1;ue>=0;ue--){const ee=this._originStores[ue];if(ee&&ee.has(R)){this._values.set(R,ee.get(R)),this._propertyOriginMap.set(R,ue);break}}}return V}has(R,w){const K=void 0===w?this._values:this._originStores[w];return!!K&&K.has(R)}revert(R,w){for(;w>0&&!this.has(R,w);)--w;const K=this._originStores[w],V=K?.get(R),ue=this._values.get(R);return this._values.set(R,V),this._propertyOriginMap.set(R,w),ue!==V}originOf(R){return this._propertyOriginMap.get(R)||P.Gr.DEFAULTS}forEach(R){this._values.forEach(R)}}var j=v(34813),$=v(74220),S=v(76576);const I=x=>{let R=class extends x{constructor(...w){super(...w);const K=(0,$.oY)(this),V=K.store,ue=new H;K.store=ue,(0,W.k)(K,V,ue)}read(w,K){(0,j.L)(this,w,K)}getAtOrigin(w,K){const V=O(this),ue=(0,P.aB)(K);if("string"==typeof w)return V.get(w,ue);const ee={};return w.forEach(te=>{ee[te]=V.get(te,ue)}),ee}originOf(w){return(0,P.OL)(this.originIdOf(w))}originIdOf(w){return O(this).originOf(w)}revert(w,K){const V=O(this),ue=(0,P.aB)(K),ee=(0,$.oY)(this);let te;te="string"==typeof w?"*"===w?V.keys(ue):[w]:w,te.forEach(pe=>{ee.invalidate(pe),V.revert(pe,ue),ee.commit(pe)})}};return R=(0,E._)([(0,S.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],R),R};function O(x){return(0,$.oY)(x).store}let U=class extends(I(D.A)){};U=(0,E._)([(0,S.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],U);var N=v(92073),J=v(56558);const Z=x=>{let R=class extends x{constructor(...w){super(...w)}clear(w,K="user"){return L(this).delete(w,(0,P.aB)(K))}write(w,K){return(0,J.M)(this,w=w||{},K),w}setAtOrigin(w,K,V){(0,$.oY)(this).setAtOrigin(w,K,(0,P.aB)(V))}removeOrigin(w){const K=L(this),V=(0,P.aB)(w),ue=K.keys(V);for(const ee of ue)K.originOf(ee)===V&&K.set(ee,K.get(ee,V),P.Gr.USER)}updateOrigin(w,K){const V=L(this),ue=(0,P.aB)(K),ee=(0,N.Jt)(this,w);for(let te=ue+1;te<P.AU;++te)V.delete(w,te);V.set(w,ee,ue)}toJSON(w){return this.write({},w)}};return R=(0,E._)([(0,S.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],R),R.prototype.toJSON.isDefaultToJSON=!0,R};function L(x){return(0,$.oY)(x).store}const C=x=>{let R=class extends(Z(I(x))){constructor(...w){super(...w)}};return R=(0,E._)([(0,S.$)("esri.core.MultiOriginJSONSupport")],R),R};let b=class extends(C(D.A)){};b=(0,E._)([(0,S.$)("esri.core.MultiOriginJSONSupport")],b)},61591:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});let W=(()=>{class B{constructor(H,j,$,S=1,I=0){if(this._ctor=H,this._acquireFunction=j,this._releaseFunction=$,this.allocationSize=S,this._pool=new Array(I),this._initialSize=I,this._ctor)for(let O=0;O<I;O++)this._pool[O]=new this._ctor;this.allocationSize=Math.max(S,1)}destroy(){this.prune(0)}acquire(...H){let j;if(B.test.disabled)j=new this._ctor;else{if(0===this._pool.length){const $=this.allocationSize;for(let S=0;S<$;S++)this._pool[S]=new this._ctor}j=this._pool.pop()}return this._acquireFunction?this._acquireFunction(j,...H):function D(B){return B?.acquire&&"function"==typeof B.acquire}(j)&&j.acquire(...H),j}release(H){H&&!B.test.disabled&&(this._releaseFunction?this._releaseFunction(H):function E(B){return B?.release&&"function"==typeof B.release}(H)&&H.release(),this._pool.push(H))}prune(H=this._initialSize){if(!(H>=this._pool.length)){for(let j=H;j<this._pool.length;++j)this._dispose(this._pool[j]);this._pool.length=H}}_dispose(H){H.dispose&&"function"==typeof H.dispose&&H.dispose()}}return B.test={disabled:!1},B})()},13316:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>E});class E{constructor(W,B=30){this.name=W,this._counter=0,this._samples=new Array(B)}record(W){null!=W&&(this._samples[++this._counter%this._samples.length]=W)}get median(){return this._samples.slice().sort((W,B)=>W-B)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((W,B)=>W+B,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},12438:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>H});var D,E=v(89952);!function($){const S=(N,J,Z,L)=>{let C=J,b=J;const x=Z>>>1,R=N[C-1];for(;b<=x;){b=C<<1,b<Z&&L(N[b-1],N[b])<0&&++b;const w=N[b-1];if(L(w,R)<=0)break;N[C-1]=w,C=b}N[C-1]=R},I=(N,J)=>N<J?-1:N>J?1:0;$.sort=function O(N,J,Z,L){void 0===J&&(J=0),void 0===Z&&(Z=N.length),void 0===L&&(L=I);for(let b=Z>>>1;b>J;b--)S(N,b,Z,L);const C=J+1;for(let b=Z-1;b>J;b--){const x=N[J];N[J]=N[b],N[b]=x,S(N,C,b,L)}},$.iterableSort=function*U(N,J,Z,L){void 0===J&&(J=0),void 0===Z&&(Z=N.length),void 0===L&&(L=I);for(let b=Z>>>1;b>J;b--)S(N,b,Z,L),yield;const C=J+1;for(let b=Z-1;b>J;b--){const x=N[J];N[J]=N[b],N[b]=x,S(N,C,b,L),yield}}}(D||(D={}));const W=D;class H{constructor(S){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new E.vW,S&&(S.initialSize&&(this.data=new Array(S.initialSize)),S.allocator&&(this._allocator=S.allocator),void 0!==S.deallocator&&(this._deallocator=S.deallocator),S.shrink&&(this._shrink=()=>j(this)))}toArray(){return this.data.slice(0,this.length)}filter(S){const I=new Array;for(let O=0;O<this._length;O++){const U=this.data[O];S(U)&&I.push(U)}return I}at(S){if((S=Math.trunc(S)||0)<0&&(S+=this._length),!(S<0||S>=this._length))return this.data[S]}includes(S,I){const O=this.data.indexOf(S,I);return-1!==O&&O<this.length}get length(){return this._length}set length(S){if(S>this._length){if(this._allocator){for(;this._length<S;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=S}else{if(this._deallocator)for(let I=S;I<this._length;++I)this.data[I]=this._deallocator(this.data[I]);this._length=S,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(S){this.data[this._length++]=S}pushArray(S,I=S.length){for(let O=0;O<I;O++)this.data[this._length++]=S[O]}fill(S,I){for(let O=0;O<I;O++)this.data[this._length++]=S}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const S=this.data[this._length];return++this._length,S}unshift(S){this.data.unshift(S),this._length++,j(this)}pop(){if(0===this.length)return;const S=this.data[this.length-1];return this.length=this.length-1,this._shrink(),S}remove(S){const I=(0,E.qh)(this.data,S,this.length,this._hint);if(-1!==I)return this.data.splice(I,1),this.length=this.length-1,S}removeUnordered(S){return this.removeUnorderedIndex((0,E.qh)(this.data,S,this.length,this._hint))}removeUnorderedIndex(S){if(!(S>=this.length||S<0))return this.swapElements(S,this.length-1),this.pop()}removeUnorderedMany(S,I=S.length,O){this.length=(0,E.mW)(this.data,S,this.length,I,this._hint,O),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(S,I){if(S>=this.length||I>=this.length||S===I)return;const O=this.data[S];this.data[S]=this.data[I],this.data[I]=O}sort(S){W.sort(this.data,0,this.length,S)}iterableSort(S){return W.iterableSort(this.data,0,this.length,S)}some(S,I){for(let O=0;O<this.length;++O)if(S.call(I,this.data[O],O,this.data))return!0;return!1}find(S,I){for(let O=0;O<this.length;++O){const U=this.data[O];if(S.call(I,U,O))return U}}filterInPlace(S,I){let O=0;for(let U=0;U<this._length;++U){const N=this.data[U];S.call(I,N,U,this.data)&&(this.data[U]=this.data[O],this.data[O]=N,O++)}if(this._deallocator)for(let U=O;U<this._length;U++)this.data[U]=this._deallocator(this.data[U]);return this._length=O,this._shrink(),this}forAll(S,I){const{data:O,length:U}=this;for(let N=0;N<U;++N)S.call(I,O[N],N,O)}forEach(S,I){this.data.slice(0,this.length).forEach(S,I)}map(S,I){const O=new Array(this.length);for(let U=0;U<this.length;++U)O[U]=S.call(I,this.data[U],U,this.data);return O}reduce(S,I){let O=I;for(let U=0;U<this.length;++U)O=S(O,this.data[U],U,this.data);return O}has(S){const I=this.length,O=this.data;for(let U=0;U<I;++U)if(O[U]===S)return!0;return!1}*[Symbol.iterator](){for(let S=0;S<this.length;S++)yield this.data[S]}}function j($){$.data.length>1.5*$.length&&($.data.length=Math.floor(1.1*$.length))}},64261:(et,Ae,v)=>{"use strict";v.d(Ae,{Z:()=>$,g:()=>j});var P,S,E=v(8189),D=v(98877),W=v(56492),B=v(76576);(S=P||(P={}))[S.PENDING=0]="PENDING",S[S.RESOLVED=1]="RESOLVED",S[S.REJECTED=2]="REJECTED";class H{constructor(){this._resolver=(0,W.Tw)(),this._status=P.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=P.RESOLVED,this._cleanUp()},()=>{this._status=P.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(I){this._resolvingPromises.push(I),this._tryResolve()}isResolved(){return this._status===P.RESOLVED}isRejected(){return this._status===P.REJECTED}isFulfilled(){return this._status!==P.PENDING}abort(){this._resolver.reject((0,W.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const I=(0,W.Tw)(),O=[...this._resolvingPromises,I.promise],U=this._allPromise=Promise.all(O);U.then(()=>{this.isFulfilled()||this._allPromise!==U||this._resolver.resolve()},N=>{this.isFulfilled()||this._allPromise!==U||(0,W.zf)(N)||this._resolver.reject(N)}),I.resolve()}}const j=S=>{let I=class extends S{constructor(...O){super(...O),this._promiseProps=new H,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(O,U){return this._promiseProps.promise.then(()=>this).then(O,U)}catch(O){return this.when(null,O)}addResolvingPromise(O){O&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in O?O.when():O)}};return I=(0,E._)([(0,B.$)("esri.core.Promise")],I),I};let $=class extends(j(D.A)){};$=(0,E._)([(0,B.$)("esri.core.Promise")],$)},82767:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});var E=v(9700),D=v(4032);class W{constructor(P=(H=>H.values().next().value)){this._peeker=P,this._observable=new D.I,this._items=new Set}get length(){return(0,E.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let P;for(P of this._items);return P}peek(){if(0!==this.length)return this._peeker(this._items)}push(P){this.contains(P)||(this._items.add(P),this._observable.notify())}contains(P){return(0,E.gc)(this._observable),this._items.has(P)}pop(){if(0===this.length)return;const P=this.peek();return this._items.delete(P),this._observable.notify(),P}popLast(){if(0===this.length)return;const P=this.last();return this._items.delete(P),this._observable.notify(),P}remove(P){this.contains(P)&&(this._items.delete(P),this._observable.notify())}filter(P){const H=this.length;return this._items.forEach(j=>{P(j)||this._items.delete(j)}),H!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,E.gc)(this._observable),yield*this._items}}},40707:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>E});class E{constructor(W=1){this._seed=W}set seed(W){this._seed=W??Math.random()*E._m}getInt(){return this._seed=(E._a*this._seed+E._c)%E._m,this._seed}getFloat(){return this.getInt()/(E._m-1)}getIntRange(W,B){return Math.round(this.getFloatRange(W,B))}getFloatRange(W,B){const P=B-W;return W+this.getInt()/E._m*P}}E._m=2147483647,E._a=48271,E._c=0},12619:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});var E=v(9700),D=v(4032);class W{constructor(P){this._observable=new D.I,this._map=new Map(P)}get size(){return(0,E.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(P){const H=this._map.delete(P);return H&&this._observable.notify(),H}entries(){return(0,E.gc)(this._observable),this._map.entries()}forEach(P,H){(0,E.gc)(this._observable),this._map.forEach((j,$)=>P.call(H,j,$,this),H)}get(P){return(0,E.gc)(this._observable),this._map.get(P)}has(P){return(0,E.gc)(this._observable),this._map.has(P)}keys(){return(0,E.gc)(this._observable),this._map.keys()}set(P,H){return this._map.set(P,H),this._observable.notify(),this}values(){return(0,E.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,E.gc)(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},75504:(et,Ae,v)=>{"use strict";v.d(Ae,{P:()=>D});var E=v(61591);class D extends E.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...B){const P=super.acquire(...B);return this._set.delete(P),P}release(B){B&&!this._set.has(B)&&(super.release(B),this._set.add(B))}_dispose(B){this._set.delete(B),super._dispose(B)}}},17435:(et,Ae,v)=>{"use strict";function E(O,U){for(const N of O.entries())if(U(N[0]))return!0;return!1}function D(O,U){if(!U)return O;for(const N of U)null!=N&&O.add(N);return O}function W(O,U){return null!=U&&O.add(U),O}function B(O,U){const N=new Set;return D(N,O),D(N,U),N}function P(O,U){const N=new Set;for(const J of U)O.has(J)&&N.add(J);return N}function H(O,U){if(!O||!U)return!1;if(O===U)return!0;for(const N of O)if(!U.has(N))return!1;return!0}function j(O,U){if(null==O&&null==U)return!0;if(null==O||null==U||O.size!==U.size)return!1;for(const N of O)if(!U.has(N))return!1;return!0}function $(O,U){const N=new Set(O);for(const J of U)N.delete(J);return N}function S(O,U){return $(B(O,U),P(O,U))}v.d(Ae,{BT:()=>S,E$:()=>P,FB:()=>D,KC:()=>B,Yy:()=>H,aI:()=>j,bw:()=>E,iv:()=>$,kb:()=>W})},43420:(et,Ae,v)=>{"use strict";v.d(Ae,{R:()=>D});var E=v(5922);let D=class RA{constructor(B,P,H=""){this.major=B,this.minor=P,this._context=H}lessThan(B,P){return this.major<B||B===this.major&&this.minor<P}since(B,P){return!this.lessThan(B,P)}validate(B){if(this.major!==B.major)throw new E.A((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:B})}clone(){return new RA(this.major,this.minor,this._context)}static parse(B,P=""){const[H,j]=B.split("."),$=/^\s*\d+\s*$/;if(!H?.match||!$.test(H))throw new E.A((P&&P+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:B});if(!j?.match||!$.test(j))throw new E.A((P&&P+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:B});const S=parseInt(H,10),I=parseInt(j,10);return new RA(S,I,P)}}},96996:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>D});var E=v(931);class D extends E.A{constructor(B,P,H){super(B,P,H)}}D.prototype.type="warning"},76157:(et,Ae,v)=>{"use strict";v.d(Ae,{O:()=>D});var E=v(23098);const D=()=>E.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},86112:(et,Ae,v)=>{"use strict";v.d(Ae,{T:()=>B});var E=v(17715),D=v(89952);class W{constructor(j,$){this._observers=j,this._observer=$}remove(){(0,D.TF)(this._observers,this._observer)}}class B{constructor(){this._observers=null,this.destroyed=!1}observe(j){if(this.destroyed||j.destroyed)return P;null==this._observers&&(this._observers=[]);const $=this._observers;let S=!1,I=!1;const O=$.length;for(let U=0;U<O;++U){const N=$[U];if(N.destroyed)I=!0;else if(N===j){S=!0;break}}return S||($.push(j),I&&this._removeDestroyedObservers()),new W($,j)}_removeDestroyedObservers(){const j=this._observers;if(!j||0===j.length)return;const $=j.length;let S=0;for(let I=0;I<$;++I){for(;I+S<$&&j[I+S].destroyed;)++S;if(S>0){if(!(I+S<$))break;j[I]=j[I+S]}}j.length=$-S}destroy(){if(this.destroyed)return;this.destroyed=!0;const j=this._observers;if(null!=j){for(const $ of j)$.onCommitted();this._observers=null}}}const P=(0,E.hA)()},26514:(et,Ae,v)=>{"use strict";var E,S;v.d(Ae,{AU:()=>D,Gr:()=>E,OL:()=>B,aB:()=>W,in:()=>H}),(S=E||(E={}))[S.DEFAULTS=0]="DEFAULTS",S[S.COMPUTED=1]="COMPUTED",S[S.SERVICE=2]="SERVICE",S[S.PORTAL_ITEM=3]="PORTAL_ITEM",S[S.WEB_SCENE=4]="WEB_SCENE",S[S.WEB_MAP=5]="WEB_MAP",S[S.LINK_CHART=6]="LINK_CHART",S[S.USER=7]="USER";const D=E.USER+1;function W(S){switch(S){case"defaults":return E.DEFAULTS;case"service":return E.SERVICE;case"portal-item":return E.PORTAL_ITEM;case"web-scene":return E.WEB_SCENE;case"web-map":return E.WEB_MAP;case"link-chart":return E.LINK_CHART;case"user":return E.USER;default:return null}}function B(S){switch(S){case E.DEFAULTS:return"defaults";case E.SERVICE:return"service";case E.PORTAL_ITEM:return"portal-item";case E.WEB_SCENE:return"web-scene";case E.WEB_MAP:return"web-map";case E.LINK_CHART:return"link-chart";case E.USER:return"user"}}function H(S){return B(S)}},84838:(et,Ae,v)=>{"use strict";v.d(Ae,{G:()=>E});const E=Symbol("Accessor-beforeDestroy")},48669:(et,Ae,v)=>{"use strict";v.d(Ae,{w:()=>j});var E=v(55739),D=v(2716);const W=Object.prototype.toString;function B($){const S="__accessorMetadata__"in $?(0,E.dp)($):$;return function(...I){if(I.push(S),"number"==typeof I[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return P.apply(this,I)}}function P($,S,I,O){(0,D.z4)($,S).cast=O}function j(...$){if(3!==$.length||"string"!=typeof $[1])return 1===$.length&&"[object Function]"===W.call($[0])?B($[0]):1===$.length&&"string"==typeof $[0]?function H($){return(S,I)=>{(0,D.z4)(S,$).cast=S[I]}}($[0]):void 0}},15463:(et,Ae,v)=>{"use strict";v.d(Ae,{e:()=>W});var E=v(49976),D=v(85211);function W(B,P={}){const H=B instanceof E.J?B:new E.J(B,P),j={type:P?.ignoreUnknown??1?H.apiValues:String,json:{type:H.jsonValues,read:!P?.readOnly&&{reader:H.read},write:{writer:H.write}}};return void 0!==P?.readOnly&&(j.readOnly=!!P.readOnly),void 0!==P?.default&&(j.json.default=P.default),void 0!==P?.name&&(j.json.name=P.name),void 0!==P?.nonNullable&&(j.nonNullable=P.nonNullable),(0,D.MZ)(j)}},85211:(et,Ae,v)=>{"use strict";v.d(Ae,{MZ:()=>H,Qp:()=>S,rM:()=>j});var E=v(35150),D=v(55739),W=v(92073),B=v(2716),P=v(23245);function H(I={}){return(O,U)=>{if(O===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${O.name}.${U}. Accessor does not support static properties.`);const N=Object.getOwnPropertyDescriptor(O,U),J=(0,B.z4)(O,U);N&&(N.get||N.set?(J.get=N.get||J.get,J.set=N.set||J.set):"value"in N&&("value"in I&&E.A.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${U}" on "${O.constructor.name}" already defined in the metadata`,I),J.value=I.value=N.value)),null!=I.readOnly&&(J.readOnly=I.readOnly);const Z=I.aliasOf;if(Z){const b="string"==typeof Z?Z:Z.source,x="string"==typeof Z?null:!0===Z.overridable;let R;J.dependsOn=[b],J.get=function(){let w=(0,W.Jt)(this,b);if("function"==typeof w){R||(R=b.split(".").slice(0,-1).join("."));const K=(0,W.Jt)(this,R);K&&(w=w.bind(K))}return w},J.readOnly||(J.set=x?function(w){this._override(U,w)}:function(w){(0,P.h)(this,b,w)})}const L=I.type,C=I.types;J.cast||(L?J.cast=function $(I){let O=0,U=I;if((0,D.Zu)(I))return(0,D.Nd)(I);for(;Array.isArray(U)&&1===U.length&&"string"!=typeof U[0]&&"number"!=typeof U[0];)U=U[0],O++;const N=U;if((0,D.EK)(N))return 0===O?(0,D.MB)(N):(0,D._e)((0,D.MB)(N),O);if(1===O)return(0,D.eC)(N);if(O>1)return(0,D.e6)(N,O);return I.from?I.from:(0,D.dp)(I)}(L):C&&(J.cast=Array.isArray(C)?(0,D.wB)((0,D.aq)(C[0])):(0,D.aq)(C))),(0,B.CX)(J,I),I.range&&(J.cast=S(J.cast,I.range))}}function j(I,O,U){const N=(0,B.z4)(I,U);N.json||(N.json={});let J=N.json;return void 0!==O&&(J.origins||(J.origins={}),J.origins[O]||(J.origins[O]={}),J=J.origins[O]),J}function S(I,O){return U=>{let N=+I(U);return null!=O.step&&(N=Math.round(N/O.step)*O.step),null!=O.min&&(N=Math.max(O.min,N)),null!=O.max&&(N=Math.min(O.max,N)),N}}},17221:(et,Ae,v)=>{"use strict";v.d(Ae,{w:()=>D});var E=v(85211);function D(W,B,P){let H,j;return void 0===B||Array.isArray(B)?(j=W,P=B,H=[void 0]):(j=B,H=Array.isArray(W)?W:[W]),($,S)=>{const I=$.constructor.prototype;H.forEach(O=>{const U=(0,E.rM)($,O,j);U.read&&"object"==typeof U.read||(U.read={}),U.read.reader=I[S],P&&(U.read.source=(U.read.source||[]).concat(P))})}}},69039:(et,Ae,v)=>{"use strict";function E(D){return(W,B)=>{W[B]=D}}v.d(Ae,{u:()=>E})},76576:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>I}),v(3248);var D=v(35150),W=v(84838),B=v(97681),P=v(2716),H=v(9700),j=v(54888);const $=new Set,S=new Set;function I(J){return Z=>{J??="esri.core.Accessor",Z.prototype.declaredClass=J,function U(J){const L=(0,P.tD)(J.prototype),C={};for(const b of Object.getOwnPropertyNames(L)){const x=L[b];(0,j.qk)(x),C[b]={enumerable:!0,configurable:!0,get:O(b,x),set(R){const w=this.__accessor__;if(void 0!==w){if(!Object.isFrozen(this))return w.initialized&&x.readOnly?N("read-only",b):w.lifecycle===B.v.CONSTRUCTED&&x.constructOnly?N("construct-only",b):void w.set(b,R)}else Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:R})}}}Object.defineProperties(J.prototype,C)}(Z);const L=[],C=[];let b=Z.prototype;for(;b;)b.hasOwnProperty("initialize")&&!$.has(b.initialize)&&($.add(b.initialize),L.push(b.initialize)),b.hasOwnProperty("destroy")&&!S.has(b.destroy)&&(S.add(b.destroy),C.push(b.destroy)),b=Object.getPrototypeOf(b);$.clear(),S.clear();const x=class extends Z{constructor(...w){if(super(...w),this.constructor===x&&"function"==typeof this.postscript){if(L.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let K=L.length-1;K>=0;K--)L[K].call(this)}}),C.length){let K=!1;const V=this[W.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!K){K=!0,V.call(this);for(let ue=0;ue<C.length;ue++)C[ue].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};x.__accessorMetadata__=(0,P.tD)(Z.prototype),x.prototype.declaredClass=J;const R=(J||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(x,"name",{value:R,configurable:!0}),x}}function O(J,Z){return null==Z.get?function(){const L=this.__accessor__,C=L.propertiesByName.get(J);if(void 0===C)return;(0,H.gc)(C);const b=L.store;return b.has(J)?b.get(J):C.metadata.value}:function(){const L=this.__accessor__,C=L.propertiesByName.get(J);if(void 0!==C)return C.getComputed(L)}}const N=(J,Z)=>{D.A.getLogger("esri.core.Accessor").error(`cannot assign to ${J} property '${Z}'`)}},50305:(et,Ae,v)=>{"use strict";v.d(Ae,{K:()=>D});var E=v(85211);function D(W,B,P){let H,j;return void 0===B?(j=W,H=[void 0]):"string"!=typeof B?(j=W,H=[void 0],P=B):(j=B,H=Array.isArray(W)?W:[W]),($,S)=>{const I=$.constructor.prototype;for(const O of H){const U=(0,E.rM)($,O,j);U.write&&"object"==typeof U.write||(U.write={}),P&&(U.write.target=P),U.write.writer=I[S]}}}},29529:(et,Ae,v)=>{"use strict";v.d(Ae,{k:()=>D});var E=v(26514);function D(W,B,P){B.keys().forEach(j=>{P.set(j,B.get(j),E.Gr.DEFAULTS)}),Object.keys(W.metadata).forEach(j=>{W.internalGet(j)&&P.set(j,W.internalGet(j),E.Gr.DEFAULTS)})}},48237:(et,Ae,v)=>{"use strict";v.d(Ae,{EB:()=>U,Mj:()=>O,Ui:()=>Z,w2:()=>J});var E=v(98877),D=v(31178),W=v(74220);const B=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function P(C){return C instanceof E.A}function H(C){return C instanceof D.A?Object.keys(C.items):P(C)?(0,W.oY)(C).keys():C?Object.keys(C):[]}function j(C,b){return C instanceof D.A?C.items[b]:C[b]}function S(C){return C?C.declaredClass:null}function I(C,b){const x=C.diff;if(x&&"function"==typeof x)return x(C,b);const R=H(C),w=H(b);if(0===R.length&&0===w.length)return;if(!R.length||!w.length||function $(C,b){return!(!Array.isArray(C)||!Array.isArray(b))&&C.length!==b.length}(C,b))return{type:"complete",oldValue:C,newValue:b};const K=w.filter(ae=>!R.includes(ae)),V=R.filter(ae=>!w.includes(ae)),ue=R.filter(ae=>w.includes(ae)&&j(C,ae)!==j(b,ae)).concat(K,V).sort(),ee=S(C);if(ee&&B.has(ee)&&ue.length)return{type:"complete",oldValue:C,newValue:b};let te;const pe=P(C)&&P(b);for(const ae of ue){const de=j(C,ae),ve=j(b,ae);let G;if((pe||"function"!=typeof de&&"function"!=typeof ve)&&de!==ve&&(null!=de||null!=ve)){if(x&&x[ae]&&"function"==typeof x[ae])G=x[ae]?.(de,ve);else if(de instanceof Date&&ve instanceof Date){if(de.getTime()===ve.getTime())continue;G={type:"complete",oldValue:de,newValue:ve}}else G="object"==typeof de&&"object"==typeof ve&&S(de)===S(ve)?I(de,ve):{type:"complete",oldValue:de,newValue:ve};null!=G&&(null!=te?te.diff[ae]=G:te={type:"partial",diff:{[ae]:G}})}}return te}function O(C,b){return U(C,b)}function U(C,b){if(null==C)return!1;const x=b.split(".");let R=C;for(const w of x){if("complete"===R.type)return!0;if("partial"!==R.type)return!1;{const K=R.diff[w];if(!K)return!1;R=K}}return!0}function J(C,b){if(!C)return!1;if("partial"===C.type){const x=Object.keys(C.diff);return 1===x.length&&x[0]===b}return!1}function Z(C,b){if("function"!=typeof C&&"function"!=typeof b&&(null!=C||null!=b))return null==C||null==b||"object"==typeof C&&"object"==typeof b&&S(C)!==S(b)?{type:"complete",oldValue:C,newValue:b}:I(C,b)}},55739:(et,Ae,v)=>{"use strict";v.d(Ae,{EK:()=>pe,GB:()=>$,GX:()=>j,MB:()=>ae,Nd:()=>ye,PZ:()=>C,Uv:()=>G,Vr:()=>S,Zu:()=>ie,_e:()=>ee,aq:()=>de,dp:()=>w,e6:()=>te,eC:()=>V,gK:()=>fe,jz:()=>ve,wB:()=>K}),v(3248);var D=v(35150),W=v(60797);const B=()=>D.A.getLogger("esri.core.accessorSupport.ensureTypes");function P(oe){return null==oe?oe:new Date(oe)}function H(oe){return null==oe?oe:!!oe}function j(oe){return null==oe?oe:oe.toString()}function $(oe){return null==oe?oe:(oe=parseFloat(oe),isNaN(oe)?0:oe)}function S(oe){return null==oe?oe:Math.round(parseFloat(oe))}function I(oe){return null}function O(oe){return oe?.constructor&&void 0!==oe.constructor.__accessorMetadata__}function U(oe,le){return null!=le&&oe&&!(le instanceof oe)}function N(oe){return oe&&"isCollection"in oe}function J(oe){return oe?.Type?"function"==typeof oe.Type?oe.Type:oe.Type.base:null}function L(oe,le){return!!O(le)&&(B().error("Accessor#set","Assigning an instance of '"+(le.declaredClass||"unknown")+"' which is not a subclass of '"+b(oe)+"'"),!0)}function C(oe,le){return null==le?le:N(oe)?function Z(oe,le){if(!le?.constructor||!N(le.constructor))return L(oe,le)?le:new oe(le);const Se=J(oe.prototype.itemType),se=J(le.constructor.prototype.itemType);return Se?se?Se===se?le:Se.prototype.isPrototypeOf(se.prototype)?new oe(le):(L(oe,le),le):new oe(le):le}(oe,le):U(oe,le)?L(oe,le)?le:new oe(le):le}function b(oe){return oe?.prototype?.declaredClass||"unknown"}const x=new WeakMap;function w(oe,le){const Se=function R(oe){switch(oe){case Number:return $;case ve:return S;case Boolean:return H;case String:return j;case Date:return P;case G:return I;default:return(0,W.tE)(x,oe,()=>C.bind(null,oe))}}(oe);return 1===arguments.length?Se:Se(le)}function K(oe,le,Se){return 1===arguments.length?K.bind(null,oe):le&&(Array.isArray(le)?le.map(se=>oe(se,Se)):[oe(le,Se)])}function V(oe,le){return 1===arguments.length?K(Se=>w(oe,Se)):K(Se=>w(oe,Se),le)}function ue(oe,le,Se){return 0!==le&&Array.isArray(Se)?Se.map(se=>ue(oe,le-1,se)):oe(Se)}function ee(oe,le,Se){if(2===arguments.length)return Ie=>ee(oe,le,Ie);if(!Se)return Se;Se=ue(oe,le,Se);let se=le,Pe=Se;for(;se>0&&Array.isArray(Pe);)se--,Pe=Pe[0];if(void 0!==Pe)for(let Ie=0;Ie<se;Ie++)Se=[Se];return Se}function te(oe,le,Se){return 2===arguments.length?ee(se=>w(oe,se),le):ee(se=>w(oe,se),le,Se)}function pe(oe){return!!Array.isArray(oe)&&!oe.some(le=>{const Se=typeof le;return!("string"===Se||"number"===Se||"function"===Se&&oe.length>1)})}function ae(oe,le){if(2===arguments.length)return ae(oe).call(null,le);const Se=new Set,se=oe.filter(Ee=>"function"!=typeof Ee),Pe=oe.filter(Ee=>"function"==typeof Ee);for(const Ee of oe)"string"!=typeof Ee&&"number"!=typeof Ee||Se.add(Ee);let Ie=null,X=null;return(Ee,Le)=>{if(null==Ee)return Ee;const Oe=typeof Ee,_e="string"===Oe||"number"===Oe;return _e&&(Se.has(Ee)||Pe.some(we=>"string"===Oe&&we===String||"number"===Oe&&we===Number))||"object"===Oe&&Pe.some(we=>!U(Ee,we))?Ee:(_e&&se.length?(Ie||(Ie=se.map(we=>"string"==typeof we?`'${we}'`:`${we}`).join(", ")),B().error("Accessor#set",`'${Ee}' is not a valid value for this property, only the following values are valid: ${Ie}`)):"object"==typeof Ee&&Pe.length?(X||(X=Pe.map(we=>b(we)).join(", ")),B().error("Accessor#set",`'${Ee}' is not a valid value for this property, value must be one of ${X}`)):B().error("Accessor#set",`'${Ee}' is not a valid value for this property`),Le&&(Le.valid=!1),null)}}function de(oe,le){if(2===arguments.length)return de(oe).call(null,le);const Se={},se=[],Pe=[];for(const Le in oe.typeMap){const Oe=oe.typeMap[Le];Se[Le]=w(Oe),se.push(b(Oe)),Pe.push(Le)}const Ee="string"==typeof oe.key?Le=>Le[oe.key]:oe.key;return Le=>{if(oe.base&&!U(oe.base,Le)||null==Le)return Le;const Oe=Ee(Le)||oe.defaultKeyValue,_e=Se[Oe];if(!_e)return B().error("Accessor#set",`Invalid property value, value needs to be one of '${se.join("', '")}', or a plain object that can autocast (having .type = '${Pe.join("', '")}')`),null;if(!U(oe.typeMap[Oe],Le))return Le;if("string"==typeof oe.key&&!O(Le)){const we={};for(const ke in Le)ke!==oe.key&&(we[ke]=Le[ke]);return _e(we)}return _e(Le)}}class ve{}class G{}const fe={native:oe=>({type:"native",value:oe}),array:oe=>({type:"array",value:oe}),oneOf:oe=>({type:"one-of",values:oe})};function ie(oe){if(!oe||!("type"in oe))return!1;switch(oe.type){case"native":case"array":case"one-of":return!0}return!1}function ye(oe){switch(oe.type){case"native":return w(oe.value);case"array":return K(ye(oe.value));case"one-of":return function q(oe){let le=null;return(Se,se)=>ce(Se,oe)?Se:(null==le&&(le=re(oe)),B().error("Accessor#set",`Invalid property value, value needs to be of type ${le}`),se&&(se.valid=!1),null)}(oe);default:return null}}function re(oe){switch(oe.type){case"native":switch(oe.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ve:return"integer";case Date:return"date";case G:return"null";default:return b(oe.value)}case"array":return`array of ${re(oe.value)}`;case"one-of":{const le=oe.values.map(Se=>re(Se));return`one of ${le.slice(0,-1)} or ${le[le.length-1]}`}}return"unknown"}function ce(oe,le){if(null==oe)return!0;switch(le.type){case"native":switch(le.value){case Number:case ve:return"number"==typeof oe;case Boolean:return"boolean"==typeof oe;case String:return"string"==typeof oe;case G:return null===oe}return oe instanceof le.value;case"array":return!!Array.isArray(oe)&&!oe.some(Se=>!ce(Se,le.value));case"one-of":return le.values.some(Se=>ce(oe,Se))}}},54888:(et,Ae,v)=>{"use strict";v.d(Ae,{xF:()=>S,N5:()=>I,k4:()=>O,qk:()=>b});var E=v(55739),W=v(71224);function P(x){x.name&&(x.read&&"object"==typeof x.read?void 0===x.read.source&&(x.read.source=x.name):x.read={source:x.name},x.write&&"object"==typeof x.write?void 0===x.write.target&&(x.write.target=x.name):x.write={target:x.name})}function H(x){"boolean"==typeof x.read?x.read={enabled:x.read}:"function"==typeof x.read?x.read={enabled:!0,reader:x.read}:x.read&&"object"==typeof x.read&&void 0===x.read.enabled&&(x.read.enabled=!0)}function j(x){"boolean"==typeof x.write?x.write={enabled:x.write}:"function"==typeof x.write?x.write={enabled:!0,writer:x.write}:x.write&&"object"==typeof x.write&&void 0===x.write.enabled&&(x.write.enabled=!0)}var $=v(41556);function S(x,R){return U(x,"any",R?.origin)}function I(x,R){return U(x,"read",R?.origin)}function O(x,R){return U(x,"write",R?.origin)}function U(x,R,w){let K=x?.json;if(K?.origins&&w){let V;V="link-chart"===w?K.origins[w]&&("any"===R||R in K.origins[w])?K.origins[w]:K.origins["web-map"]:K.origins[w],V&&("any"===R||R in V)&&(K=V)}return K}function Z(x){return x.type?L(x):C(x)}function L(x){if(!x.type)return;let R=0,w=x.type;for(;Array.isArray(w)&&!(0,E.EK)(w);)w=w[0],R++;return{type:w,ndimArray:R}}function C(x){if(!x.types)return;let R=0,w=x.types;for(;Array.isArray(w);)w=w[0],R++;return{types:w,ndimArray:R}}function b(x){(function B(x){if(x.json||(x.json={}),H(x.json),j(x.json),P(x.json),x.json.origins)for(const R in x.json.origins)H(x.json.origins[R]),j(x.json.origins[R]),P(x.json.origins[R]);return!0})(x)&&(function D(x){if(x.json&&x.json.origins){const R=x.json.origins,w={"web-document":["web-scene","web-map"]};for(const K in w)if(R[K]){const V=R[K];w[K].forEach(ue=>{R[ue]=V}),delete R[K]}}}(x),function N(x){const R=function J(x){return x.json.types?C(x.json):x.type?L(x):C(x)}(x);if(x.json.origins)for(const w in x.json.origins){const K=x.json.origins[w],V=K.types?Z(K):R;(0,W.v)(V,K,!1),K.types&&!K.write&&x.json.write?.enabled&&(K.write={...x.json.write}),(0,$.v)(V,K)}(0,W.v)(R,x.json,!0),(0,$.v)(R,x.json)}(x))}},71224:(et,Ae,v)=>{"use strict";v.d(Ae,{C:()=>$,v:()=>j});var E=v(35150),D=v(89221),W=v(96996),B=v(2716),P=v(46367);const H=()=>E.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function j(R,w,K){R&&(!K&&!w.read||w.read?.reader||!1===w.read?.enabled||function Z(R){return"types"in R?C(R.types):L(R.type)}(R)&&(0,D.sM)("read.reader",$(R),w))}function $(R){const w=R.ndimArray??0;if(w>1)return function U(R){const w=S(R),K=O.bind(null,w),V=R.ndimArray??0;return(ue,ee,te)=>{if(null==ue)return ue;ue=K(ue,te,V);let pe=V,ae=ue;for(;pe>0&&Array.isArray(ae);)pe--,ae=ae[0];if(void 0!==ae)for(let de=0;de<pe;de++)ue=[ue];return ue}}(R);if(1===w)return N(R);if("type"in R&&J(R.type)){const K=R.type.prototype?.itemType?.Type,V=N("function"==typeof K?{type:K}:{types:K});return(ue,ee,te)=>{const pe=V(ue,ee,te);return pe&&new R.type(pe)}}return S(R)}function S(R){return"type"in R?function I(R){return R.prototype.read?(w,K,V)=>{if(null==w)return w;const ue=typeof w;if("object"!==ue)return void H().error(`Expected JSON value of type 'object' to deserialize type '${R.prototype.declaredClass}', but got '${ue}'`);const ee=new R;return ee.read(w,V),ee}:R.fromJSON}(R.type):function b(R){let w=null;const K=R.errorContext??"type",V=R.validate;return(ue,ee,te)=>{if(null==ue)return ue;const pe=typeof ue;if("object"!==pe)return void H().error(`Expected JSON value of type 'object' to deserialize, but got '${pe}'`);w||(w=function x(R){const w={};for(const K in R.typeMap){const V=R.typeMap[K],ue=(0,B.tD)(V.prototype);if("function"==typeof R.key)continue;const ee=ue[R.key];if(!ee)continue;if(ee.json?.type&&Array.isArray(ee.json.type)&&1===ee.json.type.length&&"string"==typeof ee.json.type[0]){w[ee.json.type[0]]=V;continue}const te=ee.json?.write;if(!te?.writer){w[K]=V;continue}const pe=te.target,ae="string"==typeof pe?pe:R.key,de={};te.writer(K,de,ae),de[ae]&&(w[de[ae]]=V)}return w}(R));const ae=R.key;if("string"!=typeof ae)return;const de=ue[ae],ve=de?w[de]:R.defaultKeyValue?R.typeMap[R.defaultKeyValue]:void 0;if(!ve){const fe=`Type '${de||"unknown"}' is not supported`;return te?.messages&&ue&&te.messages.push(new W.A(`${K}:unsupported`,fe,{definition:ue,context:te})),void H().error(fe)}const G=new ve;return G.read(ue,te),V?V(G):G}}(R.types)}function O(R,w,K,V){return 0!==V&&Array.isArray(w)?w.map(ue=>O(R,ue,K,V-1)):R(w,void 0,K)}function N(R){const w=S(R);return(K,V,ue)=>{if(null==K)return K;if(Array.isArray(K)){const te=[];for(const pe of K){const ae=w(pe,void 0,ue);void 0!==ae&&te.push(ae)}return te}const ee=w(K,void 0,ue);return void 0!==ee?[ee]:void 0}}function J(R){if(!(0,P.P)(R))return!1;const w=R.prototype.itemType;return!(!w||!w.Type)&&("function"==typeof w.Type?L(w.Type):C(w.Type))}function L(R){return!Array.isArray(R)&&!!R&&R.prototype&&("read"in R.prototype||"fromJSON"in R||J(R))}function C(R){for(const w in R.typeMap)if(!L(R.typeMap[w]))return!1;return!0}},46367:(et,Ae,v)=>{"use strict";function E(D){return!!D&&D.prototype?.declaredClass&&0===D.prototype.declaredClass.indexOf("esri.core.Collection")}v.d(Ae,{P:()=>E})},41556:(et,Ae,v)=>{"use strict";v.d(Ae,{B:()=>O,v:()=>P});var E=v(5922),D=v(35150),W=v(89221),B=v(46367);function P(Z,L){if(!L.write||L.write.writer||!1===L.write.enabled&&!L.write.overridePolicy)return;const C=Z?.ndimArray??0;L.write.writer=Z&&(1===C||"type"in Z&&(0,B.P)(Z.type))?U:C>1?function J(Z){return(L,C,b,x)=>{let R;if(null===L)R=null;else{R=N(L,x,Z);let w=Z,K=R;for(;w>0&&Array.isArray(K);)w--,K=K[0];if(void 0!==K)for(let V=0;V<w;V++)R=[R]}(0,W.sM)(b,R,C)}}(C):L.types?Array.isArray(L.types)?function $(Z){return(L,C,b,x)=>L&&Array.isArray(L)?S(L.filter(R=>j(R,Z,x)),C,b,x):S(L,C,b,x)}(L.types[0]):function H(Z){return(L,C,b,x)=>L?j(L,Z,x)?S(L,C,b,x):void 0:S(L,C,b,x)}(L.types):S}function j(Z,L,C){for(const b in L.typeMap)if(Z instanceof L.typeMap[b])return!0;if(C?.messages){const x=`Values of type '${("function"!=typeof L.key?Z[L.key]:Z.declaredClass)??"Unknown"}' cannot be written`;C&&C.messages&&Z&&C.messages.push(new E.A(`${L.errorContext??"type"}:unsupported`,x,{definition:Z,context:C})),D.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(x)}return!1}function S(Z,L,C,b){(0,W.sM)(C,I(Z,b),L)}function I(Z,L){return Z&&"function"==typeof Z.write?Z.write({},L):Z&&"function"==typeof Z.toJSON?Z.toJSON():"number"==typeof Z?O(Z):Z}function O(Z){return Z===-1/0?-Number.MAX_VALUE:Z===1/0?Number.MAX_VALUE:isNaN(Z)?null:Z}function U(Z,L,C,b){let x;null===Z?x=null:Z&&"function"==typeof Z.map?(x=Z.map(R=>I(R,b)),"function"==typeof x.toArray&&(x=x.toArray())):x=[I(Z,b)],(0,W.sM)(C,x,L)}function N(Z,L,C){return 0!==C&&Array.isArray(Z)?Z.map(b=>N(b,L,C-1)):I(Z,L)}},92073:(et,Ae,v)=>{"use strict";v.d(Ae,{Jt:()=>P,RP:()=>B,t2:()=>H});var E=v(74220);function D(j,$){const S="?"===j[j.length-1]?j.slice(0,-1):j;if(null!=$.getItemAt||Array.isArray($)){const O=parseInt(S,10);if(!isNaN(O))return Array.isArray($)?$[O]:$.at(O)}const I=(0,E.oY)($);return(0,E.yh)(I,S)?I.get(S):$[S]}function W(j,$,S){if(null==j)return j;const I=D($[S],j);return!I&&S<$.length-1?void 0:S===$.length-1?I:W(I,$,S+1)}function B(j,$,S=0){return"string"!=typeof $||$.includes(".")?W(j,(0,E.AH)($),S):D($,j)}function P(j,$){return B(j,$)}function H(j,$){return void 0!==B($,j)}},97681:(et,Ae,v)=>{"use strict";var E,D;v.d(Ae,{v:()=>E}),(D=E||(E={}))[D.INITIALIZING=0]="INITIALIZING",D[D.CONSTRUCTING=1]="CONSTRUCTING",D[D.CONSTRUCTED=2]="CONSTRUCTED",D[D.DESTROYED=3]="DESTROYED"},50501:(et,Ae,v)=>{"use strict";v.d(Ae,{K:()=>E});const E=(D=>["operational-layers","basemap","ground"])()},2716:(et,Ae,v)=>{"use strict";v.d(Ae,{CX:()=>P,tD:()=>W,z4:()=>B});var E=v(77806),D=v(74220);function W($){let S=$.constructor.__accessorMetadata__;const I=Object.prototype.hasOwnProperty.call($.constructor,"__accessorMetadata__");if(S){if(!I){S=Object.create(S);for(const O in S)S[O]=(0,E.o8)(S[O]);Object.defineProperty($.constructor,"__accessorMetadata__",{value:S,enumerable:!1,configurable:!0,writable:!0})}}else S={},Object.defineProperty($.constructor,"__accessorMetadata__",{value:S,enumerable:!1,configurable:!0,writable:!0});return $.constructor.__accessorMetadata__}function B($,S){const I=W($);let O=I[S];return O||(O=I[S]={}),O}function P($,S){return(0,D.h1)($,S,j)}const H=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function j($){return H.test($)?"replace":"merge"}},34813:(et,Ae,v)=>{"use strict";v.d(Ae,{L:()=>S,t:()=>I});var E=v(92073),D=v(74220),W=v(54888);function B(O,U,N){if(!O?.read||!1===O.read.enabled||!O.read.source)return!1;const J=O.read.source;if("string"==typeof J){if(J===U||J.includes(".")&&0===J.indexOf(U)&&(0,E.t2)(J,N))return!0}else for(const Z of J)if(Z===U||Z.includes(".")&&0===Z.indexOf(U)&&(0,E.t2)(Z,N))return!0;return!1}function H(O,U,N,J,Z){let L=(0,W.N5)(U[N],Z);(function P(O){return O&&(!O.read||!1!==O.read.enabled&&!O.read.source)})(L)&&(O[N]=!0);for(const C of Object.getOwnPropertyNames(U))L=(0,W.N5)(U[C],Z),B(L,N,J)&&(O[C]=!0)}function j(O,U,N,J){const L=(0,W.xF)(N.metadata[U],J),C=L?.default;if(void 0===C)return;const b="function"==typeof C?C.call(O,U,J):C;void 0!==b&&N.set(U,b)}const $={origin:"service"};function S(O,U,N=$){if(!U||"object"!=typeof U)return;const J=(0,D.oY)(O),Z=J.metadata,L={};for(const C of Object.getOwnPropertyNames(U))H(L,Z,C,U,N);J.setDefaultOrigin(N.origin);for(const C of Object.getOwnPropertyNames(L)){const b=(0,W.N5)(Z[C],N).read,x=b?.source;let R;R=x&&"string"==typeof x?(0,E.RP)(U,x):U[C],b?.reader&&(R=b.reader.call(O,R,U,N)),void 0!==R&&J.set(C,R)}if(!N||!N.ignoreDefaults){J.setDefaultOrigin("defaults");for(const C of Object.getOwnPropertyNames(Z))L[C]||j(O,C,J,N)}J.setDefaultOrigin("user")}function I(O,U,N,J=$){const Z={...J,messages:[]};N(Z),Z.messages?.forEach(L=>{"warning"!==L.type||O.loaded?J?.messages&&J.messages.push(L):O.loadWarnings.push(L)})}},23245:(et,Ae,v)=>{"use strict";v.d(Ae,{h:()=>P});var E=v(5922),D=v(3248),B=(v(35150),v(92073));function P(S,I,O){if(S&&I)if("object"==typeof I)for(const U of Object.getOwnPropertyNames(I))P(S,U,I[U]);else{if(I.includes(".")){const N=I.split("."),J=N.splice(-1,1)[0];return void P((0,B.Jt)(S,N),J,O)}const U=S.__accessor__;null!=U&&function H(S,I){if((0,D.A)("esri-unknown-property-errors")&&!function j(S,I){return null!=I.metadata[S]}(S,I))throw new E.A("set:unknown-property",function $(S,I){return"setting unknown property '"+S+"' on instance of "+I.host.declaredClass}(S,I))}(I,U),S[I]=O}}},9700:(et,Ae,v)=>{"use strict";v.d(Ae,{F_:()=>U,Xr:()=>b,a:()=>O,fE:()=>L,gc:()=>$}),v(3248);var D=v(35150),W=v(74220),B=v(58272);const P={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},H=[];let j=P;function $(R){j.onObservableAccessed(R)}let S=!1,I=!1;function O(R,w,K){if(S)return N(R,w,K);J(R);const V=w.call(K);return Z(),V}function U(R,w){return O(P,R,w)}function N(R,w,K){const V=S;S=!0,J(R);let ue=null;try{ue=w.call(K)}catch(ee){I&&D.A.getLogger("esri.core.accessorSupport.tracking").error(ee)}return Z(),S=V,ue}function J(R){j=R,H.push(R)}function Z(){const R=H.length;if(R>1){const w=H.pop();j=H[R-2],w.onTrackingEnd()}else if(1===R){const w=H.pop();j=P,w.onTrackingEnd()}else j=P}function L(R,w){if(w.flags&B.i.DepTrackingInitialized)return;const K=I;I=!1,w.flags&B.i.AutoTracked?N(w,w.metadata.get,R):b(R,w),I=K}const C=[];function b(R,w){w.flags&B.i.ExplicitlyTracking||(w.flags|=B.i.ExplicitlyTracking,N(w,()=>{const K=w.metadata.dependsOn||C;for(const V of K)if("string"!=typeof V||V.includes(".")){const ue=(0,W.AH)(V);for(let ee=0,te=R;ee<ue.length&&null!=te&&"object"==typeof te;++ee)te=x(te,ue[ee],ee!==ue.length-1)}else x(R,V,!1)}),w.flags&=~B.i.ExplicitlyTracking)}function x(R,w,K){const V="?"===w[w.length-1]?w.slice(0,-1):w;if(null!=R.getItemAt||Array.isArray(R)){const ee=parseInt(V,10);if(!isNaN(ee))return Array.isArray(R)?R[ee]:R.at(ee)}const ue=(0,W.oY)(R);if(ue){const ee=ue.propertiesByName.get(V);ee&&($(ee),L(R,ee))}return K?R[V]:void 0}},58272:(et,Ae,v)=>{"use strict";var E,D;v.d(Ae,{i:()=>E}),(D=E||(E={}))[D.Dirty=1]="Dirty",D[D.Overridden=2]="Overridden",D[D.Computing=4]="Computing",D[D.NonNullable=8]="NonNullable",D[D.HasDefaultValue=16]="HasDefaultValue",D[D.DepTrackingInitialized=32]="DepTrackingInitialized",D[D.AutoTracked=64]="AutoTracked",D[D.ExplicitlyTracking=128]="ExplicitlyTracking"},4032:(et,Ae,v)=>{"use strict";v.d(Ae,{I:()=>D});var E=v(86112);class D extends E.T{notify(){const B=this._observers;if(B&&B.length>0){const P=B.slice();for(const H of P)H.onInvalidated(),H.onCommitted()}}}},90949:(et,Ae,v)=>{"use strict";v.d(Ae,{r:()=>E});class E{constructor(H){this._accessed=new Set,this._handles=[],this._observerObject=new D(H),W.register(this,new WeakRef(this._observerObject),this)}destroy(){W.unregister(this._observerObject),this._accessed.clear(),this._observerObject?.destroy(),this.clear()}onObservableAccessed(H){this._accessed.add(H)}onTrackingEnd(){const H=this._handles,j=this._observerObject;this._accessed.forEach($=>{H.push($.observe(j))}),this._accessed.clear()}clear(){const H=this._handles;for(let j=0;j<H.length;++j)H[j].remove();H.length=0}}class D{constructor(H){this._notify=H,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const H=this._invalidCount;if(1===H)return this._invalidCount=0,void this._notify();this._invalidCount=H>0?H-1:0}destroy(){this.destroyed=!0,this._notify=B}}const W=new FinalizationRegistry(P=>{P.deref()?.destroy()});function B(){}},34703:(et,Ae,v)=>{"use strict";v.d(Ae,{Df:()=>j,fm:()=>$,mJ:()=>H});var E=v(17715),D=v(9700),W=v(90949);let B=!1;const P=[];function H(O,U){let N=new W.r(function L(){if(!N||Z)return;if(B)return void S(L);const b=J;N.clear(),B=!0,Z=!0,J=(0,D.a)(N,O),Z=!1,B=!1,U(J,b),I()}),J=null,Z=!1;return Z=!0,J=(0,D.a)(N,O),Z=!1,(0,E.hA)(function C(){N&&(N.destroy(),N=null,J=null)})}function j(O,U){let N=new W.r(function Z(){U(J,C)}),J=null;function C(){return N?(N.clear(),J=(0,D.a)(N,O),J):null}return C(),(0,E.hA)(function L(){N&&(N.destroy(),N=null),J=null})}function $(O){let U=new W.r(function J(){U&&!N&&(B?S(J):(U.clear(),B=!0,N=!0,(0,D.a)(U,O),N=!1,B=!1,I()))}),N=!1;return N=!0,(0,D.a)(U,O),N=!1,(0,E.hA)(function Z(){U&&(U.destroy(),U=null)})}function S(O){P.includes(O)||P.unshift(O)}function I(){for(;P.length;)P.pop()()}},74220:(et,Ae,v)=>{"use strict";v.d(Ae,{AH:()=>S,h1:()=>H,oY:()=>W,qg:()=>N,yh:()=>B});var E=v(17715),D=v(77806);function W(J){return J.__accessor__??null}function B(J,Z){return null!=J?.metadata?.[Z]}function H(J,Z,L){return j(J,Z,L?{policy:L,path:""}:null)}function j(J,Z,L){return Z?Object.keys(Z).reduce((C,b)=>{const x=b;let R=null,w="merge";if(L&&(R=L.path?`${L.path}.${b}`:b,w=L.policy(R)),"replace"===w||"replace-arrays"===w&&Array.isArray(C[x]))return C[x]=Z[x],C;if(void 0===C[x])return C[x]=(0,D.o8)(Z[x]),C;let K=C[x],V=Z[x];if(K===V)return C;if(Array.isArray(V)||Array.isArray(C))K=C[x]=K?Array.isArray(K)?K.concat():[K]:[],V&&(Array.isArray(V)||(V=[V]),V.forEach(ue=>{K.includes(ue)||K.push(ue)}));else if(V&&"object"==typeof V)if(L){const ue=L.path;L.path=R,C[x]=j(K,V,L),L.path=ue}else C[x]=j(K,V,null);else C.hasOwnProperty(b)&&!Z.hasOwnProperty(b)||(C[x]=V);return C},J||{}):J}function S(J){return Array.isArray(J)?J:J.split(".")}function I(J){return J.includes(",")?J.split(",").map(Z=>Z.trim()):[J.trim()]}function N(J,Z,L,C){const b=function O(J){if(Array.isArray(J)){const Z=[];for(const L of J)Z.push(...I(L));return Z}return I(J)}(Z);if(1!==b.length){const x=b.map(R=>C(J,R,L));return(0,E.vE)(x)}return C(J,b[0],L)}},76410:(et,Ae,v)=>{"use strict";v.d(Ae,{Cn:()=>de,Gs:()=>ve,iS:()=>x,rs:()=>V,wB:()=>te});var U,G,E=v(56595),D=v(17715),W=v(77806),B=v(75504),P=v(3804),H=v(17435),j=v(33894),$=v(92073),S=v(97681),I=v(34703),O=v(74220);(G=U||(U={}))[G.Untracked=0]="Untracked",G[G.Tracked=1]="Tracked";class N{constructor(){this.uid=(0,j.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(fe,ie,ye,q,re){return this.pool.acquire(U.Untracked,fe,ie,ye,q,re,W.aI)}static acquireTracked(fe,ie,ye,q){return this.pool.acquire(U.Tracked,fe,ie,ye,null,null,q)}notify(fe,ie){this.type===U.Untracked?this.callback.call(this.target,fe,ie,this.path,this.target):this.callback.call(null,fe,ie,void 0,void 0)}acquire(fe,ie,ye,q,re,ce,oe){this.uid=(0,j.c)(),this.removed=!1,this.type=fe,this.oldValue=ie,this.callback=ye,this.getValue=q,this.target=re,this.path=ce,this.equals=oe}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,j.c)(),this.removed=!0}}N.pool=new B.P(N);const J=new E.A,Z=new Set;let L;function C(G){Z.delete(G),Z.add(G),L||(L=(0,P._)(R))}function b(G){if(G.removed)return;const fe=G.oldValue,ie=G.getValue();G.equals(fe,ie)||(G.oldValue=ie,G.notify(ie,fe))}function x(G){for(const fe of Z.values())fe.target===G&&(fe.removed=!0)}function R(){let G=10;for(;L&&G--;){L=null;const fe=w(),ie=J.acquire();for(const ye of fe){const q=ye.uid;b(ye),q===ye.uid&&ye.removed&&ie.push(ye)}for(const ye of Z)ye.removed&&(ie.push(ye),Z.delete(ye));for(const ye of ie)N.pool.release(ye);J.release(ie),J.release(fe),K.forEach(ye=>ye())}}function w(){const G=J.acquire();G.length=Z.size;let fe=0;for(const ie of Z)G[fe]=ie,++fe;return Z.clear(),G}const K=new Set;function V(G){return K.add(G),(0,D.hA)(()=>K.delete(G))}function te(G,fe,ie,ye=!1){return G.__accessor__&&G.__accessor__.lifecycle!==S.v.DESTROYED?ye?function ee(G,fe,ie){const ye=(0,O.qg)(G,fe,ie,(q,re,ce)=>{let oe=!1;return(0,I.mJ)(()=>(0,$.RP)(q,re),(le,Se)=>{q.__accessor__.lifecycle!==S.v.DESTROYED?oe||(oe=!0,(0,W.aI)(Se,le)||ce.call(q,le,Se,re,q),oe=!1):ye.remove()})});return ye}(G,fe,ie):function ue(G,fe,ie){let ye=(0,O.qg)(G,fe,ie,(q,re,ce)=>{let oe,le,Se=(0,I.Df)(()=>(0,$.RP)(q,re),(se,Pe)=>{q.__accessor__?.lifecycle===S.v.DESTROYED||oe&&oe.uid!==le?ye.remove():(oe||(oe=N.acquireUntracked(se,ce,Pe,q,re),le=oe.uid),C(oe))});return(0,D.hA)(()=>{Se.remove(),oe&&(oe.uid!==le||oe.removed||(oe.removed=!0,C(oe)),oe=null),ye=Se=null})});return ye}(G,fe,ie):(0,D.hA)()}function de(G,fe,ie=!1,ye=W.gh){return ie?function ae(G,fe,ie){let ye=!1;return(0,I.mJ)(G,(q,re)=>{ye||(ye=!0,ie(re,q)||fe(q,re),ye=!1)})}(G,fe,ye):function pe(G,fe,ie){let ye,q,re=(0,I.Df)(G,(ce,oe)=>{ye&&ye.uid!==q?re.remove():(ye||(ye=N.acquireTracked(ce,fe,oe,ie),q=ye.uid),C(ye))});return(0,D.hA)(()=>{re.remove(),ye&&(ye.uid!==q||ye.removed||(ye.removed=!0,C(ye)),ye=null),re=null})}(G,fe,ye)}function ve(G){return(0,H.bw)(Z,fe=>fe.oldValue===G)}},56558:(et,Ae,v)=>{"use strict";v.d(Ae,{M:()=>U,R:()=>O});var E=v(89952),D=v(5922),W=v(35150),B=v(92073),P=v(26514),H=v(74220),j=v(54888);function $(N,J,Z,L,C){const b={};return J.write?.writer?.call(N,L,b,Z,C),b}function S(N,J,Z,L,C,b){if(!L?.write)return!1;const x=(0,B.Jt)(N,Z);if(!C&&L.write.overridePolicy){const R=L.write.overridePolicy.call(N,x,Z,b??void 0);void 0!==R&&(C=R)}if(C||(C=L.write),!C||!1===C.enabled||C.layerContainerTypes&&b?.layerContainerType&&!C.layerContainerTypes.includes(b.layerContainerType))return!1;if((null===x&&!C.allowNull&&!C.writerEnsuresNonNull||void 0===x)&&C.isRequired){const R=new D.A("web-document-write:property-required",`Missing value for required property '${Z}' on '${N.declaredClass}'`,{propertyName:Z,target:N});return R&&b?.messages?b.messages.push(R):R&&!b&&W.A.getLogger("esri.core.accessorSupport.write").error(R.name,R.message),!1}return!(void 0===x||null===x&&!C.allowNull&&!C.writerEnsuresNonNull||!C.alwaysWriteDefaults&&(!J.store.multipleOriginsSupported||J.store.originOf(Z)===P.Gr.DEFAULTS)&&function I(N,J,Z,L,C){const b=L.default;if(void 0===b)return!1;if(null!=L.defaultEquals)return L.defaultEquals(C);if("function"==typeof b){if(Array.isArray(C)){const x=b.call(N,J,Z??void 0);return(0,E.aI)(x,C)}return!1}return b===C}(N,Z,b,L,x)||!C.ignoreOrigin&&b?.origin&&J.store.multipleOriginsSupported&&J.store.originOf(Z)<(0,P.aB)(b.origin))}function O(N,J,Z,L){const C=(0,H.oY)(N),x=(0,j.k4)(C.metadata[J],L);return!!x&&S(N,C,J,x,Z,L)}function U(N,J,Z){if(N&&"function"==typeof N.toJSON&&(!N.toJSON.isDefaultToJSON||!N.write))return(0,H.h1)(J,N.toJSON(Z));const L=(0,H.oY)(N),C=L.metadata;for(const b in C){const x=(0,j.k4)(C[b],Z);if(!S(N,L,b,x,void 0,Z))continue;const R=(0,B.Jt)(N,b),w=$(N,x,x.write&&"string"==typeof x.write.target?x.write.target:b,R,Z);Object.keys(w).length>0&&(J=(0,H.h1)(J,w),Z?.resources?.pendingOperations?.length&&Z.resources.pendingOperations.push(Promise.all(Z.resources.pendingOperations).then(()=>(0,H.h1)(J,w,()=>"replace-arrays"))),Z?.writtenProperties&&Z.writtenProperties.push({target:N,propName:b,oldOrigin:(0,P.in)(L.store.originOf(b)),newOrigin:Z.origin}))}return J}},89952:(et,Ae,v)=>{"use strict";v.d(Ae,{Am:()=>O,Ru:()=>ye,TF:()=>fe,Xj:()=>L,Xy:()=>ue,aI:()=>U,iv:()=>J,mW:()=>te,qh:()=>V,vW:()=>w,yo:()=>N});var E=v(40707);function O(re,ce){return ce?re.filter((oe,le,Se)=>Se.findIndex(ce.bind(null,oe))===le):Array.from(new Set(re))}function U(re,ce,oe){if(null==re&&null==ce)return!0;if(null==re||null==ce||re.length!==ce.length)return!1;if(oe){for(let le=0;le<re.length;le++)if(!oe(re[le],ce[le]))return!1}else for(let le=0;le<re.length;le++)if(re[le]!==ce[le])return!1;return!0}function N(re,ce){let oe=re.length!==ce.length;oe&&(re.length=ce.length);for(let le=0;le<ce.length;++le)re[le]!==ce[le]&&(re[le]=ce[le],oe=!0);return oe}function J(re,ce,oe){let le,Se;return oe?(le=ce.filter(se=>!re.some(Pe=>oe(Pe,se))),Se=re.filter(se=>!ce.some(Pe=>oe(Pe,se)))):(le=ce.filter(se=>!re.includes(se)),Se=re.filter(se=>!ce.includes(se))),{added:le,removed:Se}}function L(re){return re&&"number"==typeof re.length}class w{constructor(){this.last=0}}const K=new w;function V(re,ce,oe,le){le=le||K;const Se=Math.max(0,le.last-10);for(let Pe=Se;Pe<oe;++Pe)if(re[Pe]===ce)return le.last=Pe,Pe;const se=Math.min(Se,oe);for(let Pe=0;Pe<se;++Pe)if(re[Pe]===ce)return le.last=Pe,Pe;return-1}function ue(re,ce,oe,le){const Se=oe??re.length,se=V(re,ce,Se,le);if(-1!==se)return re[se]=re[Se-1],null==oe&&re.pop(),ce}const ee=new Set;function te(re,ce,oe=re.length,le=ce.length,Se,se){if(0===le||0===oe)return oe;ee.clear();for(let Ie=0;Ie<le;++Ie)ee.add(ce[Ie]);Se=Se||K;const Pe=Math.max(0,Se.last-10);for(let Ie=Pe;Ie<oe;++Ie)if(ee.has(re[Ie])&&(se?.push(re[Ie]),ee.delete(re[Ie]),re[Ie]=re[oe-1],--oe,--Ie,0===ee.size||0===oe))return ee.clear(),oe;for(let Ie=0;Ie<Pe;++Ie)if(ee.has(re[Ie])&&(se?.push(re[Ie]),ee.delete(re[Ie]),re[Ie]=re[oe-1],--oe,--Ie,0===ee.size||0===oe))return ee.clear(),oe;return ee.clear(),oe}function fe(re,ce){const oe=re.indexOf(ce);return-1!==oe?(re.splice(oe,1),ce):null}function ye(re,ce){return null!=re}new E.A},89447:(et,Ae,v)=>{"use strict";v.d(Ae,{DZ:()=>C,Ke:()=>Z,Tj:()=>S,UT:()=>R,jJ:()=>$});var E=v(10467),D=v(8189),W=v(98877),B=v(11432),P=v(56492),H=v(85211),j=v(76576);function $(K,V,ue){return(0,P.Lx)(K.map((ee,te)=>V.apply(ue,[ee,te])))}function S(K,V,ue){return I.apply(this,arguments)}function I(){return(I=(0,E.A)(function*(K,V,ue){return(yield(0,P.Lx)(K.map((ee,te)=>V.apply(ue,[ee,te])))).map(ee=>ee.value)})).apply(this,arguments)}function O(K){return{ok:!0,value:K}}function U(K){return{ok:!1,error:K}}function Z(K){return L.apply(this,arguments)}function L(){return(L=(0,E.A)(function*(K){if(null==K)return{ok:!1,error:new Error("no promise provided")};try{return O(yield K)}catch(V){return U(V)}})).apply(this,arguments)}function C(K){return b.apply(this,arguments)}function b(){return(b=(0,E.A)(function*(K){try{return O(yield K)}catch(V){return(0,P.QP)(V),U(V)}})).apply(this,arguments)}function R(K,V){return new w(K,V)}let w=class extends W.A{get value(){return function N(K){return null!=K&&!0===K.ok?K.value:null}(this._result)}get error(){return function J(K){return null!=K&&!1===K.ok?K.error:null}(this._result)}get finished(){return null!=this._result}constructor(K,V){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,B.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:ue}=this._abortController;this.promise=K(ue),this.promise.then(ee=>{this._result=O(ee),this._cleanup()},ee=>{this._result=U(ee),this._cleanup()}),this._abortHandle=(0,P.u7)(V,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,B.xt)(this._abortHandle),this._abortController=null}};(0,D._)([(0,H.MZ)()],w.prototype,"value",null),(0,D._)([(0,H.MZ)()],w.prototype,"error",null),(0,D._)([(0,H.MZ)()],w.prototype,"finished",null),(0,D._)([(0,H.MZ)()],w.prototype,"promise",void 0),(0,D._)([(0,H.MZ)()],w.prototype,"_result",void 0),w=(0,D._)([(0,j.$)("esri.core.asyncUtils.ReactiveTask")],w)},4277:(et,Ae,v)=>{"use strict";function E(I){return 32+I.length}function D(){return 16}function W(I){if(!I)return 0;let O=$;for(const U in I)if(I.hasOwnProperty(U)){const N=I[U];switch(typeof N){case"string":O+=E(N);break;case"number":O+=16;break;case"boolean":O+=4}}return O}function B(I){if(!I)return 0;if(Array.isArray(I))return function P(I){const O=I.length;if(0===O||"number"==typeof I[0])return 32+8*O;let U=S;for(let N=0;N<O;N++)U+=H(I[N]);return U}(I);let O=$;for(const U in I)I.hasOwnProperty(U)&&(O+=H(I[U]));return O}function H(I){switch(typeof I){case"object":return B(I);case"string":return E(I);case"number":return 16;case"boolean":return 4;default:return 8}}function j(I,O){return S+I.length*O}v.d(Ae,{eY:()=>W,f3:()=>D,iL:()=>B,zd:()=>j});const $=32,S=16},64294:(et,Ae,v)=>{"use strict";v.d(Ae,{p:()=>W});var E=v(17715);const W=function D(B){return{setTimeout:(P,H)=>{const j=B.setTimeout(P,H);return(0,E.hA)(()=>B.clearTimeout(j))}}}(globalThis)},5605:(et,Ae,v)=>{"use strict";v.d(Ae,{H:()=>W,V:()=>D});var E=v(31178);function D(P,H,j=E.A){return H||(H=new j),H===P||(H.removeAll(),function B(P){return P&&(Array.isArray(P)||"items"in P&&Array.isArray(P.items))}(P)?H.addMany(P):P&&H.add(P)),H}function W(P){return P}},29430:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>ue,IB:()=>B,N2:()=>ee,RH:()=>pe,Ws:()=>ve,ZD:()=>te});var E=v(68677);function B(se){return"r"in se&&"g"in se&&"b"in se}function P(se){return"h"in se&&"s"in se&&"v"in se}function H(se){return"l"in se&&"a"in se&&"b"in se}function j(se){return"l"in se&&"c"in se&&"h"in se}v(53781),v(89141);const S=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],I=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function O(se,Pe){const Ie=[];let X,Ee;if(se[0].length!==Pe.length)throw new Error("dimensions do not match");const Le=se.length,Oe=se[0].length;let _e=0;for(X=0;X<Le;X++){for(_e=0,Ee=0;Ee<Oe;Ee++)_e+=se[X][Ee]*Pe[Ee];Ie.push(_e)}return Ie}function U(se){const Pe=[se.r/255,se.g/255,se.b/255].map(X=>X<=.04045?X/12.92:((X+.055)/1.055)**2.4),Ie=O(S,Pe);return{x:100*Ie[0],y:100*Ie[1],z:100*Ie[2]}}function N(se){const Pe=O(I,[se.x/100,se.y/100,se.z/100]).map(Ie=>Math.min(1,Math.max(Ie<=.0031308?12.92*Ie:1.055*Ie**.4166666666666667-.055,0)));return{r:Math.round(255*Pe[0]),g:Math.round(255*Pe[1]),b:Math.round(255*Pe[2])}}function J(se){const Pe=[se.x/95.047,se.y/100,se.z/108.883].map(Ie=>Ie>.008856451679035631?Ie**.3333333333333333:7.787037037037035*Ie+.13793103448275862);return{l:116*Pe[1]-16,a:500*(Pe[0]-Pe[1]),b:200*(Pe[1]-Pe[2])}}function Z(se){const Pe=se.l,Ie=[(Pe+16)/116+se.a/500,(Pe+16)/116,(Pe+16)/116-se.b/200].map(X=>X>6/29?X**3:3*(6/29)**2*(X-4/29));return{x:95.047*Ie[0],y:100*Ie[1],z:108.883*Ie[2]}}function ue(se){return B(se)?se:j(se)?function w(se){return N(Z(function C(se){const Ie=se.c,X=se.h;return{l:se.l,a:Ie*Math.cos(X),b:Ie*Math.sin(X)}}(se)))}(se):H(se)?function x(se){return N(Z(se))}(se):function $(se){return"x"in se&&"y"in se&&"z"in se}(se)?N(se):P(se)?function V(se){const Pe=(se.h+360)%360/60,X=se.v/100*255,Ee=X*(se.s/100),Le=Ee*(1-Math.abs(Pe%2-1));let Oe;switch(Math.floor(Pe)){case 0:Oe={r:Ee,g:Le,b:0};break;case 1:Oe={r:Le,g:Ee,b:0};break;case 2:Oe={r:0,g:Ee,b:Le};break;case 3:Oe={r:0,g:Le,b:Ee};break;case 4:Oe={r:Le,g:0,b:Ee};break;case 5:case 6:Oe={r:Ee,g:0,b:Le};break;default:Oe={r:0,g:0,b:0}}return Oe.r=Math.round(Oe.r+X-Ee),Oe.g=Math.round(Oe.g+X-Ee),Oe.b=Math.round(Oe.b+X-Ee),Oe}(se):se}function ee(se){return P(se)?se:function K(se){const Pe=se.r,Ie=se.g,X=se.b,Ee=Math.max(Pe,Ie,X),Le=Ee-Math.min(Pe,Ie,X);let Oe=Ee,_e=0===Le?0:Ee===Pe?(Ie-X)/Le%6:Ee===Ie?(X-Pe)/Le+2:(Pe-Ie)/Le+4,we=0===Le?0:Le/Oe;return _e<0&&(_e+=6),_e*=60,we*=100,Oe*=100/255,{h:_e,s:we,v:Oe}}(ue(se))}function te(se){return H(se)?se:function b(se){return J(U(se))}(ue(se))}function pe(se){return j(se)?se:function R(se){return function L(se){const Pe=se.l,Ie=se.a,X=se.b,Ee=Math.sqrt(Ie*Ie+X*X);let Le=Math.atan2(X,Ie);return Le=Le>0?Le:Le+2*Math.PI,{l:Pe,c:Ee,h:Le}}(J(U(se)))}(ue(se))}function ve(se,Pe){const{r:Ie,g:X,b:Ee}=Pe?.ignoreAlpha?se:function de(se){let{r:Pe,g:Ie,b:X,a:Ee}=se;return Ee<1&&(Pe=Math.round(Ee*Pe+255*(1-Ee)),Ie=Math.round(Ee*Ie+255*(1-Ee)),X=Math.round(Ee*X+255*(1-Ee))),new E.A({r:Pe,g:Ie,b:X})}(se);return.2126*Ie+.7152*X+.0722*Ee}var G,se;(se=G||(G={}))[se.Low=160]="Low",se[se.High=225]="High"},69690:(et,Ae,v)=>{"use strict";function D(P){}function B(P){return()=>P}v.d(Ae,{GB:()=>B,Xb:()=>D}),v(3248)},23159:(et,Ae,v)=>{"use strict";v.d(Ae,{Lx:()=>H,eO:()=>P,io:()=>j});var E=v(3248);const D=new WeakMap;function P($,S,I={}){if((0,E.A)("esri-deprecation-warnings")){const{moduleName:O}=I;j($,"Function: "+(O?O+"::":"")+S+"()",I)}}function H($,S,I={}){if((0,E.A)("esri-deprecation-warnings")){const{moduleName:O}=I;j($,"Property: "+(O?O+"::":"")+S,I)}}function j($,S,I={}){if((0,E.A)("esri-deprecation-warnings")){const{replacement:O,version:U,see:N,warnOnce:J}=I;let Z=S;O&&(Z+=`\n\t\u{1f6e0}\ufe0f Replacement: ${O}`),U&&(Z+=`\n\t\u2699\ufe0f Version: ${U}`),N&&(Z+=`\n\t\u{1f517} See ${N} for more details.`),function W($,S,I=!1){const O=`\u{1f6d1} DEPRECATED - ${S}`;if(!I)return void $.warn(O);let U=D.get($);U||(U=new Set,D.set($,U)),U.has(S)||(U.add(S),$.warn(O))}($,Z,J)}}},52827:(et,Ae,v)=>{"use strict";function E($){return"string"==typeof $?document.getElementById($):$??null}function D($){for(;$.hasChildNodes();)$.removeChild($.firstChild)}function B($,S){const I=S.parentNode;I&&I.insertBefore($,S)}function P($,S){for(;;){const I=$.firstChild;if(!I)break;S.appendChild(I)}}v.d(Ae,{$H:()=>E,Ie:()=>D,nc:()=>B,yC:()=>P}),Element},40611:(et,Ae,v)=>{"use strict";v.d(Ae,{Oo:()=>j,on:()=>P,wb:()=>D});var E=v(17715);function D(S){return function W(S){return null!=S&&"object"==typeof S&&"on"in S&&"function"==typeof S.on}(S)||B(S)}function B(S){return null!=S&&"object"==typeof S&&"addEventListener"in S&&"function"==typeof S.addEventListener}function P(S,I,O){if(!D(S))throw new TypeError("target is not a Evented or EventTarget object");return B(S)?function H(S,I,O,U){if(Array.isArray(I)){const N=I.slice();for(const J of N)S.addEventListener(J,O,U);return(0,E.hA)(()=>{for(const J of N)S.removeEventListener(J,O,U)})}return S.addEventListener(I,O,U),(0,E.hA)(()=>S.removeEventListener(I,O,U))}(S,I,O):S.on(I,O)}function j(S,I,O){if(!D(S))throw new TypeError("target is not a Evented or EventTarget object");if("once"in S)return S.once(I,O);const U=P(S,I,N=>{U.remove(),O.call(S,N)});return U}},17715:(et,Ae,v)=>{"use strict";v.d(Ae,{hA:()=>D,vE:()=>B});const E={remove:()=>{}};function D(I){return I?{remove(){I&&(I(),I=void 0)}}:E}function B(I){return D(()=>function W(I){I.forEach(O=>O?.remove())}(I))}},3248:(et,Ae,v)=>{"use strict";let E;function D(W){return"function"==typeof E[W]?E[W]=E[W](globalThis):E[W]}v.d(Ae,{A:()=>D}),E=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},D.add=(W,B,P,H)=>((H||void 0===E[W])&&(E[W]=B),P&&D(W)),D.cache=E,D.add("big-integer-warning-enabled",!0),D.add("esri-deprecation-warnings",!0),D.add("esri-tests-disable-screenshots",!1),D.add("esri-tests-use-full-window",!1),D.add("esri-tests-post-to-influx",!0),(()=>{D.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const W=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(D.add("host-browser",W),D.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),D.add("dom",W),D("host-browser")){const B=navigator,P=B.userAgent,H=B.appVersion,j=parseFloat(H);if(D.add("wp",parseFloat(P.split("Windows Phone")[1])||void 0),D.add("msapp",parseFloat(P.split("MSAppHost/")[1])||void 0),D.add("khtml",H.includes("Konqueror")?j:void 0),D.add("edge",parseFloat(P.split("Edge/")[1])||void 0),D.add("opr",parseFloat(P.split("OPR/")[1])||void 0),D.add("webkit",!D("wp")&&!D("edge")&&parseFloat(P.split("WebKit/")[1])||void 0),D.add("chrome",!D("edge")&&!D("opr")&&parseFloat(P.split("Chrome/")[1])||void 0),D.add("android",!D("wp")&&parseFloat(P.split("Android ")[1])||void 0),D.add("safari",!H.includes("Safari")||D("wp")||D("chrome")||D("android")||D("edge")||D("opr")?void 0:parseFloat(H.split("Version/")[1])),D.add("mac",H.includes("Macintosh")),!D("wp")&&/(iPhone|iPod|iPad)/.test(P)){const $=RegExp.$1.replace(/P/,"p"),S=/OS ([\d_]+)/.test(P)?RegExp.$1:"1",I=parseFloat(S.replace(/_/,".").replaceAll("_",""));D.add($,I),D.add("ios",I)}D("webkit")||(!P.includes("Gecko")||D("wp")||D("khtml")||D("edge")||D.add("mozilla",j),D("mozilla")&&D.add("ff",parseFloat(P.split("Firefox/")[1]||P.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const W=navigator.userAgent,B=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(W),P=/iPhone/i.test(W);B&&D.add("esri-mobile",B),P&&D.add("esri-iPhone",P),D.add("esri-geolocation",!!navigator.geolocation)}D.add("esri-wasm","WebAssembly"in globalThis),D.add("esri-performance-mode-frames-between-render",20),D.add("esri-force-performance-mode",!1),D.add("esri-shared-array-buffer",()=>{const W="SharedArrayBuffer"in globalThis,B=!1===globalThis.crossOriginIsolated;return W&&!B}),D.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),D.add("esri-atomics","Atomics"in globalThis),D.add("esri-workers","Worker"in globalThis),D.add("web-feat:cache","caches"in globalThis),D.add("esri-workers-arraybuffer-transfer",!D("safari")||Number(D("safari"))>=12),D.add("workers-pool-size",8),D.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),D.add("featurelayer-simplify-payload-size-factors",[1,1,4]),D.add("featurelayer-fast-triangulation-enabled",!0),D.add("featurelayer-animation-enabled",!0),D.add("featurelayer-snapshot-enabled",!0),D.add("featurelayer-snapshot-point-min-threshold",8e4),D.add("featurelayer-snapshot-point-max-threshold",4e5),D.add("featurelayer-snapshot-point-coverage",.1),D.add("featurelayer-query-max-depth",4),D.add("featurelayer-query-pausing-enabled",!1),D.add("featurelayer-advanced-symbols",!1),D.add("featurelayer-pbf",!0),D.add("featurelayer-pbf-statistics",!1),D.add("feature-layers-workers",!0),D.add("feature-polyline-generalization-factor",1),D.add("mapview-transitions-duration",200),D.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),D.add("mapserver-pbf-version-support",10.81),D.add("mapservice-popup-identify-max-tolerance",20),D("host-webworker")||D("host-browser")&&(D.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),D.add("esri-image-decode",()=>{if("decode"in new Image){const W=new Image;return W.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void W.decode().then(()=>{D.add("esri-image-decode",!0,!0,!0)}).catch(()=>{D.add("esri-image-decode",!1,!0,!0)})}return!1}),D.add("esri-url-encodes-apostrophe",()=>{const W=window.document.createElement("a");return W.href="?'",W.href.includes("?%27")}))})()},48116:(et,Ae,v)=>{"use strict";v.d(Ae,{M5:()=>Z,eV:()=>I,xR:()=>S});var E=v(10467),D=v(89563),W=v(5922),B=v(56492),P=v(45272),H=v(52706);let j=null,$=!0;function S(x,R,w){if(!x||!R)throw new Error("Cannot construct image data without dimensions");if($)try{return new ImageData(x,R)}catch{$=!1}return U(x,R,w)}function I(x,R,w,K){if(!R||!w)throw new Error("Cannot construct image data without dimensions");if($)try{return new ImageData(x,R,w)}catch{$=!1}const V=U(R,w,K);return V.data.set(x,0),V}function U(x,R,w){return w||(w=function O(){return j||(j=document.createElement("canvas"),j.width=1,j.height=1),j}()),w.getContext("2d").createImageData(x,R)}function J(){return(J=(0,E.A)(function*(x,R){const w=window.URL.createObjectURL(x);try{const{data:K}=yield(0,D.A)(w,{...R,responseType:"image"});return K}catch(K){throw(0,B.zf)(K)?K:new W.A("invalid-image",`Could not fetch requested image at ${w}`)}finally{window.URL.revokeObjectURL(w)}})).apply(this,arguments)}function Z(x,R){return L.apply(this,arguments)}function L(){return L=(0,E.A)(function*(x,R){const{arrayBuffer:w,mediaType:K}=yield function C(x,R){return b.apply(this,arguments)}(x,R),V="image/png"===K;if("image/gif"===K){const{isAnimatedGIF:ue,parseGif:ee}=yield v.e(2100).then(v.bind(v,12100));if(ue(w))return ee(w,R)}if(V){const{isAnimatedPNG:ue,parseApng:ee}=yield v.e(22).then(v.bind(v,60022));if(ue(w))return ee(w,R)}return function N(x,R){return J.apply(this,arguments)}(new Blob([w],{type:K}),R)}),L.apply(this,arguments)}function b(){return(b=(0,E.A)(function*(x,R){const w=(0,P.r$)(x);if(w?.isBase64)return{arrayBuffer:(0,H.M)(w.data),mediaType:w.mediaType};const K=yield(0,D.A)(x,{responseType:"array-buffer",...R});return{arrayBuffer:K.data,mediaType:K.getHeader?.("Content-Type")??""}})).apply(this,arguments)}},5191:(et,Ae,v)=>{"use strict";function E(B){const P=[];return function*(){yield*P;for(const H of B)P.push(H),yield H}}function D(B,P){for(const H of B)if(null!=H&&P(H))return H}function W(B){return null!=B&&"function"==typeof B[Symbol.iterator]}v.d(Ae,{I6:()=>D,PP:()=>E,xZ:()=>W})},49976:(et,Ae,v)=>{"use strict";v.d(Ae,{J:()=>D,O:()=>P});var E=v(89221);class D{constructor(j,$={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=j,this._options=$,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function W(H){const j={};for(const $ in H)j[H[$]]=$;return j}(j),this.apiValues=B(this._apiToJSON),this.jsonValues=B(this._jsonToAPI),this.read=S=>this.fromJSON(S),this.write=(S,I,O)=>{const U=this.toJSON(S);void 0!==U&&(0,E.sM)(O,U,I)},this.write.isJSONMapWriter=!0}toJSON(j){if(null==j)return null;if(this._apiToJSON.hasOwnProperty(j)){const $=this._apiToJSON[j];return this._options.useNumericKeys?+$:$}return this._options.ignoreUnknown?void 0:j}fromJSON(j){return null!=j&&this._jsonToAPI.hasOwnProperty(j)?this._jsonToAPI[j]:this._options.ignoreUnknown?void 0:j}}function B(H){const j=[];for(const $ in H)j.push($);return j.sort(),j}function P(){return function(H,j){return new D(H,{ignoreUnknown:!0,...j})}}},77806:(et,Ae,v)=>{"use strict";v.d(Ae,{Nb:()=>H,TU:()=>P,aI:()=>O,gh:()=>U,o8:()=>B,oy:()=>W});var E=v(89952),D=v(79139);function W(L,C){let b;if(C)for(b in L)L.hasOwnProperty(b)&&(void 0===L[b]?delete L[b]:L[b]instanceof Object&&W(L[b],!0));else for(b in L)L.hasOwnProperty(b)&&void 0===L[b]&&delete L[b];return L}function B(L){if(!L||"object"!=typeof L||"function"==typeof L)return L;const C=I(L);if(null!=C)return C;if(H(L))return L.clone();if(j(L))return L.map(B);if($(L))return L.clone();const b={};for(const x of Object.getOwnPropertyNames(L))b[x]=B(L[x]);return b}function P(L){if(!L||"object"!=typeof L||"function"==typeof L||"HTMLElement"in globalThis&&L instanceof HTMLElement)return L;const C=I(L);if(null!=C)return C;if(j(L)){let b=!0;const x=L.map(R=>{const w=P(R);return null!=R&&null==w&&(b=!1),w});return b?x:null}if(H(L))return L.clone();if(L instanceof File||L instanceof Blob)return L;if(!$(L)){const b=new(Object.getPrototypeOf(L).constructor);for(const x of Object.getOwnPropertyNames(L)){const R=L[x],w=P(R);if(null!=R&&null==w)return null;b[x]=w}return b}return null}function H(L){return"function"==typeof L.clone}function j(L){return"function"==typeof L.map&&"function"==typeof L.forEach}function $(L){return"function"==typeof L.notifyChange&&"function"==typeof L.watch}function S(L){if("[object Object]"!==Object.prototype.toString.call(L))return!1;const C=Object.getPrototypeOf(L);return null===C||C===Object.prototype}function I(L){if((0,D.dz)(L)||(0,D.mg)(L)||(0,D.UR)(L)||(0,D.IY)(L)||(0,D.jq)(L)||(0,D._G)(L)||(0,D.XJ)(L)||(0,D.vZ)(L)||(0,D.aI)(L))return L.slice();if(L instanceof Date)return new Date(L.getTime());if(L instanceof ArrayBuffer)return L.slice(0,L.byteLength);if(L instanceof Map){const C=new Map;for(const[b,x]of L)C.set(b,B(x));return C}if(L instanceof Set){const C=new Set;for(const b of L)C.add(B(b));return C}return null}function O(L,C){return L===C||"number"==typeof L&&isNaN(L)&&"number"==typeof C&&isNaN(C)||"function"==typeof L?.getTime&&"function"==typeof C?.getTime&&L.getTime()===C.getTime()||!1}function U(L,C){return L===C||(null==L||"string"==typeof L?L===C:"number"==typeof L?L===C||"number"==typeof C&&isNaN(L)&&isNaN(C):L instanceof Date?C instanceof Date&&L.getTime()===C.getTime():Array.isArray(L)?Array.isArray(C)&&(0,E.aI)(L,C):L instanceof Set?C instanceof Set&&function J(L,C){if(L.size!==C.size)return!1;for(const b of L)if(!C.has(b))return!1;return!0}(L,C):L instanceof Map?C instanceof Map&&function Z(L,C){if(L.size!==C.size)return!1;for(const[b,x]of L){const R=C.get(b);if(R!==x||void 0===R&&!C.has(b))return!1}return!0}(L,C):!!S(L)&&S(C)&&function N(L,C){if(null===L||null===C)return!1;const b=Object.keys(L);if(null===C||Object.keys(C).length!==b.length)return!1;for(const x of b)if(L[x]!==C[x]||!Object.prototype.hasOwnProperty.call(C,x))return!1;return!0}(L,C))}},3672:(et,Ae,v)=>{"use strict";function E(){const $=new Float32Array(6);return $[0]=1,$[3]=1,$}function P($,S,I,O){const U=S[O],N=S[O+1];$[O]=I[0]*U+I[2]*N+I[4],$[O+1]=I[1]*U+I[3]*N+I[5]}function H($,S,I,O=0,U=0,N=2){const J=U||S.length/N;for(let Z=O;Z<J;Z++)P($,S,I,Z*N)}v.d(Ae,{gb:()=>H,vt:()=>E}),Object.freeze(Object.defineProperty({__proto__:null,clone:function D($){const S=new Float32Array(6);return S[0]=$[0],S[1]=$[1],S[2]=$[2],S[3]=$[3],S[4]=$[4],S[5]=$[5],S},create:E,createView:function B($,S){return new Float32Array($,S,6)},fromValues:function W($,S,I,O,U,N){const J=new Float32Array(6);return J[0]=$,J[1]=S,J[2]=I,J[3]=O,J[4]=U,J[5]=N,J},transform:P,transformMany:H},Symbol.toStringTag,{value:"Module"}))},44999:(et,Ae,v)=>{"use strict";function E(){return[1,0,0,1,0,0]}v.d(Ae,{vt:()=>E}),Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:[1,0,0,1,0,0],clone:function D(j){return[j[0],j[1],j[2],j[3],j[4],j[5]]},create:E,createView:function B(j,$){return new Float64Array(j,$,6)},fromValues:function W(j,$,S,I,O,U){return[j,$,S,I,O,U]}},Symbol.toStringTag,{value:"Module"}))},12273:(et,Ae,v)=>{"use strict";function E(){const H=new Float32Array(9);return H[0]=1,H[4]=1,H[8]=1,H}function D(H){const j=new Float32Array(9);return j[0]=H[0],j[1]=H[1],j[2]=H[2],j[3]=H[3],j[4]=H[4],j[5]=H[5],j[6]=H[6],j[7]=H[7],j[8]=H[8],j}v.d(Ae,{o8:()=>D,vt:()=>E}),Object.freeze(Object.defineProperty({__proto__:null,clone:D,create:E,createView:function B(H,j){return new Float32Array(H,j,9)},fromValues:function W(H,j,$,S,I,O,U,N,J){const Z=new Float32Array(9);return Z[0]=H,Z[1]=j,Z[2]=$,Z[3]=S,Z[4]=I,Z[5]=O,Z[6]=U,Z[7]=N,Z[8]=J,Z}},Symbol.toStringTag,{value:"Module"}))},88532:(et,Ae,v)=>{"use strict";function E(){return new Float32Array(2)}function W(J,Z){const L=new Float32Array(2);return L[0]=J,L[1]=Z,L}function P(){return E()}function H(){return W(1,1)}function j(){return W(1,0)}function $(){return W(0,1)}v.d(Ae,{Un:()=>I,fA:()=>W,uY:()=>S,vt:()=>E});const S=P(),I=H(),O=j(),U=$();Object.freeze(Object.defineProperty({__proto__:null,ONES:I,UNIT_X:O,UNIT_Y:U,ZEROS:S,clone:function D(J){const Z=new Float32Array(2);return Z[0]=J[0],Z[1]=J[1],Z},create:E,createView:function B(J,Z){return new Float32Array(J,Z,2)},fromValues:W,ones:H,unitX:j,unitY:$,zeros:P},Symbol.toStringTag,{value:"Module"}))},45475:(et,Ae,v)=>{"use strict";function E(){return[0,0]}function W(Z,L){return[Z,L]}function j(){return W(1,1)}function $(){return W(1,0)}function S(){return W(0,1)}v.d(Ae,{Un:()=>O,fA:()=>W,uY:()=>I,vt:()=>E});const I=[0,0],O=j(),U=$(),N=S();Object.freeze(Object.defineProperty({__proto__:null,ONES:O,UNIT_X:U,UNIT_Y:N,ZEROS:I,clone:function D(Z){return[Z[0],Z[1]]},create:E,createView:function P(Z,L){return new Float64Array(Z,L,2)},fromArray:function B(Z,L=[0,0]){const C=Math.min(2,Z.length);for(let b=0;b<C;++b)L[b]=Z[b];return L},fromValues:W,ones:j,unitX:$,unitY:S,zeros:function H(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},25866:(et,Ae,v)=>{"use strict";function E(){return[0,0,0]}function D(C){return[C[0],C[1],C[2]]}function W(C,b,x){return[C,b,x]}function B(C,b=[0,0,0]){const x=Math.min(3,C.length);for(let R=0;R<x;++R)b[R]=C[R];return b}function j(){return W(1,1,1)}function $(){return W(1,0,0)}function S(){return W(0,1,0)}function I(){return W(0,0,1)}v.d(Ae,{Cb:()=>Z,Cw:()=>N,JP:()=>J,Un:()=>U,ci:()=>B,fA:()=>W,o8:()=>D,uY:()=>O,vt:()=>E});const O=[0,0,0],U=j(),N=$(),J=S(),Z=I();Object.freeze(Object.defineProperty({__proto__:null,ONES:U,UNIT_X:N,UNIT_Y:J,UNIT_Z:Z,ZEROS:O,clone:D,create:E,createView:function P(C,b){return new Float64Array(C,b,3)},fromArray:B,fromValues:W,ones:j,unitX:$,unitY:S,unitZ:I,zeros:function H(){return[0,0,0]}},Symbol.toStringTag,{value:"Module"}))},89141:(et,Ae,v)=>{"use strict";function E(){return[0,0,0,0]}function W(x,R,w,K){return[x,R,w,K]}function j(){return W(1,1,1,1)}function $(){return W(1,0,0,0)}function S(){return W(0,1,0,0)}function I(){return W(0,0,1,0)}function O(){return W(0,0,0,1)}v.d(Ae,{fA:()=>W,vt:()=>E});const N=j(),J=$(),Z=S(),L=I(),C=O();Object.freeze(Object.defineProperty({__proto__:null,ONES:N,UNIT_W:C,UNIT_X:J,UNIT_Y:Z,UNIT_Z:L,ZEROS:[0,0,0,0],clone:function D(x){return[x[0],x[1],x[2],x[3]]},create:E,createView:function P(x,R){return new Float64Array(x,R,4)},fromArray:function B(x,R=[0,0,0,0]){const w=Math.min(4,x.length);for(let K=0;K<w;++K)R[K]=x[K];return R},fromValues:W,ones:j,unitW:O,unitX:$,unitY:S,unitZ:I,zeros:function H(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},85952:(et,Ae,v)=>{"use strict";v.d(Ae,{DF:()=>j,FD:()=>D,Ov:()=>B,ct:()=>$});let E=1e-6;function D(){return E}const B=Math.random,P=Math.PI/180,H=180/Math.PI;function j(O){return O*P}function $(O){return O*H}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:B,equals:function S(O,U){return Math.abs(O-U)<=E*Math.max(1,Math.abs(O),Math.abs(U))},getEpsilon:D,setEpsilon:function W(O){E=O},toDegree:$,toRadian:j},Symbol.toStringTag,{value:"Module"}))},76329:(et,Ae,v)=>{"use strict";v.d(Ae,{$0:()=>O,B8:()=>P,CV:()=>U,D_:()=>W,Tl:()=>I,e$:()=>$,hZ:()=>B,hs:()=>S,kN:()=>N,lw:()=>j});var E=v(85952);function W(ee){return ee[0]=1,ee[1]=0,ee[2]=0,ee[3]=1,ee[4]=0,ee[5]=0,ee}function B(ee,te,pe,ae,de,ve,G){return ee[0]=te,ee[1]=pe,ee[2]=ae,ee[3]=de,ee[4]=ve,ee[5]=G,ee}function P(ee,te){const pe=te[0],ae=te[1],de=te[2],ve=te[3],G=te[4],fe=te[5];let ie=pe*ve-ae*de;return ie?(ie=1/ie,ee[0]=ve*ie,ee[1]=-ae*ie,ee[2]=-de*ie,ee[3]=pe*ie,ee[4]=(de*fe-ve*G)*ie,ee[5]=(ae*G-pe*fe)*ie,ee):null}function j(ee,te,pe){const ae=te[0],de=te[1],ve=te[2],G=te[3],fe=te[4],ie=te[5],ye=pe[0],q=pe[1],re=pe[2],ce=pe[3],oe=pe[4],le=pe[5];return ee[0]=ae*ye+ve*q,ee[1]=de*ye+G*q,ee[2]=ae*re+ve*ce,ee[3]=de*re+G*ce,ee[4]=ae*oe+ve*le+fe,ee[5]=de*oe+G*le+ie,ee}function $(ee,te,pe){const ae=te[0],de=te[1],ve=te[2],G=te[3],fe=te[4],ie=te[5],ye=Math.sin(pe),q=Math.cos(pe);return ee[0]=ae*q+ve*ye,ee[1]=de*q+G*ye,ee[2]=ae*-ye+ve*q,ee[3]=de*-ye+G*q,ee[4]=fe,ee[5]=ie,ee}function S(ee,te,pe){const de=te[1],ve=te[2],G=te[3],fe=te[4],ie=te[5],ye=pe[0],q=pe[1];return ee[0]=te[0]*ye,ee[1]=de*ye,ee[2]=ve*q,ee[3]=G*q,ee[4]=fe,ee[5]=ie,ee}function I(ee,te,pe){const ae=te[0],de=te[1],ve=te[2],G=te[3],fe=te[4],ie=te[5],ye=pe[0],q=pe[1];return ee[0]=ae,ee[1]=de,ee[2]=ve,ee[3]=G,ee[4]=ae*ye+ve*q+fe,ee[5]=de*ye+G*q+ie,ee}function O(ee,te){const pe=Math.sin(te),ae=Math.cos(te);return ee[0]=ae,ee[1]=pe,ee[2]=-pe,ee[3]=ae,ee[4]=0,ee[5]=0,ee}function U(ee,te){return ee[0]=te[0],ee[1]=0,ee[2]=0,ee[3]=te[1],ee[4]=0,ee[5]=0,ee}function N(ee,te){return ee[0]=1,ee[1]=0,ee[2]=0,ee[3]=1,ee[4]=te[0],ee[5]=te[1],ee}function C(ee,te,pe){return ee[0]=te[0]-pe[0],ee[1]=te[1]-pe[1],ee[2]=te[2]-pe[2],ee[3]=te[3]-pe[3],ee[4]=te[4]-pe[4],ee[5]=te[5]-pe[5],ee}Object.freeze(Object.defineProperty({__proto__:null,add:function L(ee,te,pe){return ee[0]=te[0]+pe[0],ee[1]=te[1]+pe[1],ee[2]=te[2]+pe[2],ee[3]=te[3]+pe[3],ee[4]=te[4]+pe[4],ee[5]=te[5]+pe[5],ee},copy:function D(ee,te){return ee[0]=te[0],ee[1]=te[1],ee[2]=te[2],ee[3]=te[3],ee[4]=te[4],ee[5]=te[5],ee},determinant:function H(ee){return ee[0]*ee[3]-ee[1]*ee[2]},equals:function w(ee,te){const pe=ee[0],ae=ee[1],de=ee[2],ve=ee[3],G=ee[4],fe=ee[5],ie=te[0],ye=te[1],q=te[2],re=te[3],ce=te[4],oe=te[5],le=(0,E.FD)();return Math.abs(pe-ie)<=le*Math.max(1,Math.abs(pe),Math.abs(ie))&&Math.abs(ae-ye)<=le*Math.max(1,Math.abs(ae),Math.abs(ye))&&Math.abs(de-q)<=le*Math.max(1,Math.abs(de),Math.abs(q))&&Math.abs(ve-re)<=le*Math.max(1,Math.abs(ve),Math.abs(re))&&Math.abs(G-ce)<=le*Math.max(1,Math.abs(G),Math.abs(ce))&&Math.abs(fe-oe)<=le*Math.max(1,Math.abs(fe),Math.abs(oe))},exactEquals:function R(ee,te){return ee[0]===te[0]&&ee[1]===te[1]&&ee[2]===te[2]&&ee[3]===te[3]&&ee[4]===te[4]&&ee[5]===te[5]},frob:function Z(ee){return Math.sqrt(ee[0]**2+ee[1]**2+ee[2]**2+ee[3]**2+ee[4]**2+ee[5]**2+1)},fromRotation:O,fromScaling:U,fromTranslation:N,identity:W,invert:P,mul:j,multiply:j,multiplyScalar:function b(ee,te,pe){return ee[0]=te[0]*pe,ee[1]=te[1]*pe,ee[2]=te[2]*pe,ee[3]=te[3]*pe,ee[4]=te[4]*pe,ee[5]=te[5]*pe,ee},multiplyScalarAndAdd:function x(ee,te,pe,ae){return ee[0]=te[0]+pe[0]*ae,ee[1]=te[1]+pe[1]*ae,ee[2]=te[2]+pe[2]*ae,ee[3]=te[3]+pe[3]*ae,ee[4]=te[4]+pe[4]*ae,ee[5]=te[5]+pe[5]*ae,ee},rotate:$,scale:S,set:B,str:function J(ee){return"mat2d("+ee[0]+", "+ee[1]+", "+ee[2]+", "+ee[3]+", "+ee[4]+", "+ee[5]+")"},sub:C,subtract:C,translate:I},Symbol.toStringTag,{value:"Module"}))},31610:(et,Ae,v)=>{"use strict";v.d(Ae,{B8:()=>j,D_:()=>P,Ge:()=>w,I0:()=>x,KC:()=>$,Oe:()=>J,Tl:()=>O,e$:()=>U,hZ:()=>B,hs:()=>N,kN:()=>Z,lw:()=>I,mg:()=>H,z0:()=>D});var E=v(85952);function D(q,re){return q[0]=re[0],q[1]=re[1],q[2]=re[2],q[3]=re[4],q[4]=re[5],q[5]=re[6],q[6]=re[8],q[7]=re[9],q[8]=re[10],q}function B(q,re,ce,oe,le,Se,se,Pe,Ie,X){return q[0]=re,q[1]=ce,q[2]=oe,q[3]=le,q[4]=Se,q[5]=se,q[6]=Pe,q[7]=Ie,q[8]=X,q}function P(q){return q[0]=1,q[1]=0,q[2]=0,q[3]=0,q[4]=1,q[5]=0,q[6]=0,q[7]=0,q[8]=1,q}function H(q,re){if(q===re){const ce=re[1],oe=re[2],le=re[5];q[1]=re[3],q[2]=re[6],q[3]=ce,q[5]=re[7],q[6]=oe,q[7]=le}else q[0]=re[0],q[1]=re[3],q[2]=re[6],q[3]=re[1],q[4]=re[4],q[5]=re[7],q[6]=re[2],q[7]=re[5],q[8]=re[8];return q}function j(q,re){const ce=re[0],oe=re[1],le=re[2],Se=re[3],se=re[4],Pe=re[5],Ie=re[6],X=re[7],Ee=re[8],Le=Ee*se-Pe*X,Oe=-Ee*Se+Pe*Ie,_e=X*Se-se*Ie;let we=ce*Le+oe*Oe+le*_e;return we?(we=1/we,q[0]=Le*we,q[1]=(-Ee*oe+le*X)*we,q[2]=(Pe*oe-le*se)*we,q[3]=Oe*we,q[4]=(Ee*ce-le*Ie)*we,q[5]=(-Pe*ce+le*Se)*we,q[6]=_e*we,q[7]=(-X*ce+oe*Ie)*we,q[8]=(se*ce-oe*Se)*we,q):null}function $(q,re){const ce=re[0],oe=re[1],le=re[2],Se=re[3],se=re[4],Pe=re[5],Ie=re[6],X=re[7],Ee=re[8];return q[0]=se*Ee-Pe*X,q[1]=le*X-oe*Ee,q[2]=oe*Pe-le*se,q[3]=Pe*Ie-Se*Ee,q[4]=ce*Ee-le*Ie,q[5]=le*Se-ce*Pe,q[6]=Se*X-se*Ie,q[7]=oe*Ie-ce*X,q[8]=ce*se-oe*Se,q}function I(q,re,ce){const oe=re[0],le=re[1],Se=re[2],se=re[3],Pe=re[4],Ie=re[5],X=re[6],Ee=re[7],Le=re[8],Oe=ce[0],_e=ce[1],we=ce[2],ke=ce[3],Xe=ce[4],Q=ce[5],De=ce[6],Ke=ce[7],Ye=ce[8];return q[0]=Oe*oe+_e*se+we*X,q[1]=Oe*le+_e*Pe+we*Ee,q[2]=Oe*Se+_e*Ie+we*Le,q[3]=ke*oe+Xe*se+Q*X,q[4]=ke*le+Xe*Pe+Q*Ee,q[5]=ke*Se+Xe*Ie+Q*Le,q[6]=De*oe+Ke*se+Ye*X,q[7]=De*le+Ke*Pe+Ye*Ee,q[8]=De*Se+Ke*Ie+Ye*Le,q}function O(q,re,ce){const oe=re[0],le=re[1],Se=re[2],se=re[3],Pe=re[4],Ie=re[5],X=re[6],Ee=re[7],Le=re[8],Oe=ce[0],_e=ce[1];return q[0]=oe,q[1]=le,q[2]=Se,q[3]=se,q[4]=Pe,q[5]=Ie,q[6]=Oe*oe+_e*se+X,q[7]=Oe*le+_e*Pe+Ee,q[8]=Oe*Se+_e*Ie+Le,q}function U(q,re,ce){const oe=re[0],le=re[1],Se=re[2],se=re[3],Pe=re[4],Ie=re[5],X=re[6],Ee=re[7],Le=re[8],Oe=Math.sin(ce),_e=Math.cos(ce);return q[0]=_e*oe+Oe*se,q[1]=_e*le+Oe*Pe,q[2]=_e*Se+Oe*Ie,q[3]=_e*se-Oe*oe,q[4]=_e*Pe-Oe*le,q[5]=_e*Ie-Oe*Se,q[6]=X,q[7]=Ee,q[8]=Le,q}function N(q,re,ce){const oe=ce[0],le=ce[1],Se=ce[2];return q[0]=oe*re[0],q[1]=oe*re[1],q[2]=oe*re[2],q[3]=le*re[3],q[4]=le*re[4],q[5]=le*re[5],q[6]=Se*re[6],q[7]=Se*re[7],q[8]=Se*re[8],q}function J(q,re,ce){const oe=ce[0],le=ce[1];return q[0]=oe*re[0],q[1]=oe*re[1],q[2]=oe*re[2],q[3]=le*re[3],q[4]=le*re[4],q[5]=le*re[5],q}function Z(q,re){return q[0]=1,q[1]=0,q[2]=0,q[3]=0,q[4]=1,q[5]=0,q[6]=re[0],q[7]=re[1],q[8]=1,q}function x(q,re){const ce=re[0],oe=re[1],le=re[2],Se=re[3],se=ce+ce,Pe=oe+oe,Ie=le+le,X=ce*se,Ee=oe*se,Le=oe*Pe,Oe=le*se,_e=le*Pe,we=le*Ie,ke=Se*se,Xe=Se*Pe,Q=Se*Ie;return q[0]=1-Le-we,q[3]=Ee-Q,q[6]=Oe+Xe,q[1]=Ee+Q,q[4]=1-X-we,q[7]=_e-ke,q[2]=Oe-Xe,q[5]=_e+ke,q[8]=1-X-Le,q}function w(q,re){const ce=re[0],oe=re[1],le=re[2],Se=re[3],se=re[4],Pe=re[5],Ie=re[6],X=re[7],Ee=re[8],Le=re[9],Oe=re[10],_e=re[11],we=re[12],ke=re[13],Xe=re[14],Q=re[15],De=ce*Pe-oe*se,Ke=ce*Ie-le*se,Ye=ce*X-Se*se,rt=oe*Ie-le*Pe,lt=oe*X-Se*Pe,_t=le*X-Se*Ie,tt=Ee*ke-Le*we,qe=Ee*Xe-Oe*we,xe=Ee*Q-_e*we,Be=Le*Xe-Oe*ke,Ze=Le*Q-_e*ke,Ne=Oe*Q-_e*Xe;let He=De*Ne-Ke*Ze+Ye*Be+rt*xe-lt*qe+_t*tt;return He?(He=1/He,q[0]=(Pe*Ne-Ie*Ze+X*Be)*He,q[1]=(Ie*xe-se*Ne-X*qe)*He,q[2]=(se*Ze-Pe*xe+X*tt)*He,q[3]=(le*Ze-oe*Ne-Se*Be)*He,q[4]=(ce*Ne-le*xe+Se*qe)*He,q[5]=(oe*xe-ce*Ze-Se*tt)*He,q[6]=(ke*_t-Xe*lt+Q*rt)*He,q[7]=(Xe*Ye-we*_t-Q*Ke)*He,q[8]=(we*lt-ke*Ye+Q*De)*He,q):null}function te(q,re,ce){return q[0]=re[0]-ce[0],q[1]=re[1]-ce[1],q[2]=re[2]-ce[2],q[3]=re[3]-ce[3],q[4]=re[4]-ce[4],q[5]=re[5]-ce[5],q[6]=re[6]-ce[6],q[7]=re[7]-ce[7],q[8]=re[8]-ce[8],q}Object.freeze(Object.defineProperty({__proto__:null,add:function ee(q,re,ce){return q[0]=re[0]+ce[0],q[1]=re[1]+ce[1],q[2]=re[2]+ce[2],q[3]=re[3]+ce[3],q[4]=re[4]+ce[4],q[5]=re[5]+ce[5],q[6]=re[6]+ce[6],q[7]=re[7]+ce[7],q[8]=re[8]+ce[8],q},adjoint:$,copy:function W(q,re){return q[0]=re[0],q[1]=re[1],q[2]=re[2],q[3]=re[3],q[4]=re[4],q[5]=re[5],q[6]=re[6],q[7]=re[7],q[8]=re[8],q},determinant:function S(q){const le=q[3],Se=q[4],se=q[5],Pe=q[6],Ie=q[7],X=q[8];return q[0]*(X*Se-se*Ie)+q[1]*(-X*le+se*Pe)+q[2]*(Ie*le-Se*Pe)},equals:function ve(q,re){const ce=q[0],oe=q[1],le=q[2],Se=q[3],se=q[4],Pe=q[5],Ie=q[6],X=q[7],Ee=q[8],Le=re[0],Oe=re[1],_e=re[2],we=re[3],ke=re[4],Xe=re[5],Q=re[6],De=re[7],Ke=re[8],Ye=(0,E.FD)();return Math.abs(ce-Le)<=Ye*Math.max(1,Math.abs(ce),Math.abs(Le))&&Math.abs(oe-Oe)<=Ye*Math.max(1,Math.abs(oe),Math.abs(Oe))&&Math.abs(le-_e)<=Ye*Math.max(1,Math.abs(le),Math.abs(_e))&&Math.abs(Se-we)<=Ye*Math.max(1,Math.abs(Se),Math.abs(we))&&Math.abs(se-ke)<=Ye*Math.max(1,Math.abs(se),Math.abs(ke))&&Math.abs(Pe-Xe)<=Ye*Math.max(1,Math.abs(Pe),Math.abs(Xe))&&Math.abs(Ie-Q)<=Ye*Math.max(1,Math.abs(Ie),Math.abs(Q))&&Math.abs(X-De)<=Ye*Math.max(1,Math.abs(X),Math.abs(De))&&Math.abs(Ee-Ke)<=Ye*Math.max(1,Math.abs(Ee),Math.abs(Ke))},exactEquals:function de(q,re){return q[0]===re[0]&&q[1]===re[1]&&q[2]===re[2]&&q[3]===re[3]&&q[4]===re[4]&&q[5]===re[5]&&q[6]===re[6]&&q[7]===re[7]&&q[8]===re[8]},frob:function ue(q){return Math.sqrt(q[0]**2+q[1]**2+q[2]**2+q[3]**2+q[4]**2+q[5]**2+q[6]**2+q[7]**2+q[8]**2)},fromMat2d:function b(q,re){return q[0]=re[0],q[1]=re[1],q[2]=0,q[3]=re[2],q[4]=re[3],q[5]=0,q[6]=re[4],q[7]=re[5],q[8]=1,q},fromMat4:D,fromQuat:x,fromRotation:function L(q,re){const ce=Math.sin(re),oe=Math.cos(re);return q[0]=oe,q[1]=ce,q[2]=0,q[3]=-ce,q[4]=oe,q[5]=0,q[6]=0,q[7]=0,q[8]=1,q},fromScaling:function C(q,re){return q[0]=re[0],q[1]=0,q[2]=0,q[3]=0,q[4]=re[1],q[5]=0,q[6]=0,q[7]=0,q[8]=1,q},fromTranslation:Z,identity:P,invert:j,isOrthoNormal:function G(q){const re=(0,E.FD)(),ce=q[0],oe=q[1],le=q[2],Se=q[3],se=q[4],Pe=q[5],Ie=q[6],X=q[7],Ee=q[8];return Math.abs(1-(ce*ce+Se*Se+Ie*Ie))<=re&&Math.abs(1-(oe*oe+se*se+X*X))<=re&&Math.abs(1-(le*le+Pe*Pe+Ee*Ee))<=re},mul:I,multiply:I,multiplyScalar:function pe(q,re,ce){return q[0]=re[0]*ce,q[1]=re[1]*ce,q[2]=re[2]*ce,q[3]=re[3]*ce,q[4]=re[4]*ce,q[5]=re[5]*ce,q[6]=re[6]*ce,q[7]=re[7]*ce,q[8]=re[8]*ce,q},multiplyScalarAndAdd:function ae(q,re,ce,oe){return q[0]=re[0]+ce[0]*oe,q[1]=re[1]+ce[1]*oe,q[2]=re[2]+ce[2]*oe,q[3]=re[3]+ce[3]*oe,q[4]=re[4]+ce[4]*oe,q[5]=re[5]+ce[5]*oe,q[6]=re[6]+ce[6]*oe,q[7]=re[7]+ce[7]*oe,q[8]=re[8]+ce[8]*oe,q},normalFromMat4:w,normalFromMat4Legacy:function R(q,re){const ce=re[0],oe=re[1],le=re[2],Se=re[4],se=re[5],Pe=re[6],Ie=re[8],X=re[9],Ee=re[10],Le=Ee*se-Pe*X,Oe=-Ee*Se+Pe*Ie,_e=X*Se-se*Ie,we=ce*Le+oe*Oe+le*_e;if(!we)return null;const ke=1/we;return q[0]=Le*ke,q[1]=(-Ee*oe+le*X)*ke,q[2]=(Pe*oe-le*se)*ke,q[3]=Oe*ke,q[4]=(Ee*ce-le*Ie)*ke,q[5]=(-Pe*ce+le*Se)*ke,q[6]=_e*ke,q[7]=(-X*ce+oe*Ie)*ke,q[8]=(se*ce-oe*Se)*ke,q},projection:function K(q,re,ce){return q[0]=2/re,q[1]=0,q[2]=0,q[3]=0,q[4]=-2/ce,q[5]=0,q[6]=-1,q[7]=1,q[8]=1,q},rotate:U,scale:N,scaleByVec2:J,set:B,str:function V(q){return"mat3("+q[0]+", "+q[1]+", "+q[2]+", "+q[3]+", "+q[4]+", "+q[5]+", "+q[6]+", "+q[7]+", "+q[8]+")"},sub:te,subtract:te,translate:O,transpose:H},Symbol.toStringTag,{value:"Module"}))},92771:(et,Ae,v)=>{"use strict";v.d(Ae,{$0:()=>R,B8:()=>$,D_:()=>P,IL:()=>ae,O7:()=>G,Tl:()=>U,aI:()=>Le,e$:()=>J,hM:()=>w,hZ:()=>B,hs:()=>N,kN:()=>b,l:()=>de,lw:()=>O,mg:()=>H,o1:()=>ve,sC:()=>pe,t2:()=>Ee,tZ:()=>_e,ut:()=>Oe});var E=v(25866),D=v(85952);function B(Q,De,Ke,Ye,rt,lt,_t,tt,qe,xe,Be,Ze,Ne,He,Je,ut,dt){return Q[0]=De,Q[1]=Ke,Q[2]=Ye,Q[3]=rt,Q[4]=lt,Q[5]=_t,Q[6]=tt,Q[7]=qe,Q[8]=xe,Q[9]=Be,Q[10]=Ze,Q[11]=Ne,Q[12]=He,Q[13]=Je,Q[14]=ut,Q[15]=dt,Q}function P(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=1,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=1,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q}function H(Q,De){if(Q===De){const Ke=De[1],Ye=De[2],rt=De[3],lt=De[6],_t=De[7],tt=De[11];Q[1]=De[4],Q[2]=De[8],Q[3]=De[12],Q[4]=Ke,Q[6]=De[9],Q[7]=De[13],Q[8]=Ye,Q[9]=lt,Q[11]=De[14],Q[12]=rt,Q[13]=_t,Q[14]=tt}else Q[0]=De[0],Q[1]=De[4],Q[2]=De[8],Q[3]=De[12],Q[4]=De[1],Q[5]=De[5],Q[6]=De[9],Q[7]=De[13],Q[8]=De[2],Q[9]=De[6],Q[10]=De[10],Q[11]=De[14],Q[12]=De[3],Q[13]=De[7],Q[14]=De[11],Q[15]=De[15];return Q}function $(Q,De){const Ke=De[0],Ye=De[1],rt=De[2],lt=De[3],_t=De[4],tt=De[5],qe=De[6],xe=De[7],Be=De[8],Ze=De[9],Ne=De[10],He=De[11],Je=De[12],ut=De[13],dt=De[14],Et=De[15],Lt=Ke*tt-Ye*_t,jt=Ke*qe-rt*_t,Kt=Ke*xe-lt*_t,Gt=Ye*qe-rt*tt,Zt=Ye*xe-lt*tt,an=rt*xe-lt*qe,mn=Be*ut-Ze*Je,Kn=Be*dt-Ne*Je,kn=Be*Et-He*Je,Cn=Ze*dt-Ne*ut,Nn=Ze*Et-He*ut,er=Ne*Et-He*dt;let Un=Lt*er-jt*Nn+Kt*Cn+Gt*kn-Zt*Kn+an*mn;return Un?(Un=1/Un,Q[0]=(tt*er-qe*Nn+xe*Cn)*Un,Q[1]=(rt*Nn-Ye*er-lt*Cn)*Un,Q[2]=(ut*an-dt*Zt+Et*Gt)*Un,Q[3]=(Ne*Zt-Ze*an-He*Gt)*Un,Q[4]=(qe*kn-_t*er-xe*Kn)*Un,Q[5]=(Ke*er-rt*kn+lt*Kn)*Un,Q[6]=(dt*Kt-Je*an-Et*jt)*Un,Q[7]=(Be*an-Ne*Kt+He*jt)*Un,Q[8]=(_t*Nn-tt*kn+xe*mn)*Un,Q[9]=(Ye*kn-Ke*Nn-lt*mn)*Un,Q[10]=(Je*Zt-ut*Kt+Et*Lt)*Un,Q[11]=(Ze*Kt-Be*Zt-He*Lt)*Un,Q[12]=(tt*Kn-_t*Cn-qe*mn)*Un,Q[13]=(Ke*Cn-Ye*Kn+rt*mn)*Un,Q[14]=(ut*jt-Je*Gt-dt*Lt)*Un,Q[15]=(Be*Gt-Ze*jt+Ne*Lt)*Un,Q):null}function O(Q,De,Ke){const Ye=De[0],rt=De[1],lt=De[2],_t=De[3],tt=De[4],qe=De[5],xe=De[6],Be=De[7],Ze=De[8],Ne=De[9],He=De[10],Je=De[11],ut=De[12],dt=De[13],Et=De[14],Lt=De[15];let jt=Ke[0],Kt=Ke[1],Gt=Ke[2],Zt=Ke[3];return Q[0]=jt*Ye+Kt*tt+Gt*Ze+Zt*ut,Q[1]=jt*rt+Kt*qe+Gt*Ne+Zt*dt,Q[2]=jt*lt+Kt*xe+Gt*He+Zt*Et,Q[3]=jt*_t+Kt*Be+Gt*Je+Zt*Lt,jt=Ke[4],Kt=Ke[5],Gt=Ke[6],Zt=Ke[7],Q[4]=jt*Ye+Kt*tt+Gt*Ze+Zt*ut,Q[5]=jt*rt+Kt*qe+Gt*Ne+Zt*dt,Q[6]=jt*lt+Kt*xe+Gt*He+Zt*Et,Q[7]=jt*_t+Kt*Be+Gt*Je+Zt*Lt,jt=Ke[8],Kt=Ke[9],Gt=Ke[10],Zt=Ke[11],Q[8]=jt*Ye+Kt*tt+Gt*Ze+Zt*ut,Q[9]=jt*rt+Kt*qe+Gt*Ne+Zt*dt,Q[10]=jt*lt+Kt*xe+Gt*He+Zt*Et,Q[11]=jt*_t+Kt*Be+Gt*Je+Zt*Lt,jt=Ke[12],Kt=Ke[13],Gt=Ke[14],Zt=Ke[15],Q[12]=jt*Ye+Kt*tt+Gt*Ze+Zt*ut,Q[13]=jt*rt+Kt*qe+Gt*Ne+Zt*dt,Q[14]=jt*lt+Kt*xe+Gt*He+Zt*Et,Q[15]=jt*_t+Kt*Be+Gt*Je+Zt*Lt,Q}function U(Q,De,Ke){const Ye=Ke[0],rt=Ke[1],lt=Ke[2];if(De===Q)Q[12]=De[0]*Ye+De[4]*rt+De[8]*lt+De[12],Q[13]=De[1]*Ye+De[5]*rt+De[9]*lt+De[13],Q[14]=De[2]*Ye+De[6]*rt+De[10]*lt+De[14],Q[15]=De[3]*Ye+De[7]*rt+De[11]*lt+De[15];else{const _t=De[0],tt=De[1],qe=De[2],xe=De[3],Be=De[4],Ze=De[5],Ne=De[6],He=De[7],Je=De[8],ut=De[9],dt=De[10],Et=De[11];Q[0]=_t,Q[1]=tt,Q[2]=qe,Q[3]=xe,Q[4]=Be,Q[5]=Ze,Q[6]=Ne,Q[7]=He,Q[8]=Je,Q[9]=ut,Q[10]=dt,Q[11]=Et,Q[12]=_t*Ye+Be*rt+Je*lt+De[12],Q[13]=tt*Ye+Ze*rt+ut*lt+De[13],Q[14]=qe*Ye+Ne*rt+dt*lt+De[14],Q[15]=xe*Ye+He*rt+Et*lt+De[15]}return Q}function N(Q,De,Ke){const Ye=Ke[0],rt=Ke[1],lt=Ke[2];return Q[0]=De[0]*Ye,Q[1]=De[1]*Ye,Q[2]=De[2]*Ye,Q[3]=De[3]*Ye,Q[4]=De[4]*rt,Q[5]=De[5]*rt,Q[6]=De[6]*rt,Q[7]=De[7]*rt,Q[8]=De[8]*lt,Q[9]=De[9]*lt,Q[10]=De[10]*lt,Q[11]=De[11]*lt,Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15],Q}function J(Q,De,Ke,Ye){let rt,lt,_t,tt,qe,xe,Be,Ze,Ne,He,Je,ut,dt,Et,Lt,jt,Kt,Gt,Zt,an,mn,Kn,kn,Cn,Nn=Ye[0],er=Ye[1],Un=Ye[2],ur=Math.sqrt(Nn*Nn+er*er+Un*Un);return ur<(0,D.FD)()?null:(ur=1/ur,Nn*=ur,er*=ur,Un*=ur,rt=Math.sin(Ke),lt=Math.cos(Ke),_t=1-lt,tt=De[0],qe=De[1],xe=De[2],Be=De[3],Ze=De[4],Ne=De[5],He=De[6],Je=De[7],ut=De[8],dt=De[9],Et=De[10],Lt=De[11],jt=Nn*Nn*_t+lt,Kt=er*Nn*_t+Un*rt,Gt=Un*Nn*_t-er*rt,Zt=Nn*er*_t-Un*rt,an=er*er*_t+lt,mn=Un*er*_t+Nn*rt,Kn=Nn*Un*_t+er*rt,kn=er*Un*_t-Nn*rt,Cn=Un*Un*_t+lt,Q[0]=tt*jt+Ze*Kt+ut*Gt,Q[1]=qe*jt+Ne*Kt+dt*Gt,Q[2]=xe*jt+He*Kt+Et*Gt,Q[3]=Be*jt+Je*Kt+Lt*Gt,Q[4]=tt*Zt+Ze*an+ut*mn,Q[5]=qe*Zt+Ne*an+dt*mn,Q[6]=xe*Zt+He*an+Et*mn,Q[7]=Be*Zt+Je*an+Lt*mn,Q[8]=tt*Kn+Ze*kn+ut*Cn,Q[9]=qe*Kn+Ne*kn+dt*Cn,Q[10]=xe*Kn+He*kn+Et*Cn,Q[11]=Be*Kn+Je*kn+Lt*Cn,De!==Q&&(Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15]),Q)}function b(Q,De){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=1,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=1,Q[11]=0,Q[12]=De[0],Q[13]=De[1],Q[14]=De[2],Q[15]=1,Q}function R(Q,De,Ke){if(0===De)return P(Q);let Ye,rt,lt,_t=Ke[0],tt=Ke[1],qe=Ke[2],xe=Math.sqrt(_t*_t+tt*tt+qe*qe);return xe<(0,D.FD)()?null:(xe=1/xe,_t*=xe,tt*=xe,qe*=xe,Ye=Math.sin(De),rt=Math.cos(De),lt=1-rt,Q[0]=_t*_t*lt+rt,Q[1]=tt*_t*lt+qe*Ye,Q[2]=qe*_t*lt-tt*Ye,Q[3]=0,Q[4]=_t*tt*lt-qe*Ye,Q[5]=tt*tt*lt+rt,Q[6]=qe*tt*lt+_t*Ye,Q[7]=0,Q[8]=_t*qe*lt+tt*Ye,Q[9]=tt*qe*lt-_t*Ye,Q[10]=qe*qe*lt+rt,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q)}function w(Q,De){const Ke=Math.sin(De),Ye=Math.cos(De);return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=Ye,Q[6]=Ke,Q[7]=0,Q[8]=0,Q[9]=-Ke,Q[10]=Ye,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q}function ue(Q,De,Ke){const Ye=De[0],rt=De[1],lt=De[2],_t=De[3],tt=Ye+Ye,qe=rt+rt,xe=lt+lt,Be=Ye*tt,Ze=Ye*qe,Ne=Ye*xe,He=rt*qe,Je=rt*xe,ut=lt*xe,dt=_t*tt,Et=_t*qe,Lt=_t*xe;return Q[0]=1-(He+ut),Q[1]=Ze+Lt,Q[2]=Ne-Et,Q[3]=0,Q[4]=Ze-Lt,Q[5]=1-(Be+ut),Q[6]=Je+dt,Q[7]=0,Q[8]=Ne+Et,Q[9]=Je-dt,Q[10]=1-(Be+He),Q[11]=0,Q[12]=Ke[0],Q[13]=Ke[1],Q[14]=Ke[2],Q[15]=1,Q}const te=(0,E.vt)();function pe(Q,De){return Q[0]=De[12],Q[1]=De[13],Q[2]=De[14],Q}function ae(Q,De){const Ke=De[0],Ye=De[1],rt=De[2],lt=De[4],_t=De[5],tt=De[6],qe=De[8],xe=De[9],Be=De[10];return Q[0]=Math.sqrt(Ke*Ke+Ye*Ye+rt*rt),Q[1]=Math.sqrt(lt*lt+_t*_t+tt*tt),Q[2]=Math.sqrt(qe*qe+xe*xe+Be*Be),Q}function de(Q,De){const Ke=De[0]+De[5]+De[10];let Ye=0;return Ke>0?(Ye=2*Math.sqrt(Ke+1),Q[3]=.25*Ye,Q[0]=(De[6]-De[9])/Ye,Q[1]=(De[8]-De[2])/Ye,Q[2]=(De[1]-De[4])/Ye):De[0]>De[5]&&De[0]>De[10]?(Ye=2*Math.sqrt(1+De[0]-De[5]-De[10]),Q[3]=(De[6]-De[9])/Ye,Q[0]=.25*Ye,Q[1]=(De[1]+De[4])/Ye,Q[2]=(De[8]+De[2])/Ye):De[5]>De[10]?(Ye=2*Math.sqrt(1+De[5]-De[0]-De[10]),Q[3]=(De[8]-De[2])/Ye,Q[0]=(De[1]+De[4])/Ye,Q[1]=.25*Ye,Q[2]=(De[6]+De[9])/Ye):(Ye=2*Math.sqrt(1+De[10]-De[0]-De[5]),Q[3]=(De[1]-De[4])/Ye,Q[0]=(De[8]+De[2])/Ye,Q[1]=(De[6]+De[9])/Ye,Q[2]=.25*Ye),Q}function ve(Q,De,Ke,Ye){const rt=De[0],lt=De[1],_t=De[2],tt=De[3],qe=rt+rt,xe=lt+lt,Be=_t+_t,Ze=rt*qe,Ne=rt*xe,He=rt*Be,Je=lt*xe,ut=lt*Be,dt=_t*Be,Et=tt*qe,Lt=tt*xe,jt=tt*Be,Kt=Ye[0],Gt=Ye[1],Zt=Ye[2];return Q[0]=(1-(Je+dt))*Kt,Q[1]=(Ne+jt)*Kt,Q[2]=(He-Lt)*Kt,Q[3]=0,Q[4]=(Ne-jt)*Gt,Q[5]=(1-(Ze+dt))*Gt,Q[6]=(ut+Et)*Gt,Q[7]=0,Q[8]=(He+Lt)*Zt,Q[9]=(ut-Et)*Zt,Q[10]=(1-(Ze+Je))*Zt,Q[11]=0,Q[12]=Ke[0],Q[13]=Ke[1],Q[14]=Ke[2],Q[15]=1,Q}function G(Q,De,Ke,Ye,rt){const lt=De[0],_t=De[1],tt=De[2],qe=De[3],xe=lt+lt,Be=_t+_t,Ze=tt+tt,Ne=lt*xe,He=lt*Be,Je=lt*Ze,ut=_t*Be,dt=_t*Ze,Et=tt*Ze,Lt=qe*xe,jt=qe*Be,Kt=qe*Ze,Gt=Ye[0],Zt=Ye[1],an=Ye[2],mn=rt[0],Kn=rt[1],kn=rt[2],Cn=(1-(ut+Et))*Gt,Nn=(He+Kt)*Gt,er=(Je-jt)*Gt,Un=(He-Kt)*Zt,ur=(1-(Ne+Et))*Zt,fr=(dt+Lt)*Zt,ir=(Je+jt)*an,wn=(dt-Lt)*an,Er=(1-(Ne+ut))*an;return Q[0]=Cn,Q[1]=Nn,Q[2]=er,Q[3]=0,Q[4]=Un,Q[5]=ur,Q[6]=fr,Q[7]=0,Q[8]=ir,Q[9]=wn,Q[10]=Er,Q[11]=0,Q[12]=Ke[0]+mn-(Cn*mn+Un*Kn+ir*kn),Q[13]=Ke[1]+Kn-(Nn*mn+ur*Kn+wn*kn),Q[14]=Ke[2]+kn-(er*mn+fr*Kn+Er*kn),Q[15]=1,Q}function Pe(Q,De,Ke){return Q[0]=De[0]-Ke[0],Q[1]=De[1]-Ke[1],Q[2]=De[2]-Ke[2],Q[3]=De[3]-Ke[3],Q[4]=De[4]-Ke[4],Q[5]=De[5]-Ke[5],Q[6]=De[6]-Ke[6],Q[7]=De[7]-Ke[7],Q[8]=De[8]-Ke[8],Q[9]=De[9]-Ke[9],Q[10]=De[10]-Ke[10],Q[11]=De[11]-Ke[11],Q[12]=De[12]-Ke[12],Q[13]=De[13]-Ke[13],Q[14]=De[14]-Ke[14],Q[15]=De[15]-Ke[15],Q}function Ee(Q,De){return Q[0]===De[0]&&Q[1]===De[1]&&Q[2]===De[2]&&Q[3]===De[3]&&Q[4]===De[4]&&Q[5]===De[5]&&Q[6]===De[6]&&Q[7]===De[7]&&Q[8]===De[8]&&Q[9]===De[9]&&Q[10]===De[10]&&Q[11]===De[11]&&Q[12]===De[12]&&Q[13]===De[13]&&Q[14]===De[14]&&Q[15]===De[15]}function Le(Q,De){if(Q===De)return!0;const Ke=Q[0],Ye=Q[1],rt=Q[2],lt=Q[3],_t=Q[4],tt=Q[5],qe=Q[6],xe=Q[7],Be=Q[8],Ze=Q[9],Ne=Q[10],He=Q[11],Je=Q[12],ut=Q[13],dt=Q[14],Et=Q[15],Lt=De[0],jt=De[1],Kt=De[2],Gt=De[3],Zt=De[4],an=De[5],mn=De[6],Kn=De[7],kn=De[8],Cn=De[9],Nn=De[10],er=De[11],Un=De[12],ur=De[13],fr=De[14],ir=De[15],wn=(0,D.FD)();return Math.abs(Ke-Lt)<=wn*Math.max(1,Math.abs(Ke),Math.abs(Lt))&&Math.abs(Ye-jt)<=wn*Math.max(1,Math.abs(Ye),Math.abs(jt))&&Math.abs(rt-Kt)<=wn*Math.max(1,Math.abs(rt),Math.abs(Kt))&&Math.abs(lt-Gt)<=wn*Math.max(1,Math.abs(lt),Math.abs(Gt))&&Math.abs(_t-Zt)<=wn*Math.max(1,Math.abs(_t),Math.abs(Zt))&&Math.abs(tt-an)<=wn*Math.max(1,Math.abs(tt),Math.abs(an))&&Math.abs(qe-mn)<=wn*Math.max(1,Math.abs(qe),Math.abs(mn))&&Math.abs(xe-Kn)<=wn*Math.max(1,Math.abs(xe),Math.abs(Kn))&&Math.abs(Be-kn)<=wn*Math.max(1,Math.abs(Be),Math.abs(kn))&&Math.abs(Ze-Cn)<=wn*Math.max(1,Math.abs(Ze),Math.abs(Cn))&&Math.abs(Ne-Nn)<=wn*Math.max(1,Math.abs(Ne),Math.abs(Nn))&&Math.abs(He-er)<=wn*Math.max(1,Math.abs(He),Math.abs(er))&&Math.abs(Je-Un)<=wn*Math.max(1,Math.abs(Je),Math.abs(Un))&&Math.abs(ut-ur)<=wn*Math.max(1,Math.abs(ut),Math.abs(ur))&&Math.abs(dt-fr)<=wn*Math.max(1,Math.abs(dt),Math.abs(fr))&&Math.abs(Et-ir)<=wn*Math.max(1,Math.abs(Et),Math.abs(ir))}function Oe(Q){const De=(0,D.FD)(),Ke=Q[0],Ye=Q[1],rt=Q[2],lt=Q[4],_t=Q[5],tt=Q[6],qe=Q[8],xe=Q[9],Be=Q[10];return Math.abs(1-(Ke*Ke+lt*lt+qe*qe))<=De&&Math.abs(1-(Ye*Ye+_t*_t+xe*xe))<=De&&Math.abs(1-(rt*rt+tt*tt+Be*Be))<=De}function _e(Q){return 1===Q[0]&&0===Q[1]&&0===Q[2]&&0===Q[4]&&1===Q[5]&&0===Q[6]&&0===Q[8]&&0===Q[9]&&1===Q[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function se(Q,De,Ke){return Q[0]=De[0]+Ke[0],Q[1]=De[1]+Ke[1],Q[2]=De[2]+Ke[2],Q[3]=De[3]+Ke[3],Q[4]=De[4]+Ke[4],Q[5]=De[5]+Ke[5],Q[6]=De[6]+Ke[6],Q[7]=De[7]+Ke[7],Q[8]=De[8]+Ke[8],Q[9]=De[9]+Ke[9],Q[10]=De[10]+Ke[10],Q[11]=De[11]+Ke[11],Q[12]=De[12]+Ke[12],Q[13]=De[13]+Ke[13],Q[14]=De[14]+Ke[14],Q[15]=De[15]+Ke[15],Q},adjoint:function S(Q,De){const Ke=De[0],Ye=De[1],rt=De[2],lt=De[3],_t=De[4],tt=De[5],qe=De[6],xe=De[7],Be=De[8],Ze=De[9],Ne=De[10],He=De[11],Je=De[12],ut=De[13],dt=De[14],Et=De[15];return Q[0]=tt*(Ne*Et-He*dt)-Ze*(qe*Et-xe*dt)+ut*(qe*He-xe*Ne),Q[1]=-(Ye*(Ne*Et-He*dt)-Ze*(rt*Et-lt*dt)+ut*(rt*He-lt*Ne)),Q[2]=Ye*(qe*Et-xe*dt)-tt*(rt*Et-lt*dt)+ut*(rt*xe-lt*qe),Q[3]=-(Ye*(qe*He-xe*Ne)-tt*(rt*He-lt*Ne)+Ze*(rt*xe-lt*qe)),Q[4]=-(_t*(Ne*Et-He*dt)-Be*(qe*Et-xe*dt)+Je*(qe*He-xe*Ne)),Q[5]=Ke*(Ne*Et-He*dt)-Be*(rt*Et-lt*dt)+Je*(rt*He-lt*Ne),Q[6]=-(Ke*(qe*Et-xe*dt)-_t*(rt*Et-lt*dt)+Je*(rt*xe-lt*qe)),Q[7]=Ke*(qe*He-xe*Ne)-_t*(rt*He-lt*Ne)+Be*(rt*xe-lt*qe),Q[8]=_t*(Ze*Et-He*ut)-Be*(tt*Et-xe*ut)+Je*(tt*He-xe*Ze),Q[9]=-(Ke*(Ze*Et-He*ut)-Be*(Ye*Et-lt*ut)+Je*(Ye*He-lt*Ze)),Q[10]=Ke*(tt*Et-xe*ut)-_t*(Ye*Et-lt*ut)+Je*(Ye*xe-lt*tt),Q[11]=-(Ke*(tt*He-xe*Ze)-_t*(Ye*He-lt*Ze)+Be*(Ye*xe-lt*tt)),Q[12]=-(_t*(Ze*dt-Ne*ut)-Be*(tt*dt-qe*ut)+Je*(tt*Ne-qe*Ze)),Q[13]=Ke*(Ze*dt-Ne*ut)-Be*(Ye*dt-rt*ut)+Je*(Ye*Ne-rt*Ze),Q[14]=-(Ke*(tt*dt-qe*ut)-_t*(Ye*dt-rt*ut)+Je*(Ye*qe-rt*tt)),Q[15]=Ke*(tt*Ne-qe*Ze)-_t*(Ye*Ne-rt*Ze)+Be*(Ye*qe-rt*tt),Q},copy:function W(Q,De){return Q[0]=De[0],Q[1]=De[1],Q[2]=De[2],Q[3]=De[3],Q[4]=De[4],Q[5]=De[5],Q[6]=De[6],Q[7]=De[7],Q[8]=De[8],Q[9]=De[9],Q[10]=De[10],Q[11]=De[11],Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15],Q},determinant:function I(Q){const De=Q[0],Ke=Q[1],Ye=Q[2],rt=Q[3],lt=Q[4],_t=Q[5],tt=Q[6],qe=Q[7],xe=Q[8],Be=Q[9],Ze=Q[10],Ne=Q[11],He=Q[12],Je=Q[13],ut=Q[14],dt=Q[15];return(De*_t-Ke*lt)*(Ze*dt-Ne*ut)-(De*tt-Ye*lt)*(Be*dt-Ne*Je)+(De*qe-rt*lt)*(Be*ut-Ze*Je)+(Ke*tt-Ye*_t)*(xe*dt-Ne*He)-(Ke*qe-rt*_t)*(xe*ut-Ze*He)+(Ye*qe-rt*tt)*(xe*Je-Be*He)},equals:Le,exactEquals:Ee,frob:function Se(Q){return Math.sqrt(Q[0]**2+Q[1]**2+Q[2]**2+Q[3]**2+Q[4]**2+Q[5]**2+Q[6]**2+Q[7]**2+Q[8]**2+Q[9]**2+Q[10]**2+Q[11]**2+Q[12]**2+Q[13]**2+Q[14]**2+Q[15]**2)},fromQuat:function fe(Q,De){const Ke=De[0],Ye=De[1],rt=De[2],lt=De[3],_t=Ke+Ke,tt=Ye+Ye,qe=rt+rt,xe=Ke*_t,Be=Ye*_t,Ze=Ye*tt,Ne=rt*_t,He=rt*tt,Je=rt*qe,ut=lt*_t,dt=lt*tt,Et=lt*qe;return Q[0]=1-Ze-Je,Q[1]=Be+Et,Q[2]=Ne-dt,Q[3]=0,Q[4]=Be-Et,Q[5]=1-xe-Je,Q[6]=He+ut,Q[7]=0,Q[8]=Ne+dt,Q[9]=He-ut,Q[10]=1-xe-Ze,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},fromQuat2:function ee(Q,De){const Ke=te,Ye=-De[0],rt=-De[1],lt=-De[2],_t=De[3],tt=De[4],qe=De[5],xe=De[6],Be=De[7],Ze=Ye*Ye+rt*rt+lt*lt+_t*_t;return Ze>0?(Ke[0]=2*(tt*_t+Be*Ye+qe*lt-xe*rt)/Ze,Ke[1]=2*(qe*_t+Be*rt+xe*Ye-tt*lt)/Ze,Ke[2]=2*(xe*_t+Be*lt+tt*rt-qe*Ye)/Ze):(Ke[0]=2*(tt*_t+Be*Ye+qe*lt-xe*rt),Ke[1]=2*(qe*_t+Be*rt+xe*Ye-tt*lt),Ke[2]=2*(xe*_t+Be*lt+tt*rt-qe*Ye)),ue(Q,De,Ke),Q},fromRotation:R,fromRotationTranslation:ue,fromRotationTranslationScale:ve,fromRotationTranslationScaleOrigin:G,fromScaling:function x(Q,De){return Q[0]=De[0],Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=De[1],Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=De[2],Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},fromTranslation:b,fromXRotation:w,fromYRotation:function K(Q,De){const Ke=Math.sin(De),Ye=Math.cos(De);return Q[0]=Ye,Q[1]=0,Q[2]=-Ke,Q[3]=0,Q[4]=0,Q[5]=1,Q[6]=0,Q[7]=0,Q[8]=Ke,Q[9]=0,Q[10]=Ye,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},fromZRotation:function V(Q,De){const Ke=Math.sin(De),Ye=Math.cos(De);return Q[0]=Ye,Q[1]=Ke,Q[2]=0,Q[3]=0,Q[4]=-Ke,Q[5]=Ye,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=1,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},frustum:function ie(Q,De,Ke,Ye,rt,lt,_t){const tt=1/(Ke-De),qe=1/(rt-Ye),xe=1/(lt-_t);return Q[0]=2*lt*tt,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=2*lt*qe,Q[6]=0,Q[7]=0,Q[8]=(Ke+De)*tt,Q[9]=(rt+Ye)*qe,Q[10]=(_t+lt)*xe,Q[11]=-1,Q[12]=0,Q[13]=0,Q[14]=_t*lt*2*xe,Q[15]=0,Q},getRotation:de,getScaling:ae,getTranslation:pe,hasIdentityRotation:_e,identity:P,invert:$,invertOrIdentity:function j(Q,De){return $(Q,De)||P(Q),Q},isOrthoNormal:Oe,lookAt:function ce(Q,De,Ke,Ye){const rt=De[0],lt=De[1],_t=De[2];let tt=rt-Ke[0],qe=lt-Ke[1],xe=_t-Ke[2];const Be=(0,D.FD)();if(Math.abs(tt)<Be&&Math.abs(qe)<Be&&Math.abs(xe)<Be)return void P(Q);let Ze=1/Math.sqrt(tt*tt+qe*qe+xe*xe);tt*=Ze,qe*=Ze,xe*=Ze;const Ne=Ye[0],He=Ye[1],Je=Ye[2];let ut=He*xe-Je*qe,dt=Je*tt-Ne*xe,Et=Ne*qe-He*tt;Ze=Math.sqrt(ut*ut+dt*dt+Et*Et),Ze?(Ze=1/Ze,ut*=Ze,dt*=Ze,Et*=Ze):(ut=0,dt=0,Et=0);let Lt=qe*Et-xe*dt,jt=xe*ut-tt*Et,Kt=tt*dt-qe*ut;Ze=Math.sqrt(Lt*Lt+jt*jt+Kt*Kt),Ze?(Ze=1/Ze,Lt*=Ze,jt*=Ze,Kt*=Ze):(Lt=0,jt=0,Kt=0),Q[0]=ut,Q[1]=Lt,Q[2]=tt,Q[3]=0,Q[4]=dt,Q[5]=jt,Q[6]=qe,Q[7]=0,Q[8]=Et,Q[9]=Kt,Q[10]=xe,Q[11]=0,Q[12]=-(ut*rt+dt*lt+Et*_t),Q[13]=-(Lt*rt+jt*lt+Kt*_t),Q[14]=-(tt*rt+qe*lt+xe*_t),Q[15]=1},mul:O,multiply:O,multiplyScalar:function Ie(Q,De,Ke){return Q[0]=De[0]*Ke,Q[1]=De[1]*Ke,Q[2]=De[2]*Ke,Q[3]=De[3]*Ke,Q[4]=De[4]*Ke,Q[5]=De[5]*Ke,Q[6]=De[6]*Ke,Q[7]=De[7]*Ke,Q[8]=De[8]*Ke,Q[9]=De[9]*Ke,Q[10]=De[10]*Ke,Q[11]=De[11]*Ke,Q[12]=De[12]*Ke,Q[13]=De[13]*Ke,Q[14]=De[14]*Ke,Q[15]=De[15]*Ke,Q},multiplyScalarAndAdd:function X(Q,De,Ke,Ye){return Q[0]=De[0]+Ke[0]*Ye,Q[1]=De[1]+Ke[1]*Ye,Q[2]=De[2]+Ke[2]*Ye,Q[3]=De[3]+Ke[3]*Ye,Q[4]=De[4]+Ke[4]*Ye,Q[5]=De[5]+Ke[5]*Ye,Q[6]=De[6]+Ke[6]*Ye,Q[7]=De[7]+Ke[7]*Ye,Q[8]=De[8]+Ke[8]*Ye,Q[9]=De[9]+Ke[9]*Ye,Q[10]=De[10]+Ke[10]*Ye,Q[11]=De[11]+Ke[11]*Ye,Q[12]=De[12]+Ke[12]*Ye,Q[13]=De[13]+Ke[13]*Ye,Q[14]=De[14]+Ke[14]*Ye,Q[15]=De[15]+Ke[15]*Ye,Q},ortho:function re(Q,De,Ke,Ye,rt,lt,_t){const tt=1/(De-Ke),qe=1/(Ye-rt),xe=1/(lt-_t);return Q[0]=-2*tt,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=-2*qe,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=2*xe,Q[11]=0,Q[12]=(De+Ke)*tt,Q[13]=(rt+Ye)*qe,Q[14]=(_t+lt)*xe,Q[15]=1,Q},perspective:function ye(Q,De,Ke,Ye,rt){const lt=1/Math.tan(De/2);let _t;return Q[0]=lt/Ke,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=lt,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[11]=-1,Q[12]=0,Q[13]=0,Q[15]=0,null!=rt&&rt!==1/0?(_t=1/(Ye-rt),Q[10]=(rt+Ye)*_t,Q[14]=2*rt*Ye*_t):(Q[10]=-1,Q[14]=-2*Ye),Q},perspectiveFromFieldOfView:function q(Q,De,Ke,Ye){const rt=Math.tan(De.upDegrees*Math.PI/180),lt=Math.tan(De.downDegrees*Math.PI/180),_t=Math.tan(De.leftDegrees*Math.PI/180),tt=Math.tan(De.rightDegrees*Math.PI/180),qe=2/(_t+tt),xe=2/(rt+lt);return Q[0]=qe,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=xe,Q[6]=0,Q[7]=0,Q[8]=-(_t-tt)*qe*.5,Q[9]=(rt-lt)*xe*.5,Q[10]=Ye/(Ke-Ye),Q[11]=-1,Q[12]=0,Q[13]=0,Q[14]=Ye*Ke/(Ke-Ye),Q[15]=0,Q},rotate:J,rotateX:function Z(Q,De,Ke){const Ye=Math.sin(Ke),rt=Math.cos(Ke),lt=De[4],_t=De[5],tt=De[6],qe=De[7],xe=De[8],Be=De[9],Ze=De[10],Ne=De[11];return De!==Q&&(Q[0]=De[0],Q[1]=De[1],Q[2]=De[2],Q[3]=De[3],Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15]),Q[4]=lt*rt+xe*Ye,Q[5]=_t*rt+Be*Ye,Q[6]=tt*rt+Ze*Ye,Q[7]=qe*rt+Ne*Ye,Q[8]=xe*rt-lt*Ye,Q[9]=Be*rt-_t*Ye,Q[10]=Ze*rt-tt*Ye,Q[11]=Ne*rt-qe*Ye,Q},rotateY:function L(Q,De,Ke){const Ye=Math.sin(Ke),rt=Math.cos(Ke),lt=De[0],_t=De[1],tt=De[2],qe=De[3],xe=De[8],Be=De[9],Ze=De[10],Ne=De[11];return De!==Q&&(Q[4]=De[4],Q[5]=De[5],Q[6]=De[6],Q[7]=De[7],Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15]),Q[0]=lt*rt-xe*Ye,Q[1]=_t*rt-Be*Ye,Q[2]=tt*rt-Ze*Ye,Q[3]=qe*rt-Ne*Ye,Q[8]=lt*Ye+xe*rt,Q[9]=_t*Ye+Be*rt,Q[10]=tt*Ye+Ze*rt,Q[11]=qe*Ye+Ne*rt,Q},rotateZ:function C(Q,De,Ke){const Ye=Math.sin(Ke),rt=Math.cos(Ke),lt=De[0],_t=De[1],tt=De[2],qe=De[3],xe=De[4],Be=De[5],Ze=De[6],Ne=De[7];return De!==Q&&(Q[8]=De[8],Q[9]=De[9],Q[10]=De[10],Q[11]=De[11],Q[12]=De[12],Q[13]=De[13],Q[14]=De[14],Q[15]=De[15]),Q[0]=lt*rt+xe*Ye,Q[1]=_t*rt+Be*Ye,Q[2]=tt*rt+Ze*Ye,Q[3]=qe*rt+Ne*Ye,Q[4]=xe*rt-lt*Ye,Q[5]=Be*rt-_t*Ye,Q[6]=Ze*rt-tt*Ye,Q[7]=Ne*rt-qe*Ye,Q},scale:N,set:B,str:function le(Q){return"mat4("+Q[0]+", "+Q[1]+", "+Q[2]+", "+Q[3]+", "+Q[4]+", "+Q[5]+", "+Q[6]+", "+Q[7]+", "+Q[8]+", "+Q[9]+", "+Q[10]+", "+Q[11]+", "+Q[12]+", "+Q[13]+", "+Q[14]+", "+Q[15]+")"},sub:Pe,subtract:Pe,targetTo:function oe(Q,De,Ke,Ye){const rt=De[0],lt=De[1],_t=De[2],tt=Ye[0],qe=Ye[1],xe=Ye[2];let Be=rt-Ke[0],Ze=lt-Ke[1],Ne=_t-Ke[2],He=Be*Be+Ze*Ze+Ne*Ne;He>0&&(He=1/Math.sqrt(He),Be*=He,Ze*=He,Ne*=He);let Je=qe*Ne-xe*Ze,ut=xe*Be-tt*Ne,dt=tt*Ze-qe*Be;return He=Je*Je+ut*ut+dt*dt,He>0&&(He=1/Math.sqrt(He),Je*=He,ut*=He,dt*=He),Q[0]=Je,Q[1]=ut,Q[2]=dt,Q[3]=0,Q[4]=Ze*dt-Ne*ut,Q[5]=Ne*Je-Be*dt,Q[6]=Be*ut-Ze*Je,Q[7]=0,Q[8]=Be,Q[9]=Ze,Q[10]=Ne,Q[11]=0,Q[12]=rt,Q[13]=lt,Q[14]=_t,Q[15]=1,Q},translate:U,transpose:H},Symbol.toStringTag,{value:"Module"}))},83953:(et,Ae,v)=>{"use strict";v.d(Ae,{$A:()=>V,Bw:()=>C,C:()=>D,Cc:()=>ue,Io:()=>Z,Om:()=>K,Re:()=>P,S8:()=>w,WQ:()=>B,e$:()=>ve,hG:()=>L,hZ:()=>W,hs:()=>N,jb:()=>ce,l0:()=>pe,ze:()=>x});var E=v(85952);function D(X,Ee){return X[0]=Ee[0],X[1]=Ee[1],X}function W(X,Ee,Le){return X[0]=Ee,X[1]=Le,X}function B(X,Ee,Le){return X[0]=Ee[0]+Le[0],X[1]=Ee[1]+Le[1],X}function P(X,Ee,Le){return X[0]=Ee[0]-Le[0],X[1]=Ee[1]-Le[1],X}function H(X,Ee,Le){return X[0]=Ee[0]*Le[0],X[1]=Ee[1]*Le[1],X}function j(X,Ee,Le){return X[0]=Ee[0]/Le[0],X[1]=Ee[1]/Le[1],X}function N(X,Ee,Le){return X[0]=Ee[0]*Le,X[1]=Ee[1]*Le,X}function Z(X,Ee){const Le=Ee[0]-X[0],Oe=Ee[1]-X[1];return Math.sqrt(Le*Le+Oe*Oe)}function L(X,Ee){const Le=Ee[0]-X[0],Oe=Ee[1]-X[1];return Le*Le+Oe*Oe}function C(X){const Ee=X[0],Le=X[1];return Math.sqrt(Ee*Ee+Le*Le)}function b(X){const Ee=X[0],Le=X[1];return Ee*Ee+Le*Le}function x(X,Ee){return X[0]=-Ee[0],X[1]=-Ee[1],X}function w(X,Ee){const Le=Ee[0],Oe=Ee[1];let _e=Le*Le+Oe*Oe;return _e>0&&(_e=1/Math.sqrt(_e),X[0]=Ee[0]*_e,X[1]=Ee[1]*_e),X}function K(X,Ee){return X[0]*Ee[0]+X[1]*Ee[1]}function V(X,Ee,Le){const Oe=Ee[0]*Le[1]-Ee[1]*Le[0];return X[0]=X[1]=0,X[2]=Oe,X}function ue(X,Ee,Le,Oe){const _e=Ee[0],we=Ee[1];return X[0]=_e+Oe*(Le[0]-_e),X[1]=we+Oe*(Le[1]-we),X}function pe(X,Ee,Le){const Oe=Ee[0],_e=Ee[1];return X[0]=Le[0]*Oe+Le[2]*_e+Le[4],X[1]=Le[1]*Oe+Le[3]*_e+Le[5],X}function ve(X,Ee,Le,Oe){const _e=Ee[0]-Le[0],we=Ee[1]-Le[1],ke=Math.sin(Oe),Xe=Math.cos(Oe);return X[0]=_e*Xe-we*ke+Le[0],X[1]=_e*ke+we*Xe+Le[1],X}const ce=P;Object.freeze(Object.defineProperty({__proto__:null,add:B,angle:function G(X,Ee){const Le=X[0],Oe=X[1],_e=Ee[0],we=Ee[1];let ke=Le*Le+Oe*Oe;ke>0&&(ke=1/Math.sqrt(ke));let Xe=_e*_e+we*we;Xe>0&&(Xe=1/Math.sqrt(Xe));const Q=(Le*_e+Oe*we)*ke*Xe;return Q>1?0:Q<-1?Math.PI:Math.acos(Q)},ceil:function $(X,Ee){return X[0]=Math.ceil(Ee[0]),X[1]=Math.ceil(Ee[1]),X},copy:D,cross:V,dist:Z,distance:Z,div:j,divide:j,dot:K,equals:function ye(X,Ee){const Le=X[0],Oe=X[1],_e=Ee[0],we=Ee[1],ke=(0,E.FD)();return Math.abs(Le-_e)<=ke*Math.max(1,Math.abs(Le),Math.abs(_e))&&Math.abs(Oe-we)<=ke*Math.max(1,Math.abs(Oe),Math.abs(we))},exactEquals:function ie(X,Ee){return X[0]===Ee[0]&&X[1]===Ee[1]},floor:function S(X,Ee){return X[0]=Math.floor(Ee[0]),X[1]=Math.floor(Ee[1]),X},inverse:function R(X,Ee){return X[0]=1/Ee[0],X[1]=1/Ee[1],X},len:C,length:C,lerp:ue,max:function O(X,Ee,Le){return X[0]=Math.max(Ee[0],Le[0]),X[1]=Math.max(Ee[1],Le[1]),X},min:function I(X,Ee,Le){return X[0]=Math.min(Ee[0],Le[0]),X[1]=Math.min(Ee[1],Le[1]),X},mul:H,multiply:H,negate:x,normalize:w,projectAndScale:function q(X,Ee,Le,Oe,_e){let we=Ee[0]-Le[0],ke=Ee[1]-Le[1];const Xe=(Oe[0]*we+Oe[1]*ke)*(_e-1);return we=Oe[0]*Xe,ke=Oe[1]*Xe,X[0]=Ee[0]+we,X[1]=Ee[1]+ke,X},random:function ee(X,Ee){Ee=Ee||1;const Le=2*(0,E.Ov)()*Math.PI;return X[0]=Math.cos(Le)*Ee,X[1]=Math.sin(Le)*Ee,X},rotate:ve,round:function U(X,Ee){return X[0]=Math.round(Ee[0]),X[1]=Math.round(Ee[1]),X},scale:N,scaleAndAdd:function J(X,Ee,Le,Oe){return X[0]=Ee[0]+Le[0]*Oe,X[1]=Ee[1]+Le[1]*Oe,X},set:W,sqrDist:L,sqrLen:b,squaredDistance:L,squaredLength:b,str:function fe(X){return"vec2("+X[0]+", "+X[1]+")"},sub:ce,subtract:P,transformMat2:function te(X,Ee,Le){const Oe=Ee[0],_e=Ee[1];return X[0]=Le[0]*Oe+Le[2]*_e,X[1]=Le[1]*Oe+Le[3]*_e,X},transformMat2d:pe,transformMat3:function ae(X,Ee,Le){const Oe=Ee[0],_e=Ee[1];return X[0]=Le[0]*Oe+Le[3]*_e+Le[6],X[1]=Le[1]*Oe+Le[4]*_e+Le[7],X},transformMat4:function de(X,Ee,Le){const Oe=Ee[0],_e=Ee[1];return X[0]=Le[0]*Oe+Le[4]*_e+Le[12],X[1]=Le[1]*Oe+Le[5]*_e+Le[13],X}},Symbol.toStringTag,{value:"Module"}))},4879:(et,Ae,v)=>{"use strict";v.d(Ae,{L:()=>j,g:()=>P});var E=v(10467),D=v(89447),W=v(31178),B=v(55098);function P(I,O){return H.apply(this,arguments)}function H(){return(H=(0,E.A)(function*(I,O){return yield I.load(),j(I,O)})).apply(this,arguments)}function j(I,O){return $.apply(this,arguments)}function $(){return $=(0,E.A)(function*(I,O){const U=[],N=(...Z)=>{for(const L of Z)null!=L&&(Array.isArray(L)?N(...L):W.A.isCollection(L)?L.forEach(C=>N(C)):B.A.isLoadable(L)&&U.push(L))};O(N);let J=null;if(yield(0,D.Tj)(U,function(){var Z=(0,E.A)(function*(L){const C=yield(0,D.Ke)(function S(I){return"loadAll"in I&&"function"==typeof I.loadAll}(L)?L.loadAll():L.load());!1!==C.ok||J||(J=C)});return function(L){return Z.apply(this,arguments)}}()),J)throw J.error;return I}),$.apply(this,arguments)}},69287:(et,Ae,v)=>{"use strict";v.d(Ae,{$8:()=>ee,Cc:()=>S,Io:()=>V,KJ:()=>U,Sp:()=>L,XM:()=>J,YN:()=>Z,cU:()=>W,hs:()=>I,jU:()=>ae,kU:()=>O,or:()=>ve,pq:()=>fe,qE:()=>B,yR:()=>j});var E=v(28714);const D=new Float32Array(1);function W(ie){--ie;for(let ye=1;ye<32;ye<<=1)ie|=ie>>ye;return ie+1}function B(ie,ye,q){return Math.min(Math.max(ie,ye),q)}function j(ie){return ie--,ie|=ie>>1,ie|=ie>>2,ie|=ie>>4,ie|=ie>>8,ie|=ie>>16,++ie}function S(ie,ye,q){return ie+(ye-ie)*q}function I(ie,ye,q,re,ce){return S(re,ce,(ie-ye)/(q-ye))}function O(ie){return ie*Math.PI/180}function U(ie){return 180*ie/Math.PI}function J(ie){return Math.acos(B(ie,-1,1))}function Z(ie){return Math.asin(B(ie,-1,1))}function L(ie,ye,q=1e-6){return ie===ye||!(!Number.isFinite(ie)||!Number.isFinite(ye))&&(ie>ye?ie-ye:ye-ie)<=q}const C=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function b(ie){return C.setFloat64(0,ie),C.getBigInt64(0)}const R=BigInt("1000000"),w=K(1);function K(ie){const ye=b(ie=Math.abs(ie)),q=function x(ie){return C.setBigInt64(0,ie),C.getFloat64(0)}(ye<=R?R:ye-R);return Math.abs(ie-q)}function V(ie,ye,q=w){if(ie===ye)return!0;if(!Number.isFinite(ie)||!Number.isFinite(ye))return!1;if(null!=q&&K(Math.min(Math.abs(ie),Math.abs(ye)))<q)return Math.abs(ie-ye)<=q;const re=b(ie),ce=b(ye);return re<0==ce<0&&!((re<ce?ce-re:re-ce)>R)}function ee(ie){return te(Math.max(-fe,Math.min(ie,fe)))}function te(ie){return D[0]=ie,D[0]}function ae(ie,ye){const q=(0,E.l)(ie),re=Z(ie[2]/q),ce=Math.atan2(ie[1]/q,ie[0]/q);return(0,E.s)(ye,q,re,ce),ye}function ve(ie){const q=ie[3]*ie[3]+ie[4]*ie[4]+ie[5]*ie[5],re=ie[6]*ie[6]+ie[7]*ie[7]+ie[8]*ie[8];return!(L(ie[0]*ie[0]+ie[1]*ie[1]+ie[2]*ie[2],1)&&L(q,1)&&L(re,1))}const fe=te(34028234663852886e22)},11432:(et,Ae,v)=>{"use strict";function E(I,O){if(null==I)throw new Error(O??"value is None")}function D(I){return I?.destroy(),null}function W(I){return I?.dispose(),null}function B(I){return I?.remove(),null}function P(I){return I?.abort(),null}function H(I){return I?.release(),null}function j(I,O,U){return null!=I&&null!=O?null!=U?U(I,O):I.equals(O):I===O}function S(I,O){let U;return I.some((N,J)=>(U=O(N,J),null!=U)),U??void 0}v.d(Ae,{CM:()=>j,DC:()=>P,Gz:()=>H,Lw:()=>E,Pb:()=>S,WD:()=>W,pR:()=>D,xt:()=>B})},64662:(et,Ae,v)=>{"use strict";v.d(Ae,{d:()=>D});const E=[];function D(W){E.push(W),1===E.length&&queueMicrotask(()=>{const B=E.slice();E.length=0;for(const P of B)P()})}},89221:(et,Ae,v)=>{"use strict";v.d(Ae,{$N:()=>D,bD:()=>P,sM:()=>B,wc:()=>W});var E=v(77806);function D($,S,I=!1){return j($,S,I)}function W($,S){if(null!=S)return S[$]||H($.split("."),!1,S)}function B($,S,I){const O=$.split("."),U=O.pop(),N=H(O,!0,I);N&&U&&(N[U]=S)}function P($,S){if(null==$&&null==S)return!1;if(null==$||null==S)return!0;if("object"==typeof $){if(Array.isArray($)){const I=S;if($.length!==I.length)return!0;for(let O=0;O<$.length;O++)if(P($[O],I[O]))return!0;return!1}for(const I in $)if(P($[I],S[I]))return!0;return!1}return $!==S}function H($,S,I){let O=I;for(const U of $){if(null==O)return;if(!(U in O)){if(!S)return;O[U]={}}O=O[U]}return O}function j($,S,I){return S?Object.keys(S).reduce((O,U)=>{let N=O[U],J=S[U];return N===J?O:void 0===N?(O[U]=(0,E.o8)(J),O):(Array.isArray(J)||Array.isArray(O)?(N=O[U]=N?Array.isArray(N)?N.concat():[N]:[],J&&(Array.isArray(J)||(J=[J]),I?J.forEach(Z=>{N.includes(Z)||N.push(Z)}):O[U]=J.concat())):J&&"object"==typeof J?O[U]=j(N,J,I):O.hasOwnProperty(U)&&!S.hasOwnProperty(U)||(O[U]=J),O)},$||{}):$}},56492:(et,Ae,v)=>{"use strict";v.d(Ae,{$X:()=>q,G4:()=>U,Lx:()=>ue,Mq:()=>O,NK:()=>S,NO:()=>se,NY:()=>L,Ol:()=>ve,Pl:()=>fe,QP:()=>N,QZ:()=>R,Te:()=>I,Tw:()=>oe,YL:()=>ye,jH:()=>J,nA:()=>ae,qr:()=>C,sg:()=>ce,u7:()=>Z,z7:()=>re,zf:()=>x});var E=v(10467),D=v(64294),W=v(5922),B=v(40611),H=(v(35150),v(11432));function S(Ie="Aborted"){return new W.A("AbortError",Ie)}function I(Ie,X="Aborted"){if(U(Ie))throw S(X)}function O(Ie){return Ie instanceof AbortSignal?Ie:Ie?.signal}function U(Ie){const X=O(Ie);return null!=X&&X.aborted}function N(Ie){if(x(Ie))throw Ie}function J(Ie){if(!x(Ie))throw Ie}function Z(Ie,X){const Ee=O(Ie);if(null!=Ee){if(!Ee.aborted)return(0,B.Oo)(Ee,"abort",()=>X());X()}}function L(Ie,X){const Ee=O(Ie);if(null!=Ee)return I(Ee),(0,B.Oo)(Ee,"abort",()=>X(S()))}function C(Ie,X){return null==O(X)?Ie:new Promise((Ee,Le)=>{let Oe=Z(X,()=>Le(S()));const _e=()=>{Oe=(0,H.xt)(Oe)};Ie.then(_e,_e),Ie.then(Ee,Le)})}function x(Ie){return"AbortError"===Ie?.name}function R(Ie){return w.apply(this,arguments)}function w(){return(w=(0,E.A)(function*(Ie){try{return yield Ie}catch(X){if(!x(X))throw X;return}})).apply(this,arguments)}function ue(Ie){return ee.apply(this,arguments)}function ee(){return(ee=(0,E.A)(function*(Ie){if(!Ie)return;if("function"!=typeof Ie.forEach){const Ee=Object.keys(Ie),Le=Ee.map(we=>Ie[we]),Oe=yield ue(Le),_e={};return Ee.map((we,ke)=>_e[we]=Oe[ke]),_e}const X=Ie;return Promise.allSettled(X).then(Ee=>Array.from(X,(Le,Oe)=>{const _e=Ee[Oe];return"fulfilled"===_e.status?{promise:Le,value:_e.value}:{promise:Le,error:_e.reason}}))})).apply(this,arguments)}function ae(Ie){return de.apply(this,arguments)}function de(){return(de=(0,E.A)(function*(Ie){return(yield Promise.allSettled(Ie)).filter(X=>"fulfilled"===X.status).map(X=>X.value)})).apply(this,arguments)}function ve(Ie){return G.apply(this,arguments)}function G(){return(G=(0,E.A)(function*(Ie){return(yield Promise.allSettled(Ie)).filter(X=>"rejected"===X.status).map(X=>X.reason)})).apply(this,arguments)}function fe(Ie,X=void 0,Ee){const Le=new AbortController;return Z(Ee,()=>Le.abort()),new Promise((Oe,_e)=>{let we=setTimeout(()=>{we=0,Oe(X)},Ie);Z(Le,()=>{we&&(clearTimeout(we),_e(S()))})})}function ye(Ie,X){const Ee=new AbortController,Le=setTimeout(()=>Ee.abort(),X);return Z(Ie,()=>{Ee.abort(),clearTimeout(Le)}),{...Ie,signal:Ee.signal}}function q(Ie){return Ie&&"function"==typeof Ie.then}function re(Ie){return q(Ie)?Ie:Promise.resolve(Ie)}function ce(Ie,X=-1){let Ee,Le,Oe,_e,we=null;const ke=(...Xe)=>{if(Ee){Le=Xe,_e&&_e.reject(S()),_e=oe();const Ye=_e.promise;if(we){const rt=we;we=null,rt.abort()}return Ye}if(Oe=_e||oe(),_e=null,X>0){const Ye=new AbortController;Ee=re(Ie(...Xe,Ye.signal));const rt=Ee;fe(X).then(()=>{Ee===rt&&(_e?Ye.abort():we=Ye)})}else Ee=1,Ee=re(Ie(...Xe));const Q=()=>{const Ye=Le;Le=Oe=Ee=we=null,null!=Ye&&ke(...Ye)},De=Ee,Ke=Oe;return De.then(Q,Q),De.then(Ke.resolve,Ke.reject),Ke.promise};return ke}function oe(){let Ie,X;const Ee=new Promise((Oe,_e)=>{Ie=Oe,X=_e}),Le=Oe=>{Ie(Oe)};return Le.resolve=Oe=>Ie(Oe),Le.reject=Oe=>X(Oe),Le.timeout=(Oe,_e)=>D.p.setTimeout(()=>Le.reject(_e),Oe),Le.promise=Ee,Le}function se(Ie){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,E.A)(function*(Ie){yield Promise.resolve(),I(Ie)})).apply(this,arguments)}},48900:(et,Ae,v)=>{"use strict";v.d(Ae,{C1:()=>b,C_:()=>J,OH:()=>w,Vh:()=>K,on:()=>U,pc:()=>V,wB:()=>S,z7:()=>I}),v(89447),v(31178);var W=v(40611),B=v(17715),P=v(11432),H=v(56492),j=v(76410);function S(ue,ee,te={}){return O(ue,ee,te,L)}function I(ue,ee,te={}){return O(ue,ee,te,C)}function O(ue,ee,te={},pe){let ae=null;const de=te.once?(ve,G)=>{pe(ve)&&((0,P.xt)(ae),ee(ve,G))}:(ve,G)=>{pe(ve)&&ee(ve,G)};if(ae=(0,j.Cn)(ue,de,te.sync,te.equals),te.initial){const ve=ue();de(ve,ve)}return ae}function U(ue,ee,te,pe={}){let ae=null,de=null,ve=null;function G(){ae&&de&&(de.remove(),pe.onListenerRemove?.(ae),ae=null,de=null)}function fe(ye){pe.once&&pe.once&&(0,P.xt)(ve),te(ye)}const ie=S(ue,(ye,q)=>{G(),(0,W.wb)(ye)&&(ae=ye,de=(0,W.on)(ye,ee,fe),pe.onListenerAdd?.(ye))},{sync:pe.sync,initial:!0});return ve=(0,B.hA)(()=>{ie.remove(),G()}),ve}function J(ue,ee){return function Z(ue,ee,te){if((0,H.G4)(te))return Promise.reject((0,H.NK)());const pe=ue();if(ee?.(pe))return Promise.resolve(pe);let ae=null;function de(){ae=(0,P.xt)(ae)}return new Promise((ve,G)=>{ae=(0,B.vE)([(0,H.u7)(te,()=>{de(),G((0,H.NK)())}),O(ue,fe=>{de(),ve(fe)},{sync:!1,once:!0},ee??L)])})}(ue,C,ee)}function L(ue){return!0}function C(ue){return!!ue}function b(ue,ee,te={}){let pe=!1;const ae=S(ue,(de,ve)=>{pe||ee(de,ve)},te);return{remove(){ae.remove()},pause(){pe=!0},resume(){pe=!1}}}v(34703);const w={sync:!0},K={initial:!0},V={sync:!0,initial:!0}},3804:(et,Ae,v)=>{"use strict";v.d(Ae,{_:()=>C,md:()=>pe,mg:()=>b});var E=v(64662),D=v(13316),W=v(12438),B=v(56492),P=v(82595);class H{constructor(q){this.phases=q,this.paused=!1,this.ticks=-1,this.removed=!1}}class j{constructor(q){this.callback=q,this.isActive=!0}remove(){this.isActive=!1}}let $=0;const I={time:(0,P.l5)(0),deltaTime:(0,P.l5)(0),elapsedFrameTime:(0,P.l5)(0),frameDuration:(0,P.l5)(0)},O=["prepare","preRender","render","postRender","update","finish"],U=[],N=new W.A;class J{constructor(q){this._task=q}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const L={frameTasks:N,willDispatch:!1,clearFrameTasks:function R(ye=!1){N.forAll(q=>{q.removed=!0}),ye&&ee()},dispatch:te,executeFrameTasks:function V(ye){const q=(0,P.l5)(ye-$);$=ye;const re=1e3/60,ce=Math.max(0,q-re);I.time=ye,I.frameDuration=(0,P.l5)(re-ce);for(let oe=0;oe<O.length;oe++){const le=performance.now(),Se=O[oe];N.forAll(se=>{se.paused||se.removed||(0===oe&&se.ticks++,se.phases[Se]&&(I.elapsedFrameTime=(0,P.l5)(performance.now()-ye),I.deltaTime=0===se.ticks?(0,P.l5)(0):q,se.phases[Se]?.call(se,I)))}),fe[oe].record(performance.now()-le)}ee(),ie.record(performance.now()-ye)},reschedule:function Z(){null!=x&&(cancelAnimationFrame(x),x=requestAnimationFrame(K))}};function C(ye){const q=new j(ye);return U.push(q),L.willDispatch||(L.willDispatch=!0,(0,E.d)(te)),q}function b(ye){const q=new H(ye);return N.push(q),null==x&&($=performance.now(),x=requestAnimationFrame(K)),new J(q)}let x=null;function K(){const ye=performance.now();x=null,x=N.length>0?requestAnimationFrame(K):null,L.executeFrameTasks(ye)}const ue=new W.A;function ee(){N.forAll(ye=>{ye.removed&&ue.push(ye)}),N.removeUnorderedMany(ue.data,ue.length),ue.clear()}function te(){for(;U.length;){const ye=U.shift();ye.isActive&&ye.callback()}L.willDispatch=!1}function pe(ye=1,q){const re=(0,B.Tw)(),ce=()=>{(0,B.G4)(q)?re.reject((0,B.NK)()):0===ye?re():(--ye,(0,E.d)(()=>ce()))};return ce(),re.promise}const fe=O.map(ye=>new D.A(ye)),ie=new D.A("total")},67685:(et,Ae,v)=>{"use strict";v.d(Ae,{Lz:()=>B,PN:()=>P,cr:()=>H,gs:()=>$,tc:()=>j});const E=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,D="screenUtils.toPt: input not recognized!",W=96;function B(C){return C?C/72*W:0}function P(C){return C?72*C/W:0}function H(C){if("string"==typeof C){const b=C.match(E);if(b){const x=Number(b[1]),R=b[3]&&b[3].toLowerCase(),w="-"===C.charAt(0),K="px"===R?P(x):x;return w?-K:K}return console.warn(D),null}return C}function j(C=0,b=0){return{x:C,y:b}}function $(C=0,b=0){return[C,b]}},54029:(et,Ae,v)=>{"use strict";v.d(Ae,{v:()=>P});var E=v(77806),D=v(9700),W=v(4032);class B{constructor(j,$){this._observable=new W.I,this._value=j,this._equalityFunction=$}get value(){return(0,D.gc)(this._observable),this._value}set value(j){this._equalityFunction(j,this._value)||(this._value=j,this._observable.notify())}mutate(j){j(this._value),this._observable.notify()}}function P(H,j=E.gh){return new B(H,j)}},63484:(et,Ae,v)=>{"use strict";v.d(Ae,{G:()=>D,m:()=>B});var E=v(10467);function D(P,H){return W.apply(this,arguments)}function W(){return(W=(0,E.A)(function*(P,H){const{WhereClause:j}=yield Promise.all([v.e(7936),v.e(13)]).then(v.bind(v,40013));return j.create(P,H)})).apply(this,arguments)}function B(P,H){return"1=1"===P?H:"1=1"===H?P:null!=P&&""!==P?null!=H&&""!==H?`(${P}) AND (${H})`:P:H}},24098:(et,Ae,v)=>{"use strict";v.d(Ae,{GB:()=>D,Qo:()=>B,Y4:()=>W});var E=v(44549);class D{}function W(H){return H instanceof E.bo?H===D.instance:"unknown"===H?.toString().toLowerCase()}function B(H){return W(H)?D.instance:H}D.instance=new E.oh("Etc/UTC")},1119:(et,Ae,v)=>{"use strict";v.d(Ae,{Cj:()=>P,HC:()=>B,Wm:()=>H,_e:()=>$,mk:()=>S});var E=v(89221);const D=/\{([^}]+)\}/g;function W(O){return O??""}function B(O,U){return U?O.replaceAll(D,"object"==typeof U?(N,J)=>W((0,E.wc)(J,U)):(N,J)=>W(U(J))):O}function P(O,U){return O.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,N=>U?.includes(N)?N:`\\${N}`)}function H(O){let U=0;for(let N=0;N<O.length;N++)U=(U<<5)-U+O.charCodeAt(N),U|=0;return U}let j;function $(O){return j??=new DOMParser,j.parseFromString(O||"","text/html").body.innerText||""}function S(O,U){return new RegExp(`{${U}}`,"ig").test(O)}},88494:(et,Ae,v)=>{"use strict";v.d(Ae,{C:()=>I,X:()=>S});var E=v(8189),D=v(31178),W=v(5605),H=(v(3248),v(35150),v(85211)),$=(v(40707),v(76576));let S=class extends D.A{constructor(O){super(O),this.addHandles([this.on("before-add",U=>{null==U.item&&U.preventDefault()}),this.on("after-add",U=>this._own(U.item)),this.on("after-remove",U=>this._release(U.item))])}get owner(){return this._get("owner")}set owner(O){O!==this._get("owner")&&(this._releaseAll(),this._set("owner",O),this._ownAll())}_ownAll(){for(const O of this.items)this._own(O)}_releaseAll(){for(const O of this.items)this._release(O)}_createNewInstance(O){return this.itemType?new(D.A.ofType(this.itemType.Type))(O):new D.A(O)}};function I(O,U){return{type:O,cast:W.H,set(N){const J=(0,W.V)(N,this._get(U),O);J.owner=this,this._set(U,J)}}}(0,E._)([(0,H.MZ)()],S.prototype,"owner",null),S=(0,E._)([(0,$.$)("esri.core.support.OwningCollection")],S)},56985:(et,Ae,v)=>{"use strict";v.d(Ae,{U:()=>$});var E=v(8189),D=v(98877),W=v(17715),B=v(48900),P=v(3804),H=v(85211),j=v(76576);let $=class extends D.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(I,O,U={}){return this._installWatch(I,O,U,B.wB)}addWhen(I,O,U={}){return this._installWatch(I,O,U,B.z7)}addOnCollectionChange(I,O,{initial:U=!1,final:N=!1}={}){const J=++this._handleId;return this.addHandles([(0,B.on)(I,"after-changes",this._createSyncUpdatingCallback(),B.OH),(0,B.on)(I,"change",O,{onListenerAdd:U?Z=>O({added:Z.toArray(),removed:[]}):void 0,onListenerRemove:N?Z=>O({added:[],removed:Z.toArray()}):void 0})],J),(0,W.hA)(()=>this.removeHandles(J))}addPromise(I){if(null==I)return I;const O=++this._handleId;this.addHandles((0,W.hA)(()=>{this._pendingPromises.delete(I)&&(0!==this._pendingPromises.size||this.hasHandles(S)||this._set("updating",!1))}),O),this._pendingPromises.add(I),this._set("updating",!0);const U=()=>this.removeHandles(O);return I.then(U,U),I}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(I,O,U={},N){const J=++this._handleId;U.sync||this._installSyncUpdatingWatch(I,J);const Z=N(I,O,U);return this.addHandles(Z,J),(0,W.hA)(()=>this.removeHandles(J))}_installSyncUpdatingWatch(I,O){const U=this._createSyncUpdatingCallback(),N=(0,B.wB)(I,U,{sync:!0,equals:()=>!1});return this.addHandles(N,O),N}_createSyncUpdatingCallback(){return()=>{this.removeHandles(S),++this._scheduleHandleId;const I=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,P._)(()=>{I===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(S))}),S)}}};(0,E._)([(0,H.MZ)({readOnly:!0})],$.prototype,"updating",void 0),$=(0,E._)([(0,j.$)("esri.core.support.UpdatingHandles")],$);const S=-42},82595:(et,Ae,v)=>{"use strict";function E(H){return H}function D(H){return 1e3*H}function W(H){return H}v.d(Ae,{Kp:()=>W,gr:()=>D,l5:()=>E})},97442:(et,Ae,v)=>{"use strict";v.d(Ae,{S1:()=>P,lL:()=>j,mi:()=>H,t:()=>U,vf:()=>B});var E=v(48266),D=v(22639),W=v(44549);const B={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function P(L,C,b,x=D.qU){const R=new W.oh((0,E.wj)(x)),w=W.c9.fromJSDate(L,{zone:R}),K="decades"===b||"centuries"===b?"year":Z(b);return"decades"===b&&(C*=10),"centuries"===b&&(C*=100),w.plus({[K]:C}).toJSDate()}function H(L,C,b="milliseconds"){const x=L.getTime(),R=U(C,b,"milliseconds");return new Date(x+R)}function j(L,C,b=D.qU){const x=new W.oh((0,E.wj)(b)),R=W.c9.fromJSDate(L,{zone:x});if("decades"===C||"centuries"===C){const K=R.startOf("year"),{year:V}=K;return K.set({year:V-V%("decades"===C?10:100)}).toJSDate()}const w=Z(C);return R.startOf(w).toJSDate()}function U(L,C,b){return 0===L?0:L*B[C]/B[b]}function Z(L){switch(L){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},79139:(et,Ae,v)=>{"use strict";v.d(Ae,{Ek:()=>J,IY:()=>j,JI:()=>C,UR:()=>H,XJ:()=>I,_G:()=>S,a3:()=>x,aI:()=>U,cy:()=>N,dk:()=>b,dz:()=>B,jq:()=>$,mg:()=>P,mw:()=>W,vZ:()=>O,y9:()=>L,zQ:()=>Z});var E=v(4277);function W(R){return R instanceof ArrayBuffer}function B(R){return"Int8Array"===R?.constructor?.name}function P(R){return"Uint8Array"===R?.constructor?.name}function H(R){return"Uint8ClampedArray"===R?.constructor?.name}function j(R){return"Int16Array"===R?.constructor?.name}function $(R){return"Uint16Array"===R?.constructor?.name}function S(R){return"Int32Array"===R?.constructor?.name}function I(R){return"Uint32Array"===R?.constructor?.name}function O(R){return"Float32Array"===R?.constructor?.name}function U(R){return"Float64Array"===R?.constructor?.name}function N(R){return!("buffer"in R)}function J(...R){return R.reduce((w,K)=>w+(K?N(K)?(0,E.zd)(K,(0,E.f3)()):K.byteLength+Z:0),0)}v(3248);const Z=145,L=1024;function C(R){return U(R)||O(R)||S(R)||j(R)||B(R)}function b(R){return U(R)||O(R)}function x(R){return U(R)?179769e303:O(R)?3402823e32:I(R)?4294967295:$(R)?65535:P(R)||H(R)?255:S(R)?2147483647:j(R)?32767:B(R)?127:256}},33894:(et,Ae,v)=>{"use strict";v.d(Ae,{c:()=>W});let E=0;function W(){return++E}},82663:(et,Ae,v)=>{"use strict";v.d(Ae,{G9:()=>Pe,GA:()=>X,Ij:()=>we,KX:()=>Le,LA:()=>se,Sk:()=>Be,b$:()=>Ze,dk:()=>xe,dy:()=>j,k1:()=>Ie,oU:()=>ae,t$:()=>ue,vl:()=>Se}),v(3248);var D=v(49976),W=v(87477),B=v(47258),P=v(58701),H=v(98946);const j=39.37,$=B.$O.radius*Math.PI/200,S=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,I=H.A,O=/UNIT\[([^\]]+)]/i,U=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),N=(0,D.O)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),J=Ne=>Ne*Ne,Z=Ne=>Ne*Ne*Ne,L={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:J(.001)},"square-centimeters":{inBaseUnits:J(.01)},"square-decimeters":{inBaseUnits:J(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:J(1e3)},"square-inches":{inBaseUnits:J(.0254)},"square-feet":{inBaseUnits:J(.3048)},"square-yards":{inBaseUnits:J(.9144)},"square-miles":{inBaseUnits:J(1609.344)},"square-us-feet":{inBaseUnits:J(1200/3937)},acres:{inBaseUnits:.0015625*J(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Z(.001)},"cubic-centimeters":{inBaseUnits:1e3*Z(.01)},"cubic-decimeters":{inBaseUnits:1e3*Z(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Z(1e3)},"cubic-inches":{inBaseUnits:1e3*Z(.0254)},"cubic-feet":{inBaseUnits:1e3*Z(.3048)},"cubic-yards":{inBaseUnits:1e3*Z(.9144)},"cubic-miles":{inBaseUnits:1e3*Z(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},C=(()=>{const Ne={};for(const He in L)for(const Je in L[He].units)Ne[Je]=He;return Ne})();function ue(Ne){const He=C[Ne];if(!He)throw new Error("unknown type");return He}function pe(Ne,He=null){return He=He||ue(Ne),L[He].baseUnit===Ne}function ae(Ne,He,Je){if(He===Je)return Ne;const ut=ue(He);if(ut!==ue(Je))throw new Error("incompatible units");const dt=pe(He,ut)?Ne:function b(Ne,He,Je){return Ne*L[Je].units[He].inBaseUnits}(Ne,He,ut);return pe(Je,ut)?dt:function x(Ne,He,Je){return Ne/L[Je].units[He].inBaseUnits}(dt,Je,ut)}function Se(Ne,He,Je){return ae(Ne,He,"meters")/(Je*Math.PI/180)}function se(Ne){return N.fromJSON(Ne.toLowerCase())||null}function Pe(Ne){if(null!=Ne&&!(0,P.B3)(Ne))return 1;const He=X(Ne);return He>1e5?1:He}function Ie(Ne){return X(Ne)>=(0,W.tO)(Ne).metersPerDegree?"meters":we(Ne)}function X(Ne,He=B.$O.metersPerDegree){return function Ee(Ne,He=!1){const Je=Ne?.wkid??null,ut=Ne?.wkt2??Ne?.wkt??null;let dt=null;if(Je){if((0,P.tl)(Je))return B.sH.metersPerDegree;if((0,P.ZL)(Je))return B.Sw.metersPerDegree;dt=I.values[I[Je]],!dt&&He&&U.has(Je)&&(dt=$)}else ut&&(Ke(ut)?dt=Oe(S.exec(ut),dt):De(ut)&&(dt=Oe(O.exec(ut),dt)));return dt}(Ne,!0)??He}function Le(Ne){return(0,P.EA)(Ne)?1:X(Ne)}function Oe(Ne,He){return Ne?.[1]?_e(Ne[1]):He}function _e(Ne){return parseFloat(Ne.split(",")[1])}function we(Ne){const He=Ne?.wkid??null,Je=Ne?.wkt2??Ne?.wkt??null;let ut=null;if(He)ut=I.units[I[He]];else if(Je){const dt=Ke(Je)?S:De(Je)?O:null;if(dt){const Et=dt.exec(Je);Et?.[1]&&(ut=function rt(Ne){let Je=/[\\"']{1}([^\\"']+)/.exec(Ne)?.[1];if(!Je||!I.units.includes(Je)){const ut=_e(Ne);Je=null;const dt=I.values;for(let Et=0;Et<dt.length;++Et)if(Math.abs(ut-dt[Et])<Ye){Je=I.units[Et];break}}return Je}(Et[1]))}}return null!=ut?se(ut):null}function De(Ne){return/^GEOCCS/i.test(Ne)}function Ke(Ne){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(Ne)}const Ye=1e-7,xe=(0,D.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),Be=(0,D.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),Ze=(0,D.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},45272:(et,Ae,v)=>{"use strict";v.d(Ae,{$1:()=>lt,$z:()=>Q,An:()=>ve,BQ:()=>dt,DB:()=>Ye,FL:()=>Le,FX:()=>Ee,Hg:()=>qe,Il:()=>er,N9:()=>Ze,S8:()=>ke,T1:()=>wn,UC:()=>Un,V1:()=>we,XJ:()=>tr,Xq:()=>te,Zo:()=>ys,_0:()=>zr,a6:()=>Hn,b8:()=>Se,e7:()=>Nn,fj:()=>Xe,gd:()=>pe,lJ:()=>rt,lM:()=>Zt,m3:()=>Lt,nM:()=>Cn,oP:()=>De,oy:()=>oe,r$:()=>tt,rs:()=>xs,s0:()=>R,s2:()=>_e,sC:()=>X,s_:()=>ie,tk:()=>xe,ut:()=>Pe,w8:()=>Ke,x0:()=>fe,xw:()=>on,yM:()=>ye,zf:()=>G,zi:()=>jn,zs:()=>le});var E=v(10467),D=v(23098),W=v(89952),B=v(5922),P=v(71065),H=v(35150),j=v(17595),$=v(52706);const S=()=>H.A.getLogger("esri.core.urlUtils"),I=D.A.request,O="esri/config: esriConfig.request.proxyUrl is not set.",U=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,N=/^\s*http:/i,J=/^\s*https:/i,Z=/^\s*file:/i,L=/:\d+$/,C=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,b=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),x=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class R{constructor(mt=""){this.uri=mt,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let st=this.uri.match(b);this.scheme=st[2]||(st[1]?"":null),this.authority=st[4]||(st[3]?"":null),this.path=st[5],this.query=st[7]||(st[6]?"":null),this.fragment=st[9]||(st[8]?"":null),null!=this.authority&&(st=this.authority.match(x),this.user=st[3]||null,this.password=st[4]||null,this.host=st[6]||st[7],this.port=st[9]||null)}toString(){return this.uri}}const w={};let V=new R(D.A.applicationUrl);let ee=function ae(){const je=V.path,mt=je.substring(0,je.lastIndexOf(je.split("/")[je.split("/").length-1]));return`${V.scheme}://${V.host}${null!=V.port?`:${V.port}`:""}${mt}`}();const te=()=>V,pe=()=>ee;function ve(je){if(!je)return null;const mt={path:null,query:null},st=new R(je),vt=je.indexOf("?");return null===st.query?mt.path=je:(mt.path=je.substring(0,vt),mt.query=G(st.query)),st.fragment&&(mt.hash=st.fragment,null===st.query&&(mt.path=mt.path.substring(0,mt.path.length-(st.fragment.length+1)))),mt}function G(je){const mt=je.split("&"),st={};for(const vt of mt){if(!vt)continue;const $t=vt.indexOf("=");let ln,Rn;$t<0?(ln=decodeURIComponent(vt),Rn=""):(ln=decodeURIComponent(vt.slice(0,$t)),Rn=decodeURIComponent(vt.slice($t+1)));let Cr=st[ln];"string"==typeof Cr&&(Cr=st[ln]=[Cr]),Array.isArray(Cr)?Cr.push(Rn):st[ln]=Rn}return st}function fe(je,mt){return je?mt&&"function"==typeof mt?Object.keys(je).map(st=>encodeURIComponent(st)+"="+encodeURIComponent(mt(st,je[st]))).join("&"):Object.keys(je).map(st=>{const vt=je[st];if(null==vt)return"";const $t=encodeURIComponent(st)+"=",ln=mt?.[st];return ln?$t+encodeURIComponent(ln(vt)):Array.isArray(vt)?vt.map(Rn=>(0,P.Wj)(Rn)?$t+encodeURIComponent(JSON.stringify(Rn)):$t+encodeURIComponent(Rn)).join("&"):(0,P.Wj)(vt)?$t+encodeURIComponent(JSON.stringify(vt)):$t+encodeURIComponent(vt)}).filter(st=>st).join("&"):""}function ie(je=!1){let mt,st=I.proxyUrl;if("string"==typeof je){mt=Lt(je);const vt=le(je);vt&&(st=vt.proxyUrl)}else mt=!!je;if(!st)throw S().warn(O),new B.A("urlUtils:proxy-not-set",O);return mt&&mn()&&(st=Zt(st)),ve(st)}function ye(je){const mt=le(je);let st,vt;if(mt){const $t=re(mt.proxyUrl);st=$t.path,vt=$t.query?G($t.query):null}if(st){const $t=ve(je);je=st+"?"+$t.path;const ln=fe({...vt,...$t.query});ln&&(je=`${je}?${ln}`)}return je}const q={path:"",query:""};function re(je){const mt=je.indexOf("?");return-1!==mt?(q.path=je.slice(0,mt),q.query=je.slice(mt+1)):(q.path=je,q.query=null),q}function ce(je){return(je=Kn(je=er(je=re(je).path),!0)).toLowerCase()}function oe(je){const mt={proxyUrl:je.proxyUrl,urlPrefix:ce(je.urlPrefix)},st=I.proxyRules,vt=mt.urlPrefix;let $t=st.length;for(let ln=0;ln<st.length;ln++){const Rn=st[ln].urlPrefix;if(0===vt.indexOf(Rn)){if(vt.length===Rn.length)return-1;$t=ln;break}0===Rn.indexOf(vt)&&($t=ln+1)}return st.splice($t,0,mt),$t}function le(je){const mt=I.proxyRules,st=ce(je);for(let vt=0;vt<mt.length;vt++)if(0===st.indexOf(mt[vt].urlPrefix))return mt[vt]}function Se(je,mt){if(!je||!mt)return!1;je=Ie(je),mt=Ie(mt);const st=(0,j.p)(je),vt=(0,j.p)(mt);return null!=st&&null!=vt?st.portalHostname===vt.portalHostname:null==st&&null==vt&&Ee(je,mt,!0)}function Pe(je,mt){return je=Ie(je),mt=Ie(mt),Kn(je)===Kn(mt)}function Ie(je){const mt=(je=ke(je)).indexOf("/sharing");return mt>0?je.substring(0,mt):je.replace(/\/+$/,"")}function X(je){const mt=vt=>null==vt||vt instanceof RegExp&&vt.test(je)||"string"==typeof vt&&je.startsWith(vt),st=I.interceptors;if(st)for(const vt of st)if(Array.isArray(vt.urls)){if(vt.urls.some(mt))return vt}else if(mt(vt.urls))return vt;return null}function Ee(je,mt,st=!1){if(!je||!mt)return!1;const vt=Er(je),$t=Er(mt);return!(!st&&vt.scheme!==$t.scheme)&&null!=vt.host&&null!=$t.host&&vt.host.toLowerCase()===$t.host.toLowerCase()&&vt.port===$t.port}function Le(je){if("string"==typeof je){if(!De(je))return!0;je=Er(je)}if(Ee(je,V))return!0;const mt=I.trustedServers||[];for(let st=0;st<mt.length;st++){const vt=Oe(mt[st]);for(let $t=0;$t<vt.length;$t++)if(Ee(je,vt[$t]))return!0}return!1}function Oe(je){return w[je]||(w[je]=Et(je)||dt(je)?[new R(_e(je))]:[new R(`http://${je}`),new R(`https://${je}`)]),w[je]}function _e(je,mt=ee,st){return dt(je)?st?.preserveProtocolRelative?je:"http"===V.scheme&&V.authority===Q(je).slice(2)?`http:${je}`:`https:${je}`:Et(je)?je:Xe("/"===je[0]?function kn(je){const mt=je.indexOf("//"),st=je.indexOf("/",mt+2);return-1===st?je:je.slice(0,st)}(mt):mt,je)}function we(je,mt=ee,st){if(null==je||!De(je))return je;const vt=ke(je),$t=vt.toLowerCase(),ln=ke(mt).toLowerCase().replace(/\/+$/,""),Rn=st?ke(st).toLowerCase().replace(/\/+$/,""):null;if(Rn&&0!==ln.indexOf(Rn))return je;const Cr=(Ct,ot,pt)=>-1===(pt=Ct.indexOf(ot,pt))?Ct.length:pt;let yr=Cr($t,"/",$t.indexOf("//")+2),Fe=-1;for(;$t.slice(0,yr+1)===ln.slice(0,yr)+"/"&&(Fe=yr+1,yr!==$t.length);)yr=Cr($t,"/",yr+1);if(-1===Fe||Rn&&Fe<Rn.length)return je;je=vt.slice(Fe);const At=ln.slice(Fe-1).replaceAll(/[^/]+/g,"").length;if(At>0)for(let Ct=0;Ct<At;Ct++)je=`../${je}`;else je=`./${je}`;return je}function ke(je){return function ir(je){const mt=I.httpsDomains;if(!function jt(je){return null!=je&&N.test(je)||"http"===V.scheme&&dt(je)}(je))return je;const st=je.indexOf("/",7);let vt;if(vt=-1===st?je:je.slice(0,st),vt=vt.toLowerCase().slice(7),L.test(vt)){if(!vt.endsWith(":80"))return je;vt=vt.slice(0,-3),je=je.replace(":80","")}return function an(){return"http"===V.scheme}()&&vt===V.authority&&!C.test(je)||(mn()&&vt===V.authority||mt&&mt.some($t=>vt===$t||vt.endsWith(`.${$t}`))||mn()&&!le(je))&&(je=Zt(je)),je}(je=function fr(je){return je.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(je=function ur(je){if(/^https?:\/\//i.test(je)){const mt=re(je);je=(je=mt.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),mt.query&&(je+=`?${mt.query}`)}return je}(je=_e(je=je.trim()))))}function Xe(...je){const mt=je.filter(W.Ru);if(!mt?.length)return;const st=[];if(De(mt[0])){const $t=mt[0],ln=$t.indexOf("//");-1!==ln&&(st.push($t.slice(0,ln+1)),function Kt(je){return null!=je&&Z.test(je)}(mt[0])&&(st[0]+="/"),mt[0]=$t.slice(ln+2))}else"/"===mt[0][0]&&st.push("");const vt=mt.reduce(($t,ln)=>ln?$t.concat(ln.split("/")):$t,[]);for(let $t=0;$t<vt.length;$t++){const ln=vt[$t];".."===ln&&st.length>0&&".."!==st[st.length-1]?st.pop():(!ln&&$t===vt.length-1||ln&&("."!==ln||0===st.length))&&st.push(ln)}return st.join("/")}function Q(je,mt=!1){if(null==je||Ke(je)||Ye(je))return null;let st=je.indexOf("://");if(-1===st&&dt(je))st=2;else{if(-1===st)return null;st+=3}const vt=je.indexOf("/",st);return-1!==vt&&(je=je.slice(0,vt)),mt&&(je=Kn(je,!0)),je}function De(je){return dt(je)||Et(je)}function Ke(je){return null!=je&&"blob:"===je.slice(0,5)}function Ye(je){return null!=je&&"data:"===je.slice(0,5)}function rt(je){const mt=tt(je);return mt?.isBase64?(0,$.M)(mt.data):null}function lt(je){return(0,$.Y)(je).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const _t=/^data:(.*?)(;base64)?,(.*)$/;function tt(je){const mt=je.match(_t);if(!mt)return null;const[,st,vt,$t]=mt;return{mediaType:st,isBase64:!!vt,data:$t}}function qe(je){return je.isBase64?`data:${je.mediaType};base64,${je.data}`:`data:${je.mediaType},${je.data}`}function xe(je){return Be.apply(this,arguments)}function Be(){return(Be=(0,E.A)(function*(je){return(yield fetch(je)).blob()})).apply(this,arguments)}function Ze(je){const mt=rt(je);if(!mt)return null;const st=tt(je);return new Blob([mt],{type:st.mediaType})}function dt(je){return null!=je&&"/"===je[0]&&"/"===je[1]}function Et(je){return null!=je&&U.test(je)}function Lt(je){return null!=je&&J.test(je)||"https"===V.scheme&&dt(je)}function Zt(je){return dt(je)?`https:${je}`:je.replace(N,"https:")}function mn(){return"https"===V.scheme}function Kn(je,mt=!1){return dt(je)?je.slice(2):(je=je.replace(U,""),mt&&je.length>1&&"/"===je[0]&&"/"===je[1]&&(je=je.slice(2)),je)}function Cn(je){let mt=0;if(De(je)){const vt=je.indexOf("//");-1!==vt&&(mt=vt+2)}const st=je.lastIndexOf("/");return st<mt?je:je.slice(0,st+1)}function Nn(je,mt){if(!je)return"";const st=ve(je).path.replace(/\/+$/,""),vt=st.substring(st.lastIndexOf("/")+1);if(!mt?.length)return vt;const $t=new RegExp(`\\.(${mt.join("|")})$`,"i");return vt.replace($t,"")}function er(je){return je.endsWith("/")?je:`${je}/`}function Un(je){return je.replace(/\/+$/,"")}function wn(je,mt,st){if(!(mt&&st&&je&&De(je)))return je;const vt=je.indexOf("//"),$t=je.indexOf("/",vt+2),ln=je.indexOf(":",vt+2),Rn=Math.min($t<0?je.length:$t,ln<0?je.length:ln);return je.slice(vt+2,Rn).toLowerCase()!==mt.toLowerCase()?je:`${je.slice(0,vt+2)}${st}${je.slice(Rn)}`}function Er(je){return"string"==typeof je?new R(_e(je)):(je.scheme||(je.scheme=V.scheme),je)}function tr(je){return gt.test(je)}function jn(je,mt){const st=ve(je),vt=Object.keys(st.query||{});return vt.length>0&&mt&&mt.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${vt.join(", ")}.`),st.path}function xs(je,mt,st){const vt=ve(je),$t=vt.query||{};return $t[mt]=String(st),`${vt.path}?${fe($t)}`}function Hn(je,mt){if(!mt)return je;const st=ve(je),vt=st.query||{};for(const[ln,Rn]of Object.entries(mt))null!=Rn&&(vt[ln]=Rn);const $t=fe(vt);return $t?`${st.path}?${$t}`:st.path}function ys(je){if(null==je)return null;const mt=je.match(zn);return mt?mt[2]:null}function on(je){if(null==je)return null;const mt=je.match(zn);return mt?{path:mt[1],extension:mt[2]}:{path:je,extension:null}}function zr(je){return En.apply(this,arguments)}function En(){return(En=(0,E.A)(function*(je){return"string"==typeof je?tt(je)??{data:je}:new Promise((mt,st)=>{const vt=new FileReader;vt.readAsDataURL(je),vt.onload=()=>mt(tt(vt.result)),vt.onerror=$t=>st($t)})})).apply(this,arguments)}const zn=/([^.]*)\.([^/]*)$/,gt=/(^data:image\/svg|\.svg$)/i},43085:(et,Ae,v)=>{"use strict";v.d(Ae,{lk:()=>D,vD:()=>B,yS:()=>W});const E="randomUUID"in crypto;function D(){if(E)return crypto.randomUUID();const P=crypto.getRandomValues(new Uint16Array(8));P[3]=4095&P[3]|16384,P[4]=16383&P[4]|32768;const H=j=>P[j].toString(16).padStart(4,"0");return H(0)+H(1)+"-"+H(2)+"-"+H(3)+"-"+H(4)+"-"+H(5)+H(6)+H(7)}function W(){return`{${D().toUpperCase()}}`}function B(){return`{${D()}}`}},88718:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>$});var E=v(17715),W=(v(3248),v(56492)),B=v(82767),P=v(35785),H=v(93612),j=v(85311);class ${constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new B.A}destroy(){this.close()}get closed(){return!this._clients?.length}open(I,O){return new Promise((U,N)=>{let J=!0;const Z=L=>{(0,W.Te)(O.signal),J&&(J=!1,L())};this._clients.length=I.length,this._clientPromises.length=I.length,this._inUseClients.length=I.length;for(let L=0;L<I.length;++L){const C=I[L];(0,W.$X)(C)?this._clientPromises[L]=C.then(b=>(this._clients[L]=new j.A(b,O,this._ongoingJobsQueue),Z(U),this._clients[L]),()=>(Z(N),null)):(this._clients[L]=new j.A(C,O,this._ongoingJobsQueue),this._clientPromises[L]=Promise.resolve(this._clients[L]),Z(U))}})}broadcast(I,O,U){const N=new Array(this._clientPromises.length);for(let J=0;J<this._clientPromises.length;++J)N[J]=this._clientPromises[J].then(L=>L?.invoke(I,O,U));return N}close(){let I;for(;I=this._ongoingJobsQueue.pop();)I.resolver.reject((0,W.NK)(`Worker closing, aborting job calling '${I.methodName}'`));for(const O of this._clientPromises)O.then(U=>U?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,P.h)(this)}invoke(I,O,U){return this.apply(I,[O],U)}apply(I,O,U){const N=(0,W.Tw)();this._ongoingJobsQueue.push({methodName:I,data:O,invokeOptions:U,resolver:N});for(let J=0;J<this._clientPromises.length;J++){const Z=this._clients[J];Z?Z.jobAdded():this._clientPromises[J].then(L=>L?.jobAdded())}return N.promise}createInvokeProxy(I){return(0,H.L)(this,I)}on(I,O){return Promise.all(this._clientPromises).then(()=>(0,E.vE)(this._clients.map(U=>U.on(I,O))))}openPorts(){return new Promise(I=>{const O=new Array(this._clientPromises.length);let U=O.length;for(let N=0;N<this._clientPromises.length;++N)this._clientPromises[N].then(J=>{J&&(O[N]=J.openPort()),0==--U&&I(O)})})}get test(){}}},93612:(et,Ae,v)=>{"use strict";function E(W,B){return new Proxy({},{get:(P,H,j)=>(...$)=>{let S,I;const O=$[$.length-1];return function D(W){return"object"==typeof W&&!Array.isArray(W)&&null!=W&&("signal"in W||"transferList"in W||0===Object.keys(W).length)}(O)&&(S=O.signal,I=O.transferList,$.pop()),W.apply(B?`${B}.${H.toString()}`:H.toString(),$,{transferList:I,signal:S})}})}v.d(Ae,{L:()=>E})},85311:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>x});var E=v(77469),D=v(5922),W=v(40611),B=v(17715),P=v(11432),H=v(56492),j=v(93612);const $={statsWorker:()=>Promise.all([v.e(9377),v.e(8113)]).then(v.bind(v,88113)),geometryEngineWorker:()=>Promise.all([v.e(3930),v.e(2076),v.e(5292)]).then(v.bind(v,56855)),CSVSourceWorker:()=>Promise.all([v.e(1732),v.e(7936),v.e(3596),v.e(13),v.e(9377),v.e(515),v.e(2076),v.e(9424)]).then(v.bind(v,39424)),EdgeProcessingWorker:()=>Promise.all([v.e(5434),v.e(5096),v.e(8010)]).then(v.bind(v,48010)),ElevationSamplerWorker:()=>Promise.all([v.e(5434),v.e(2076),v.e(3032)]).then(v.bind(v,98739)),FeatureServiceSnappingSourceWorker:()=>Promise.all([v.e(1732),v.e(7936),v.e(3596),v.e(13),v.e(1277),v.e(9377),v.e(515),v.e(2076),v.e(6580)]).then(v.bind(v,26580)),GeoJSONSourceWorker:()=>Promise.all([v.e(1732),v.e(7936),v.e(3596),v.e(13),v.e(9377),v.e(515),v.e(1570)]).then(v.bind(v,81570)),LercWorker:()=>v.e(671).then(v.bind(v,80671)),MemorySourceWorker:()=>Promise.all([v.e(1732),v.e(7936),v.e(3596),v.e(13),v.e(9377),v.e(515),v.e(2076),v.e(3688)]).then(v.bind(v,53688)),PBFDecoderWorker:()=>Promise.all([v.e(1732),v.e(8282)]).then(v.bind(v,28282)),FeaturePipelineWorker:()=>Promise.all([v.e(1732),v.e(6136),v.e(1091),v.e(5834),v.e(7936),v.e(2614),v.e(3596),v.e(6747),v.e(1332),v.e(13),v.e(3428),v.e(1277),v.e(9377),v.e(515),v.e(9087),v.e(3027),v.e(5225),v.e(2076),v.e(3253)]).then(v.bind(v,47390)),PointCloudWorker:()=>Promise.all([v.e(3647),v.e(9641),v.e(2076),v.e(192)]).then(v.bind(v,90192)),RasterWorker:()=>Promise.all([v.e(9642),v.e(18),v.e(2758),v.e(9965),v.e(8204)]).then(v.bind(v,98204)),SceneLayerSnappingSourceWorker:()=>Promise.all([v.e(5434),v.e(5096),v.e(1812)]).then(v.bind(v,31812)),SceneLayerWorker:()=>Promise.all([v.e(3647),v.e(9641),v.e(401),v.e(9419)]).then(v.bind(v,52174)),WFSSourceWorker:()=>Promise.all([v.e(1732),v.e(7936),v.e(3596),v.e(13),v.e(9377),v.e(515),v.e(3650),v.e(8219)]).then(v.bind(v,18219)),WorkerTileHandler:()=>Promise.all([v.e(9093),v.e(2614),v.e(6517),v.e(2076),v.e(1816)]).then(v.bind(v,80996)),Lyr3DWorker:()=>Promise.all([v.e(2076),v.e(568)]).then(v.bind(v,80568))};var S=v(46037),I=v(97333);const{CLOSE:O,ABORT:U,INVOKE:N,RESPONSE:J,OPEN_PORT:Z,ON:L}=S.Go;class b{constructor(w){this._invoke=w,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(w){w.type===S.Go.ABORT?this._cancelledJobIds.add(w.jobId):(this._invokeMessages.push(w),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const w of this._invokeMessages)this._cancelledJobIds.has(w.jobId)||this._invoke(w);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class x{static connect(w,K){const V=new MessageChannel;let ue;ue="function"==typeof w?new w:"default"in w&&"function"==typeof w.default?new w.default:w;const ee=new x(V.port1,{channel:V,client:ue,schedule:K});return"object"==typeof ue&&"remoteClient"in ue&&(ue.remoteClient=ee),x.clients.set(ee,ue),V.port2}static loadWorker(w){const K=$[w];return K?K():Promise.resolve(null)}constructor(w,K,V){this._port=w,this._jobQueue=V,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new b(ue=>this._onInvokeMessage(ue)),this._client=K.client,this._onMessage=this._onMessage.bind(this),this._channel=K.channel,this._schedule=K.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:O}),this._close()}isBusy(){return this._outJobs.size>0}invoke(w,K,V){return this.apply(w,[K],V)}apply(w,K,V){const ue=V?.signal,ee=V?.transferList;if(!this._port)return Promise.reject(new D.A(S.T,`Cannot call invoke('${w}'), port is closed`,{methodName:w,data:K}));const te=(0,S.Jc)();return new Promise((pe,ae)=>{if((0,H.G4)(ue))return this._processWork(),void ae((0,H.NK)());const de=(0,H.u7)(ue,()=>{const G=this._outJobs.get(te);G&&(this._outJobs.delete(te),this._processWork(),(0,P.xt)(G.abortHandle),this._post({type:U,jobId:te}),ae((0,H.NK)()))});this._outJobs.set(te,{resolve:pe,reject:ae,abortHandle:de,debugInfo:w}),this._post({type:N,jobId:te,methodName:w,abortable:null!=ue},K,ee)})}createInvokeProxy(w){return(0,j.L)(this,w)}on(w,K){const V=new MessageChannel;function ue(ee){K(ee.data)}return this._port.postMessage({type:S.Go.ON,eventType:w,port:V.port2},[V.port2]),V.port1.addEventListener("message",ue),V.port1.start(),(0,B.hA)(()=>{V.port1.postMessage({type:S.Go.CLOSE}),V.port1.close(),V.port1.removeEventListener("message",ue)})}jobAdded(){this._processWork()}openPort(){const w=new MessageChannel;return this._post({type:Z,port:w.port2}),w.port1}_processWork(){if(this._outJobs.size>=2)return;const w=this._jobQueue?.pop();if(!w)return;const{methodName:K,data:V,invokeOptions:ue,resolver:ee}=w;this.apply(K,V,ue).then(te=>ee.resolve(te)).catch(te=>ee.reject(te))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(w=>{(0,P.xt)(w.abortHandle),w.reject((0,H.NK)(`Worker closing, aborting job calling '${w.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(w){null!=this._schedule?this._schedule(()=>this._processMessage(w,!0)):this._processMessage(w,!1)}_processMessage(w,K){const V=(0,S.VI)(w);if(V)switch(V.type){case J:this._onResponseMessage(V);break;case N:K?this._onInvokeMessage(V):this._invokeQueue.push(V);break;case U:this._onAbortMessage(V);break;case O:this._onCloseMessage();break;case Z:this._onOpenPortMessage(V);break;case L:this._onOnMessage(V)}}_onAbortMessage(w){const K=this._inJobs,V=w.jobId,ue=K.get(V);this._invokeQueue.push(w),ue&&(ue.controller&&ue.controller.abort(),K.delete(V))}_onCloseMessage(){const w=this._client;this._close(),w&&"destroy"in w&&x.clients.get(this)===w&&w.destroy(),x.clients.delete(this),w?.remoteClient&&(w.remoteClient=null)}_onInvokeMessage(w){const{methodName:K,jobId:V,data:ue=[],abortable:ee}=w,te=ee?new AbortController:null,pe=this._inJobs;let ae,de=this._client,ve=de[K];try{if(!ve&&K&&K.includes(".")){const G=K.split(".");for(let fe=0;fe<G.length-1;fe++)de=de[G[fe]],ve=de[G[fe+1]]}if("function"!=typeof ve)throw new TypeError(`${K} is not a function`);ue.push({client:this,signal:te?te.signal:null}),ae=ve.apply(de,ue)}catch(G){return void this._post({type:J,jobId:V,error:(0,S.mF)(G)})}(0,H.$X)(ae)?(pe.set(V,{controller:te,promise:ae}),ae.then(G=>{pe.has(V)&&(pe.delete(V),this._post({type:J,jobId:V},G))},G=>{pe.has(V)&&(pe.delete(V),(0,H.zf)(G)||this._post({type:J,jobId:V,error:(0,S.mF)(G||{message:`Error encountered at method ${K}`})}))})):this._post({type:J,jobId:V},ae)}_onOpenPortMessage(w){new x(w.port,{client:this._client})}_onOnMessage(w){const{port:K}=w,V=this._client.on(w.eventType,ee=>{K.postMessage(ee)}),ue=(0,W.on)(w.port,"message",ee=>{(0,S.VI)(ee)?.type===S.Go.CLOSE&&(ue.remove(),V.remove(),K.close())})}_onResponseMessage(w){const{jobId:K,error:V,data:ue}=w,ee=this._outJobs;if(!ee.has(K))return;const te=ee.get(K);ee.delete(K),this._processWork(),(0,P.xt)(te.abortHandle),V?te.reject(D.A.fromJSON(JSON.parse(V))):te.resolve(ue)}_post(w,K,V){return(0,S.u1)(this._port,w,K,V)}}x.kernelInfo={buildDate:I.$,fullVersion:E.ol,revision:I.u},x.clients=new Map},35785:(et,Ae,v)=>{"use strict";v.d(Ae,{h:()=>W,k:()=>D});const E=new FinalizationRegistry(B=>{B.close()});function D(B,P){E.register(B,P,P)}function W(B){E.unregister(B)}},46037:(et,Ae,v)=>{"use strict";v.d(Ae,{Go:()=>P,Jc:()=>j,T:()=>B,VI:()=>O,mF:()=>S,oV:()=>J,u1:()=>I});var E=v(10467),D=v(3248),W=v(56492);const B="worker:port-closed";var P,L;(L=P||(P={}))[L.HANDSHAKE=0]="HANDSHAKE",L[L.OPEN=1]="OPEN",L[L.OPENED=2]="OPENED",L[L.RESPONSE=3]="RESPONSE",L[L.INVOKE=4]="INVOKE",L[L.ABORT=5]="ABORT",L[L.CLOSE=6]="CLOSE",L[L.OPEN_PORT=7]="OPEN_PORT",L[L.ON=8]="ON";let H=0;function j(){return H++}function S(L){return L?"string"==typeof L?JSON.stringify({name:"message",message:L}):L.toJSON?JSON.stringify(L):JSON.stringify({name:L.name,message:L.message,details:L.details||{stack:L.stack}}):null}function I(L,C,b,x){if(C.type===P.OPEN_PORT)return void L.postMessage(C,[C.port]);if(C.type!==P.INVOKE&&C.type!==P.RESPONSE)return void L.postMessage(C);let R;if(function $(L){return L&&"object"==typeof L&&("result"in L||"transferList"in L)}(b)?(R=U(b.transferList),C.data=b.result):(R=U(x),C.data=b),R){if((0,D.A)("ff"))for(const w of R)if("byteLength"in w&&w.byteLength>267386880){const K="Worker call with large ArrayBuffer would crash Firefox";switch(C.type){case P.INVOKE:throw K;case P.RESPONSE:return void I(L,{type:P.RESPONSE,jobId:C.jobId,error:S(K)})}}L.postMessage(C,R)}else L.postMessage(C)}function O(L){if(!L)return null;const C=L.data;return C?"string"==typeof C?JSON.parse(C):C:null}function U(L){if(!L?.length)return null;if((0,D.A)("esri-workers-arraybuffer-transfer"))return L;const C=L.filter(b=>!function N(L){return L instanceof ArrayBuffer||"ArrayBuffer"===L?.constructor?.name}(b));return C.length?C:null}function J(L){return Z.apply(this,arguments)}function Z(){return Z=(0,E.A)(function*(L){try{return yield L}catch(C){const b=C?.name===B;if(!(0,W.zf)(C)&&!b)throw C;return}}),Z.apply(this,arguments)}},19284:(et,Ae,v)=>{"use strict";v.d(Ae,{n_:()=>_e,ho:()=>Q});var E=v(10467),D=v(5922),W=v(3248),B=v(56492),P=v(88718),H=v(35785),j=v(85311),$=v(35150),S=v(11432),I=v(89563),O=v(45272);const U={request:(tt,qe)=>(0,E.A)(function*(){const xe=tt.options,Be=xe.responseType;xe.signal=qe?.signal,xe.responseType="native"===Be||"native-request-init"===Be?"native-request-init":Be&&["blob","json","text"].includes(Be)&&(0,O.sC)(tt.url)?.after?Be:"array-buffer";const Ze=yield(0,I.A)(tt.url,xe),Ne={data:Ze.data,httpStatus:Ze.httpStatus,ssl:Ze.ssl};switch(Ze.requestOptions?.responseType){case"native-request-init":return delete Ne.data.signal,Ne;case"blob":Ne.data=yield Ne.data.arrayBuffer();break;case"json":Ne.data=(new TextEncoder).encode(JSON.stringify(Ne.data)).buffer;break;case"text":Ne.data=(new TextEncoder).encode(Ne.data).buffer}return{result:Ne,transferList:[Ne.data]}})()};var N=v(46037),J=v(90261),Z=v(23098),C=(v(13242),v(77469));const x={};var w=v(64662);class K{constructor(){const qe=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(xe=>{this[xe]=(...Be)=>qe[xe](...Be)})}}class V{constructor(){this._dispatcher=new K,this._workerPostMessage({type:N.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(qe){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=qe,qe&&this.addEventListener("message",qe)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(qe){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=qe,qe&&this.addEventListener("messageerror",qe)}get onerror(){return this._onerrorHandler}set onerror(qe){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=qe,qe&&this.addEventListener("error",qe)}postMessage(qe){(0,w.d)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:qe}))})}dispatchEvent(qe){return this._dispatcher.dispatchEvent(qe)}addEventListener(qe,xe,Be){this._dispatcher.addEventListener(qe,xe,Be)}removeEventListener(qe,xe,Be){this._dispatcher.removeEventListener(qe,xe,Be)}_workerPostMessage(qe){(0,w.d)(()=>{this.dispatchEvent(new MessageEvent("message",{data:qe}))})}_workerMessageHandler(qe){var xe=this;return(0,E.A)(function*(){const Be=(0,N.VI)(qe);if(Be&&Be.type===N.Go.OPEN){const{modulePath:Ze,jobId:Ne}=Be;let He=yield j.A.loadWorker(Ze);He||(He=yield import(Ze));const Je=j.A.connect(He);xe._workerPostMessage({type:N.Go.OPENED,jobId:Ne,data:Je})}})()}}var ue=v(88996),ee=v(97333);const te=()=>$.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:pe}=N.Go;let de,ve;const G="Failed to create Worker. Fallback to execute module in main thread";function ie(){return(ie=(0,E.A)(function*(){if(!(0,W.A)("esri-workers"))return ye(new V);if(!de&&!ve)try{const qe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function re(){let tt;if(null!=Z.A.default){const Ze={...Z.A};delete Ze.default,tt=JSON.parse(JSON.stringify(Ze))}else tt=JSON.parse(JSON.stringify(Z.A));tt.assetsPath=(0,O.s2)(tt.assetsPath),tt.defaultAssetsPath=tt.defaultAssetsPath?(0,O.s2)(tt.defaultAssetsPath):void 0,tt.request.interceptors=[],tt.log.interceptors=[],tt.locale=(0,ue.JK)(),tt.has={"esri-csp-restrictions":(0,W.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,W.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,W.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,W.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,W.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,W.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,W.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,W.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,W.A)("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":(0,W.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":(0,W.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,W.A)("esri-atomics"),"esri-shared-array-buffer":(0,W.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,W.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,W.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,W.A)("feature-polyline-generalization-factor"),"host-webworker":1},tt.workers.loaderUrl&&(tt.workers.loaderUrl=(0,O.s2)(tt.workers.loaderUrl)),tt.workers.workerPath=(0,O.s2)(tt.workers.workerPath?tt.workers.workerPath:(0,J.s)("esri/core/workers/RemoteClient.js")),tt.workers.useDynamicImport=!1;const qe=Z.A.workers.loaderConfig,xe=function R(tt){const qe={async:tt.async,isDebug:tt.isDebug,locale:tt.locale,baseUrl:tt.baseUrl,has:{...tt.has},map:{...tt.map},packages:tt.packages?.concat()||[],paths:{...x.paths,...tt.paths}};return tt.hasOwnProperty("async")||(qe.async=!0),tt.hasOwnProperty("isDebug")||(qe.isDebug=!1),tt.baseUrl||(qe.baseUrl=x.baseUrl),qe}({baseUrl:qe?.baseUrl,locale:(0,ue.JK)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...qe?.has},map:{...qe?.map},paths:{...qe?.paths},packages:qe?.packages||[]});return JSON.stringify({esriConfig:tt,loaderConfig:xe,kernelInfo:{buildDate:ee.$,fullVersion:C.ol,revision:ee.u}})}());de=URL.createObjectURL(new Blob([qe],{type:"text/javascript"}))}catch(qe){ve=qe||{}}let tt;if(de)try{tt=new Worker(de,{name:"esri-worker-"+ce++})}catch{te().warn(G,ve),tt=new V}else te().warn(G,ve),tt=new V;return ye(tt)})).apply(this,arguments)}function ye(tt){return q.apply(this,arguments)}function q(){return(q=(0,E.A)(function*(tt){return new Promise(qe=>{function xe(Ze){const Ne=(0,N.VI)(Ze);Ne&&Ne.type===pe&&(tt.removeEventListener("message",xe),tt.removeEventListener("error",Be),qe(tt))}function Be(Ze){Ze.preventDefault(),tt.removeEventListener("message",xe),tt.removeEventListener("error",Be),te().warn("Failed to create Worker. Fallback to execute module in main thread",Ze),(tt=new V).addEventListener("message",xe),tt.addEventListener("error",Be)}tt.addEventListener("message",xe),tt.addEventListener("error",Be)})})).apply(this,arguments)}let ce=0;const{ABORT:oe,INVOKE:le,OPEN:Se,OPENED:se,RESPONSE:Pe}=N.Go;class Ie{static create(qe){return(0,E.A)(function*(){const xe=yield function fe(){return ie.apply(this,arguments)}();return new Ie(xe,qe)})()}constructor(qe,xe){this._outJobs=new Map,this._inJobs=new Map,this.worker=qe,this.id=xe,qe.addEventListener("message",this._onMessage.bind(this)),qe.addEventListener("error",Be=>{Be.preventDefault(),$.A.getLogger("esri.core.workers.WorkerOwner").error(Be)})}terminate(){this.worker.terminate()}open(qe,xe={}){var Be=this;return(0,E.A)(function*(){const{signal:Ze}=xe,Ne=(0,N.Jc)();return new Promise((He,Je)=>{const ut={resolve:He,reject:Je,abortHandle:(0,B.NY)(Ze,()=>{Be._outJobs.delete(Ne),Be._post({type:oe,jobId:Ne})})};Be._outJobs.set(Ne,ut),Be._post({type:Se,jobId:Ne,modulePath:qe})})})()}_onMessage(qe){const xe=(0,N.VI)(qe);if(xe)switch(xe.type){case se:this._onOpenedMessage(xe);break;case Pe:this._onResponseMessage(xe);break;case oe:this._onAbortMessage(xe);break;case le:this._onInvokeMessage(xe)}}_onAbortMessage(qe){const xe=this._inJobs,Be=qe.jobId,Ze=xe.get(Be);Ze&&(Ze.controller&&Ze.controller.abort(),xe.delete(Be))}_onInvokeMessage(qe){const{methodName:xe,jobId:Be,data:Ze,abortable:Ne}=qe,He=Ne?new AbortController:null,Je=this._inJobs,ut=U[xe];let dt;try{if("function"!=typeof ut)throw new TypeError(`${xe} is not a function`);dt=ut.call(null,Ze,{signal:He?He.signal:null})}catch(Et){return void this._post({type:Pe,jobId:Be,error:(0,N.mF)(Et)})}(0,B.$X)(dt)?(Je.set(Be,{controller:He,promise:dt}),dt.then(Et=>{Je.has(Be)&&(Je.delete(Be),this._post({type:Pe,jobId:Be},Et))},Et=>{Je.has(Be)&&(Je.delete(Be),Et||(Et={message:"Error encountered at method"+xe}),(0,B.zf)(Et)||this._post({type:Pe,jobId:Be,error:(0,N.mF)(Et||{message:`Error encountered at method ${xe}`})}))})):this._post({type:Pe,jobId:Be},dt)}_onOpenedMessage(qe){const{jobId:xe,data:Be}=qe,Ze=this._outJobs.get(xe);Ze&&(this._outJobs.delete(xe),(0,S.xt)(Ze.abortHandle),Ze.resolve(Be))}_onResponseMessage(qe){const{jobId:xe,error:Be,data:Ze}=qe,Ne=this._outJobs.get(xe);Ne&&(this._outJobs.delete(xe),(0,S.xt)(Ne.abortHandle),Be?Ne.reject(D.A.fromJSON(JSON.parse(Be))):Ne.resolve(Ze))}_post(qe,xe,Be){return(0,N.u1)(this.worker,qe,xe,Be)}}const X=(0,W.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,W.A)("workers-pool-size")):0;let Ee=(0,W.A)("esri-mobile")?Math.min(X,3):X;Ee||(Ee=(0,W.A)("safari")&&(0,W.A)("mac")?7:2);let Le=0;const Oe=[];function _e(){lt()}function ke(tt,qe){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,E.A)(function*(tt,qe){const xe=new P.A,{registryTarget:Be,...Ze}=qe;return yield xe.open(tt,Ze),Be&&(0,H.k)(Be,xe),xe})).apply(this,arguments)}function Q(tt){return De.apply(this,arguments)}function De(){return(De=(0,E.A)(function*(tt,qe={}){if("string"!=typeof tt)throw new D.A("workers:undefined-module","modulePath is missing");let xe=qe.strategy||"distributed";if((0,W.A)("host-webworker")&&!(0,W.A)("esri-workers")&&(xe="local"),"local"===xe){let Be=yield j.A.loadWorker(tt);Be||(Be=yield import(tt)),(0,B.Te)(qe.signal);const Ze=qe.client||Be;return ke([j.A.connect(Be,qe.schedule)],{...qe,client:Ze})}if(yield lt(),(0,B.Te)(qe.signal),"dedicated"===xe){const Be=Le++%Ee;return ke([yield Oe[Be].open(tt,qe)],qe)}if(qe.maxNumWorkers&&qe.maxNumWorkers>0){const Be=Math.min(qe.maxNumWorkers,Ee);if(Be<Ee){const Ze=new Array(Be);for(let Ne=0;Ne<Be;++Ne){const He=Le++%Ee;Ze[Ne]=Oe[He].open(tt,qe)}return ke(Ze,qe)}}return ke(Oe.map(Be=>Be.open(tt,qe)),qe)})).apply(this,arguments)}let Ye,rt=null;function lt(){return _t.apply(this,arguments)}function _t(){return(_t=(0,E.A)(function*(){if(rt)return rt;Ye=new AbortController;const tt=[];for(let qe=0;qe<Ee;qe++){const xe=Ie.create(qe).then(Be=>(Oe[qe]=Be,Be));tt.push(xe)}return rt=Promise.all(tt),rt})).apply(this,arguments)}},727:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>mt});var J,E=v(10467),D=v(8189),W=v(71065),B=v(77806),P=v(17435),H=v(85211),j=v(48669),$=v(17221),S=v(76576),I=v(50305);v(3248),v(35150),v(40707);let Z=J=class extends W.oY{constructor(st){super(st),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new J({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],Z.prototype,"expression",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],Z.prototype,"name",void 0),(0,D._)([(0,H.MZ)({type:["boolean","date","number","string"],json:{write:!0}})],Z.prototype,"returnType",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),Z=J=(0,D._)([(0,S.$)("esri.form.ExpressionInfo")],Z);const L=Z;let C=class extends W.oY{constructor(st){super(st),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],C.prototype,"description",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],C.prototype,"label",void 0),(0,D._)([(0,H.MZ)()],C.prototype,"type",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],C.prototype,"visibilityExpression",void 0),C=(0,D._)([(0,S.$)("esri.form.elements.Element")],C);const b=C;var R,x=v(55739);let w=R=class extends W.oY{constructor(st){super(st),this.type=null}clone(){return new R({type:this.type})}};(0,D._)([(0,H.MZ)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],w.prototype,"type",void 0),w=R=(0,D._)([(0,S.$)("esri.form.elements.inputs.AttachmentInput")],w);const K=w;var V;let ue=V=class extends b{constructor(st){super(st),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new V({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],ue.prototype,"attachmentKeyword",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],ue.prototype,"editableExpression",void 0),(0,D._)([(0,H.MZ)({type:K,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ue.prototype,"input",void 0),(0,D._)([(0,H.MZ)({type:["attachment"],json:{read:!1,write:!0}})],ue.prototype,"type",void 0),ue=V=(0,D._)([(0,S.$)("esri.form.elements.AttachmentElement")],ue);const ee=ue;let te=class extends W.oY{constructor(st){super(st),this.type=null}};(0,D._)([(0,H.MZ)()],te.prototype,"type",void 0),te=(0,D._)([(0,S.$)("esri.form.elements.inputs.Input")],te);const pe=te;let ae=class extends pe{constructor(st){super(st),this.maxLength=null,this.minLength=0}};(0,D._)([(0,H.MZ)({type:Number,json:{write:!0}})],ae.prototype,"maxLength",void 0),(0,D._)([(0,H.MZ)({type:Number,json:{write:!0}})],ae.prototype,"minLength",void 0),ae=(0,D._)([(0,S.$)("esri.form.elements.inputs.TextInput")],ae);const de=ae;var ve;let G=ve=class extends de{constructor(st){super(st),this.type="barcode-scanner"}clone(){return new ve({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,H.MZ)({type:["barcode-scanner"],json:{read:!1,write:!0}})],G.prototype,"type",void 0),G=ve=(0,D._)([(0,S.$)("esri.form.elements.inputs.BarcodeScannerInput")],G);const fe=G;var ie;let ye=ie=class extends pe{constructor(st){super(st),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new ie({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],ye.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],ye.prototype,"showNoValueOption",void 0),(0,D._)([(0,H.MZ)({type:["combo-box"],json:{read:!1,write:!0}})],ye.prototype,"type",void 0),ye=ie=(0,D._)([(0,S.$)("esri.form.elements.inputs.ComboBoxInput")],ye);const q=ye;var re;function ce(st){return st??null}function oe(st){return st??null}let le=re=class extends pe{constructor(st){super(st),this.max=null,this.min=null,this.type="date-picker"}readMax(st,vt){return ce(vt.max)}writeMax(st,vt){vt.max=oe(st)}readMin(st,vt){return ce(vt.min)}writeMin(st,vt){vt.min=oe(st)}clone(){return new re({max:this.max,min:this.min})}};(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],le.prototype,"max",void 0),(0,D._)([(0,$.w)("max")],le.prototype,"readMax",null),(0,D._)([(0,I.K)("max")],le.prototype,"writeMax",null),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],le.prototype,"min",void 0),(0,D._)([(0,$.w)("min")],le.prototype,"readMin",null),(0,D._)([(0,I.K)("min")],le.prototype,"writeMin",null),(0,D._)([(0,H.MZ)({type:["date-picker"],json:{read:!1,write:!0}})],le.prototype,"type",void 0),le=re=(0,D._)([(0,S.$)("esri.form.elements.inputs.DatePickerInput")],le);const Se=le;var se;function Pe(st){return st??null}function Ie(st){return st??null}let X=se=class extends pe{constructor(st){super(st),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(st,vt){return Pe(vt.max)}writeMax(st,vt){vt.max=Ie(st)}readMin(st,vt){return Pe(vt.min)}writeMin(st,vt){vt.min=Ie(st)}readTimeResolution(st,vt){return Pe(vt.timeResolution)}writeTimeResolution(st,vt){vt.timeResolution=Ie(st)}clone(){return new se({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,D._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],X.prototype,"includeTimeOffset",void 0),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],X.prototype,"max",void 0),(0,D._)([(0,$.w)("max")],X.prototype,"readMax",null),(0,D._)([(0,I.K)("max")],X.prototype,"writeMax",null),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],X.prototype,"min",void 0),(0,D._)([(0,$.w)("min")],X.prototype,"readMin",null),(0,D._)([(0,I.K)("min")],X.prototype,"writeMin",null),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],X.prototype,"timeResolution",void 0),(0,D._)([(0,$.w)("timeResolution")],X.prototype,"readTimeResolution",null),(0,D._)([(0,I.K)("timeResolution")],X.prototype,"writeTimeResolution",null),(0,D._)([(0,H.MZ)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],X.prototype,"type",void 0),X=se=(0,D._)([(0,S.$)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],X);const Ee=X;var Le;function Oe(st){return null!=st?new Date(st):null}function _e(st){return st?st.getTime():null}let we=Le=class extends pe{constructor(st){super(st),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(st,vt){return Oe(vt.max)}writeMax(st,vt){vt.max=_e(st)}readMin(st,vt){return Oe(vt.min)}writeMin(st,vt){vt.min=_e(st)}clone(){return new Le({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,D._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],we.prototype,"includeTime",void 0),(0,D._)([(0,H.MZ)({type:Date,json:{type:Number,write:!0}})],we.prototype,"max",void 0),(0,D._)([(0,$.w)("max")],we.prototype,"readMax",null),(0,D._)([(0,I.K)("max")],we.prototype,"writeMax",null),(0,D._)([(0,H.MZ)({type:Date,json:{type:Number,write:!0}})],we.prototype,"min",void 0),(0,D._)([(0,$.w)("min")],we.prototype,"readMin",null),(0,D._)([(0,I.K)("min")],we.prototype,"writeMin",null),(0,D._)([(0,H.MZ)({type:["datetime-picker"],json:{read:!1,write:!0}})],we.prototype,"type",void 0),we=Le=(0,D._)([(0,S.$)("esri.form.elements.inputs.DateTimePickerInput")],we);const ke=we;var Xe;let Q=Xe=class extends pe{constructor(st){super(st),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new Xe({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],Q.prototype,"noValueOptionLabel",void 0),(0,D._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],Q.prototype,"showNoValueOption",void 0),(0,D._)([(0,H.MZ)({type:["radio-buttons"],json:{read:!1,write:!0}})],Q.prototype,"type",void 0),Q=Xe=(0,D._)([(0,S.$)("esri.form.elements.inputs.RadioButtonsInput")],Q);const De=Q;var Ke;let Ye=Ke=class extends pe{constructor(st){super(st),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new Ke({offValue:this.offValue,onValue:this.onValue})}};(0,D._)([(0,H.MZ)({type:[String,Number],json:{write:!0}})],Ye.prototype,"offValue",void 0),(0,D._)([(0,H.MZ)({type:[String,Number],json:{write:!0}})],Ye.prototype,"onValue",void 0),(0,D._)([(0,H.MZ)({type:["switch"],json:{read:!1,write:!0}})],Ye.prototype,"type",void 0),Ye=Ke=(0,D._)([(0,S.$)("esri.form.elements.inputs.SwitchInput")],Ye);const rt=Ye;var lt;let _t=lt=class extends de{constructor(st){super(st),this.type="text-area"}clone(){return new lt({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,H.MZ)({type:["text-area"],json:{read:!1,write:!0}})],_t.prototype,"type",void 0),_t=lt=(0,D._)([(0,S.$)("esri.form.elements.inputs.TextAreaInput")],_t);const tt=_t;var qe;let xe=qe=class extends de{constructor(st){super(st),this.type="text-box"}clone(){return new qe({maxLength:this.maxLength,minLength:this.minLength})}};(0,D._)([(0,H.MZ)({type:["text-box"],json:{read:!1,write:!0}})],xe.prototype,"type",void 0),xe=qe=(0,D._)([(0,S.$)("esri.form.elements.inputs.TextBoxInput")],xe);const Be=xe;var Ze;function Ne(st){return st??null}function He(st){return st??null}let Je=Ze=class extends pe{constructor(st){super(st),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(st,vt){return Ne(vt.max)}writeMax(st,vt){vt.max=He(st)}readMin(st,vt){return Ne(vt.min)}writeMin(st,vt){vt.min=He(st)}readTimeResolution(st,vt){return Ne(vt.timeResolution)}writeTimeResolution(st,vt){vt.timeResolution=He(st)}clone(){return new Ze({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],Je.prototype,"max",void 0),(0,D._)([(0,$.w)("max")],Je.prototype,"readMax",null),(0,D._)([(0,I.K)("max")],Je.prototype,"writeMax",null),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],Je.prototype,"min",void 0),(0,D._)([(0,$.w)("min")],Je.prototype,"readMin",null),(0,D._)([(0,I.K)("min")],Je.prototype,"writeMin",null),(0,D._)([(0,H.MZ)({type:String,json:{type:String,write:!0}})],Je.prototype,"timeResolution",void 0),(0,D._)([(0,$.w)("timeResolution")],Je.prototype,"readTimeResolution",null),(0,D._)([(0,I.K)("timeResolution")],Je.prototype,"writeTimeResolution",null),(0,D._)([(0,H.MZ)({type:["time-picker"],json:{read:!1,write:!0}})],Je.prototype,"type",void 0),Je=Ze=(0,D._)([(0,S.$)("esri.form.elements.inputs.TimePickerInput")],Je);const dt={base:pe,key:"type",typeMap:{"barcode-scanner":fe,"combo-box":q,"date-picker":Se,"datetime-picker":ke,"datetimeoffset-picker":Ee,"radio-buttons":De,switch:rt,"text-area":tt,"text-box":Be,"time-picker":Je}};var Lt,Et=v(84546);let jt=Lt=class extends b{constructor(st){super(st),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(st){this._set("editable",st)}clone(){return new Lt({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,H.MZ)({types:Et.gK,json:{read:{reader:Et.rS},write:!0}})],jt.prototype,"domain",void 0),(0,D._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],jt.prototype,"editable",null),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],jt.prototype,"editableExpression",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],jt.prototype,"fieldName",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],jt.prototype,"hint",void 0),(0,D._)([(0,H.MZ)({types:dt,json:{read:{source:"inputType"},write:{target:"inputType"}}})],jt.prototype,"input",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],jt.prototype,"requiredExpression",void 0),(0,D._)([(0,H.MZ)({type:String,json:{read:!1,write:!0}})],jt.prototype,"type",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],jt.prototype,"valueExpression",void 0),jt=Lt=(0,D._)([(0,S.$)("esri.form.elements.FieldElement")],jt);const Kt=jt;var Zt,Gt=v(61852);let an=Zt=class extends b{constructor(st){super(st),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Zt({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,B.o8)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,H.MZ)({type:Number,json:{write:!0}})],an.prototype,"displayCount",void 0),(0,D._)([(0,H.MZ)({type:["list"],json:{write:!0}})],an.prototype,"displayType",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],an.prototype,"editableExpression",void 0),(0,D._)([(0,H.MZ)({type:[Gt.A],json:{write:!0}})],an.prototype,"orderByFields",void 0),(0,D._)([(0,H.MZ)({type:Number,json:{write:!0}})],an.prototype,"relationshipId",void 0),(0,D._)([(0,H.MZ)({type:["relationship"],json:{read:!1,write:!0}})],an.prototype,"type",void 0),an=Zt=(0,D._)([(0,S.$)("esri.form.elements.RelationshipElement")],an);const mn=an;var Kn;let kn=Kn=class extends b{constructor(st){super(st),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Kn({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],kn.prototype,"text",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],kn.prototype,"textFormat",void 0),(0,D._)([(0,H.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],kn.prototype,"type",void 0),kn=Kn=(0,D._)([(0,S.$)("esri.form.elements.TextElement")],kn);const Cn=kn;function Nn(st){return{typesWithGroup:{base:b,key:"type",typeMap:{attachment:ee,field:Kt,group:st,relationship:mn,text:Cn}},typesWithoutGroup:{base:b,key:"type",typeMap:{attachment:ee,field:Kt,relationship:mn,text:Cn}}}}function er(st,vt,$t=!0){if(!st)return null;const ln=$t?vt.typesWithGroup.typeMap:vt.typesWithoutGroup.typeMap;return st.filter(Rn=>ln[Rn.type]).map(Rn=>ln[Rn.type].fromJSON(Rn))}function Un(st,vt,$t=!0){if(!st)return null;const ln=$t?vt.typesWithGroup.typeMap:vt.typesWithoutGroup.typeMap;return st.filter(Rn=>ln[Rn.type]).map(Rn=>Rn.toJSON())}function ur(st,vt,$t=!0){return st?st.map(ln=>(0,x.aq)($t?vt.typesWithGroup:vt.typesWithoutGroup,ln)):null}var fr;let ir=fr=class extends b{constructor(st){super(st),this.elements=null,this.initialState="expanded",this.type="group"}castElements(st){return ur(st,wn,!1)}readElements(st,vt){return er(vt.formElements,wn,!1)}writeElements(st,vt){vt.formElements=Un(st,wn,!1)}clone(){return new fr({description:this.description,elements:(0,B.o8)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,D._)([(0,H.MZ)({json:{write:!0}})],ir.prototype,"elements",void 0),(0,D._)([(0,j.w)("elements")],ir.prototype,"castElements",null),(0,D._)([(0,$.w)("elements",["formElements"])],ir.prototype,"readElements",null),(0,D._)([(0,I.K)("elements")],ir.prototype,"writeElements",null),(0,D._)([(0,H.MZ)({type:["collapsed","expanded"],json:{write:!0}})],ir.prototype,"initialState",void 0),(0,D._)([(0,H.MZ)({type:String,json:{read:!1,write:!0}})],ir.prototype,"type",void 0),ir=fr=(0,D._)([(0,S.$)("esri.form.elements.GroupElement")],ir);const wn=Nn(ir),Er=ir,tr=st=>"field"===st.type,jn=st=>"group"===st.type,xs=st=>"text"===st.type;var ys,gs=v(86300);const on=Nn(Er);let zr=ys=class extends W.oY{constructor(st){super(st),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(st){return ur(st,on)}readElements(st,vt){return er(vt.formElements,on)}writeElements(st,vt){vt.formElements=Un(st,on)}clone(){return new ys({description:this.description,expressionInfos:(0,B.o8)(this.expressionInfos),elements:(0,B.o8)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}getFieldsUsed(st,vt){var $t=this;return(0,E.A)(function*(){const ln=new Set,{description:Rn,elements:Cr,expressionInfos:yr,title:Fe}=$t;if(je(ln,st,Rn),je(ln,st,Fe),!Cr)return[];const At=function zn(st,vt){if(!vt||0===vt.length)return[];const $t=gt(st),ln=[];for(const Rn of vt)$t.has(Rn.name)&&ln.push(Rn.expression);return ln}(Cr,yr).map(Ct=>(0,gs.Dx)(ln,st,Ct));yield Promise.all(At);for(const Ct of Cr)En(ln,{fieldsIndex:st,relationships:vt},Ct);return Array.from(ln).sort()})()}};function En(st,vt,$t){const{fieldsIndex:ln}=vt;if(!ln||ln.fields.length!==st.size)switch(je(st,ln,$t.label),je(st,ln,$t.description),$t.type){case"field":(0,gs.rq)(st,ln,$t.fieldName);break;case"group":$t.elements.forEach(Rn=>En(st,vt,Rn));break;case"relationship":if(vt.relationships){const Rn=vt.relationships.find(Cr=>Cr.id===$t.relationshipId);Rn&&(0,gs.rq)(st,ln,Rn.keyField)}(0,gs._w)(st,ln,$t.orderByFields?.map(Rn=>Rn.field));break;case"text":je(st,ln,$t.text)}}function gt(st){const vt=new Set;for(const $t of st)if((0,P.kb)(vt,$t.visibilityExpression),!xs($t))if(jn($t))(0,P.FB)(vt,gt($t.elements));else if((0,P.kb)(vt,$t.editableExpression),tr($t)){const{requiredExpression:ln,valueExpression:Rn}=$t;(0,P.FB)(vt,[ln,Rn])}return vt}function je(st,vt,$t){(0,gs._w)(st,vt,(0,gs.nw)($t))}(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],zr.prototype,"description",void 0),(0,D._)([(0,H.MZ)({json:{write:!0}})],zr.prototype,"elements",void 0),(0,D._)([(0,j.w)("elements")],zr.prototype,"castElements",null),(0,D._)([(0,$.w)("elements",["formElements"])],zr.prototype,"readElements",null),(0,D._)([(0,I.K)("elements")],zr.prototype,"writeElements",null),(0,D._)([(0,H.MZ)({type:[L],json:{write:!0}})],zr.prototype,"expressionInfos",void 0),(0,D._)([(0,H.MZ)({type:Boolean,json:{default:!1,write:!0}})],zr.prototype,"preserveFieldValuesWhenHidden",void 0),(0,D._)([(0,H.MZ)({type:String,json:{write:!0}})],zr.prototype,"title",void 0),zr=ys=(0,D._)([(0,S.$)("esri.form.FormTemplate")],zr);const mt=zr},21152:(et,Ae,v)=>{"use strict";v.d(Ae,{yR:()=>U});var E=v(55739),D=v(28067),W=v(68643),B=v(21870),P=v(1749),H=v(55861),j=v(93615);v(32034),v(6434),v(61320);const U={base:W.A,key:"type",typeMap:{extent:D.A,multipoint:B.A,point:P.A,polyline:j.A,polygon:H.A}};(0,E.aq)(U)},28067:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>R});var Z,E=v(8189),D=v(1119),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(68643),S=v(1749),I=v(32034),O=v(8190),U=v(62928),N=v(58701),J=v(55039);function C(w,K,V){return null==K?V:null==V?K:w(K,V)}let b=Z=class extends $.A{constructor(...w){super(...w),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(w,K,V,ue,ee){return function L(w){return w&&("esri.geometry.SpatialReference"===w.declaredClass||null!=w.wkid)}(w)?{spatialReference:w,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof w?(w.spatialReference=null==w.spatialReference?I.A.WGS84:w.spatialReference,w):{xmin:w,ymin:K,xmax:V,ymax:ue,spatialReference:ee??I.A.WGS84}}static fromBounds(w,K){return new Z({xmin:w[0],ymin:w[1],xmax:w[2],ymax:w[3],spatialReference:K})}static fromPoint(w){return new Z({xmin:w.x,ymin:w.y,zmin:w.z,xmax:w.x,ymax:w.y,zmax:w.z,spatialReference:w.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const w=new S.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(w.z=.5*(this.zmin+this.zmax)),this.hasM&&(w.m=.5*(this.mmin+this.mmax)),w}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(w){const K=this.center;return null!=w.z&&this.hasZ?this.offset(w.x-K.x,w.y-K.y,w.z-K.z):this.offset(w.x-K.x,w.y-K.y)}clone(){const w=new Z;return w.xmin=this.xmin,w.ymin=this.ymin,w.xmax=this.xmax,w.ymax=this.ymax,w.spatialReference=this.spatialReference,null!=this.zmin&&(w.zmin=this.zmin,w.zmax=this.zmax),null!=this.mmin&&(w.mmin=this.mmin,w.mmax=this.mmax),w}contains(w){if(!w)return!1;const K=this.spatialReference,V=w.spatialReference;return K&&V&&!K.equals(V)&&(0,J.y7)(K,V)&&(w=K.isWebMercator?(0,J.Gh)(w):(0,J.ci)(w,!0)),"point"===w.type?(0,O.qz)(this,w):"extent"===w.type&&(0,O.gH)(this,w)}equals(w){if(this===w)return!0;if(null==w)return!1;const K=this.spatialReference,V=w.spatialReference;return K&&V&&!K.equals(V)&&(0,J.y7)(K,V)&&(w=K.isWebMercator?(0,J.Gh)(w):(0,J.ci)(w,!0)),this.xmin===w.xmin&&this.ymin===w.ymin&&this.zmin===w.zmin&&this.mmin===w.mmin&&this.xmax===w.xmax&&this.ymax===w.ymax&&this.zmax===w.zmax&&this.mmax===w.mmax}expand(w){const K=.5*(1-w),V=this.width*K,ue=this.height*K;if(this.xmin+=V,this.ymin+=ue,this.xmax-=V,this.ymax-=ue,this.hasZ){const ee=(this.zmax-this.zmin)*K;this.zmin+=ee,this.zmax-=ee}if(this.hasM){const ee=(this.mmax-this.mmin)*K;this.mmin+=ee,this.mmax-=ee}return this}intersects(w){if(null==w)return!1;"mesh"===w.type&&(w=w.extent);const K=this.spatialReference,V=w.spatialReference;return K&&V&&!(0,N.aI)(K,V)&&(0,J.y7)(K,V)&&(w=K.isWebMercator?(0,J.Gh)(w):(0,J.ci)(w,!0)),(0,U.xK)(w.type)(this,w)}normalize(){const w=this._normalize(!1,!0);return Array.isArray(w)?w:[w]}offset(w,K,V){return this.xmin+=w,this.ymin+=K,this.xmax+=w,this.ymax+=K,null!=V&&(this.zmin+=V,this.zmax+=V),this}shiftCentralMeridian(){return this._normalize(!0)}union(w){return this===w||(this.xmin=Math.min(this.xmin,w.xmin),this.ymin=Math.min(this.ymin,w.ymin),this.xmax=Math.max(this.xmax,w.xmax),this.ymax=Math.max(this.ymax,w.ymax),(this.hasZ||w.hasZ)&&(this.zmin=C(Math.min,this.zmin,w.zmin),this.zmax=C(Math.max,this.zmax,w.zmax)),(this.hasM||w.hasM)&&(this.mmin=C(Math.min,this.mmin,w.mmin),this.mmax=C(Math.max,this.mmax,w.mmax))),this}intersection(w){return this===w?this:null!=w&&this.intersects(w)?(this.xmin=Math.max(this.xmin,w.xmin),this.ymin=Math.max(this.ymin,w.ymin),this.xmax=Math.min(this.xmax,w.xmax),this.ymax=Math.min(this.ymax,w.ymax),(this.hasZ||w.hasZ)&&(this.zmin=C(Math.max,this.zmin,w.zmin),this.zmax=C(Math.min,this.zmax,w.zmax)),(this.hasM||w.hasM)&&(this.mmin=C(Math.max,this.mmin,w.mmin),this.mmax=C(Math.min,this.mmax,w.mmax)),this):null}toJSON(w){return this.write({},w)}_shiftCM(w=(0,N.Vp)(this.spatialReference)){if(!w||!this.spatialReference)return this;const K=this.spatialReference,V=this._getCM(w);if(V){const ue=K.isWebMercator?(0,J.ci)(V):V;this.xmin-=V.x,this.xmax-=V.x,K.isWebMercator||(ue.x=x(ue.x,w).x),this.spatialReference=new I.A((0,D.HC)((K.isWGS84?w.altTemplate:null)??w.wkTemplate,{Central_Meridian:ue.x}))}return this}_getCM(w){let K=null;const[V,ue]=w.valid,ee=this.xmin,te=this.xmax;return ee>=V&&ee<=ue&&te>=V&&te<=ue||(K=this.center),K}_normalize(w,K,V){const ue=this.spatialReference;if(!ue)return this;const ee=V??(0,N.Vp)(ue);if(null==ee)return this;const te=this._getParts(ee).map(de=>de.extent);if(te.length<2)return te[0]||this;if(te.length>2)return w?this._shiftCM(ee):this.set({xmin:ee.valid[0],xmax:ee.valid[1]});if(w)return this._shiftCM(ee);if(K)return te;let pe=!0,ae=!0;return te.forEach(de=>{de.hasZ||(pe=!1),de.hasM||(ae=!1)}),{rings:te.map(de=>{const ve=[[de.xmin,de.ymin],[de.xmin,de.ymax],[de.xmax,de.ymax],[de.xmax,de.ymin],[de.xmin,de.ymin]];if(pe){const G=(de.zmax-de.zmin)/2;for(let fe=0;fe<ve.length;fe++)ve[fe].push(G)}if(ae){const G=(de.mmax-de.mmin)/2;for(let fe=0;fe<ve.length;fe++)ve[fe].push(G)}return ve}),hasZ:pe,hasM:ae,spatialReference:ue}}_getParts(w){let K=this.cache._parts;if(!K){K=[];const{ymin:ee,ymax:te,spatialReference:pe}=this,ae=this.width,de=this.xmin,ve=this.xmax;let G;w=w||(0,N.Vp)(pe);const[fe,ie]=w.valid;G=x(this.xmin,w);const ye=G.x,q=G.frameId;G=x(this.xmax,w);const re=G.x,ce=G.frameId,oe=ye===re&&ae>0;if(ae>2*ie){const le=new Z(de<ve?ye:re,ee,ie,te,pe),Se=new Z(fe,ee,de<ve?re:ye,te,pe),se=new Z(0,ee,ie,te,pe),Pe=new Z(fe,ee,0,te,pe),Ie=[],X=[];le.contains(se)&&Ie.push(q),le.contains(Pe)&&X.push(q),Se.contains(se)&&Ie.push(ce),Se.contains(Pe)&&X.push(ce);for(let Ee=q+1;Ee<ce;Ee++)Ie.push(Ee),X.push(Ee);K.push({extent:le,frameIds:[q]},{extent:Se,frameIds:[ce]},{extent:se,frameIds:Ie},{extent:Pe,frameIds:X})}else ye>re||oe?K.push({extent:new Z(ye,ee,ie,te,pe),frameIds:[q]},{extent:new Z(fe,ee,re,te,pe),frameIds:[ce]}):K.push({extent:new Z(ye,ee,re,te,pe),frameIds:[q]});this.cache._parts=K}const V=this.hasZ,ue=this.hasM;if(V||ue){const ee={};V&&(ee.zmin=this.zmin,ee.zmax=this.zmax),ue&&(ee.mmin=this.mmin,ee.mmax=this.mmax);for(let te=0;te<K.length;te++)K[te].extent.set(ee)}return K}};function x(w,K){const[V,ue]=K.valid,ee=2*ue;let te,pe=0;return w>ue?(te=Math.ceil(Math.abs(w-ue)/ee),w-=te*ee,pe=te):w<V&&(te=Math.ceil(Math.abs(w-V)/ee),w+=te*ee,pe=-te),{x:w,frameId:pe}}(0,E._)([(0,W.MZ)({readOnly:!0})],b.prototype,"cache",null),(0,E._)([(0,W.MZ)({readOnly:!0})],b.prototype,"center",null),(0,E._)([(0,W.MZ)({readOnly:!0})],b.prototype,"extent",null),(0,E._)([(0,W.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null),(0,E._)([(0,W.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null),(0,E._)([(0,W.MZ)({readOnly:!0})],b.prototype,"height",null),(0,E._)([(0,W.MZ)({readOnly:!0})],b.prototype,"width",null),(0,E._)([(0,W.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0),b=Z=(0,E._)([(0,j.$)("esri.geometry.Extent")],b),b.prototype.toJSON.isDefaultToJSON=!0;const R=b},68643:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(17221)),$=v(76576),S=v(32034);let I=class extends D.oY{constructor(...U){super(...U),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=S.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(U,N){if(U instanceof S.A)return U;if(null!=U){const J=new S.A;return J.read(U,N),J}return U}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(U){return this.cache[U]}setCacheValue(U,N){this.cache[U]=N}};(0,E._)([(0,W.MZ)()],I.prototype,"type",void 0),(0,E._)([(0,W.MZ)({readOnly:!0})],I.prototype,"cache",null),(0,E._)([(0,W.MZ)({readOnly:!0})],I.prototype,"extent",null),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:{overridePolicy:U=>({enabled:U})}}})],I.prototype,"hasM",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:{overridePolicy:U=>({enabled:U})}}})],I.prototype,"hasZ",void 0),(0,E._)([(0,W.MZ)({type:S.A,json:{write:!0},value:S.A.WGS84})],I.prototype,"spatialReference",void 0),(0,E._)([(0,j.w)("spatialReference")],I.prototype,"readSpatialReference",null),I=(0,E._)([(0,$.$)("esri.geometry.Geometry")],I);const O=I},33119:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>R});var N,E=v(8189),D=v(89952),W=v(49976),B=v(71065),P=v(82663),H=v(96996),j=v(85211),I=(v(3248),v(35150),v(17221)),O=v(76576),U=v(50305);const J=(0,W.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),Z=J.jsonValues.slice();(0,D.Xy)(Z,"orthometric");const L=(0,W.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let C=N=class extends B.oY{constructor(w){super(w),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(w,K,V){return J.write(w,K,V)}readHeightModel(w,K,V){return J.read(w)||(V?.messages&&V.messages.push(function x(w,K){return new H.A("height-model:unsupported",`Height model of value '${w}' is not supported`,K)}(w,{context:V})),null)}readHeightUnit(w,K,V){return L.read(w)||(V?.messages&&V.messages.push(b(w,{context:V})),null)}readHeightUnitService(w,K,V){return(0,P.LA)(w)||L.read(w)||(V?.messages&&V.messages.push(b(w,{context:V})),null)}readVertCRS(w,K){return K.vertCRS||K.ellipsoid||K.geoid}clone(){return new N({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(w){return!!w&&(this===w||this.heightModel===w.heightModel&&this.heightUnit===w.heightUnit&&this.vertCRS===w.vertCRS)}static deriveUnitFromSR(w,K){const V=(0,P.k1)(K);return new N({heightModel:w.heightModel,heightUnit:V??void 0,vertCRS:w.vertCRS})}write(w,K){return K={origin:"web-scene",...K},super.write(w,K)}static fromJSON(w){if(!w)return null;const K=new N;return K.read(w,{origin:"web-scene"}),K}};function b(w,K){return new H.A("height-unit:unsupported",`Height unit of value '${w}' is not supported`,K)}(0,E._)([(0,j.MZ)({type:J.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Z,default:"ellipsoidal"}}}})],C.prototype,"heightModel",void 0),(0,E._)([(0,U.K)("web-scene","heightModel")],C.prototype,"writeHeightModel",null),(0,E._)([(0,I.w)(["web-scene","service"],"heightModel")],C.prototype,"readHeightModel",null),(0,E._)([(0,j.MZ)({type:L.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:L.jsonValues,write:L.write}}}})],C.prototype,"heightUnit",void 0),(0,E._)([(0,I.w)("web-scene","heightUnit")],C.prototype,"readHeightUnit",null),(0,E._)([(0,I.w)("service","heightUnit")],C.prototype,"readHeightUnitService",null),(0,E._)([(0,j.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],C.prototype,"vertCRS",void 0),(0,E._)([(0,I.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],C.prototype,"readVertCRS",null),C=N=(0,E._)([(0,O.$)("esri.geometry.HeightModelInfo")],C);const R=C},21870:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var U,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(76576)),j=v(50305),$=v(28067),S=v(68643),I=v(1749),O=v(70977);function N(C){return(b,x)=>null==b?x:null==x?b:C(b,x)}let Z=U=class extends S.A{constructor(...C){super(...C),this.points=[],this.type="multipoint"}normalizeCtorArgs(C,b){if(!C&&!b)return{};const x={};Array.isArray(C)?(x.points=C,x.spatialReference=b):function J(C){return C&&("esri.geometry.SpatialReference"===C.declaredClass||null!=C.wkid)}(C)?x.spatialReference=C:(C.points&&(x.points=C.points),C.spatialReference&&(x.spatialReference=C.spatialReference),C.hasZ&&(x.hasZ=C.hasZ),C.hasM&&(x.hasM=C.hasM));const R=x.points?.[0];return R&&(void 0===x.hasZ&&void 0===x.hasM?(x.hasZ=R.length>2,x.hasM=!1):void 0===x.hasZ?x.hasZ=R.length>3:void 0===x.hasM&&(x.hasM=R.length>3)),x}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const C=this.points;if(!C.length)return null;const b=new $.A,x=this.hasZ,R=this.hasM,w=x?3:2,K=C[0],V=N(Math.min),ue=N(Math.max);let ee,te,pe,ae,[de,ve]=K,[G,fe]=K;for(let ie=0,ye=C.length;ie<ye;ie++){const q=C[ie],[re,ce]=q;if(de=V(de,re),ve=V(ve,ce),G=ue(G,re),fe=ue(fe,ce),x&&q.length>2){const oe=q[2];ee=V(ee,oe),pe=ue(pe,oe)}if(R&&q.length>w){const oe=q[w];te=V(te,oe),ae=ue(ae,oe)}}return b.xmin=de,b.ymin=ve,b.xmax=G,b.ymax=fe,b.spatialReference=this.spatialReference,x?(b.zmin=ee,b.zmax=pe):(b.zmin=void 0,b.zmax=void 0),R?(b.mmin=te,b.mmax=ae):(b.mmin=void 0,b.mmax=void 0),b}writePoints(C,b){b.points=(0,D.o8)(this.points)}addPoint(C){return(0,O.h)(this,C),Array.isArray(C)?this.points.push(C):this.points.push(C.toArray()),this.notifyChange("points"),this}clone(){const C={points:(0,D.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(C.hasZ=!0),this.hasM&&(C.hasM=!0),new U(C)}getPoint(C){if(!this._validateInputs(C))return null;const b=this.points[C],x={x:b[0],y:b[1],spatialReference:this.spatialReference};let R=2;return this.hasZ&&(x.z=b[2],R=3),this.hasM&&(x.m=b[R]),new I.A(x)}removePoint(C){if(!this._validateInputs(C))return null;const b=new I.A(this.points.splice(C,1)[0],this.spatialReference);return this.notifyChange("points"),b}setPoint(C,b){return this._validateInputs(C)?((0,O.h)(this,b),Array.isArray(b)||(b=b.toArray()),this.points[C]=b,this.notifyChange("points"),this):this}toJSON(C){return this.write({},C)}_validateInputs(C){return null!=C&&C>=0&&C<this.points.length}};(0,E._)([(0,W.MZ)({readOnly:!0})],Z.prototype,"cache",null),(0,E._)([(0,W.MZ)()],Z.prototype,"extent",null),(0,E._)([(0,W.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],Z.prototype,"points",void 0),(0,E._)([(0,j.K)("points")],Z.prototype,"writePoints",null),Z=U=(0,E._)([(0,H.$)("esri.geometry.Multipoint")],Z),Z.prototype.toJSON.isDefaultToJSON=!0;const L=Z},1749:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>R});var L,E=v(8189),D=v(35150),W=v(85211),B=v(48669),j=(v(40707),v(3248),v(17221)),$=v(76576),S=v(50305),I=v(55739),O=v(68643),U=v(32034),N=v(15364),J=v(58701),Z=v(55039);const C=[0,0];function b(w){return w&&("esri.geometry.SpatialReference"===w.declaredClass||null!=w.wkid)}let x=L=class extends O.A{static copy(w,K){K._set("x",w._get("x")),K._set("y",w._get("y")),K._set("z",w._get("z")),K._set("m",w._get("m"));const V=w._get("spatialReference");K._set("spatialReference",Object.isFrozen(V)?V:V.clone())}constructor(...w){super(...w),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(w,K,V,ue,ee){let te;if(Array.isArray(w))te=w,ee=K,w=te[0],K=te[1],V=te[2],ue=te[3];else if(w&&"object"==typeof w){if(te=w,w=null!=te.x?te.x:te.longitude,K=null!=te.y?te.y:te.latitude,V=te.z,ue=te.m,(ee=te.spatialReference)&&"esri.geometry.SpatialReference"!==ee.declaredClass&&(ee=new U.A(ee)),null!=te.longitude||null!=te.latitude)if(null==te.longitude)D.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==te.latitude)D.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!te.declaredClass&&ee?.isWebMercator){const ae=(0,Z.je)(te.longitude,te.latitude,C);w=ae[0],K=ae[1]}}else b(V)?(ee=V,V=null):b(ue)&&(ee=ue,ue=null);const pe={x:w,y:K};return null==pe.x&&null!=pe.y?D.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==pe.y&&null!=pe.x&&D.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=ee&&(pe.spatialReference=ee),null!=V&&(pe.z=V),null!=ue&&(pe.m=ue),pe}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(w){w!==(void 0!==this._get("m"))&&(this._set("m",w?0:void 0),this._set("hasM",w))}get hasZ(){return void 0!==this.z}set hasZ(w){w!==(void 0!==this._get("z"))&&(this._set("z",w?0:void 0),this._set("hasZ",w))}get latitude(){return(0,N.T0)(this)}set latitude(w){const{spatialReference:K,x:V}=this;null!=w&&K&&(K.isWebMercator?this._set("y",(0,Z.je)(V,w,C)[1]):K.isGeographic&&this._set("y",w),this._set("latitude",w))}get longitude(){return(0,N.EZ)(this)}set longitude(w){const{y:K,spatialReference:V}=this;null!=w&&V&&(V.isWebMercator?this._set("x",(0,Z.je)(w,K,C)[0]):V.isGeographic&&this._set("x",w),this._set("longitude",w))}writeX(w,K,V){K[V]=isNaN(w)?"NaN":w}readX(w){return"string"==typeof w?NaN:w}clone(){const w=new L;return w.x=this.x,w.y=this.y,w.z=this.z,w.m=this.m,w.spatialReference=this.spatialReference,w}copy(w){return L.copy(w,this),this}equals(w){if(null==w)return!1;const{x:K,y:V,z:ue,m:ee,spatialReference:te}=this,{z:pe,m:ae}=w;let{x:de,y:ve,spatialReference:G}=w;if(!te.equals(G))if(te.isWebMercator&&G.isWGS84)[de,ve]=(0,Z.je)(de,ve),G=te;else{if(!te.isWGS84||!G.isWebMercator)return!1;[de,ve]=(0,Z.tD)(de,ve),G=te}return K===de&&V===ve&&ue===pe&&ee===ae&&te.wkid===G.wkid}offset(w,K,V){return this.x+=w,this.y+=K,null!=V&&(this.z=(this.z??0)+V),this}normalize(){if(!this.spatialReference)return this;const w=(0,J.Vp)(this.spatialReference);if(!w)return this;let K=this.x;const[V,ue]=w.valid,ee=2*ue;let te;return K>ue?(te=Math.ceil(Math.abs(K-ue)/ee),K-=te*ee):K<V&&(te=Math.ceil(Math.abs(K-V)/ee),K+=te*ee),this._set("x",K),this}distance(w){return(0,N.Io)(this,w)}toArray(){const w=this.hasZ,K=this.hasM;return w&&K?[this.x,this.y,this.z,this.m]:w?[this.x,this.y,this.z]:K?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(w){return this.write({},w)}};(0,E._)([(0,W.MZ)({readOnly:!0})],x.prototype,"cache",null),(0,E._)([(0,W.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasM",null),(0,E._)([(0,W.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],x.prototype,"hasZ",null),(0,E._)([(0,W.MZ)({type:Number})],x.prototype,"latitude",null),(0,E._)([(0,W.MZ)({type:Number})],x.prototype,"longitude",null),(0,E._)([(0,W.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,B.w)(w=>isNaN(w)?w:(0,I.GB)(w))],x.prototype,"x",void 0),(0,E._)([(0,S.K)("x")],x.prototype,"writeX",null),(0,E._)([(0,j.w)("x")],x.prototype,"readX",null),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],x.prototype,"y",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],x.prototype,"z",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],x.prototype,"m",void 0),x=L=(0,E._)([(0,$.$)("esri.geometry.Point")],x),x.prototype.toJSON.isDefaultToJSON=!0;const R=x},55861:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>V});var R,E=v(8189),D=v(89952),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(76576)),$=v(50305),S=v(28067),I=v(68643),O=v(1749),U=v(32034),N=v(39239),J=v(8190),Z=v(15268),L=v(22442),C=v(62928),b=v(55039),x=v(70977);function w(ue){return!Array.isArray(ue[0])}let K=R=class extends I.A{static fromExtent(ue){const ee=ue.clone().normalize(),te=ue.spatialReference;let pe=!1,ae=!1;for(const ve of ee)ve.hasZ&&(pe=!0),ve.hasM&&(ae=!0);const de={rings:ee.map(ve=>{const G=[[ve.xmin,ve.ymin],[ve.xmin,ve.ymax],[ve.xmax,ve.ymax],[ve.xmax,ve.ymin],[ve.xmin,ve.ymin]];if(pe&&ve.hasZ){const fe=ve.zmin+.5*(ve.zmax-ve.zmin);for(let ie=0;ie<G.length;ie++)G[ie].push(fe)}if(ae&&ve.hasM){const fe=ve.mmin+.5*(ve.mmax-ve.mmin);for(let ie=0;ie<G.length;ie++)G[ie].push(fe)}return G}),spatialReference:te};return pe&&(de.hasZ=!0),ae&&(de.hasM=!0),new R(de)}constructor(...ue){super(...ue),this.rings=[],this.type="polygon"}normalizeCtorArgs(ue,ee){let te,pe,ae=null,de=null;return ue&&!Array.isArray(ue)?(ae=ue.rings??null,ee||(ue.spatialReference?ee=ue.spatialReference:ue.rings||(ee=ue)),te=ue.hasZ,pe=ue.hasM):ae=ue,ae=ae||[],ee=ee||U.A.WGS84,ae.length&&null!=ae[0]?.[0]&&"number"==typeof ae[0][0]&&(ae=[ae]),de=ae[0]?.[0],de&&(void 0===te&&void 0===pe?(te=de.length>2,pe=de.length>3):void 0===te?te=pe?de.length>3:de.length>2:void 0===pe&&(pe=te?de.length>3:de.length>2)),{rings:ae,spatialReference:ee,hasZ:te,hasM:pe}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const ue=(0,N.l8)(this);if(!ue||isNaN(ue[0])||isNaN(ue[1])||this.hasZ&&isNaN(ue[2]))return null;const ee=new O.A;return ee.x=ue[0],ee.y=ue[1],ee.spatialReference=this.spatialReference,this.hasZ&&(ee.z=ue[2]),ee}get extent(){const{spatialReference:ue}=this,ee=(0,L.v)(this);if(!ee)return null;const te=new S.A(ee);return te.spatialReference=ue,te}get isSelfIntersecting(){return(0,C.A3)(this.rings)}writeRings(ue,ee){ee.rings=(0,W.o8)(this.rings)}addRing(ue){if(!ue)return;const ee=this.rings,te=ee.length;if(w(ue)){const pe=[];for(let ae=0,de=ue.length;ae<de;ae++)pe[ae]=ue[ae].toArray();ee[te]=pe}else ee[te]=ue.concat();return this.notifyChange("rings"),this}clone(){const ue=new R;return ue.spatialReference=this.spatialReference,ue.rings=(0,W.o8)(this.rings),ue.hasZ=this.hasZ,ue.hasM=this.hasM,ue}equals(ue){if(this===ue)return!0;if(null==ue)return!1;const ee=this.spatialReference,te=ue.spatialReference;if(null!=ee!=(null!=te)||null!=ee&&null!=te&&!ee.equals(te)||this.rings.length!==ue.rings.length)return!1;const pe=([ae,de,ve,G],[fe,ie,ye,q])=>ae===fe&&de===ie&&(null==ve&&null==ye||ve===ye)&&(null==G&&null==q||G===q);for(let ae=0;ae<this.rings.length;ae++)if(!(0,D.aI)(this.rings[ae],ue.rings[ae],pe))return!1;return!0}contains(ue){if(!ue)return!1;const ee=(0,b.Cv)(ue,this.spatialReference);return(0,J.m3)(this,ee??ue)}isClockwise(ue){const ee=w(ue)?ue.map(te=>this.hasZ?this.hasM?[te.x,te.y,te.z,te.m]:[te.x,te.y,te.z]:[te.x,te.y]):ue;return(0,Z.$3)(ee)}getPoint(ue,ee){if(!this._validateInputs(ue,ee))return null;const te=this.rings[ue][ee],pe=this.hasZ,ae=this.hasM;return pe&&!ae?new O.A(te[0],te[1],te[2],void 0,this.spatialReference):ae&&!pe?new O.A(te[0],te[1],void 0,te[2],this.spatialReference):pe&&ae?new O.A(te[0],te[1],te[2],te[3],this.spatialReference):new O.A(te[0],te[1],this.spatialReference)}insertPoint(ue,ee,te){return this._validateInputs(ue,ee,!0)?((0,x.h)(this,te),Array.isArray(te)||(te=te.toArray()),this.rings[ue].splice(ee,0,te),this.notifyChange("rings"),this):this}removePoint(ue,ee){if(!this._validateInputs(ue,ee))return null;const te=new O.A(this.rings[ue].splice(ee,1)[0],this.spatialReference);return this.notifyChange("rings"),te}removeRing(ue){if(!this._validateInputs(ue,null))return null;const ee=this.rings.splice(ue,1)[0],te=this.spatialReference,pe=ee.map(ae=>new O.A(ae,te));return this.notifyChange("rings"),pe}setPoint(ue,ee,te){return this._validateInputs(ue,ee)?((0,x.h)(this,te),Array.isArray(te)||(te=te.toArray()),this.rings[ue][ee]=te,this.notifyChange("rings"),this):this}_validateInputs(ue,ee,te=!1){if(null==ue||ue<0||ue>=this.rings.length)return!1;if(null!=ee){const pe=this.rings[ue];if(te&&(ee<0||ee>pe.length)||!te&&(ee<0||ee>=pe.length))return!1}return!0}toJSON(ue){return this.write({},ue)}};(0,E._)([(0,B.MZ)({readOnly:!0})],K.prototype,"cache",null),(0,E._)([(0,B.MZ)({readOnly:!0})],K.prototype,"centroid",null),(0,E._)([(0,B.MZ)({readOnly:!0})],K.prototype,"extent",null),(0,E._)([(0,B.MZ)({readOnly:!0})],K.prototype,"isSelfIntersecting",null),(0,E._)([(0,B.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],K.prototype,"rings",void 0),(0,E._)([(0,$.K)("rings")],K.prototype,"writeRings",null),K=R=(0,E._)([(0,j.$)("esri.geometry.Polygon")],K),K.prototype.toJSON.isDefaultToJSON=!0;const V=K},93615:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var J,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(76576)),j=v(50305),$=v(28067),S=v(68643),I=v(1749),O=v(32034),U=v(22442),N=v(70977);let L=J=class extends S.A{constructor(...b){super(...b),this.paths=[],this.type="polyline"}normalizeCtorArgs(b,x){let R,w,K=null,V=null;return b&&!Array.isArray(b)?(K=b.paths??null,x||(b.spatialReference?x=b.spatialReference:b.paths||(x=b)),R=b.hasZ,w=b.hasM):K=b,K=K||[],x=x||O.A.WGS84,K.length&&null!=K[0]?.[0]&&"number"==typeof K[0][0]&&(K=[K]),V=K[0]?.[0],V&&(void 0===R&&void 0===w?(R=V.length>2,w=!1):void 0===R?R=!w&&V.length>3:void 0===w&&(w=!R&&V.length>3)),{paths:K,spatialReference:x,hasZ:R,hasM:w}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:b}=this,x=(0,U.Z3)(this);if(!x)return null;const R=new $.A(x);return R.spatialReference=b,R}writePaths(b,x){x.paths=(0,D.o8)(this.paths)}addPath(b){if(!b)return;const x=this.paths,R=x.length;if(function Z(b){return!Array.isArray(b[0])}(b)){const w=[];for(let K=0,V=b.length;K<V;K++)w[K]=b[K].toArray();x[R]=w}else x[R]=b.concat();return this.notifyChange("paths"),this}clone(){const b=new J;return b.spatialReference=this.spatialReference,b.paths=(0,D.o8)(this.paths),b.hasZ=this.hasZ,b.hasM=this.hasM,b}getPoint(b,x){if(!this._validateInputs(b,x))return null;const R=this.paths[b][x],w=this.hasZ,K=this.hasM;return w&&!K?new I.A(R[0],R[1],R[2],void 0,this.spatialReference):K&&!w?new I.A(R[0],R[1],void 0,R[2],this.spatialReference):w&&K?new I.A(R[0],R[1],R[2],R[3],this.spatialReference):new I.A(R[0],R[1],this.spatialReference)}insertPoint(b,x,R){return this._validateInputs(b,x,!0)?((0,N.h)(this,R),Array.isArray(R)||(R=R.toArray()),this.paths[b].splice(x,0,R),this.notifyChange("paths"),this):this}removePath(b){if(!this._validateInputs(b,null))return null;const x=this.paths.splice(b,1)[0],R=this.spatialReference,w=x.map(K=>new I.A(K,R));return this.notifyChange("paths"),w}removePoint(b,x){if(!this._validateInputs(b,x))return null;const R=new I.A(this.paths[b].splice(x,1)[0],this.spatialReference);return this.notifyChange("paths"),R}setPoint(b,x,R){return this._validateInputs(b,x)?((0,N.h)(this,R),Array.isArray(R)||(R=R.toArray()),this.paths[b][x]=R,this.notifyChange("paths"),this):this}_validateInputs(b,x,R=!1){if(null==b||b<0||b>=this.paths.length)return!1;if(null!=x){const w=this.paths[b];if(R&&(x<0||x>w.length)||!R&&(x<0||x>=w.length))return!1}return!0}toJSON(b){return this.write({},b)}};(0,E._)([(0,W.MZ)({readOnly:!0})],L.prototype,"cache",null),(0,E._)([(0,W.MZ)({readOnly:!0})],L.prototype,"extent",null),(0,E._)([(0,W.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],L.prototype,"paths",void 0),(0,E._)([(0,j.K)("paths")],L.prototype,"writePaths",null),L=J=(0,E._)([(0,H.$)("esri.geometry.Polyline")],L),L.prototype.toJSON.isDefaultToJSON=!0;const C=L},32034:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(71065),W=v(77806),B=v(82663),P=v(55739),H=v(85211),j=v(76576),$=v(50305),S=v(58701);let O=I=class extends D.oY{static fromJSON(N){if(!N)return null;if(N.wkid){if(102100===N.wkid)return I.WebMercator;if(4326===N.wkid)return I.WGS84}const J=new I;return J.read(N),J}constructor(N){super(N),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(N){return N&&"object"==typeof N?N:{["string"==typeof N?"wkt":"wkid"]:N}}get isWGS84(){return(0,S.oT)(this)}get isWebMercator(){return(0,S.K8)(this)}get isGeographic(){return(0,S.EA)(this)}get isWrappable(){return(0,S.d9)(this)}get metersPerUnit(){return(0,B.GA)(this)}get unit(){return(0,B.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(N,J){this.wkid||(J.wkt=N)}clone(){if(this===I.WGS84)return new I(S.KK);if(this===I.WebMercator)return new I(S.ch);const N=new I;return null!=this.wkid?(N.wkid=this.wkid,null!=this.latestWkid&&(N.latestWkid=this.latestWkid),null!=this.vcsWkid&&(N.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(N.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(N.wkt=this.wkt),null!=this.wkt2&&(N.wkt2=this.wkt2)),this.imageCoordinateSystem&&(N.imageCoordinateSystem=(0,W.o8)(this.imageCoordinateSystem)),N}equals(N){if(null==N)return!1;if(this.imageCoordinateSystem||N.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==N.imageCoordinateSystem)return!1;const{id:J,referenceServiceName:Z}=N.imageCoordinateSystem,{geodataXform:L}=N.imageCoordinateSystem,C=this.imageCoordinateSystem;return null==J||L?JSON.stringify(C)===JSON.stringify(N.imageCoordinateSystem):Z?C.id===J&&C.referenceServiceName===Z:C.id===J}return(0,S.aI)(this,N)}toJSON(N){return this.write(void 0,N)}};O.GCS_NAD_1927=null,O.WGS84=null,O.WebMercator=null,O.PlateCarree=null,(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"isWGS84",null),(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"isWebMercator",null),(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"isGeographic",null),(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"isWrappable",null),(0,E._)([(0,H.MZ)({type:P.jz,json:{write:!0}})],O.prototype,"latestWkid",void 0),(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"metersPerUnit",null),(0,E._)([(0,H.MZ)({readOnly:!0})],O.prototype,"unit",null),(0,E._)([(0,H.MZ)({type:P.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],O.prototype,"wkid",void 0),(0,E._)([(0,H.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],O.prototype,"wkt",void 0),(0,E._)([(0,$.K)("wkt"),(0,$.K)("web-scene","wkt")],O.prototype,"writeWkt",null),(0,E._)([(0,H.MZ)({type:String,json:{write:!1}})],O.prototype,"wkt2",void 0),(0,E._)([(0,H.MZ)({type:P.jz,json:{write:!0}})],O.prototype,"vcsWkid",void 0),(0,E._)([(0,H.MZ)({type:P.jz,json:{write:!0}})],O.prototype,"latestVcsWkid",void 0),(0,E._)([(0,H.MZ)()],O.prototype,"imageCoordinateSystem",void 0),O=I=(0,E._)([(0,j.$)("esri.geometry.SpatialReference")],O),O.prototype.toJSON.isDefaultToJSON=!0,O.GCS_NAD_1927=new O({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),O.WGS84=new O(S.KK),O.WebMercator=new O(S.ch),O.PlateCarree=new O(S.tQ),Object.freeze&&(Object.freeze(O.GCS_NAD_1927),Object.freeze(O.WGS84),Object.freeze(O.WebMercator),Object.freeze(O.PlateCarree));const U=O},87477:(et,Ae,v)=>{"use strict";v.d(Ae,{FY:()=>P,LJ:()=>H,Ro:()=>j,fv:()=>B,jA:()=>U,tO:()=>I,xP:()=>N,y7:()=>O});var E=v(47258),D=v(58701);function W(J){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${J.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const B=W(E.$O),P=W(E.sH),H=W(E.Sw),j={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${E.$O.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},$=P.wkt.toUpperCase(),S=H.wkt.toUpperCase();function I(J){if(null!=J&&(0,D.fn)(J)){const Z=J.wkid,L=J.wkt2??J.wkt;if((0,D.tl)(Z))return E.sH;const C=L?.toUpperCase();if(L&&C===$)return E.sH;if((0,D.ZL)(Z)||C&&C===S)return E.Sw}return E.$O}function O(J){return(0,D.tl)(J)?E.sH:(0,D.ZL)(J)?E.Sw:E.$O}function U(J){return(0,D.aI)(J,B)}function N(J){return U(J)||(0,D.aI)(J,P)||(0,D.aI)(J,H)}},53262:(et,Ae,v)=>{"use strict";function E(W){const B=[];for(W.reset();W.nextPath();){const P=[];for(;W.nextPoint();)P.push([W.x,W.y]);B.push(P)}return W.reset(),B}function D(W){const B=[];for(;W.nextPoint();)B.push([W.x,W.y]);return W.seekPathStart(),B}v.d(Ae,{A:()=>D,x:()=>E})},11817:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{canProjectWithoutEngine:()=>X,getTransformation:()=>re,getTransformations:()=>ce,initializeProjection:()=>Le,isEqualBaseGCS:()=>Ee,isLoaded:()=>pe,isLoadedOrLoad:()=>ae,isLoadedOrLoadFor:()=>de,load:()=>G,project:()=>fe,projectExtent:()=>lt,projectMany:()=>ie,projectMultipoint:()=>Xe,projectOrLoad:()=>ye,projectOrLoadMany:()=>q,projectPoint:()=>we,projectPolygon:()=>Ye,projectPolyline:()=>De,projectWithZConversion:()=>Pe,projectWithoutEngine:()=>_e,requiresLoad:()=>ve,test:()=>Se,tryProjectWithZConversion:()=>se,unload:()=>le});var E=v(10467),D=v(5922),W=v(56492),B=v(9700),P=v(4032),H=v(25866),j=v(87477),$=v(28067),S=v(21870),I=v(33658),O=v(1749),U=v(55861),N=v(93615),J=v(32034),Z=v(23234),L=v(84930);function C(xe,Be,Ze,Ne,He,Je){return b[0]=xe,b[1]=Be,b[2]=Ze,(0,Z.projectBuffer)(b,Ne,0,He,Je,0,1)}const b=(0,H.vt)();var x=v(93822),R=v(58701),w=v(23743);let K=null,V=null,ue=null,ee={};const te=new P.I;function pe(){return!!K&&(0,I.i)()}function ae(){return!!pe()||((0,B.gc)(te),G(),!1)}function de(xe,Be){return!xe||!Be||X(xe,Be)||ae()}function ve(xe,Be){return!X(xe,Be)&&!pe()}function G(xe){return null==ue&&(ue=Promise.all([(0,I.l)(),v.e(3930).then(v.bind(v,53930)).then(Be=>Be.g),v.e(2076).then(v.bind(v,93723))])),ue.then(([,Be,{hydratedAdapter:Ze}])=>{(0,W.Te)(xe),V=Ze,K=Be.default,K._enableProjection(I.p),te.notify()})}function fe(xe,Be,Ze=null,Ne=null){return Array.isArray(xe)?0===xe.length?[]:ie(V,xe,xe[0].spatialReference,Be,Ze,Ne):ie(V,[xe],xe.spatialReference,Be,Ze,Ne)[0]}function ie(xe,Be,Ze,Ne,He=null,Je=null){if(null==Ze||null==Ne)return Be;if(X(Ze,Ne,He))return Be.map(ut=>_e(ut,Ze,Ne));if(null==He&&(0,j.jA)(Ze))return Be.map(ut=>_e(ut,Ze,J.A.WGS84)).map(ut=>se(ut,Ne));if(null==He&&(0,j.jA)(Ne))return Be.map(ut=>se(ut,J.A.WGS84)).map(ut=>_e(ut,J.A.WGS84,Ne));if(null==He){const ut=x.A.cacheKey(Ze,Ne);void 0!==ee[ut]?He=ee[ut]:(null==(He=re(Ze,Ne,void 0))&&(He=new x.A),ee[ut]=He)}if(null==K||null==xe)throw new oe;return null!=Je?K._project(xe,Be,Ze,Ne,He,Je):K._project(xe,Be,Ze,Ne,He)}function ye(xe,Be){const Ze=q([xe],Be);return null!=Ze.pending?{pending:Ze.pending,geometry:null}:null!=Ze.geometries?{pending:null,geometry:Ze.geometries[0]}:{pending:null,geometry:null}}function q(xe,Be){if(!pe())for(const Ze of xe)if(null!=Ze&&!(0,R.aI)(Ze.spatialReference,Be)&&(0,R.fn)(Ze.spatialReference)&&(0,R.fn)(Be)&&!X(Ze.spatialReference,Be))return(0,B.gc)(te),{pending:G(),geometries:null};return{pending:null,geometries:xe.map(Ze=>null==Ze?null:(0,R.aI)(Ze.spatialReference,Be)?Ze:(0,R.fn)(Ze.spatialReference)&&(0,R.fn)(Be)?se(Ze,Be):null)}}function re(xe,Be,Ze=null){if(null==xe||null==Be)return null;if(null==K||null==V)throw new oe;const Ne=K._getTransformation(V,xe,Be,Ze,Ze?.spatialReference);return null!==Ne?x.A.fromGE(Ne):null}function ce(xe,Be,Ze=null){if(null==K||null==V)throw new oe;const Ne=K._getTransformationBySuitability(V,xe,Be,Ze,Ze?.spatialReference);if(null!==Ne){const He=[];for(const Je of Ne)He.push(x.A.fromGE(Je));return He}return[]}class oe extends D.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function le(){K=null,V=null,ue=null,ee={}}const Se={get loadPromise(){return ue}};function se(xe,Be){try{const Ze=fe(xe,Be);if(null==Ze)return null;"xmin"in xe&&"xmin"in Ze&&(Ze.zmin=xe.zmin,Ze.zmax=xe.zmax);const Ne=(0,w.N)(Ze.type,xe.spatialReference,Be);return Ne?.(Ze),Ze}catch(Ze){if(!(Ze instanceof oe))throw Ze;return null}}function Pe(xe,Be,Ze){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,E.A)(function*(xe,Be,Ze){const Ne=xe.spatialReference;return null!=Ne&&null!=Be&&(yield Le(Ne,Be,null,Ze)),se(xe,Be)})).apply(this,arguments)}function X(xe,Be,Ze){return!Ze&&(!!(0,R.aI)(xe,Be)||(0,R.fn)(xe)&&(0,R.fn)(Be)&&!!(0,L.jd)(xe,Be,L.N9))}function Ee(xe,Be){if((0,R.aI)(xe,Be))return!0;if(!(0,R.fn)(xe)||!(0,R.fn)(Be))return!1;const Ze=(0,R.oT)(xe)||(0,R.K8)(xe)||(0,R.x1)(xe),Ne=(0,R.oT)(Be)||(0,R.K8)(Be)||(0,R.x1)(Be);return Ze&&Ne}function Le(xe,Be,Ze,Ne){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,E.A)(function*(xe,Be,Ze,Ne){if(pe())return(0,W.NO)(Ne);if(Array.isArray(xe)){for(const{source:He,dest:Je,geographicTransformation:ut}of xe)if(He&&Je&&!X(He,Je,ut))return G(Ne)}else if(xe&&Be&&!X(xe,Be,Ze))return G(Ne);return(0,W.NO)(Ne)})).apply(this,arguments)}function _e(xe,Be,Ze){return xe?"x"in xe?ke(xe,Be,new O.A,Ze,0):"xmin"in xe?_t(xe,Be,new $.A,Ze,0):"rings"in xe?rt(xe,Be,new U.A,Ze,0):"paths"in xe?Ke(xe,Be,new N.A,Ze,0):"points"in xe?Q(xe,Be,new S.A,Ze,0):null:null}function we(xe,Be,Ze=Be.spatialReference,Ne=0){return null!=Ze&&null!=xe.spatialReference&&null!=ke(xe,xe.spatialReference,Be,Ze,Ne)}function ke(xe,Be,Ze,Ne,He){qe[0]=xe.x,qe[1]=xe.y;const Je=xe.z;return qe[2]=void 0!==Je?Je:He,(0,Z.projectBuffer)(qe,Be,0,qe,Ne,0,1)?(Ze.x=qe[0],Ze.y=qe[1],Ze.spatialReference=Ne,void 0!==Je||(0,j.xP)(Ne)?(Ze.z=qe[2],Ze.hasZ=!0):(Ze.z=void 0,Ze.hasZ=!1),void 0===xe.m?(Ze.m=void 0,Ze.hasM=!1):(Ze.m=xe.m,Ze.hasM=!0),Ze):null}function Xe(xe,Be,Ze=Be.spatialReference,Ne=0){return null!=xe.spatialReference&&null!=Ze&&null!=Q(xe,xe.spatialReference,Be,Ze,Ne)}function Q(xe,Be,Ze,Ne,He){const{points:Je,hasZ:ut,hasM:dt}=xe,Et=[],Lt=Je.length,jt=[];for(const Gt of Je)jt.push(Gt[0],Gt[1],ut?Gt[2]:He);if(!(0,Z.projectBuffer)(jt,Be,0,jt,Ne,0,Lt))return null;const Kt=ut||(0,j.xP)(Ne);for(let Gt=0;Gt<Lt;++Gt){const Zt=3*Gt,an=jt[Zt],mn=jt[Zt+1];Et.push(Kt&&dt?[an,mn,jt[Zt+2],Je[Gt][3]]:Kt?[an,mn,jt[Zt+2]]:dt?[an,mn,Je[Gt][2]]:[an,mn])}return Ze.points=Et,Ze.spatialReference=Ne,Ze.hasZ=ut,Ze.hasM=dt,Ze}function De(xe,Be,Ze=Be.spatialReference,Ne=0){return null!=xe.spatialReference&&null!=Ze&&null!=Ke(xe,xe.spatialReference,Be,Ze,Ne)}function Ke(xe,Be,Ze,Ne,He){const{paths:Je,hasZ:ut,hasM:dt}=xe,Et=[];if(!tt(Je,ut??!1,dt??!1,Be,Et,Ne,He))return null;const Lt=ut||(0,j.xP)(Ne);return Ze.paths=Et,Ze.spatialReference=Ne,Ze.hasZ=Lt,Ze.hasM=dt,Ze}function Ye(xe,Be,Ze=Be.spatialReference,Ne=0){return null!=xe.spatialReference&&null!=Ze&&null!=rt(xe,xe.spatialReference,Be,Ze,Ne)}function rt(xe,Be,Ze,Ne,He){const{rings:Je,hasZ:ut,hasM:dt}=xe,Et=[];if(!tt(Je,ut??!1,dt??!1,Be,Et,Ne,He))return null;const Lt=ut||(0,j.xP)(Ne);return Ze.rings=Et,Ze.spatialReference=Ne,Ze.hasZ=Lt,Ze.hasM=dt,Ze}function lt(xe,Be,Ze=Be.spatialReference,Ne=0){return null!=xe.spatialReference&&null!=Ze&&null!=_t(xe,xe.spatialReference,Be,Ze,Ne)}function _t(xe,Be,Ze,Ne,He){const{xmin:Je,ymin:ut,xmax:dt,ymax:Et,hasZ:Lt,hasM:jt}=xe;if(!C(Je,ut,Lt?xe.zmin:He,Be,qe,Ne))return null;const Gt=Lt||(0,j.xP)(Ne);return Ze.xmin=qe[0],Ze.ymin=qe[1],Gt&&(Ze.zmin=qe[2]),C(dt,Et,Lt?xe.zmax:He,Be,qe,Ne)?(Ze.xmax=qe[0],Ze.ymax=qe[1],Gt&&(Ze.zmax=qe[2]),jt&&(Ze.mmin=xe.mmin,Ze.mmax=xe.mmax),Ze.spatialReference=Ne,Ze):null}function tt(xe,Be,Ze,Ne,He,Je,ut=0){const dt=new Array;for(const jt of xe)for(const Kt of jt)dt.push(Kt[0],Kt[1],Be?Kt[2]:ut);if(!(0,Z.projectBuffer)(dt,Ne,0,dt,Je,0,dt.length/3))return!1;let Et=0;He.length=0;const Lt=Be||(0,j.xP)(Je);for(const jt of xe){const Kt=new Array;for(const Gt of jt)Lt&&Ze?Kt.push([dt[Et++],dt[Et++],dt[Et++],Gt[3]]):Lt?Kt.push([dt[Et++],dt[Et++],dt[Et++]]):Ze?(Kt.push([dt[Et++],dt[Et++],Gt[2]]),Et++):(Kt.push([dt[Et++],dt[Et++]]),Et++);He.push(Kt)}return!0}const qe=(0,H.vt)()},23234:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{projectBuffer:()=>D});var E=v(84930);function D(W,B,P,H,j,$,S=1){const I=(0,E.jd)(B,j,E.N9);if(null==I)return!1;if(I===E.pO){if(W===H&&P===$)return!0;const U=P+3*S;for(let N=P,J=$;N<U;N++,J++)H[J]=W[N];return!0}const O=P+3*S;for(let U=P,N=$;U<O;U+=3,N+=3)I(W,U,H,N);return!0}},84930:(et,Ae,v)=>{"use strict";v.d(Ae,{rz:()=>N,Qk:()=>C,pO:()=>b,zp:()=>ke,jd:()=>Z,w5:()=>J,N9:()=>Xe,Wv:()=>we});var E=v(69287),D=v(82663),W=v(87477),B=v(47258);Math;const j=B.$O.radius,$=B.$O.eccentricitySquared,S={a1:j*$,a2:j*$*j*$,a3:j*$*$/2,a4:j*$*j*$*2.5,a5:j*$+j*$*$/2,a6:1-$};var N,tt,O=v(58701),U=v(1120);(tt=N||(N={}))[tt.UNKNOWN=0]="UNKNOWN",tt[tt.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",tt[tt.WGS84=2]="WGS84",tt[tt.WEB_MERCATOR=3]="WEB_MERCATOR",tt[tt.WGS84_ECEF=4]="WGS84_ECEF",tt[tt.CGCS2000=5]="CGCS2000",tt[tt.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",tt[tt.GCSMARS2000=7]="GCSMARS2000",tt[tt.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",tt[tt.GCSMOON2000=9]="GCSMOON2000",tt[tt.LON_LAT=10]="LON_LAT",tt[tt.PLATE_CARREE=11]="PLATE_CARREE";const J={[N.WGS84]:{[N.CGCS2000]:b,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:b,[N.SPHERICAL_ECEF]:q,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:V,[N.PLATE_CARREE]:ue,[N.WGS84]:b,[N.WGS84_ECEF]:Ie},[N.CGCS2000]:{[N.CGCS2000]:b,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:b,[N.SPHERICAL_ECEF]:q,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:V,[N.PLATE_CARREE]:ue,[N.WGS84]:b,[N.WGS84_ECEF]:Ie},[N.GCSMARS2000]:{[N.CGCS2000]:null,[N.GCSMARS2000]:b,[N.GCSMOON2000]:null,[N.LON_LAT]:b,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:ye,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.GCSMOON2000]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:b,[N.LON_LAT]:b,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:ie,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.WEB_MERCATOR]:{[N.CGCS2000]:x,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:x,[N.SPHERICAL_ECEF]:function R(tt,qe,xe,Be){const Ze=tt[qe]/rt,Ne=Ye-2*Math.atan(Math.exp(-tt[qe+1]/rt)),He=rt+tt[qe+2],Je=Math.cos(Ne)*He;xe[Be]=Math.cos(Ze)*Je,xe[Be+1]=Math.sin(Ze)*Je,xe[Be+2]=Math.sin(Ne)*He},[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:b,[N.PLATE_CARREE]:function te(tt,qe,xe,Be){x(tt,qe,xe,Be),ue(xe,Be,xe,Be)},[N.WGS84]:x,[N.WGS84_ECEF]:function w(tt,qe,xe,Be){x(tt,qe,xe,Be),Ie(xe,Be,xe,Be)}},[N.WGS84_ECEF]:{[N.CGCS2000]:X,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:X,[N.SPHERICAL_ECEF]:function Ee(tt,qe,xe,Be){X(tt,qe,xe,Be),q(xe,Be,xe,Be)},[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:function Le(tt,qe,xe,Be){X(tt,qe,xe,Be),V(xe,Be,xe,Be)},[N.PLATE_CARREE]:function pe(tt,qe,xe,Be){X(tt,qe,xe,Be),ue(xe,Be,xe,Be)},[N.WGS84]:X,[N.WGS84_ECEF]:b},[N.SPHERICAL_ECEF]:{[N.CGCS2000]:le,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:le,[N.SPHERICAL_ECEF]:b,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:function Se(tt,qe,xe,Be){le(tt,qe,xe,Be),V(xe,Be,xe,Be)},[N.PLATE_CARREE]:function ae(tt,qe,xe,Be){le(tt,qe,xe,Be),ue(xe,Be,xe,Be)},[N.WGS84]:le,[N.WGS84_ECEF]:function se(tt,qe,xe,Be){le(tt,qe,xe,Be),Ie(xe,Be,xe,Be)}},[N.SPHERICAL_MARS_PCPF]:{[N.CGCS2000]:null,[N.GCSMARS2000]:oe,[N.GCSMOON2000]:null,[N.LON_LAT]:oe,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:b,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.SPHERICAL_MOON_PCPF]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:ce,[N.LON_LAT]:ce,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:b,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.UNKNOWN]:{[N.CGCS2000]:null,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:null,[N.SPHERICAL_ECEF]:null,[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:b,[N.WEB_MERCATOR]:null,[N.PLATE_CARREE]:null,[N.WGS84]:null,[N.WGS84_ECEF]:null},[N.LON_LAT]:{[N.CGCS2000]:b,[N.GCSMARS2000]:b,[N.GCSMOON2000]:b,[N.LON_LAT]:b,[N.SPHERICAL_ECEF]:q,[N.SPHERICAL_MARS_PCPF]:ye,[N.SPHERICAL_MOON_PCPF]:ie,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:V,[N.PLATE_CARREE]:ue,[N.WGS84]:b,[N.WGS84_ECEF]:Ie},[N.PLATE_CARREE]:{[N.CGCS2000]:ee,[N.GCSMARS2000]:null,[N.GCSMOON2000]:null,[N.LON_LAT]:ee,[N.SPHERICAL_ECEF]:function de(tt,qe,xe,Be){ee(tt,qe,xe,Be),q(xe,Be,xe,Be)},[N.SPHERICAL_MARS_PCPF]:null,[N.SPHERICAL_MOON_PCPF]:null,[N.UNKNOWN]:null,[N.WEB_MERCATOR]:function ve(tt,qe,xe,Be){ee(tt,qe,xe,Be),V(xe,Be,xe,Be)},[N.PLATE_CARREE]:b,[N.WGS84]:ee,[N.WGS84_ECEF]:function G(tt,qe,xe,Be){ee(tt,qe,xe,Be),Ie(xe,Be,xe,Be)}}};function Z(tt,qe,xe=_e()){return null==tt||null==qe?null:function Oe(tt,qe,xe){if(null==tt||null==qe||xe.source.spatialReference===tt&&xe.dest.spatialReference===qe)return xe;const Be=C(tt,xe.source),Ze=C(qe,xe.dest);return xe.projector=Be===N.UNKNOWN&&Ze===N.UNKNOWN?(0,O.aI)(tt,qe)?b:null:J[Be][Ze],xe}(tt,qe,xe).projector}function C(tt,qe){return tt?qe.spatialReference===tt?qe.spatialReferenceId:(qe.spatialReference=tt,"metersPerUnit"in qe&&(qe.metersPerUnit=(0,D.GA)(tt,1)),qe.spatialReferenceId=(0,W.jA)(tt)?N.SPHERICAL_ECEF:(0,O.oT)(tt)?N.WGS84:(0,O.K8)(tt)?N.WEB_MERCATOR:(0,O.r1)(tt)?N.PLATE_CARREE:tt.wkt===W.Ro.wkt?N.WGS84_ECEF:tt.wkid===U.Y.CGCS2000?N.CGCS2000:tt.wkt===W.FY.wkt?N.SPHERICAL_MARS_PCPF:tt.wkt===W.LJ.wkt?N.SPHERICAL_MOON_PCPF:(0,O.q8)(tt)?N.GCSMARS2000:(0,O.KQ)(tt)?N.GCSMOON2000:N.UNKNOWN):N.UNKNOWN}function b(tt,qe,xe,Be){tt!==xe&&(xe[Be++]=tt[qe++],xe[Be++]=tt[qe++],xe[Be]=tt[qe])}function x(tt,qe,xe,Be){xe[Be]=De*(tt[qe]/rt),xe[Be+1]=De*(Ye-2*Math.atan(Math.exp(-tt[qe+1]/rt))),xe[Be+2]=tt[qe+2]}function V(tt,qe,xe,Be){!function K(tt,qe,xe,Be,Ze){const Ne=.4999999*Ke,He=(0,E.qE)(Q*tt[qe+1],-Ne,Ne),Je=Math.sin(He);xe[Be++]=Q*tt[qe]*Ze.radius,xe[Be++]=Ze.halfSemiMajorAxis*Math.log((1+Je)/(1-Je)),xe[Be]=tt[qe+2]}(tt,qe,xe,Be,B.$O)}function ue(tt,qe,xe,Be){xe[Be]=tt[qe]*lt,xe[Be+1]=tt[qe+1]*lt,xe[Be+2]=tt[qe+2]}function ee(tt,qe,xe,Be){xe[Be]=tt[qe]*_t,xe[Be+1]=tt[qe+1]*_t,xe[Be+2]=tt[qe+2]}function fe(tt,qe,xe,Be,Ze){const Ne=Ze+tt[qe+2],He=Q*tt[qe+1],Je=Q*tt[qe],ut=Math.cos(He)*Ne;xe[Be]=Math.cos(Je)*ut,xe[Be+1]=Math.sin(Je)*ut,xe[Be+2]=Math.sin(He)*Ne}function ie(tt,qe,xe,Be){fe(tt,qe,xe,Be,B.Sw.radius)}function ye(tt,qe,xe,Be){fe(tt,qe,xe,Be,B.sH.radius)}function q(tt,qe,xe,Be){fe(tt,qe,xe,Be,B.$O.radius)}function re(tt,qe,xe,Be,Ze){const Ne=tt[qe],He=tt[qe+1],Je=tt[qe+2],ut=Math.sqrt(Ne*Ne+He*He+Je*Je),dt=(0,E.YN)(Je/(0===ut?1:ut)),Et=Math.atan2(He,Ne);xe[Be++]=De*Et,xe[Be++]=De*dt,xe[Be]=ut-Ze}function ce(tt,qe,xe,Be){re(tt,qe,xe,Be,B.Sw.radius)}function oe(tt,qe,xe,Be){re(tt,qe,xe,Be,B.sH.radius)}function le(tt,qe,xe,Be){re(tt,qe,xe,Be,B.$O.radius)}function Ie(tt,qe,xe,Be){!function Pe(tt,qe,xe,Be,Ze){const Ne=Q*tt[qe],He=Q*tt[qe+1],Je=tt[qe+2],ut=Math.sin(He),dt=Math.cos(He),Et=Ze.radius/Math.sqrt(1-Ze.eccentricitySquared*ut*ut);xe[Be++]=(Et+Je)*dt*Math.cos(Ne),xe[Be++]=(Et+Je)*dt*Math.sin(Ne),xe[Be++]=(Et*(1-Ze.eccentricitySquared)+Je)*ut}(tt,qe,xe,Be,B.$O)}function X(tt,qe,xe,Be){const Ze=S,Ne=tt[qe],He=tt[qe+1],Je=tt[qe+2];let ut,dt,Et,Lt,jt,Kt,Gt,Zt,an,mn,Kn,kn,Cn,Nn,er,Un,ur,fr,ir,wn,Er;ut=Math.abs(Je),dt=Ne*Ne+He*He,Et=Math.sqrt(dt),Lt=dt+Je*Je,jt=Math.sqrt(Lt),wn=Math.atan2(He,Ne),Kt=Je*Je/Lt,Gt=dt/Lt,Nn=Ze.a2/jt,er=Ze.a3-Ze.a4/jt,Gt>.3?(Zt=ut/jt*(1+Gt*(Ze.a1+Nn+Kt*er)/jt),ir=Math.asin(Zt),mn=Zt*Zt,an=Math.sqrt(1-mn)):(an=Et/jt*(1-Kt*(Ze.a5-Nn-Gt*er)/jt),ir=Math.acos(an),mn=1-an*an,Zt=Math.sqrt(mn)),Kn=1-B.$O.eccentricitySquared*mn,kn=B.$O.radius/Math.sqrt(Kn),Cn=Ze.a6*kn,Nn=Et-kn*an,er=ut-Cn*Zt,ur=an*Nn+Zt*er,Un=an*er-Zt*Nn,fr=Un/(Cn/Kn+ur),ir+=fr,Er=ur+Un*fr/2,Je<0&&(ir=-ir),xe[Be++]=De*wn,xe[Be++]=De*ir,xe[Be]=Er}function _e(){return{source:{spatialReference:null,spatialReferenceId:N.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:N.UNKNOWN,metersPerUnit:1},projector:b}}const we={spatialReference:null,spatialReferenceId:N.UNKNOWN},ke={spatialReference:null,spatialReferenceId:N.UNKNOWN},Xe=_e(),Q=(0,E.kU)(1),De=(0,E.KJ)(1),Ke=Math.PI,Ye=.5*Ke,rt=B.$O.radius,lt=rt*Ke/180,_t=180/(rt*Ke)},41510:(et,Ae,v)=>{"use strict";var E,D;v.d(Ae,{_:()=>E}),(D=E||(E={}))[D.X=0]="X",D[D.Y=1]="Y",D[D.Z=2]="Z"},47258:(et,Ae,v)=>{"use strict";v.d(Ae,{$O:()=>D,Sw:()=>B,sH:()=>W});class E{constructor(H,j,$,S){this.semiMajorAxis=H,this.flattening=j,this.outerAtmosphereRimWidth=$,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=S||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const D=new E(6378137,1/298.257223563,3e5,.006694379990137799),W=new E(3396190,1/169.8944472236118,23e4),B=new E(1737400,0,0)},93822:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});let E=0;class D{static fromGE(P){const H=new D;return H._wkt=P.wkt,H._wkid=P.wkid,H._isInverse=P.isInverse,H}constructor(P){this.uid=E++,P?(this._wkt=null!=P.wkt?P.wkt:null,this._wkid=null!=P.wkid?P.wkid:-1,this._isInverse=null!=P.isInverse&&!0===P.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(P){this._wkt=P,this.uid=E++}get wkid(){return this._wkid}set wkid(P){this._wkid=P,this.uid=E++}get isInverse(){return this._isInverse}set isInverse(P){this._isInverse=P,this.uid=E++}getInverse(){const P=new D;return P._wkt=this.wkt,P._wkid=this._wkid,P._isInverse=!this.isInverse,P}}class W{static cacheKey(P,H){return[P.wkid?.toString()??"-1",P.wkt?.toString()??"",P.wkt2?.toString()??"",H.wkid?.toString()??"-1",H.wkt?.toString()??"",H.wkt2?.toString()??""].join()}static fromGE(P){const H=new W;let j="";for(const $ of P.steps){const S=D.fromGE($);H.steps.push(S),j+=S.uid.toString()+","}return H._cachedProjection={},H._gtlistentry=null,H._chain=j,H}constructor(P){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,P?.steps)for(const H of P.steps)this.steps.push(H instanceof D?H:new D({wkid:H.wkid,wkt:H.wkt,isInverse:H.isInverse}))}getInverse(){const P=new W;P.steps=[];for(let H=this.steps.length-1;H>=0;H--)P.steps.push(this.steps[H].getInverse());return P}getGTListEntry(){let P="";for(const H of this.steps)P+=H.uid.toString()+",";return P!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=P),this._gtlistentry}assignCachedGe(P,H,j){this._cachedProjection[W.cacheKey(P,H)]=j}getCachedGeTransformation(P,H){let j="";for(const S of this.steps)j+=S.uid.toString()+",";j!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=j);const $=this._cachedProjection[W.cacheKey(P,H)];return void 0===$?null:$}}},1120:(et,Ae,v)=>{"use strict";var E,D;v.d(Ae,{Y:()=>E}),(D=E||(E={}))[D.CGCS2000=4490]="CGCS2000",D[D.GCSMARS2000=104971]="GCSMARS2000",D[D.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",D[D.GCSMOON2000=104903]="GCSMOON2000"},98946:(et,Ae,v)=>{"use strict";let E;v.d(Ae,{A:()=>D});const D={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(E=2e3;E<=2045;E++)D[E]=0;for(E=2056;E<=2065;E++)D[E]=0;for(E=2067;E<=2135;E++)D[E]=0;for(E=2137;E<=2154;E++)D[E]=0;for(E=2161;E<=2170;E++)D[E]=0;for(E=2172;E<=2193;E++)D[E]=0;for(E=2195;E<=2198;E++)D[E]=0;for(E=2200;E<=2203;E++)D[E]=0;for(E=2205;E<=2217;E++)D[E]=0;for(E=2222;E<=2224;E++)D[E]=1;for(E=2225;E<=2250;E++)D[E]=2;for(E=2251;E<=2253;E++)D[E]=1;for(E=2257;E<=2264;E++)D[E]=2;for(E=2274;E<=2279;E++)D[E]=2;for(E=2280;E<=2282;E++)D[E]=1;for(E=2283;E<=2289;E++)D[E]=2;for(E=2290;E<=2292;E++)D[E]=0;for(E=2308;E<=2313;E++)D[E]=0;for(E=2315;E<=2491;E++)D[E]=0;for(E=2494;E<=2866;E++)D[E]=0;for(E=2867;E<=2869;E++)D[E]=1;for(E=2870;E<=2888;E++)D[E]=2;for(E=2891;E<=2895;E++)D[E]=2;for(E=2896;E<=2898;E++)D[E]=1;for(E=2902;E<=2908;E++)D[E]=2;for(E=2915;E<=2920;E++)D[E]=2;for(E=2921;E<=2923;E++)D[E]=1;for(E=2924;E<=2930;E++)D[E]=2;for(E=2931;E<=2962;E++)D[E]=0;for(E=2964;E<=2968;E++)D[E]=2;for(E=2969;E<=2973;E++)D[E]=0;for(E=2975;E<=2991;E++)D[E]=0;for(E=2995;E<=3051;E++)D[E]=0;for(E=3054;E<=3079;E++)D[E]=0;for(E=3081;E<=3088;E++)D[E]=0;for(E=3092;E<=3101;E++)D[E]=0;for(E=3106;E<=3138;E++)D[E]=0;for(E=3146;E<=3151;E++)D[E]=0;for(E=3153;E<=3166;E++)D[E]=0;for(E=3168;E<=3172;E++)D[E]=0;for(E=3174;E<=3203;E++)D[E]=0;for(E=3294;E<=3358;E++)D[E]=0;for(E=3367;E<=3403;E++)D[E]=0;for(E=3408;E<=3416;E++)D[E]=0;for(E=3417;E<=3438;E++)D[E]=2;for(E=3441;E<=3446;E++)D[E]=2;for(E=3447;E<=3450;E++)D[E]=0;for(E=3451;E<=3459;E++)D[E]=2;for(E=3460;E<=3478;E++)D[E]=0;for(E=3554;E<=3559;E++)D[E]=0;for(E=3560;E<=3570;E++)D[E]=2;for(E=3571;E<=3581;E++)D[E]=0;for(E=3594;E<=3597;E++)D[E]=0;for(E=3601;E<=3604;E++)D[E]=0;for(E=3637;E<=3639;E++)D[E]=0;for(E=3665;E<=3667;E++)D[E]=0;for(E=3693;E<=3695;E++)D[E]=0;for(E=3701;E<=3727;E++)D[E]=0;for(E=3728;E<=3739;E++)D[E]=2;for(E=3740;E<=3751;E++)D[E]=0;for(E=3753;E<=3760;E++)D[E]=2;for(E=3761;E<=3773;E++)D[E]=0;for(E=3775;E<=3777;E++)D[E]=0;for(E=3779;E<=3781;E++)D[E]=0;for(E=3783;E<=3785;E++)D[E]=0;for(E=3788;E<=3791;E++)D[E]=0;for(E=3797;E<=3802;E++)D[E]=0;for(E=3814;E<=3816;E++)D[E]=0;for(E=3825;E<=3829;E++)D[E]=0;for(E=3832;E<=3841;E++)D[E]=0;for(E=3844;E<=3852;E++)D[E]=0;for(E=3873;E<=3885;E++)D[E]=0;for(E=3890;E<=3893;E++)D[E]=0;for(E=3907;E<=3912;E++)D[E]=0;for(E=3942;E<=3950;E++)D[E]=0;for(E=3968;E<=3970;E++)D[E]=0;for(E=3973;E<=3976;E++)D[E]=0;for(E=3986;E<=3989;E++)D[E]=0;for(E=3994;E<=3997;E++)D[E]=0;for(E=4048;E<=4051;E++)D[E]=0;for(E=4056;E<=4063;E++)D[E]=0;for(E=4093;E<=4096;E++)D[E]=0;for(E=4390;E<=4398;E++)D[E]=0;for(E=4399;E<=4413;E++)D[E]=2;for(E=4418;E<=4433;E++)D[E]=2;for(E=4455;E<=4457;E++)D[E]=2;for(E=4484;E<=4489;E++)D[E]=0;for(E=4491;E<=4554;E++)D[E]=0;for(E=4568;E<=4589;E++)D[E]=0;for(E=4652;E<=4656;E++)D[E]=0;for(E=4766;E<=4800;E++)D[E]=0;for(E=5014;E<=5016;E++)D[E]=0;for(E=5069;E<=5072;E++)D[E]=0;for(E=5105;E<=5130;E++)D[E]=0;for(E=5167;E<=5188;E++)D[E]=0;for(E=5253;E<=5259;E++)D[E]=0;for(E=5269;E<=5275;E++)D[E]=0;for(E=5292;E<=5311;E++)D[E]=0;for(E=5329;E<=5331;E++)D[E]=0;for(E=5343;E<=5349;E++)D[E]=0;for(E=5355;E<=5357;E++)D[E]=0;for(E=5387;E<=5389;E++)D[E]=0;for(E=5459;E<=5463;E++)D[E]=0;for(E=5479;E<=5482;E++)D[E]=0;for(E=5518;E<=5520;E++)D[E]=0;for(E=5530;E<=5539;E++)D[E]=0;for(E=5550;E<=5552;E++)D[E]=0;for(E=5562;E<=5583;E++)D[E]=0;for(E=5623;E<=5625;E++)D[E]=2;for(E=5631;E<=5639;E++)D[E]=0;for(E=5649;E<=5653;E++)D[E]=0;for(E=5663;E<=5680;E++)D[E]=0;for(E=5682;E<=5685;E++)D[E]=0;for(E=5875;E<=5877;E++)D[E]=0;for(E=5896;E<=5899;E++)D[E]=0;for(E=5921;E<=5940;E++)D[E]=0;for(E=6050;E<=6125;E++)D[E]=0;for(E=6244;E<=6275;E++)D[E]=0;for(E=6328;E<=6348;E++)D[E]=0;for(E=6350;E<=6356;E++)D[E]=0;for(E=6366;E<=6372;E++)D[E]=0;for(E=6381;E<=6387;E++)D[E]=0;for(E=6393;E<=6404;E++)D[E]=0;for(E=6480;E<=6483;E++)D[E]=0;for(E=6511;E<=6514;E++)D[E]=0;for(E=6579;E<=6581;E++)D[E]=0;for(E=6619;E<=6624;E++)D[E]=0;for(E=6625;E<=6627;E++)D[E]=2;for(E=6628;E<=6632;E++)D[E]=0;for(E=6634;E<=6637;E++)D[E]=0;for(E=6669;E<=6692;E++)D[E]=0;for(E=6707;E<=6709;E++)D[E]=0;for(E=6720;E<=6723;E++)D[E]=0;for(E=6732;E<=6738;E++)D[E]=0;for(E=6931;E<=6933;E++)D[E]=0;for(E=6956;E<=6959;E++)D[E]=0;for(E=7005;E<=7007;E++)D[E]=0;for(E=7057;E<=7070;E++)D[E]=2;for(E=7074;E<=7082;E++)D[E]=0;for(E=7109;E<=7118;E++)D[E]=0;for(E=7119;E<=7127;E++)D[E]=1;for(E=7374;E<=7376;E++)D[E]=0;for(E=7528;E<=7586;E++)D[E]=0;for(E=7587;E<=7645;E++)D[E]=2;for(E=7692;E<=7696;E++)D[E]=0;for(E=7755;E<=7787;E++)D[E]=0;for(E=7791;E<=7795;E++)D[E]=0;for(E=7799;E<=7801;E++)D[E]=0;for(E=7803;E<=7805;E++)D[E]=0;for(E=7825;E<=7831;E++)D[E]=0;for(E=7845;E<=7859;E++)D[E]=0;for(E=8013;E<=8032;E++)D[E]=0;for(E=8065;E<=8068;E++)D[E]=1;for(E=8518;E<=8529;E++)D[E]=2;for(E=8533;E<=8536;E++)D[E]=2;for(E=8538;E<=8540;E++)D[E]=2;for(E=8677;E<=8679;E++)D[E]=0;for(E=8836;E<=8840;E++)D[E]=0;for(E=8857;E<=8859;E++)D[E]=0;for(E=8908;E<=8910;E++)D[E]=0;for(E=9154;E<=9159;E++)D[E]=0;for(E=9205;E<=9218;E++)D[E]=0;for(E=9271;E<=9273;E++)D[E]=0;for(E=9295;E<=9297;E++)D[E]=0;for(E=9356;E<=9360;E++)D[E]=0;for(E=9404;E<=9407;E++)D[E]=0;for(E=9476;E<=9482;E++)D[E]=0;for(E=9487;E<=9494;E++)D[E]=0;for(E=9697;E<=9699;E++)D[E]=0;for(E=9821;E<=9865;E++)D[E]=0;for(E=10285;E<=10291;E++)D[E]=0;for(E=10314;E<=10317;E++)D[E]=0;for(E=10448;E<=10465;E++)D[E]=0;for(E=10731;E<=10733;E++)D[E]=0;for(E=11114;E<=11118;E++)D[E]=0;for(E=20004;E<=20032;E++)D[E]=0;for(E=20047;E<=20049;E++)D[E]=0;for(E=20062;E<=20092;E++)D[E]=0;for(E=20135;E<=20138;E++)D[E]=0;for(E=20248;E<=20258;E++)D[E]=0;for(E=20348;E<=20358;E++)D[E]=0;for(E=20436;E<=20440;E++)D[E]=0;for(E=20822;E<=20824;E++)D[E]=0;for(E=20904;E<=20932;E++)D[E]=0;for(E=20934;E<=20936;E++)D[E]=0;for(E=21004;E<=21032;E++)D[E]=0;for(E=21035;E<=21037;E++)D[E]=0;for(E=21095;E<=21097;E++)D[E]=0;for(E=21148;E<=21150;E++)D[E]=0;for(E=21207;E<=21264;E++)D[E]=0;for(E=21307;E<=21364;E++)D[E]=0;for(E=21413;E<=21423;E++)D[E]=0;for(E=21453;E<=21463;E++)D[E]=0;for(E=21473;E<=21483;E++)D[E]=0;for(E=21780;E<=21782;E++)D[E]=0;for(E=21891;E<=21894;E++)D[E]=0;for(E=21896;E<=21899;E++)D[E]=0;for(E=22171;E<=22177;E++)D[E]=0;for(E=22181;E<=22187;E++)D[E]=0;for(E=22191;E<=22197;E++)D[E]=0;for(E=22207;E<=22222;E++)D[E]=0;for(E=22229;E<=22232;E++)D[E]=0;for(E=22234;E<=22236;E++)D[E]=0;for(E=22243;E<=22250;E++)D[E]=0;for(E=22262;E<=22265;E++)D[E]=0;for(E=22307;E<=22322;E++)D[E]=0;for(E=22348;E<=22357;E++)D[E]=0;for(E=22407;E<=22422;E++)D[E]=0;for(E=22462;E<=22465;E++)D[E]=0;for(E=22521;E<=22525;E++)D[E]=0;for(E=22607;E<=22622;E++)D[E]=0;for(E=22641;E<=22646;E++)D[E]=0;for(E=22648;E<=22657;E++)D[E]=0;for(E=22707;E<=22722;E++)D[E]=0;for(E=22762;E<=22765;E++)D[E]=0;for(E=22807;E<=22822;E++)D[E]=0;for(E=22991;E<=22994;E++)D[E]=0;for(E=23028;E<=23038;E++)D[E]=0;for(E=23301;E<=23333;E++)D[E]=2;for(E=23830;E<=23853;E++)D[E]=0;for(E=23866;E<=23872;E++)D[E]=0;for(E=23877;E<=23884;E++)D[E]=0;for(E=23886;E<=23894;E++)D[E]=0;for(E=23946;E<=23948;E++)D[E]=0;for(E=24311;E<=24313;E++)D[E]=0;for(E=24342;E<=24347;E++)D[E]=0;for(E=24370;E<=24374;E++)D[E]=10;for(E=24375;E<=24381;E++)D[E]=0;for(E=24718;E<=24721;E++)D[E]=0;for(E=24817;E<=24821;E++)D[E]=0;for(E=24877;E<=24882;E++)D[E]=0;for(E=24891;E<=24893;E++)D[E]=0;for(E=25391;E<=25395;E++)D[E]=0;for(E=25828;E<=25838;E++)D[E]=0;for(E=26191;E<=26195;E++)D[E]=0;for(E=26391;E<=26393;E++)D[E]=0;for(E=26701;E<=26722;E++)D[E]=0;for(E=26729;E<=26799;E++)D[E]=2;for(E=26801;E<=26803;E++)D[E]=2;for(E=26811;E<=26813;E++)D[E]=2;for(E=26847;E<=26870;E++)D[E]=2;for(E=26891;E<=26899;E++)D[E]=0;for(E=26901;E<=26923;E++)D[E]=0;for(E=26929;E<=26946;E++)D[E]=0;for(E=26948;E<=26998;E++)D[E]=0;for(E=27037;E<=27040;E++)D[E]=0;for(E=27205;E<=27232;E++)D[E]=0;for(E=27258;E<=27260;E++)D[E]=0;for(E=27391;E<=27398;E++)D[E]=0;for(E=27561;E<=27564;E++)D[E]=0;for(E=27571;E<=27574;E++)D[E]=0;for(E=27581;E<=27584;E++)D[E]=0;for(E=27591;E<=27594;E++)D[E]=0;for(E=27700;E<=27707;E++)D[E]=0;for(E=28191;E<=28193;E++)D[E]=0;for(E=28348;E<=28358;E++)D[E]=0;for(E=28402;E<=28432;E++)D[E]=0;for(E=28462;E<=28492;E++)D[E]=0;for(E=29118;E<=29122;E++)D[E]=0;for(E=29168;E<=29172;E++)D[E]=0;for(E=29177;E<=29185;E++)D[E]=0;for(E=29187;E<=29195;E++)D[E]=0;for(E=29900;E<=29903;E++)D[E]=0;for(E=30161;E<=30179;E++)D[E]=0;for(E=30491;E<=30494;E++)D[E]=0;for(E=30729;E<=30732;E++)D[E]=0;for(E=31251;E<=31259;E++)D[E]=0;for(E=31265;E<=31268;E++)D[E]=0;for(E=31275;E<=31279;E++)D[E]=0;for(E=31281;E<=31297;E++)D[E]=0;for(E=31461;E<=31469;E++)D[E]=0;for(E=31491;E<=31495;E++)D[E]=0;for(E=31917;E<=31922;E++)D[E]=0;for(E=31965;E<=32e3;E++)D[E]=0;for(E=32001;E<=32003;E++)D[E]=2;for(E=32005;E<=32031;E++)D[E]=2;for(E=32033;E<=32060;E++)D[E]=2;for(E=32064;E<=32067;E++)D[E]=2;for(E=32074;E<=32077;E++)D[E]=2;for(E=32081;E<=32086;E++)D[E]=0;for(E=32107;E<=32130;E++)D[E]=0;for(E=32133;E<=32159;E++)D[E]=0;for(E=32164;E<=32167;E++)D[E]=2;for(E=32180;E<=32199;E++)D[E]=0;for(E=32201;E<=32260;E++)D[E]=0;for(E=32301;E<=32360;E++)D[E]=0;for(E=32401;E<=32460;E++)D[E]=0;for(E=32501;E<=32560;E++)D[E]=0;for(E=32601;E<=32662;E++)D[E]=0;for(E=32664;E<=32667;E++)D[E]=2;for(E=32701;E<=32761;E++)D[E]=0;for(E=53001;E<=53004;E++)D[E]=0;for(E=53008;E<=53019;E++)D[E]=0;for(E=53021;E<=53032;E++)D[E]=0;for(E=53034;E<=53037;E++)D[E]=0;for(E=53042;E<=53046;E++)D[E]=0;for(E=53074;E<=53080;E++)D[E]=0;for(E=54001;E<=54004;E++)D[E]=0;for(E=54008;E<=54019;E++)D[E]=0;for(E=54021;E<=54032;E++)D[E]=0;for(E=54034;E<=54037;E++)D[E]=0;for(E=54042;E<=54046;E++)D[E]=0;for(E=54048;E<=54053;E++)D[E]=0;for(E=54074;E<=54080;E++)D[E]=0;for(E=54098;E<=54101;E++)D[E]=0;for(E=102001;E<=102040;E++)D[E]=0;for(E=102042;E<=102063;E++)D[E]=0;for(E=102065;E<=102067;E++)D[E]=0;for(E=102070;E<=102117;E++)D[E]=0;for(E=102122;E<=102216;E++)D[E]=0;for(E=102221;E<=102377;E++)D[E]=0;for(E=102382;E<=102388;E++)D[E]=0;for(E=102389;E<=102398;E++)D[E]=2;for(E=102399;E<=102444;E++)D[E]=0;for(E=102445;E<=102447;E++)D[E]=2;for(E=102448;E<=102458;E++)D[E]=0;for(E=102459;E<=102468;E++)D[E]=2;for(E=102469;E<=102499;E++)D[E]=0;for(E=102500;E<=102519;E++)D[E]=1;for(E=102520;E<=102524;E++)D[E]=0;for(E=102525;E<=102529;E++)D[E]=2;for(E=102530;E<=102588;E++)D[E]=0;for(E=102590;E<=102598;E++)D[E]=0;for(E=102601;E<=102603;E++)D[E]=0;for(E=102605;E<=102628;E++)D[E]=0;for(E=102629;E<=102646;E++)D[E]=2;for(E=102648;E<=102700;E++)D[E]=2;for(E=102701;E<=102703;E++)D[E]=0;for(E=102707;E<=102730;E++)D[E]=2;for(E=102733;E<=102758;E++)D[E]=2;for(E=102767;E<=102900;E++)D[E]=0;for(E=102901;E<=102933;E++)D[E]=2;for(E=102934;E<=102950;E++)D[E]=13;for(E=102951;E<=102963;E++)D[E]=0;for(E=102965;E<=102969;E++)D[E]=0;for(E=102971;E<=102973;E++)D[E]=0;for(E=102975;E<=102989;E++)D[E]=0;for(E=102990;E<=102992;E++)D[E]=1;for(E=102997;E<=103002;E++)D[E]=0;for(E=103003;E<=103008;E++)D[E]=2;for(E=103009;E<=103011;E++)D[E]=0;for(E=103012;E<=103014;E++)D[E]=2;for(E=103019;E<=103021;E++)D[E]=0;for(E=103022;E<=103024;E++)D[E]=2;for(E=103029;E<=103031;E++)D[E]=0;for(E=103032;E<=103034;E++)D[E]=2;for(E=103065;E<=103068;E++)D[E]=0;for(E=103074;E<=103076;E++)D[E]=0;for(E=103077;E<=103079;E++)D[E]=1;for(E=103080;E<=103082;E++)D[E]=0;for(E=103083;E<=103085;E++)D[E]=2;for(E=103090;E<=103093;E++)D[E]=0;for(E=103097;E<=103099;E++)D[E]=0;for(E=103100;E<=103102;E++)D[E]=2;for(E=103107;E<=103109;E++)D[E]=0;for(E=103110;E<=103112;E++)D[E]=2;for(E=103113;E<=103116;E++)D[E]=0;for(E=103117;E<=103120;E++)D[E]=2;for(E=103153;E<=103157;E++)D[E]=0;for(E=103158;E<=103162;E++)D[E]=2;for(E=103163;E<=103165;E++)D[E]=0;for(E=103166;E<=103168;E++)D[E]=1;for(E=103169;E<=103171;E++)D[E]=2;for(E=103186;E<=103188;E++)D[E]=0;for(E=103189;E<=103191;E++)D[E]=2;for(E=103192;E<=103195;E++)D[E]=0;for(E=103196;E<=103199;E++)D[E]=2;for(E=103200;E<=103224;E++)D[E]=0;for(E=103225;E<=103227;E++)D[E]=1;for(E=103232;E<=103237;E++)D[E]=0;for(E=103238;E<=103243;E++)D[E]=2;for(E=103244;E<=103246;E++)D[E]=0;for(E=103247;E<=103249;E++)D[E]=2;for(E=103254;E<=103256;E++)D[E]=0;for(E=103257;E<=103259;E++)D[E]=2;for(E=103264;E<=103266;E++)D[E]=0;for(E=103267;E<=103269;E++)D[E]=2;for(E=103300;E<=103375;E++)D[E]=0;for(E=103381;E<=103383;E++)D[E]=0;for(E=103384;E<=103386;E++)D[E]=1;for(E=103387;E<=103389;E++)D[E]=0;for(E=103390;E<=103392;E++)D[E]=2;for(E=103397;E<=103399;E++)D[E]=0;for(E=103400;E<=103471;E++)D[E]=2;for(E=103476;E<=103478;E++)D[E]=0;for(E=103479;E<=103481;E++)D[E]=2;for(E=103486;E<=103488;E++)D[E]=0;for(E=103489;E<=103491;E++)D[E]=2;for(E=103492;E<=103495;E++)D[E]=0;for(E=103496;E<=103499;E++)D[E]=2;for(E=103528;E<=103543;E++)D[E]=0;for(E=103544;E<=103548;E++)D[E]=2;for(E=103549;E<=103551;E++)D[E]=0;for(E=103552;E<=103554;E++)D[E]=1;for(E=103555;E<=103557;E++)D[E]=2;for(E=103558;E<=103560;E++)D[E]=0;for(E=103571;E<=103573;E++)D[E]=0;for(E=103574;E<=103576;E++)D[E]=2;for(E=103577;E<=103580;E++)D[E]=0;for(E=103581;E<=103583;E++)D[E]=2;for(E=103595;E<=103694;E++)D[E]=0;for(E=103696;E<=103699;E++)D[E]=0;for(E=103700;E<=103793;E++)D[E]=2;for(E=103794;E<=103890;E++)D[E]=0;for(E=103891;E<=103896;E++)D[E]=2;for(E=103900;E<=103971;E++)D[E]=2;for(E=103972;E<=103977;E++)D[E]=0;for(E=112e3;E<=112101;E++)D[E]=0},2296:(et,Ae,v)=>{"use strict";v.d(Ae,{BI:()=>oe,Ej:()=>w,Hq:()=>U,Ie:()=>q,Jt:()=>ce,Ne:()=>fe,RF:()=>S,aI:()=>se,fA:()=>P,hZ:()=>ye,iT:()=>O,is:()=>le,qv:()=>X,vI:()=>ie,v_:()=>Ee,vt:()=>B,w1:()=>j});var E=v(28067);function B(Oe=Ee){return[Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]]}function P(Oe,_e,we,ke,Xe,Q,De=B()){return De[0]=Oe,De[1]=_e,De[2]=we,De[3]=ke,De[4]=Xe,De[5]=Q,De}function j(Oe,_e){const we=isFinite(Oe[2])||isFinite(Oe[5]);return new E.A(we?{xmin:Oe[0],xmax:Oe[3],ymin:Oe[1],ymax:Oe[4],zmin:Oe[2],zmax:Oe[5],spatialReference:_e}:{xmin:Oe[0],xmax:Oe[3],ymin:Oe[1],ymax:Oe[4],spatialReference:_e})}function S(Oe,_e){Oe[0]=Math.min(Oe[0],_e[0]),Oe[1]=Math.min(Oe[1],_e[1]),Oe[2]=Math.min(Oe[2],_e[2]),Oe[3]=Math.max(Oe[3],_e[3]),Oe[4]=Math.max(Oe[4],_e[4]),Oe[5]=Math.max(Oe[5],_e[5])}function O(Oe,_e){Oe[0]=Math.min(Oe[0],_e[0]),Oe[1]=Math.min(Oe[1],_e[1]),Oe[2]=Math.min(Oe[2],_e[2]),Oe[3]=Math.max(Oe[3],_e[0]),Oe[4]=Math.max(Oe[4],_e[1]),Oe[5]=Math.max(Oe[5],_e[2])}function U(Oe,_e,we=0,ke=_e.length/3){let Xe=Oe[0],Q=Oe[1],De=Oe[2],Ke=Oe[3],Ye=Oe[4],rt=Oe[5];for(let lt=0;lt<ke;lt++)Xe=Math.min(Xe,_e[we+3*lt]),Q=Math.min(Q,_e[we+3*lt+1]),De=Math.min(De,_e[we+3*lt+2]),Ke=Math.max(Ke,_e[we+3*lt]),Ye=Math.max(Ye,_e[we+3*lt+1]),rt=Math.max(rt,_e[we+3*lt+2]);Oe[0]=Xe,Oe[1]=Q,Oe[2]=De,Oe[3]=Ke,Oe[4]=Ye,Oe[5]=rt}function w(Oe,_e=[0,0,0]){return _e[0]=function L(Oe){return Oe[0]>=Oe[3]?0:Oe[3]-Oe[0]}(Oe),_e[1]=function C(Oe){return Oe[1]>=Oe[4]?0:Oe[4]-Oe[1]}(Oe),_e[2]=function b(Oe){return Oe[2]>=Oe[5]?0:Oe[5]-Oe[2]}(Oe),_e}function fe(Oe,_e,we=Oe){return we[0]=_e[0],we[1]=_e[1],we[2]=_e[2],we!==Oe&&(we[3]=Oe[3],we[4]=Oe[4],we[5]=Oe[5]),we}function ie(Oe,_e,we=Oe){return we[3]=_e[0],we[4]=_e[1],we[5]=_e[2],we!==Oe&&(we[0]=Oe[0],we[1]=Oe[1],we[2]=Oe[2]),Oe}function ye(Oe,_e){return Oe[0]=_e[0],Oe[1]=_e[1],Oe[2]=_e[2],Oe[3]=_e[3],Oe[4]=_e[4],Oe[5]=_e[5],Oe}function q(Oe){return Oe?ye(Oe,X):B(X)}function ce(Oe,_e){return Oe[0]=_e[0],Oe[1]=_e[1],Oe[2]=Number.NEGATIVE_INFINITY,Oe[3]=_e[2],Oe[4]=_e[3],Oe[5]=Number.POSITIVE_INFINITY,Oe}function oe(Oe,_e,we,ke,Xe){return Oe[0]=_e,Oe[1]=we,Oe[2]=Number.NEGATIVE_INFINITY,Oe[3]=ke,Oe[4]=Xe,Oe[5]=Number.POSITIVE_INFINITY,Oe}function le(Oe){return 6===Oe.length}function se(Oe,_e,we){if(null==Oe||null==_e)return Oe===_e;if(!le(Oe)||!le(_e))return!1;if(we){for(let ke=0;ke<Oe.length;ke++)if(!we(Oe[ke],_e[ke]))return!1}else for(let ke=0;ke<Oe.length;ke++)if(Oe[ke]!==_e[ke])return!1;return!0}v(51995);const X=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Ee=[0,0,0,0,0,0];B()},51995:(et,Ae,v)=>{"use strict";v.d(Ae,{HY:()=>pe,Ie:()=>re,Rj:()=>ue,VL:()=>Z,VY:()=>S,Wc:()=>C,aI:()=>le,fA:()=>$,fT:()=>U,gR:()=>ae,qv:()=>se,tK:()=>O,uJ:()=>L,vt:()=>P,w1:()=>I}),v(3248),v(69287);var W=v(28067);function P(X=Pe){return[X[0],X[1],X[2],X[3]]}function j(X,Ee){return X!==Ee&&(X[0]=Ee[0],X[1]=Ee[1],X[2]=Ee[2],X[3]=Ee[3]),X}function $(X,Ee,Le,Oe,_e=P()){return _e[0]=X,_e[1]=Ee,_e[2]=Le,_e[3]=Oe,_e}function S(X,Ee=P()){return Ee[0]=X.xmin,Ee[1]=X.ymin,Ee[2]=X.xmax,Ee[3]=X.ymax,Ee}function I(X,Ee){return new W.A({xmin:X[0],ymin:X[1],xmax:X[2],ymax:X[3],spatialReference:Ee})}function O(X,Ee){Ee[0]<X[0]&&(X[0]=Ee[0]),Ee[0]>X[2]&&(X[2]=Ee[0]),Ee[1]<X[1]&&(X[1]=Ee[1]),Ee[1]>X[3]&&(X[3]=Ee[1])}function U(X,Ee,Le){if(null!=Ee)if("length"in Ee)ce(Ee)?(Le[0]=Math.min(X[0],Ee[0]),Le[1]=Math.min(X[1],Ee[1]),Le[2]=Math.max(X[2],Ee[2]),Le[3]=Math.max(X[3],Ee[3])):2!==Ee.length&&3!==Ee.length||(Le[0]=Math.min(X[0],Ee[0]),Le[1]=Math.min(X[1],Ee[1]),Le[2]=Math.max(X[2],Ee[0]),Le[3]=Math.max(X[3],Ee[1]));else switch(Ee.type){case"extent":Le[0]=Math.min(X[0],Ee.xmin),Le[1]=Math.min(X[1],Ee.ymin),Le[2]=Math.max(X[2],Ee.xmax),Le[3]=Math.max(X[3],Ee.ymax);break;case"point":Le[0]=Math.min(X[0],Ee.x),Le[1]=Math.min(X[1],Ee.y),Le[2]=Math.max(X[2],Ee.x),Le[3]=Math.max(X[3],Ee.y)}else j(Le,X)}function Z(X){return null==X||X[0]>=X[2]?0:X[2]-X[0]}function L(X){return null==X||X[1]>=X[3]?0:X[3]-X[1]}function C(X){return Z(X)*L(X)}function ue(X,Ee,Le){return Ee>=X[0]&&Le>=X[1]&&Ee<=X[2]&&Le<=X[3]}function pe(X,Ee){return Math.max(Ee[0],X[0])<=Math.min(Ee[2],X[2])&&Math.max(Ee[1],X[1])<=Math.min(Ee[3],X[3])}function ae(X,Ee){return Ee[0]>=X[0]&&Ee[2]<=X[2]&&Ee[1]>=X[1]&&Ee[3]<=X[3]}function re(X){return X?j(X,se):P(se)}function ce(X){return null!=X&&4===X.length}function le(X,Ee){return ce(X)&&ce(Ee)?X[0]===Ee[0]&&X[1]===Ee[1]&&X[2]===Ee[2]&&X[3]===Ee[3]:X===Ee}const se=[1/0,1/0,-1/0,-1/0],Pe=[0,0,0,0]},83065:(et,Ae,v)=>{"use strict";v.d(Ae,{B$:()=>U,LJ:()=>N,Pj:()=>L,Rg:()=>I,Yz:()=>J,z8:()=>O});var E=v(51995);function D(C){return void 0!==C.xmin&&void 0!==C.ymin&&void 0!==C.xmax&&void 0!==C.ymax}function W(C){return void 0!==C.points}function B(C){return void 0!==C.x&&void 0!==C.y}function P(C){return void 0!==C.paths}function H(C){return void 0!==C.rings}function j(C){return function b(x,R){return null==x?R:null==R?x:C(x,R)}}const $=j(Math.min),S=j(Math.max);function I(C,b){return P(b)?J(C,b.paths,!1,!1):H(b)?J(C,b.rings,!1,!1):W(b)?L(C,b.points,!1,!1,!1,!1):D(b)?Z(C,b):(B(b)&&(C[0]=b.x,C[1]=b.y,C[2]=b.x,C[3]=b.y),C)}function O(C){let b,x,R,w;for(C.reset(),b=R=1/0,x=w=-1/0;C.nextPath();){const K=U(C);b=Math.min(K[0],b),R=Math.min(K[1],R),x=Math.max(K[2],x),w=Math.max(K[3],w)}return(0,E.vt)([b,R,x,w])}function U(C){let b,x,R,w;for(b=R=1/0,x=w=-1/0;C.nextPoint();)b=Math.min(C.x,b),R=Math.min(C.y,R),x=Math.max(C.x,x),w=Math.max(C.y,w);return(0,E.vt)([b,R,x,w])}function N(C,b){return P(b)?J(C,b.paths,!0,!1):H(b)?J(C,b.rings,!0,!1):W(b)?L(C,b.points,!0,!1,!0,!1):D(b)?Z(C,b,0,0,!0,!1):(B(b)&&(C[0]=b.x,C[1]=b.y,C[2]=b.z,C[3]=b.x,C[4]=b.y,C[5]=b.z),C)}function J(C,b,x,R){const w=x?3:2;if(!b.length||!b[0].length)return null;let K,V,ue,ee,[te,pe]=b[0][0],[ae,de]=b[0][0];for(let ve=0;ve<b.length;ve++){const G=b[ve];for(let fe=0;fe<G.length;fe++){const ie=G[fe],[ye,q]=ie;if(te=$(te,ye),pe=$(pe,q),ae=S(ae,ye),de=S(de,q),x&&ie.length>2){const re=ie[2];K=$(K,re),V=S(V,re)}if(R&&ie.length>w){const re=ie[w];ue=$(K,re),ee=S(V,re)}}}return x?R?(C[0]=te,C[1]=pe,C[2]=K,C[3]=ue,C[4]=ae,C[5]=de,C[6]=V,C[7]=ee,C.length=8,C):(C[0]=te,C[1]=pe,C[2]=K,C[3]=ae,C[4]=de,C[5]=V,C.length=6,C):R?(C[0]=te,C[1]=pe,C[2]=ue,C[3]=ae,C[4]=de,C[5]=ee,C.length=6,C):(C[0]=te,C[1]=pe,C[2]=ae,C[3]=de,C.length=4,C)}function Z(C,b,x,R,w,K){const V=b.xmin,ue=b.xmax,ee=b.ymin,te=b.ymax;let pe=b.zmin,ae=b.zmax,de=b.mmin,ve=b.mmax;return w?(pe=pe||0,ae=ae||0,K?(de=de||0,ve=ve||0,C[0]=V,C[1]=ee,C[2]=pe,C[3]=de,C[4]=ue,C[5]=te,C[6]=ae,C[7]=ve,C):(C[0]=V,C[1]=ee,C[2]=pe,C[3]=ue,C[4]=te,C[5]=ae,C)):K?(de=de||0,ve=ve||0,C[0]=V,C[1]=ee,C[2]=de,C[3]=ue,C[4]=te,C[5]=ve,C):(C[0]=V,C[1]=ee,C[2]=ue,C[3]=te,C)}function L(C,b,x,R,w,K){const V=x?3:2,ue=R&&K,ee=x&&w;if(!b.length||!b[0].length)return null;let te,pe,ae,de,[ve,G]=b[0],[fe,ie]=b[0];for(let ye=0;ye<b.length;ye++){const q=b[ye],[re,ce]=q;if(ve=$(ve,re),G=$(G,ce),fe=S(fe,re),ie=S(ie,ce),ee&&q.length>2){const oe=q[2];te=$(te,oe),pe=S(pe,oe)}if(ue&&q.length>V){const oe=q[V];ae=$(te,oe),de=S(pe,oe)}}return w?(te=te||0,pe=pe||0,K?(ae=ae||0,de=de||0,C[0]=ve,C[1]=G,C[2]=te,C[3]=ae,C[4]=fe,C[5]=ie,C[6]=pe,C[7]=de,C):(C[0]=ve,C[1]=G,C[2]=te,C[3]=fe,C[4]=ie,C[5]=pe,C)):K?(ae=ae||0,de=de||0,C[0]=ve,C[1]=G,C[2]=ae,C[3]=fe,C[4]=ie,C[5]=de,C):(C[0]=ve,C[1]=G,C[2]=fe,C[3]=ie,C)}},39239:(et,Ae,v)=>{"use strict";v.d(Ae,{S8:()=>P,TP:()=>U,Z4:()=>W,l8:()=>B,w2:()=>j});var E=v(53262),D=v(15268);function W(Z){return Z?Z.hasZ?[Z.xmax-Z.xmin/2,Z.ymax-Z.ymin/2,Z.zmax-Z.zmin/2]:[Z.xmax-Z.xmin/2,Z.ymax-Z.ymin/2]:null}function B(Z){return Z?P(Z.rings,Z.hasZ??!1):null}function P(Z,L){if(!Z?.length)return null;const C=[],b=[],x=L?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let R=0,w=Z.length;R<w;R++){const K=H(Z[R],L,x);K&&b.push(K)}if(b.sort((R,w)=>{let K=R[2]-w[2];return 0===K&&L&&(K=R[4]-w[4]),K}),b.length&&(C[0]=b[0][0],C[1]=b[0][1],L&&(C[2]=b[0][3]),(C[0]<x[0]||C[0]>x[1]||C[1]<x[2]||C[1]>x[3]||L&&(C[2]<x[4]||C[2]>x[5]))&&(C.length=0)),!C.length){const R=Z[0]&&Z[0].length?function $(Z,L){const C=L?[0,0,0]:[0,0],b=L?[0,0,0]:[0,0];let x=0,R=0,w=0,K=0;for(let V=0,ue=Z.length;V<ue-1;V++){const ee=Z[V],te=Z[V+1];if(ee&&te){C[0]=ee[0],C[1]=ee[1],b[0]=te[0],b[1]=te[1],L&&ee.length>2&&te.length>2&&(C[2]=ee[2],b[2]=te[2]);const pe=(0,D.R3)(C,b);if(pe){x+=pe;const ae=(0,D.t9)(ee,te);R+=pe*ae[0],w+=pe*ae[1],L&&ae.length>2&&(K+=pe*ae[2])}}}return x>0?L?[R/x,w/x,K/x]:[R/x,w/x]:Z.length?Z[0]:null}(Z[0],L):null;if(!R)return null;C[0]=R[0],C[1]=R[1],L&&R.length>2&&(C[2]=R[2])}return C}function H(Z,L,C){let b=0,x=0,R=0,w=0,K=0;const V=Z.length?Z[0][0]:0,ue=Z.length?Z[0][1]:0,ee=Z.length&&L?Z[0][2]:0;for(let pe=0;pe<Z.length;pe++){const ae=Z[pe],de=Z[(pe+1)%Z.length],[ve,G,fe]=ae,ie=ve-V,ye=G-ue,[q,re,ce]=de,oe=q-V,le=re-ue,Se=ie*le-oe*ye;if(w+=Se,b+=(ie+oe)*Se,x+=(ye+le)*Se,L&&ae.length>2&&de.length>2){const se=fe-ee,Pe=ce-ee,Ie=ie*Pe-oe*se;R+=(se+Pe)*Ie,K+=Ie}ve<C[0]&&(C[0]=ve),ve>C[1]&&(C[1]=ve),G<C[2]&&(C[2]=G),G>C[3]&&(C[3]=G),L&&(fe<C[4]&&(C[4]=fe),fe>C[5]&&(C[5]=fe))}if(w>0&&(w*=-1),K>0&&(K*=-1),!w)return null;w*=.5,K*=.5;const te=[b/(6*w)+V,x/(6*w)+ue,w];return L&&(C[4]===C[5]||0===K?(te[3]=(C[4]+C[5])/2,te[4]=0):(te[3]=R/(6*K)+ee,te[4]=K)),te}function j(Z,L){let C=0,b=0,x=0;Z.nextPoint();const R=Z.pathSize?Z.x:0,w=Z.pathSize?Z.y:0;for(let K=0;K<Z.pathSize;K++){Z.seekInPath(K);const V=[Z.x,Z.y];Z.seekInPath((K+1)%Z.pathSize);const ue=[Z.x,Z.y],[ee,te]=V,pe=ee-R,ae=te-w,[de,ve]=ue,G=de-R,fe=ve-w,ie=pe*fe-G*ae;x+=ie,C+=(pe+G)*ie,b+=(ae+fe)*ie,ee<L[0]&&(L[0]=ee),ee>L[1]&&(L[1]=ee),te<L[2]&&(L[2]=te),te>L[3]&&(L[3]=te)}return x>0&&(x*=-1),x?(x*=.5,[C/(6*x)+R,b/(6*x)+w,x]):null}const O=1e-6;function U(Z){let L=0;for(Z.reset();Z.nextPath();)L+=Z.getCurrentRingArea();if(L<O){const x=function S(Z){const{hasZ:L,totalSize:C}=Z;if(0===C)return null;const b=[],x=[],R=L?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(Z.reset();Z.nextPath();){const w=H((0,E.A)(Z),Z.hasZ,R);w&&x.push(w)}if(x.sort((w,K)=>{let V=w[2]-K[2];return 0===V&&L&&(V=w[4]-K[4]),V}),x.length&&(b[0]=x[0][0],b[1]=x[0][1],L&&(b[2]=x[0][3]),(b[0]<R[0]||b[0]>R[1]||b[1]<R[2]||b[1]>R[3]||L&&(b[2]<R[4]||b[2]>R[5]))&&(b.length=0)),!b.length){Z.reset(),Z.nextPath();const w=Z.pathSize?function I(Z){const{hasZ:L}=Z,C=L?[0,0,0]:[0,0],b=L?[0,0,0]:[0,0];let x=0,R=0,w=0,K=0;if(Z.nextPoint()){let V=Z.x,ue=Z.y,ee=Z.z;for(;Z.nextPoint();){const te=Z.x,pe=Z.y,ae=Z.z;C[0]=V,C[1]=ue,b[0]=te,b[1]=pe,L&&(C[2]=ee,b[2]=ae);const de=(0,D.R3)(C,b);if(de){x+=de;const ve=(0,D.t9)(C,b);R+=de*ve[0],w+=de*ve[1],L&&ve.length>2&&(K+=de*ve[2])}V=te,ue=pe,ee=ae}}return x>0?L?[R/x,w/x,K/x]:[R/x,w/x]:Z.pathSize?(Z.seekPathStart(),Z.nextPoint(),[Z.x,Z.y]):null}(Z):null;if(!w)return null;b[0]=w[0],b[1]=w[1],L&&w.length>2&&(b[2]=w[2])}return b}(Z);return x?[x[0],x[1]]:null}const C=[0,0];if(Z.reset(),!Z.nextPath()||!Z.nextPoint())return null;const b=[Z.x,Z.y];for(Z.reset();Z.nextPath();)J(C,b,Z);return C[0]*=1/L,C[1]*=1/L,C[0]+=b[0],C[1]+=b[1],C}const N=1/3;function J(Z,L,C){if(!Z||!C||C.pathSize<3)return null;C.nextPoint();const b=C.x,x=C.y;C.nextPoint();let R,w=C.x-b,K=C.y-x,V=0,ue=0;for(;C.nextPoint();)V=C.x-b,ue=C.y-x,R=.5*N*(V*K-ue*w),Z[0]+=R*(w+V),Z[1]+=R*(K+ue),w=V,K=ue;const ee=C.getCurrentRingArea(),te=[b,x];return te[0]-=L[0],te[1]-=L[1],te[0]*=ee,te[1]*=ee,Z[0]+=te[0],Z[1]+=te[1],Z}},8190:(et,Ae,v)=>{"use strict";v.d(Ae,{CW:()=>P,F8:()=>H,gH:()=>B,m3:()=>$,qz:()=>D,rL:()=>W,t1:()=>I});const E=[0,0];function D(N,J){return null!=J&&j(N,J.x,J.y,J.z)}function W(N,J){if(!J.points||J.points.length)return!1;for(const Z of J.points)if(!P(N,Z))return!1;return!0}function B(N,J){const{xmin:Z,ymin:L,zmin:C,xmax:b,ymax:x,zmax:R}=J;return N.hasZ&&J.hasZ?j(N,Z,L,C)&&j(N,Z,x,C)&&j(N,b,x,C)&&j(N,b,L,C)&&j(N,Z,L,R)&&j(N,Z,x,R)&&j(N,b,x,R)&&j(N,b,L,R):j(N,Z,L)&&j(N,Z,x)&&j(N,b,x)&&j(N,b,L)}function P(N,J){return j(N,J[0],J[1])}function H(N,J){return j(N,J[0],J[1],J[2])}function j(N,J,Z,L){return J>=N.xmin&&J<=N.xmax&&Z>=N.ymin&&Z<=N.ymax&&(null==L||!N.hasZ||L>=N.zmin&&L<=N.zmax)}function $(N,J){return E[1]=J.y,E[0]=J.x,function S(N,J){return I(N.rings,J)}(N,E)}function I(N,J){if(!N)return!1;if(function O(N){return!Array.isArray(N[0][0])}(N))return U(!1,N,J);let Z=!1;for(let L=0,C=N.length;L<C;L++)Z=U(Z,N[L],J);return Z}function U(N,J,Z){const[L,C]=Z;let b=N,x=0;for(let R=0,w=J.length;R<w;R++){x++,x===w&&(x=0);const[K,V]=J[R],[ue,ee]=J[x];(V<C&&ee>=C||ee<C&&V>=C)&&K+(C-V)/(ee-V)*(ue-K)<L&&(b=!b)}return b}},15268:(et,Ae,v)=>{"use strict";v.d(Ae,{$3:()=>J,B1:()=>j,Ng:()=>I,R3:()=>P,Yl:()=>U,gR:()=>$,m3:()=>C,t9:()=>O,uC:()=>L});var E=v(89952),D=v(41510);function P(V,ue){const ee=ue[0]-V[0],te=ue[1]-V[1];if(V.length>2&&ue.length>2){const pe=V[2]-ue[2];return Math.sqrt(ee*ee+te*te+pe*pe)}return Math.sqrt(ee*ee+te*te)}function j(V,ue,ee,te){return $(V,ue,ee[te],ee[te+1])}function $(V,ue,ee,te){const[pe,ae]=ue,[de,ve]=ee,[G,fe]=te,ie=G-de,ye=fe-ve,ce=Math.min(1,Math.max(0,((pe-de)*ie+(ae-ve)*ye)/(ie*ie+ye*ye)));return V[0]=de+ie*ce,V[1]=ve+ye*ce,V}function I(V,ue,ee,te,pe,ae){let de=ee,ve=te,G=pe-de,fe=ae-ve;if(0!==G||0!==fe){const ie=((V-de)*G+(ue-ve)*fe)/(G*G+fe*fe);ie>1?(de=pe,ve=ae):ie>0&&(de+=G*ie,ve+=fe*ie)}return G=V-de,fe=ue-ve,G*G+fe*fe}function O(V,ue){return function H(V,ue,ee){const te=V[0]+ee*(ue[0]-V[0]),pe=V[1]+ee*(ue[1]-V[1]);return V.length>2&&ue.length>2?[te,pe,V[2]+ee*(ue[2]-V[2])]:[te,pe]}(V,ue,.5)}function U(V){const ue=V.length;let ee=0;for(let te=0;te<ue-1;++te)ee+=P(V[te],V[te+1]);return ee}function J(V,ue=D._.X,ee=D._.Y){let te=0;const pe=V.length;let ae=V[0];for(let de=1;de<pe;de++){const ve=V[de];te+=(ve[ue]-ae[ue])*(ve[ee]+ae[ee]),ae=ve}if(!Z(V)){const de=V[0];te+=(de[ue]-ae[ue])*(de[ee]+ae[ee])}return te>=0}function Z(V){const ue=V.length;return ue<3||(0,E.aI)(V[0],V[ue-1])}function L(V){"rings"in V&&(C(V),function b(V){if(!("rings"in V)||0===V.rings.length||J(V.rings[0]))return!1;for(const ue of V.rings)ue.reverse()}(V))}function C(V){if(!("rings"in V))return!1;let ue=!1;for(const ee of V.rings)Z(ee)||(ee.push(ee[0].slice()),ue=!0);return ue}v(58701)},22442:(et,Ae,v)=>{"use strict";v.d(Ae,{HA:()=>N,Z3:()=>C,v:()=>L});var E=v(83065);const j=[];function $(b,x,R,w){return{xmin:b,ymin:x,xmax:R,ymax:w}}function S(b,x,R,w,K,V){return{xmin:b,ymin:x,zmin:R,xmax:w,ymax:K,zmax:V}}function I(b,x,R,w,K,V){return{xmin:b,ymin:x,mmin:R,xmax:w,ymax:K,mmax:V}}function O(b,x,R,w,K,V,ue,ee){return{xmin:b,ymin:x,zmin:R,mmin:w,xmax:K,ymax:V,zmax:ue,mmax:ee}}function U(b,x=!1,R=!1){return x?R?O(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]):S(b[0],b[1],b[2],b[3],b[4],b[5]):R?I(b[0],b[1],b[2],b[3],b[4],b[5]):$(b[0],b[1],b[2],b[3])}function N(b){return b?function D(b){return void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax}(b)?b:function B(b){return void 0!==b.x&&void 0!==b.y}(b)?function Z(b){const{x,y:R,z:w,m:K}=b,V=null!=K;return null!=w?V?O(x,R,w,K,x,R,w,K):S(x,R,w,x,R,w):V?I(x,R,K,x,R,K):$(x,R,x,R)}(b):function H(b){return void 0!==b.rings}(b)?L(b):function P(b){return void 0!==b.paths}(b)?C(b):function W(b){return void 0!==b.points}(b)?function J(b){const{hasZ:x,hasM:R,points:w}=b;return U((0,E.Pj)(j,w,x??!1,R??!1),x,R)}(b):null:null}function L(b){const{hasZ:x,hasM:R,rings:w}=b,K=(0,E.Yz)(j,w,x??!1,R??!1);return K?U(K,x,R):null}function C(b){const{hasZ:x,hasM:R,paths:w}=b,K=(0,E.Yz)(j,w,x??!1,R??!1);return K?U(K,x,R):null}},62928:(et,Ae,v)=>{"use strict";v.d(Ae,{A3:()=>Z,Ql:()=>C,fA:()=>O,xB:()=>W,xK:()=>b});var E=v(8190);function D(x,R){return(0,E.qz)(x,R)}function W(x,R){let K,V,ue;if(x.xmin<=R.xmin){if(K=R.xmin,x.xmax<K)return!1}else if(K=x.xmin,R.xmax<K)return!1;if(x.ymin<=R.ymin){if(V=R.ymin,x.ymax<V)return!1}else if(V=x.ymin,R.ymax<V)return!1;if(x.hasZ&&R.hasZ&&R.hasZ)if(x.zmin<=R.zmin){if(ue=R.zmin,x.zmax<ue)return!1}else if(ue=x.zmin,R.zmax<ue)return!1;return!0}function B(x,R){const{points:w,hasZ:K}=R,V=K?E.F8:E.CW;for(const ue of w)if(V(x,ue))return!0;return!1}const P=[0,0],H=[0,0],j=[0,0],$=[0,0],S=[P,H,j,$],I=[[j,P],[P,H],[H,$],[$,j]];function O(x,R){return function U(x,R){P[0]=x.xmin,P[1]=x.ymax,H[0]=x.xmax,H[1]=x.ymax,j[0]=x.xmin,j[1]=x.ymin,$[0]=x.xmax,$[1]=x.ymin;for(const w of S)if((0,E.t1)(R,w))return!0;for(const w of R){if(!w.length)continue;let K=w[0];if((0,E.CW)(x,K))return!0;for(let V=1;V<w.length;V++){const ue=w[V];if((0,E.CW)(x,ue)||L(K,ue,I))return!0;K=ue}}return!1}(x,R.rings)}function N(x,R){P[0]=x.xmin,P[1]=x.ymax,H[0]=x.xmax,H[1]=x.ymax,j[0]=x.xmin,j[1]=x.ymin,$[0]=x.xmax,$[1]=x.ymin;const w=R.paths;for(const K of w){if(!w.length)continue;let V=K[0];if((0,E.CW)(x,V))return!0;for(let ue=1;ue<K.length;ue++){const ee=K[ue];if((0,E.CW)(x,ee)||L(V,ee,I))return!0;V=ee}}return!1}const J=[0,0];function Z(x){for(let R=0;R<x.length;R++){const w=x[R];for(let V=0;V<w.length-1;V++){const ue=w[V],ee=w[V+1];for(let te=R+1;te<x.length;te++)for(let pe=0;pe<x[te].length-1;pe++){const ae=x[te][pe],de=x[te][pe+1];if(C(ue,ee,ae,de,J)&&!(J[0]===ue[0]&&J[1]===ue[1]||J[0]===ae[0]&&J[1]===ae[1]||J[0]===ee[0]&&J[1]===ee[1]||J[0]===de[0]&&J[1]===de[1]))return!0}}const K=w.length;if(!(K<=4))for(let V=0;V<K-3;V++){let ue=K-1;0===V&&(ue=K-2);const ee=w[V],te=w[V+1];for(let pe=V+2;pe<ue;pe++){const ae=w[pe],de=w[pe+1];if(C(ee,te,ae,de,J)&&!(J[0]===ee[0]&&J[1]===ee[1]||J[0]===ae[0]&&J[1]===ae[1]||J[0]===te[0]&&J[1]===te[1]||J[0]===de[0]&&J[1]===de[1]))return!0}}}return!1}function L(x,R,w){for(let K=0;K<w.length;K++)if(C(x,R,w[K][0],w[K][1]))return!0;return!1}function C(x,R,w,K,V){const[ue,ee]=x,[te,pe]=R,[ae,de]=w,[ve,G]=K,fe=ve-ae,ie=ue-ae,ye=te-ue,q=G-de,re=ee-de,ce=pe-ee,oe=q*ye-fe*ce;if(0===oe)return!1;const le=(fe*re-q*ie)/oe,Se=(ye*re-ce*ie)/oe;return le>=0&&le<=1&&Se>=0&&Se<=1&&(V&&(V[0]=ue+le*(te-ue),V[1]=ee+le*(pe-ee)),!0)}function b(x){switch(x){case"esriGeometryEnvelope":case"extent":return W;case"esriGeometryMultipoint":case"multipoint":return B;case"esriGeometryPoint":case"point":return D;case"esriGeometryPolygon":case"polygon":return O;case"esriGeometryPolyline":case"polyline":return N}}},61320:(et,Ae,v)=>{"use strict";v.d(Ae,{$B:()=>N,Bi:()=>O,Rg:()=>I,U9:()=>$,ZC:()=>j,fT:()=>S,rS:()=>U,xD:()=>Z});var E=v(28067),D=v(68643),W=v(21870),B=v(1749),P=v(55861),H=v(93615);function j(L){return void 0!==L.xmin&&void 0!==L.ymin&&void 0!==L.xmax&&void 0!==L.ymax}function $(L){return void 0!==L.points}function S(L){return void 0!==L.x&&void 0!==L.y}function I(L){return void 0!==L.paths}function O(L){return void 0!==L.rings}function U(L){return null==L?null:L instanceof D.A?L:S(L)?B.A.fromJSON(L):I(L)?H.A.fromJSON(L):O(L)?P.A.fromJSON(L):$(L)?W.A.fromJSON(L):j(L)?E.A.fromJSON(L):null}function N(L){return L?S(L)?"esriGeometryPoint":I(L)?"esriGeometryPolyline":O(L)?"esriGeometryPolygon":j(L)?"esriGeometryEnvelope":$(L)?"esriGeometryMultipoint":null:null}const J={esriGeometryPoint:B.A,esriGeometryPolyline:H.A,esriGeometryPolygon:P.A,esriGeometryEnvelope:E.A,esriGeometryMultipoint:W.A};function Z(L){return L&&J[L]||null}},77098:(et,Ae,v)=>{"use strict";v.d(Ae,{O7:()=>fe,Hr:()=>G,el:()=>de,mT:()=>ie});var E=v(10467),D=v(23098),W=v(5922),B=v(35150),P=v(55861),H=v(93615),j=v(20914),$=v(58701),S=v(55039),O=(v(21152),v(89563)),U=v(61320),N=v(68800);function Z(){return(Z=(0,E.A)(function*(ye,q,re,ce){const oe=(0,N.Dl)(ye),le=q[0].spatialReference,Se={...ce,responseType:"json",query:{...oe.query,f:"json",sr:(0,$.YX)(le),target:JSON.stringify({geometryType:(0,U.$B)(q[0]),geometries:q}),cutter:JSON.stringify(re)}},se=yield(0,O.A)(oe.path+"/cut",Se),{cutIndexes:Pe,geometries:Ie=[]}=se.data;return{cutIndexes:Pe,geometries:Ie.map(X=>{const Ee=(0,U.rS)(X);return Ee.spatialReference=le,Ee})}})).apply(this,arguments)}var L=v(45272),C=v(28524);function x(){return(x=(0,E.A)(function*(ye,q,re){const ce="string"==typeof ye?(0,L.An)(ye):ye,oe=q[0].spatialReference,le=(0,U.$B)(q[0]),Se={...re,query:{...ce.query,f:"json",sr:(0,$.YX)(oe),geometries:JSON.stringify((0,C.X)(q))}},{data:se}=yield(0,O.A)(ce.path+"/simplify",Se);return(0,C.V)(se.geometries,le,oe)})).apply(this,arguments)}const R=()=>B.A.getLogger("esri.geometry.support.normalizeUtils");function K(ye){return"polygon"===ye[0].type}function V(ye){return"polyline"===ye[0].type}function ue(ye){const q=[];let re=0,ce=0;for(let oe=0;oe<ye.length;oe++){const le=ye[oe];let Se=null;for(let se=0;se<le.length;se++)Se=le[se],q.push(Se),0===se?(re=Se[0],ce=re):(re=Math.min(re,Se[0]),ce=Math.max(ce,Se[0]));Se&&q.push([(re+ce)/2,0])}return q}function te(ye,q,re){if(q){const ce=function ee(ye,q){if(!(ye instanceof H.A||ye instanceof P.A)){const oe="straightLineDensify: the input geometry is neither polyline nor polygon";throw R().error(oe),new W.A(oe)}const re=(0,j.r8)(ye),ce=[];for(const oe of re){const le=[];ce.push(le),le.push([oe[0][0],oe[0][1]]);for(let Se=0;Se<oe.length-1;Se++){const se=oe[Se][0],Pe=oe[Se][1],Ie=oe[Se+1][0],X=oe[Se+1][1],Ee=Math.sqrt((Ie-se)*(Ie-se)+(X-Pe)*(X-Pe)),Le=(X-Pe)/Ee,Oe=(Ie-se)/Ee,_e=Ee/q;if(_e>1){for(let Q=1;Q<=_e-1;Q++){const De=Q*q;le.push([Oe*De+se,Le*De+Pe])}const we=(Ee+Math.floor(_e-1)*q)/2;le.push([Oe*we+se,Le*we+Pe])}le.push([Ie,X])}}return function w(ye){return"polygon"===ye.type}(ye)?new P.A({rings:ce,spatialReference:ye.spatialReference}):new H.A({paths:ce,spatialReference:ye.spatialReference})}(ye,1e6);ye=(0,S.ci)(ce,!0)}return re&&(ye=(0,j.kS)(ye,re)),ye}function pe(ye,q,re){if(Array.isArray(ye)){const ce=ye[0];if(ce>q){const oe=(0,j.kd)(ce,q);ye[0]=ce+oe*(-2*q)}else if(ce<re){const oe=(0,j.kd)(ce,re);ye[0]=ce+oe*(-2*re)}}else{const ce=ye.x;if(ce>q){const oe=(0,j.kd)(ce,q);ye=ye.clone().offset(oe*(-2*q),0)}else if(ce<re){const oe=(0,j.kd)(ce,re);ye=ye.clone().offset(oe*(-2*re),0)}}return ye}function de(ye,q,re){return ve.apply(this,arguments)}function ve(){return ve=(0,E.A)(function*(ye,q,re){if(!Array.isArray(ye))return de([ye],q);q&&"string"!=typeof q&&R().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const ce="string"==typeof q?q:q?.url??D.A.geometryServiceUrl;let oe,le,Se,se,Pe,Ie,X,Ee,Le=0;const Oe=[],_e=[];for(const Ke of ye)if(null!=Ke)if(oe||(oe=Ke.spatialReference,le=(0,$.Vp)(oe),Se=oe.isWebMercator,Ie=Se?102100:4326,se=j.j7[Ie].maxX,Pe=j.j7[Ie].minX,X=j.j7[Ie].plus180Line,Ee=j.j7[Ie].minus180Line),le)if("mesh"===Ke.type)_e.push(Ke);else if("point"===Ke.type)_e.push(pe(Ke.clone(),se,Pe));else if("multipoint"===Ke.type){const Ye=Ke.clone();Ye.points=Ye.points.map(rt=>pe(rt,se,Pe)),_e.push(Ye)}else if("extent"===Ke.type){const Ye=Ke.clone()._normalize(!1,!1,le);_e.push(Ye.rings?new P.A(Ye):Ye)}else if(Ke.extent){const Ye=Ke.extent,rt=(0,j.kd)(Ye.xmin,Pe)*(2*se);let lt=0===rt?Ke.clone():(0,j.kS)(Ke.clone(),rt);Ye.offset(rt,0);let{xmin:_t,xmax:tt}=Ye;_t=Number(_t.toFixed(9)),tt=Number(tt.toFixed(9)),Ye.intersects(X)&&tt!==se?(Le=tt>Le?tt:Le,lt=te(lt,Se),Oe.push(lt),_e.push("cut")):Ye.intersects(Ee)&&_t!==Pe?(Le=tt*(2*se)>Le?tt*(2*se):Le,lt=te(lt,Se,360),Oe.push(lt),_e.push("cut")):_e.push(lt)}else _e.push(Ke.clone());else _e.push(Ke);else _e.push(Ke);let we=(0,j.kd)(Le,se),ke=-90;const Xe=we,Q=new H.A;for(;we>0;){const Ke=360*we-180;Q.addPath([[Ke,ke],[Ke,-1*ke]]),ke*=-1,we--}if(Oe.length>0&&Xe>0){const Ke=function ae(ye,q){let re=-1;for(let ce=0;ce<q.cutIndexes.length;ce++){const oe=q.cutIndexes[ce],le=q.geometries[ce],Se=(0,j.r8)(le);for(let se=0;se<Se.length;se++){const Pe=Se[se];Pe.some(Ie=>{if(Ie[0]<180)return!0;{let X=0;for(let Le=0;Le<Pe.length;Le++){const Oe=Pe[Le][0];X=Oe>X?Oe:X}X=Number(X.toFixed(9));const Ee=-360*(0,j.kd)(X,180);for(let Le=0;Le<Pe.length;Le++){const Oe=le.getPoint(se,Le);le.setPoint(se,Le,Oe.clone().offset(Ee,0))}return!0}})}if(oe===re){if(K(ye))for(const se of(0,j.r8)(le))ye[oe]=ye[oe].addRing(se);else if(V(ye))for(const se of(0,j.r8)(le))ye[oe]=ye[oe].addPath(se)}else re=oe,ye[oe]=le}return ye}(Oe,yield function J(ye,q,re,ce){return Z.apply(this,arguments)}(ce,Oe,Q,re)),Ye=[],rt=[];for(let tt=0;tt<_e.length;tt++){const qe=_e[tt];if("cut"!==qe)rt.push(qe);else{const xe=Ke.shift(),Be=ye[tt];null!=Be&&"polygon"===Be.type&&Be.rings&&Be.rings.length>1&&xe.rings.length>=Be.rings.length?(Ye.push(xe),rt.push("simplify")):rt.push(Se?(0,S.Gh)(xe):xe)}}if(!Ye.length)return rt;const lt=yield function b(ye,q,re){return x.apply(this,arguments)}(ce,Ye,re),_t=[];for(let tt=0;tt<rt.length;tt++){const qe=rt[tt];_t.push("simplify"!==qe?qe:Se?(0,S.Gh)(lt.shift()):lt.shift())}return _t}const De=[];for(let Ke=0;Ke<_e.length;Ke++){const Ye=_e[Ke];if("cut"!==Ye)De.push(Ye);else{const rt=Oe.shift();De.push(!0===Se?(0,S.Gh)(rt):rt)}}return De}),ve.apply(this,arguments)}function G(ye){if(!ye)return null;const q=ye.extent;if(!q)return null;const re=ye.spatialReference&&(0,$.Vp)(ye.spatialReference);if(!re)return q;const[ce,oe]=re.valid,le=2*oe,{width:Se}=q;let se,{xmin:Pe,xmax:Ie}=q;if([Pe,Ie]=[Ie,Pe],"extent"===ye.type||0===Se||Se<=oe||Se>le||Pe<ce||Ie>oe)return q;switch(ye.type){case"polygon":if(!(ye.rings.length>1))return q;se=ue(ye.rings);break;case"polyline":if(!(ye.paths.length>1))return q;se=ue(ye.paths);break;case"multipoint":se=ye.points}const X=q.clone();for(let Ee=0;Ee<se.length;Ee++){let Le=se[Ee][0];Le<0?(Le+=oe,Ie=Math.max(Le,Ie)):(Le-=oe,Pe=Math.min(Le,Pe))}return X.xmin=Pe,X.xmax=Ie,X.width<Se?(X.xmin-=oe,X.xmax-=oe,X):q}function fe(ye,q,re){const ce=(0,$.Vp)(re);if(null==ce)return ye;const[oe,le]=ce.valid,Se=2*le;let se=0,Pe=0;q>le?se=Math.ceil(Math.abs(q-le)/Se):q<oe&&(se=-Math.ceil(Math.abs(q-oe)/Se)),ye>le?Pe=Math.ceil(Math.abs(ye-le)/Se):ye<oe&&(Pe=-Math.ceil(Math.abs(ye-oe)/Se));let Ie=ye+(se-Pe)*Se;const X=Ie-q;return X>le?Ie-=Se:X<oe&&(Ie+=Se),Ie}function ie(ye,q){const re=(0,$.Vp)(q);if(re){const[ce,oe]=re.valid,le=oe-ce;if(ye<ce)for(;ye<ce;)ye+=le;if(ye>oe)for(;ye>oe;)ye-=le}return ye}},20914:(et,Ae,v)=>{"use strict";v.d(Ae,{j7:()=>B,kS:()=>H,kd:()=>P,r8:()=>j});var E=v(93615),D=v(32034),W=v(61320);const B={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new E.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:D.A.WebMercator}),minus180Line:new E.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:D.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new E.A({paths:[[[180,-180],[180,180]]],spatialReference:D.A.WGS84}),minus180Line:new E.A({paths:[[[-180,-180],[-180,180]]],spatialReference:D.A.WGS84})}};function P($,S){return Math.ceil(($-S)/(2*S))}function H($,S){const I=j($);for(const O of I)for(const U of O)U[0]+=S;return $}function j($){return(0,W.Bi)($)?$.rings:$.paths}},15364:(et,Ae,v)=>{"use strict";v.d(Ae,{EZ:()=>B,Io:()=>W,T0:()=>P});var E=v(58701),D=v(55039);function W($,S){const I=$.x-S.x,O=$.y-S.y,U=null!=$.z&&null!=S.z?$.z-S.z:0;return Math.sqrt(I*I+O*O+U*U)}function B($){return H($,j)?.[0]??null}function P($){return H($,j)?.[1]??null}function H({x:$,y:S,spatialReference:I},O=[0,0]){if(I){if((0,E.K8)(I))return(0,D.tD)($,S,O);if((0,E.EA)(I))return O[0]=$,O[1]=S,O}return null}const j=[0,0]},721:(et,Ae,v)=>{"use strict";function D(X){return X?{originPosition:"upper-left"===X.originPosition?"upperLeft":"lower-left"===X.originPosition?"lowerLeft":X.originPosition,scale:X.tolerance?[X.tolerance,X.tolerance,1,1]:[1,1,1,1],translate:null!=X.extent?[X.extent.xmin,X.extent.ymax,X.extent.zmin??0,X.extent.mmin??0]:[0,0,0,0]}:null}function B(X){if(function W(X){return"lowerLeft"===X.originPosition&&4===X.scale.length&&4===X.translate.length}(X))return X;const{originPosition:Ee,scale:Le,translate:Oe}=X,we=Le[1]??1;return{originPosition:"lowerLeft",scale:[Le[0]??1,"lowerLeft"===Ee?we:-we,Le[2]??1,Le[3]??1],translate:[Oe[0]??0,Oe[1]??0,Oe[2]??0,Oe[3]??0]}}function C({scale:X,translate:Ee},Le){return Le*X[0]+Ee[0]}function b({scale:X,translate:Ee},Le){return Le*X[1]+Ee[1]}function x({scale:X,translate:Ee},Le){return(Le??0)*X[2]+Ee[2]}function R({scale:X,translate:Ee},Le){return Le?Le*X[3]+Ee[3]:0}function w(X,Ee){return X&&Ee?ee:X&&!Ee?V:!X&&Ee?ue:K}v.d(Ae,{$X:()=>Pe,Gy:()=>q,P5:()=>Ie,SW:()=>Se,Tr:()=>se,VV:()=>D}),v(61320);const K=(X,Ee)=>{const Le=new Array(Ee.length);if(!Ee.length)return Le;const Oe=Ee[0];let _e=C(X,Oe[0]),we=b(X,Oe[1]);Le[0]=[_e,we];const{scale:ke,originPosition:Xe}=X,Q=ke[0],De="lowerLeft"===Xe?ke[1]:-ke[1];for(let Ke=1;Ke<Ee.length;Ke++){const[Ye,rt]=Ee[Ke];_e+=Q*Ye,we+=De*rt,Le[Ke]=[_e,we]}return Le},V=(X,Ee)=>{const Le=new Array(Ee.length);if(!Ee.length)return Le;const Oe=Ee[0];let _e=C(X,Oe[0]),we=b(X,Oe[1]);Le[0]=[_e,we,x(X,Oe[2])];const{scale:ke,originPosition:Xe}=X,Q=ke[0],De="lowerLeft"===Xe?ke[1]:-ke[1];for(let Ke=1;Ke<Ee.length;Ke++){const[Ye,rt,lt]=Ee[Ke];_e+=Q*Ye,we+=De*rt,Le[Ke]=[_e,we,x(X,lt)]}return Le},ue=(X,Ee)=>{const Le=new Array(Ee.length);if(!Ee.length)return Le;const Oe=Ee[0];let _e=C(X,Oe[0]),we=b(X,Oe[1]);Le[0]=[_e,we,R(X,Oe[2])];const{scale:ke,originPosition:Xe}=X,Q=ke[0],De="lowerLeft"===Xe?ke[1]:-ke[1];for(let Ke=1;Ke<Ee.length;Ke++){const[Ye,rt,lt]=Ee[Ke];_e+=Q*Ye,we+=De*rt,Le[Ke]=[_e,we,R(X,lt)]}return Le},ee=(X,Ee)=>{const Le=new Array(Ee.length);if(!Ee.length)return Le;const Oe=Ee[0];let _e=C(X,Oe[0]),we=b(X,Oe[1]);Le[0]=[_e,we,x(X,Oe[2]),R(X,Oe[3])];const{scale:ke,originPosition:Xe}=X,Q=ke[0],De="lowerLeft"===Xe?ke[1]:-ke[1];for(let Ke=1;Ke<Ee.length;Ke++){const[Ye,rt,lt,_t]=Ee[Ke];_e+=Q*Ye,we+=De*rt,Le[Ke]=[_e,we,x(X,lt),R(X,_t)]}return Le};function te(X,Ee,Le){const Oe=new Array(Le.length);for(let _e=0;_e<Le.length;_e++)Oe[_e]=Ee(X,Le[_e]);return Oe}function q(X,Ee,Le){const Oe=B(X);return Ee.x=function P({scale:X,translate:Ee},Le){return Math.round((Le-Ee[0])/X[0])}(Oe,Le.x),Ee.y=function H({scale:X,translate:Ee},Le){return Math.round((Le-Ee[1])/X[1])}(Oe,Le.y),null!=Le.z&&(Ee.z=function j({scale:X,translate:Ee},Le){return Math.round(((Le??0)-Ee[2])/X[2])}(Oe,Le.z)),null!=Le.m&&(Ee.m=function $({scale:X,translate:Ee},Le){return Le?Math.round((Le-Ee[3])/X[3]):0}(Oe,Le.m)),Ee}function Se(X,Ee,Le,Oe=Le?.hasZ??!1,_e=Le?.hasM??!1){if(null!=Le){const we=B(X);Ee.points=w(Oe,_e)(we,Le.points),Ee.hasZ=Oe,Ee.hasM=_e}return Ee}function se(X,Ee,Le,Oe=null!=Le?.z,_e=null!=Le?.m){if(null==Le)return Ee;const we=B(X);return Ee.x=C(we,Le.x),Ee.y=b(we,Le.y),Oe&&(Ee.z=x(we,Le.z)),_e&&(Ee.m=R(we,Le.m)),Ee}function Pe(X,Ee,Le,Oe=Le?.hasZ??!1,_e=Le?.hasM??!1){if(null!=Le){const we=B(X);Ee.rings=te(we,w(Oe,_e),Le.rings),Ee.hasZ=Oe,Ee.hasM=_e}return Ee}function Ie(X,Ee,Le,Oe=Le?.hasZ??!1,_e=Le?.hasM??!1){if(null!=Le){const we=B(X);Ee.paths=te(we,w(Oe,_e),Le.paths),Ee.hasZ=Oe,Ee.hasM=_e}return Ee}},58701:(et,Ae,v)=>{"use strict";v.d(Ae,{B3:()=>b,EA:()=>C,K8:()=>K,KK:()=>ve,KQ:()=>pe,Vp:()=>N,YX:()=>L,ZL:()=>te,aI:()=>U,ch:()=>G,d9:()=>ae,fn:()=>de,jp:()=>R,oT:()=>x,q8:()=>ee,r1:()=>V,tQ:()=>fe,tl:()=>ue,x1:()=>w});var E=v(1119),W=(v(33658),v(1120)),B=v(98946);const P=[102100,102113,3857,3785],j=[4326,...P,104905,104971],$='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',S=[-20037508.342788905,20037508.342788905],I=[-20037508.342787,20037508.342787],O={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:S,origin:I,dx:1e-5},102100:{wkTemplate:$,valid:S,origin:I,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:S,origin:I,dx:1e-5},3857:{wkTemplate:$,valid:S,origin:I,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function U(ie,ye){if(ie===ye)return!0;if(null==ie||null==ye)return!1;const q=ie.wkid,re=ye.wkid;if(null!=q||null!=re){if(q===re||K(ie)&&K(ye))return!0;const le=ie.latestWkid;if(null!=le&&re===le)return!0;const Se=ye.latestWkid;return null!=Se&&q===Se}let ce,oe;return ie.wkt2&&ye.wkt2?(ce=ie.wkt2,oe=ye.wkt2):ie.wkt&&ye.wkt&&(ce=ie.wkt,oe=ye.wkt),!(!ce||!oe)&&ce.toUpperCase()===oe.toUpperCase()}function N(ie){const ye=ie?.wkid;return null!=ye&&ye>=2e3&&O[ye]||null}function L(ie){if(!ie)return;const{wkid:ye,vcsWkid:q}=ie;if(ye)return q?JSON.stringify({wkid:ye,vcsWkid:q}):String(ye);const re=ie.wkt||ie.wkt2;return JSON.stringify(re?q?{wkt:re,vcsWkid:q}:{wkt:re}:{})}function C(ie){if(!de(ie))return!1;const{wkid:ye}=ie;if(ye)return null==B.A[ye];const q=ie.wkt2||ie.wkt;return!!q&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(q)}function b(ie){return!(ee(ie)||pe(ie))}function x(ie){return 4326===ie?.wkid}function R(ie){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(ie)}function w(ie){return ie?.wkid===W.Y.CGCS2000}function K(ie){const ye=ie?.wkid;return null!=ye&&ye>=2e3&&P.includes(ye)}function V(ie){return 32662===ie?.wkid}function ue(ie){return ie===W.Y.GCSMARS2000||ie===W.Y.GCSMARS2000_SPHERE}function ee(ie){return ue(ie?.wkid)}function te(ie){return ie===W.Y.GCSMOON2000}function pe(ie){return te(ie?.wkid)}function ae(ie){const ye=ie?.wkid;return null!=ye&&ye>=2e3&&j.includes(ye)}function de(ie){if(null==ie)return!1;const ye=ie.wkid;return null!=ye&&ye>=2e3||null!=ie.wkt2||null!=ie.wkt}const ve={wkid:4326,wkt:(0,E.HC)(O[4326].wkTemplate,{Central_Meridian:"0.0"})},G={wkid:102100,latestWkid:3857},fe={wkid:32662}},6434:(et,Ae,v)=>{"use strict";v.d(Ae,{Y:()=>W,g:()=>D});var E=v(49976);const D=(0,E.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),W=(0,E.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},55039:(et,Ae,v)=>{"use strict";v.d(Ae,{Cv:()=>Z,Gh:()=>b,ci:()=>x,je:()=>L,jg:()=>I,tD:()=>C,y7:()=>J});var E=v(77806),D=v(32034),W=v(47258),B=v(58701);const P=57.29577951308232,H=.017453292519943;function j(R){return R*P}function $(R){return R*H}function I(R){return Math.PI/2-2*Math.atan(Math.exp(-R/W.$O.radius))}function O(R){return null!=R.wkid||null!=R.wkt}const U=[0,0];function N(R,w,K,V,ue){const ee=R,te=ue;if(te.spatialReference=K,"x"in ee&&"x"in te)[te.x,te.y]=w(ee.x,ee.y,U,V);else if("xmin"in ee&&"xmin"in te)[te.xmin,te.ymin]=w(ee.xmin,ee.ymin,U,V),[te.xmax,te.ymax]=w(ee.xmax,ee.ymax,U,V);else if("paths"in ee&&"paths"in te||"rings"in ee&&"rings"in te){const pe="paths"in ee?ee.paths:ee.rings,ae=[];let de;for(let ve=0;ve<pe.length;ve++){const G=pe[ve];de=[],ae.push(de);for(let fe=0;fe<G.length;fe++)de.push(w(G[fe][0],G[fe][1],[0,0],V)),G[fe].length>2&&de[fe].push(G[fe][2]),G[fe].length>3&&de[fe].push(G[fe][3])}"paths"in te?te.paths=ae:te.rings=ae}else if("points"in ee&&"points"in te){const pe=ee.points,ae=[];for(let de=0;de<pe.length;de++)ae[de]=w(pe[de][0],pe[de][1],[0,0],V),pe[de].length>2&&ae[de].push(pe[de][2]),pe[de].length>3&&ae[de].push(pe[de][3]);te.points=ae}return ue}function J(R,w){const K=R&&(O(R)?R:R.spatialReference),V=w&&(O(w)?w:w.spatialReference);return!(R&&"type"in R&&"mesh"===R.type||w&&"type"in w&&"mesh"===w.type||!K||!V)&&(!!(0,B.aI)(V,K)||(0,B.K8)(V)&&(0,B.oT)(K)||(0,B.K8)(K)&&(0,B.oT)(V))}function Z(R,w){if(null==R)return null;const K=R.spatialReference,V=w&&(O(w)?w:w.spatialReference);return J(K,V)?(0,B.aI)(K,V)?(0,E.o8)(R):(0,B.K8)(V)?N(R,L,D.A.WebMercator,!1,(0,E.o8)(R)):(0,B.oT)(V)?N(R,C,D.A.WGS84,!1,(0,E.o8)(R)):null:null}function L(R,w,K=[0,0]){w>89.99999?w=89.99999:w<-89.99999&&(w=-89.99999);const V=$(w);return K[0]=$(R)*W.$O.radius,K[1]=W.$O.halfSemiMajorAxis*Math.log((1+Math.sin(V))/(1-Math.sin(V))),K}function C(R,w,K=[0,0],V=!1){const ue=j(R/W.$O.radius);return K[0]=V?ue:ue-360*Math.floor((ue+180)/360),K[1]=j(Math.PI/2-2*Math.atan(Math.exp(-w/W.$O.radius))),K}function b(R,w=!1,K=(0,E.o8)(R)){return N(R,L,D.A.WebMercator,w,K)}function x(R,w=!1,K=(0,E.o8)(R)){return N(R,C,D.A.WGS84,w,K)}},70977:(et,Ae,v)=>{"use strict";function E(D,W,B=!1){let{hasM:P,hasZ:H}=D;Array.isArray(W)?4!==W.length||P||H?3===W.length&&B&&!P?(H=!0,P=!1):3===W.length&&P&&H&&(P=!1,H=!1):(P=!0,H=!0):(H=!H&&W.hasZ&&(!P||W.hasM),P=!P&&W.hasM&&(!H||W.hasZ)),D.hasZ=H,D.hasM=P}v.d(Ae,{h:()=>E})},23743:(et,Ae,v)=>{"use strict";v.d(Ae,{N:()=>B});var E=v(82663),D=v(87477),W=v(58701);function B(I,O,U){if(null==O||null==U||U.vcsWkid||(0,W.aI)(O,U)||(0,D.xP)(O)||(0,D.xP)(U))return null;const N=(0,E.G9)(O)/(0,E.G9)(U);if(1===N)return null;switch(I){case"point":case"esriGeometryPoint":return J=>function P(I,O){null!=I?.z&&(I.z*=O)}(J,N);case"polyline":case"esriGeometryPolyline":return J=>function j(I,O){if(I)for(const U of I.paths)for(const N of U)N.length>2&&(N[2]*=O)}(J,N);case"polygon":case"esriGeometryPolygon":return J=>function H(I,O){if(I)for(const U of I.rings)for(const N of U)N.length>2&&(N[2]*=O)}(J,N);case"multipoint":case"esriGeometryMultipoint":return J=>function $(I,O){if(I)for(const U of I.points)U.length>2&&(U[2]*=O)}(J,N);case"extent":case"esriGeometryEnvelope":return J=>function S(I,O){I&&null!=I.zmin&&null!=I.zmax&&(I.zmin*=O,I.zmax*=O)}(J,N);default:return null}}},13242:(et,Ae,v)=>{"use strict";v(48266),v(68479),v(46186),v(88996);var P=v(45846),H=v(10467),j=v(89563),$=v(5922);function I(){return(I=(0,H.A)(function*(C,b,x,R){const w=b.exec(x);if(!w)throw new $.A("esri-intl:invalid-bundle",`Bundle id "${x}" is not compatible with the pattern "${b}"`);const K=w[1]?`${w[1]}/`:"",V=w[2],ue=(0,P.xO)(R),ee=`${K}${V}.json`,te=ue?`${K}${V}_${ue}.json`:ee;let pe;try{pe=yield O(C(te))}catch(ae){if(te===ee)throw new $.A("intl:unknown-bundle",`Bundle "${x}" cannot be loaded`,{error:ae});try{pe=yield O(C(ee))}catch(de){throw new $.A("intl:unknown-bundle",`Bundle "${x}" cannot be loaded`,{error:de})}}return pe})).apply(this,arguments)}function O(C){return U.apply(this,arguments)}function U(){return(U=(0,H.A)(function*(C){if(null!=Z.fetchBundleAsset)return Z.fetchBundleAsset(C);const b=yield(0,j.A)(C,{responseType:"text"});return JSON.parse(b.data)})).apply(this,arguments)}class N{constructor({base:b="",pattern:x,location:R=new URL(window.location.href)}){let w;w="string"==typeof R?K=>new URL(K,new URL(R,window.location.href)).href:R instanceof URL?K=>new URL(K,R).href:R,this.pattern="string"==typeof x?new RegExp(`^${x}`):x,this.getAssetUrl=w,b=b?b.endsWith("/")?b:b+"/":"",this.matcher=new RegExp(`^${b}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(b,x){return function S(C,b,x,R){return I.apply(this,arguments)}(this.getAssetUrl,this.matcher,b,x)}}const Z={};var L=v(90261);(0,P.ao)(function J(C){return new N(C)}({pattern:"esri/",location:L.s}))},48266:(et,Ae,v)=>{"use strict";v.d(Ae,{Ey:()=>pe,F8:()=>te,J2:()=>V,Yq:()=>ue,_v:()=>b,iS:()=>ee,wj:()=>ae});var E=v(49976),D=v(88996),W=v(22639),B=v(44549);const P={year:void 0,month:void 0,day:void 0,weekday:void 0},H={hour:void 0,minute:void 0,second:void 0},j={timeZone:W.n$},$={year:"numeric",month:"numeric",day:"numeric"},S={year:"numeric",month:"long",day:"numeric"},I={year:"numeric",month:"short",day:"numeric"},O={year:"numeric",month:"long",weekday:"long",day:"numeric"},U={hour:"numeric",minute:"numeric"},N={...U,second:"numeric"},J={hourCycle:"h23"},Z={...U,...J},L={...N,...J},C={"short-date":$,"short-date-short-time":{...$,...U},"short-date-short-time-24":{...$,...Z},"short-date-long-time":{...$,...N},"short-date-long-time-24":{...$,...L},"short-date-le":$,"short-date-le-short-time":{...$,...U},"short-date-le-short-time-24":{...$,...Z},"short-date-le-long-time":{...$,...N},"short-date-le-long-time-24":{...$,...L},"long-month-day-year":S,"long-month-day-year-short-time":{...S,...U},"long-month-day-year-short-time-24":{...S,...Z},"long-month-day-year-long-time":{...S,...N},"long-month-day-year-long-time-24":{...S,...L},"day-short-month-year":I,"day-short-month-year-short-time":{...I,...U},"day-short-month-year-short-time-24":{...I,...Z},"day-short-month-year-long-time":{...I,...N},"day-short-month-year-long-time-24":{...I,...L},"long-date":O,"long-date-short-time":{...O,...U},"long-date-short-time-24":{...O,...Z},"long-date-long-time":{...O,...N},"long-date-long-time-24":{...O,...L},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":U,"long-time":N},b=(0,E.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),x={ar:"ar-u-nu-latn-ca-gregory"};let R=new WeakMap;const w=C["short-date-short-time"];function V(G){return C[G]}function ue(G,fe=w){return function K(G){let fe=R.get(G);if(!fe){const ie=(0,D.JK)(),ye=x[ie]||ie,q=ae(G.timeZone??W.qU),re={...G,timeZone:q};fe=new Intl.DateTimeFormat(ye,re),R.set(G,fe)}return fe}(fe).format(G)}function ee(G,fe=w){return ue(new Date(G),{...fe,...j,...H})}function te(G,fe=w){return ue(new Date(`1970-01-01T${G}Z`),{...fe,...j,...P})}function pe(G,fe=w){if(fe.timeZone)return ue(new Date(G),fe);const ie=B.c9.fromISO(G,{setZone:!0}),ye=(0,D.JK)(),q=x[ye]??ye,re=0===ie.offset?W.n$:fe.timeZone,ce={...fe,timeZone:re};return ie.toLocaleString(ce,{locale:q})}function ae(G){switch(G){case W.qU:return W.N5;case W.L5:return W.n$;default:return G}}(0,D.Ml)(()=>{R=new WeakMap})},88996:(et,Ae,v)=>{"use strict";v.d(Ae,{JK:()=>H,Ml:()=>J,Z0:()=>$,oQ:()=>U});var E=v(17715);let W;const B=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function P(){return B??globalThis.navigator?.language??"en"}function H(){return void 0===W&&(W=P()),W}function $(L=H()){return/^([a-zA-Z]{2,3})(?:[_-]\w+)*$/.exec(L)?.[1].toLowerCase()}const O=[];function U(L){return O.push(L),(0,E.hA)(()=>O.splice(O.indexOf(L),1))}const N=[];function J(L){return N.push(L),(0,E.hA)(()=>N.splice(N.indexOf(L),1))}globalThis.addEventListener?.("languagechange",function Z(){const L=P();W!==L&&([...N].forEach(C=>C(L)),W=L,[...O].forEach(C=>C(L)))})},45846:(et,Ae,v)=>{"use strict";v.d(Ae,{ao:()=>U,ud:()=>N,xO:()=>Z});var E=v(10467),D=v(5922),W=v(17715),B=v(56492),P=v(88996);const H=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,j={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function $(w){return w in j}const S=[],I=new Map;function O(w){for(const K of I.keys())b(w.pattern,K)&&I.delete(K)}function U(w){return S.includes(w)||(O(w),S.unshift(w)),(0,W.hA)(()=>{const K=S.indexOf(w);K>-1&&(S.splice(K,1),O(w))})}function N(w){return J.apply(this,arguments)}function J(){return J=(0,E.A)(function*(w){const K=(0,P.JK)();I.has(w)||I.set(w,function L(w,K){return C.apply(this,arguments)}(w,K));const V=I.get(w);return V&&(yield x.add(V)),V}),J.apply(this,arguments)}function Z(w){if(!H.test(w))return null;const K=H.exec(w);if(null===K)return null;const[,V,ue]=K,ee=V+(ue?"-"+ue.toUpperCase():"");return $(ee)?ee:$(V)?V:null}function C(){return(C=(0,E.A)(function*(w,K){const V=[];for(const ue of S)if(b(ue.pattern,w))try{return yield ue.fetchMessageBundle(w,K)}catch(ee){V.push(ee)}throw V.length?new D.A("intl:message-bundle-error",`Errors occurred while loading "${w}"`,{errors:V}):new D.A("intl:no-message-bundle-loader",`No loader found for message bundle "${w}"`)})).apply(this,arguments)}function b(w,K){return"string"==typeof w?K.startsWith(w):w.test(K)}(0,P.Ml)(()=>{I.clear()});const x=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var w=this;return(0,E.A)(function*(){w._dfd&&(yield w._dfd.promise)})()}add(w){return this._increase(),w.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,B.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},68479:(et,Ae,v)=>{"use strict";v.d(Ae,{ZV:()=>j,yx:()=>H});var E=v(88996);const D={ar:"ar-u-nu-latn"};let W=new WeakMap,B={};function H(I={}){const O={};return null!=I.digitSeparator&&(O.useGrouping=I.digitSeparator),null!=I.places&&(O.minimumFractionDigits=O.maximumFractionDigits=I.places),O}function j(I,O){return Object.is(I,-0)&&(I=0),function P(I){const O=I||B;if(!W.has(O)){const U=(0,E.JK)(),N=D[(0,E.JK)()]||U;W.set(O,new Intl.NumberFormat(N,I))}return W.get(O)}(O).format(I)}(0,E.Ml)(()=>{W=new WeakMap,B={}})},46186:(et,Ae,v)=>{"use strict";v.d(Ae,{V:()=>j});var E=v(35150),D=v(89221),W=v(1119),B=v(48266),P=v(68479);const H=()=>E.A.getLogger("esri.intl.substitute");function j(U,N,J={}){const{format:Z={}}=J;return(0,W.HC)(U,L=>function $(U,N,J){let Z,L;const C=U.indexOf(":");if(-1===C?Z=U.trim():(Z=U.slice(0,C).trim(),L=U.slice(C+1).trim()),!Z)return"";const b=(0,D.wc)(Z,N);if(null==b)return"";const x=(L?J?.[L]:null)??J?.[Z];return x?function S(U,N){switch(N.type){case"date":return(0,B.Yq)(U,N.intlOptions);case"number":return(0,P.ZV)(U,N.intlOptions);default:return H().warn("missing format descriptor for key {key}"),O(U)}}(b,x):L?function I(U,N){switch(N.toLowerCase()){case"dateformat":return(0,B.Yq)(U);case"numberformat":return(0,P.ZV)(U);default:return H().warn(`inline format is unsupported since 4.12: ${N}`),/^(dateformat|datestring)/i.test(N)?(0,B.Yq)(U):/^numberformat/i.test(N)?(0,P.ZV)(U):O(U)}}(b,L):O(b)}(L,N,Z))}function O(U){switch(typeof U){case"string":return U;case"number":return(0,P.ZV)(U);case"boolean":return""+U;default:return U instanceof Date?(0,B.Yq)(U):""}}},77469:(et,Ae,v)=>{"use strict";v.d(Ae,{Aq:()=>j,Y3:()=>$,id:()=>P,ol:()=>H,rE:()=>B});var E=v(3248),D=v(45272),W=v(97333);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const B="4.30";let P,H=B;function j(S){P=S}function $(S){const I=P?.findCredential(S);return I?.token?(0,D.rs)(S,"token",I.token):S}H=`4.30.0-next.${W.$}`,(0,E.A)("host-webworker")},35940:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{default:()=>zn});var E=v(10467),D=v(8189),W=v(92165),U=(v(79122),v(70176),v(92089),v(9826),v(15317),v(38582),v(96128),v(13318),v(85718)),N=v(36156),J=v(89563),Z=v(47280),L=v(90660),C=v(31178),b=v(5922),x=v(77806),R=v(35150),w=v(39693),K=v(89221),V=v(56492),ue=v(63484),ee=v(45272),te=v(85211),pe=v(48669),ae=v(17221),de=v(76576),ve=v(50305),G=v(50501),fe=v(727),ie=v(32034),ye=v(95478),re=(v(21152),v(81098)),ce=v(3248),oe=v(55098),le=v(64261),Se=v(19284),se=v(55739),Ie=(v(40707),v(69039)),X=v(28872),Ee=v(98789),Le=v(93327),Oe=v(28067),_e=v(55861),we=v(6434);let ke=0,Xe=class extends(oe.A.LoadableMixin((0,le.g)(C.A))){constructor(gt){super(gt),this._idToClientGraphic=null,this.type="memory"}load(gt){return this.addResolvingPromise(this._startWorker(null!=gt?gt.signal:null)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const gt=this.layer?.geometryType;return gt?this._geometryTypeRequiresClientGraphicMapping(gt)?"polygon":gt:null}applyEdits(gt){return this.load().then(()=>this._applyEdits(gt))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(gt,je={}){var mt=this;return(0,E.A)(function*(){yield mt.load(je);const st=yield mt._connection.invoke("queryFeatures",gt?gt.toJSON():null,je);(0,Ee.q)(gt,mt.layer.spatialReference,st);const vt=Le.A.fromJSON(st);if(!mt._requiresClientGraphicMapping())return vt;const $t=mt.layer.objectIdField;for(const ln of vt.features){const Cr=mt._idToClientGraphic.get(ln.attributes[$t]);Cr&&(ln.geometry=Cr.geometry)}return vt.geometryType=mt.layer.geometryType,vt})()}queryFeaturesJSON(gt,je={}){var mt=this;return(0,E.A)(function*(){if(mt._requiresClientGraphicMapping())throw new b.A("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");yield mt.load(je);const st=yield mt._connection.invoke("queryFeatures",gt?gt.toJSON():null,je);return(0,Ee.q)(gt,mt.layer.spatialReference,st),st})()}queryFeatureCount(gt,je={}){return this.load(je).then(()=>this._connection.invoke("queryFeatureCount",gt?gt.toJSON():null,je))}queryObjectIds(gt,je={}){return this.load(je).then(()=>this._connection.invoke("queryObjectIds",gt?gt.toJSON():null,je))}queryExtent(gt,je={}){return this.load(je).then(()=>this._connection.invoke("queryExtent",gt?gt.toJSON():null,je)).then(mt=>({count:mt.count,extent:Oe.A.fromJSON(mt.extent)}))}querySnapping(gt,je={}){return this.load(je).then(()=>this._connection.invoke("querySnapping",gt,je))}_applyEdits(gt){var je=this;return(0,E.A)(function*(){if(!je._connection)throw new b.A("feature-layer-source:edit-failure","Memory source not loaded");const mt=je.layer.objectIdField;let st=null;const vt=[],$t=[];yield Promise.all([je._prepareClientMapping(gt.addFeatures,null),je._prepareClientMapping(gt.updateFeatures,null)]);const ln=Fe=>"objectId"in Fe&&null!=Fe.objectId?Fe.objectId:"attributes"in Fe&&null!=Fe.attributes[mt]?Fe.attributes[mt]:null;if(gt.addFeatures&&(st=je._prepareAddFeatures(gt.addFeatures)),gt.deleteFeatures)for(const Fe of gt.deleteFeatures){const At=ln(Fe);null!=At&&vt.push(At)}const Rn=gt.updateFeatures&&je._idToClientGraphic?new Map:null;if(gt.updateFeatures)for(const Fe of gt.updateFeatures)if($t.push(je._serializeFeature(Fe)),Rn){const At=ln(Fe);null!=At&&Rn.set(At,Fe)}(0,X.u)(st?st.features:null,$t,je.layer.spatialReference);const{fullExtent:Cr,featureEditResults:yr}=yield je._connection.invoke("applyEdits",{adds:st?st.features:[],updates:$t,deletes:vt});return je.fullExtent=Cr,st&&st.finish(yr.uidToObjectId),je._updateClientGraphicIds(Rn,yr),je._createEditsResult(yr)})()}_prepareClientMapping(gt,je){var mt=this;return(0,E.A)(function*(){if("mesh"!==mt._layerOrSourceGeometryType||null==gt)return;const st=[];for(const{geometry:vt}of gt)null==vt||"mesh"!==vt.type||vt.hasExtent||vt.loaded||st.push(vt.load({signal:je}));st.length&&(yield Promise.all(st))})()}_updateClientGraphicIds(gt,je){if(this._idToClientGraphic){if(gt)for(const mt of je.updateResults){if(!mt.success)continue;const st=gt.get(mt.objectId);null!=st&&this._addIdToClientGraphic(st)}for(const mt of je.deleteResults)mt.success&&this._idToClientGraphic.delete(mt.objectId)}}_createEditsResult(gt){return{addFeatureResults:gt.addResults?gt.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:gt.updateResults?gt.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:gt.deleteResults?gt.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(gt){const je=!0===gt.success?null:gt.error||{code:void 0,description:void 0};return{objectId:gt.objectId,globalId:gt.globalId,error:je?new b.A("feature-layer-source:edit-failure",je.description,{code:je.code}):null}}_prepareAddFeatures(gt){const je=new Map,mt=new Array(gt.length);let st=null;for(let $t=0;$t<gt.length;$t++){const ln=gt[$t],Rn=this._serializeFeature(ln);st||null==ln.geometry||(st=ln.geometry.type),mt[$t]=Rn,je.set(`${Rn.uid}`,ln)}const vt=this;return{features:mt,inferredGeometryType:st,finish($t){const ln=vt.sourceJSON.objectIdField;for(const Rn in $t){const Cr=$t[Rn],yr=je.get(Rn);yr&&(yr.attributes||(yr.attributes={}),-1===Cr?delete yr.attributes[ln]:yr.attributes[ln]=Cr,vt._addIdToClientGraphic(yr))}}}}_addIdToClientGraphic(gt){if(!this._idToClientGraphic)return;const je=this.sourceJSON.objectIdField,mt=gt.attributes?.[je];null!=mt&&this._idToClientGraphic.set(mt,gt)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(gt){return this._geometryTypeRequiresClientGraphicMapping(gt.type)}_geometryTypeRequiresClientGraphicMapping(gt){return"mesh"===gt||"multipatch"===gt||"extent"===gt}_serializeFeature(gt){const{attributes:je}=gt,mt=this._geometryForSerialization(gt),st=(ke++).toString();return mt?{uid:st,geometry:mt.toJSON(),attributes:je}:{uid:st,attributes:je}}_geometryForSerialization(gt){const{geometry:je}=gt;return null==je?null:this._geometryRequiresClientGraphicMapping(je)?je.extent?_e.A.fromExtent(je.extent):null:je}_startWorker(gt){var je=this;return(0,E.A)(function*(){je._connection=yield(0,Se.ho)("MemorySourceWorker",{strategy:(0,ce.A)("feature-layers-workers")?"dedicated":"local",signal:gt,registryTarget:je});const{fields:mt,spatialReference:st,objectIdField:vt,hasM:$t,hasZ:ln,timeInfo:Rn,dateFieldsTimeZone:Cr}=je.layer,yr="defaults"===je.layer.originOf("spatialReference");yield je._prepareClientMapping(je.items,gt);const Fe=je._prepareAddFeatures(je.items);je.addHandles(je.on("before-changes",pt=>{R.A.getLogger(je).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),pt.preventDefault()}));const At={features:Fe.features,fields:mt?.map(pt=>pt.toJSON()),geometryType:we.Y.toJSON(je._workerGeometryType),hasM:"mesh"!==je._layerOrSourceGeometryType&&$t,hasZ:"mesh"===je._layerOrSourceGeometryType||ln,objectIdField:vt,spatialReference:yr?null:st&&st.toJSON(),timeInfo:Rn?.toJSON()??null,dateFieldsTimeZone:Cr},Ct=yield je._connection.invoke("load",At,{signal:gt});for(const pt of Ct.warnings)R.A.getLogger(je.layer).warn("#load()",`${pt.message} (title: '${je.layer.title||"no title"}', id: '${je.layer.id??"no id"}')`,{warning:pt});Ct.featureErrors.length&&R.A.getLogger(je.layer).warn("#load()",`Encountered ${Ct.featureErrors.length} validation errors while loading features. (title: '${je.layer.title||"no title"}', id: '${je.layer.id??"no id"}')`,{errors:Ct.featureErrors});const ot=Ct.layerDefinition;je._geometryTypeRequiresClientGraphicMapping(Fe.inferredGeometryType)&&(ot.geometryType=we.Y.toJSON(Fe.inferredGeometryType)),je.sourceJSON=ot,je._requiresClientGraphicMapping()&&(je._idToClientGraphic=new Map),Fe.finish(Ct.assignedObjectIds)})()}};(0,D._)([(0,Ie.u)({Type:re.A,ensureType:(0,se.dp)(re.A)})],Xe.prototype,"itemType",void 0),(0,D._)([(0,te.MZ)()],Xe.prototype,"type",void 0),(0,D._)([(0,te.MZ)({constructOnly:!0})],Xe.prototype,"layer",void 0),(0,D._)([(0,te.MZ)({readOnly:!0})],Xe.prototype,"_workerGeometryType",null),(0,D._)([(0,te.MZ)()],Xe.prototype,"sourceJSON",void 0),Xe=(0,D._)([(0,de.$)("esri.layers.graphics.sources.MemorySource")],Xe);var Q=v(94376),De=v(25936),Ke=v(93410),Ye=v(23e3),rt=v(58277),lt=v(31446),_t=v(29674),tt=v(25263),qe=v(17049),xe=v(43124),Be=v(85551),Ze=v(98877);let Ne=class extends Ze.A{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,D._)([(0,te.MZ)()],Ne.prototype,"updating",void 0),(0,D._)([(0,te.MZ)()],Ne.prototype,"status",void 0),Ne=(0,D._)([(0,de.$)("esri.layers.support.PublishingInfo")],Ne);const He=Ne,Je=Symbol(),dt=gt=>{var je;let mt=class extends gt{constructor(){super(...arguments),this[je]=!0}get publishingInfo(){if(this.destroyed)return null;const st=this._get("publishingInfo");if(st)return st;const vt=new He;return this._checkPublishingStatus(vt),vt}_checkPublishingStatus(st){var vt=this;let Rn=0;const Cr=function(){var Fe=(0,E.A)(function*(At){let Ct;st.updating=!0;try{Ct=yield vt.fetchPublishingStatus()}catch{Ct="unavailable"}"published"!==Ct&&"unavailable"!==Ct||("publishing"===st.status&&vt.refresh(),yr.remove()),st.status=Ct,st.updating=!1,yr.removed||(Rn=setTimeout(Cr,At,At+125))});return function(Ct){return Fe.apply(this,arguments)}}(),yr={removed:!1,remove(){this.removed=!0,clearTimeout(Rn)}};this.when().catch(()=>yr.remove()),Cr(250),this.addHandles(yr)}};return je=Je,(0,D._)([(0,te.MZ)({readOnly:!0,clonable:!1})],mt.prototype,"publishingInfo",null),mt=(0,D._)([(0,de.$)("esri.layers.mixins.PublishableLayer")],mt),mt};var Et=v(1151),Lt=v(33036),jt=v(84311),Kt=v(68438),Gt=v(22329),Zt=v(39729),an=v(69741),mn=v(47063),Kn=v(3404),kn=v(86300),Cn=v(20329),Nn=v(73975),er=v(90543),Un=v(38488),ur=v(5540),fr=v(93164),ir=v(8691),wn=v(87086),Er=v(61569),tr=v(41843),jn=v(71655),xs=v(46873);const Hn="FeatureLayer";function gs(gt,je){return new b.A("layer:unsupported",`Layer (${gt.title}, ${gt.id}) of type '${gt.declaredClass}' ${je}`,{layer:gt})}function ys(gt){return gt&&gt instanceof C.A}const on=(0,Kn.p)();function zr(gt,je,mt){const st=!!mt?.writeLayerSchema;return{enabled:st,ignoreOrigin:st}}let En=class extends((0,_t.j)((0,tt.J)((0,lt.F)(dt((0,rt.w6)((0,Ke.dM)((0,xe.f)((0,jt.e)((0,Lt.j)((0,Et.J)((0,De.b)((0,qe.q)((0,Be.A)((0,w.P)((0,Ye.d)((0,Q.p)((0,L.O)(ye.A)))))))))))))))))){constructor(...gt){var je;super(...gt),je=this,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=ie.A.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=(0,V.sg)(function(){var mt=(0,E.A)(function*(st,vt,$t){const{save:ln,saveAs:Rn}=yield Promise.all([v.e(2076),v.e(9554)]).then(v.bind(v,90639));switch(st){case jn.X.SAVE:return ln(je,vt);case jn.X.SAVE_AS:return Rn(je,$t,vt)}});return function(st,vt,$t){return mt.apply(this,arguments)}}())}destroy(){this.source?.destroy()}normalizeCtorArgs(gt,je){return"string"==typeof gt?{url:gt,...je}:gt}load(gt){var je=this;const mt=null!=gt?gt.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(mt).then(vt=>this.initLayerProperties(vt))),Promise.resolve(this);const st=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},gt).catch(V.QP).then((0,E.A)(function*(){if(je.url&&null==je.layerId&&/FeatureServer|MapServer\/*$/i.test(je.url)){const vt=yield je._fetchFirstValidLayerId(mt);null!=vt&&(je.layerId=vt)}if(!je.url&&!je._hasMemorySource())throw new b.A("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return je.initLayerProperties(yield je.createGraphicsSource(mt))})).then(()=>(0,Zt.VA)(this,"load",gt));return this.addResolvingPromise(st),Promise.resolve(this)}readCapabilities(gt,je){return(0,er.S)(je=je.layerDefinition||je,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(gt){this._overrideIfSome("editingEnabled",gt)}readEditingEnabled(gt,je){return this._readEditingEnabled(je,!1)}readEditingEnabledFromWebMap(gt,je,mt){return this._readEditingEnabled(je,!0,mt)}writeEditingEnabled(gt,je){this._writeEditingEnabled(gt,je,!1)}writeEditingEnabledToWebMap(gt,je,mt,st){this._writeEditingEnabled(gt,je,!0,st)}get effectiveEditingEnabled(){return(0,Zt.C$)(this)}readIsTable(gt,je){return"Table"===(je=je?.layerDefinition??je).type||!je.geometryType}writeIsTable(gt,je,mt,st){st?.writeLayerSchema&&(0,K.sM)(mt,gt?"Table":"Feature Layer",je)}readGlobalIdField(gt,je){return(0,Zt.jD)(je.layerDefinition||je)}readObjectIdField(gt,je){return(0,Zt.Zm)(je.layerDefinition||je)}get parsedUrl(){const gt=(0,ee.An)(this.url);return null!=gt&&(null!=this.dynamicDataSource?gt.path=(0,ee.fj)(gt.path,"dynamicLayer"):null!=this.layerId&&(gt.path=(0,ee.fj)(gt.path,this.layerId.toString()))),gt}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(gt){(0,kn.yp)(gt,this.fieldsIndex),this._set("renderer",gt)}readRenderer(gt,je,mt){je=je.layerDefinition||je;const st=je.drawingInfo?.renderer;if(st){const vt=(0,U.L)(st,je,mt)??void 0;return vt||R.A.getLogger(this).error("Failed to create renderer",{rendererDefinition:je.drawingInfo.renderer,layer:this,context:mt}),vt}return(0,Zt.PD)(je,mt)}set source(gt){const je=this._get("source");je!==gt&&(ys(je)&&this._resetMemorySource(je),ys(gt)&&this._initMemorySource(gt),this._set("source",gt))}castSource(gt){return gt?Array.isArray(gt)||gt instanceof C.A?new Xe({layer:this,items:gt}):gt:null}readSource(gt,je){const mt=Le.A.fromJSON(je.featureSet);return new Xe({layer:this,items:mt?.features??[]})}readTemplates(gt,je){const mt=je.editFieldsInfo,st=mt?.creatorField,vt=mt?.editorField;return gt=gt?.map($t=>an.A.fromJSON($t)),this._fixTemplates(gt,st),this._fixTemplates(gt,vt),gt}readTitle(gt,je){const mt=je.layerDefinition?.name??je.name,st=je.title||je.layerDefinition?.title;if(mt){const vt=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,Kt.yG)(this.url,mt):mt;let $t=mt;if(!$t&&this.url){const ln=(0,Kt.qg)(this.url);null!=ln&&($t=ln.title)}return $t?("item-title-and-service-name"===this.sublayerTitleMode&&vt&&vt!==$t&&($t=vt+" - "+$t),(0,Kt.cr)($t)):void 0}if("item-title"===this.sublayerTitleMode&&st)return st}readTitleFromWebMap(gt,je){return je.title||je.layerDefinition?.name}readTypeIdField(gt,je){let mt=(je=je.layerDefinition||je).typeIdField;if(mt&&je.fields){mt=mt.toLowerCase();const st=je.fields.find(vt=>vt.name.toLowerCase()===mt);st&&(mt=st.name)}return mt}readTypes(gt,je){gt=(je=je.layerDefinition||je).types;const mt=je.editFieldsInfo,st=mt?.creatorField,vt=mt?.editorField;return gt?.map($t=>($t=mn.A.fromJSON($t),this._fixTemplates($t.templates,st),this._fixTemplates($t.templates,vt),$t))}readVisible(gt,je){return null!=je.layerDefinition?.defaultVisibility?!!je.layerDefinition.defaultVisibility:null!=je.visibility?!!je.visibility:void 0}addAttachment(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.Xl)(mt,gt,je,Hn)})()}updateAttachment(gt,je,mt){var st=this;return(0,E.A)(function*(){return(0,Zt.bt)(st,gt,je,mt,Hn)})()}applyEdits(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.ct)(mt,gt,je)})()}uploadAssets(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.rn)(mt,gt,je)})()}on(gt,je){return super.on(gt,je)}createPopupTemplate(gt){return(0,tr.tn)(this,gt)}createGraphicsSource(gt){var je=this;return(0,E.A)(function*(){if(je._hasMemorySource()&&je.source)return je.source.load({signal:gt});const{default:mt}=yield(0,V.qr)(Promise.all([v.e(1732),v.e(1277),v.e(5434),v.e(3647),v.e(143),v.e(2767),v.e(5931),v.e(3718)]).then(v.bind(v,63718)),gt);return new mt({layer:je,supportedSourceTypes:je.supportedSourceTypes}).load({signal:gt})})()}createQuery(){const gt=(0,Zt.VZ)(this);gt.dynamicDataSource=this.dynamicDataSource;const mt=(0,ue.m)(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);return gt.where=mt||"1=1",gt}deleteAttachments(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.mm)(mt,gt,je,Hn)})()}fetchRecomputedExtents(gt){var je=this;return(0,E.A)(function*(){return(0,Zt.WP)(je,gt,Hn)})()}getFeatureType(gt){return(0,Zt.xd)(this.types,this.typeIdField,gt)}getFieldDomain(gt,je){const mt=je?.feature,st=(0,Zt.Nv)(this,mt);if(st){const $t=st.domains?.[gt];return"inherited"===$t?.type?this._getLayerDomain(gt):$t}const vt=this.getFeatureType(mt);if(vt){const $t=vt.domains&&vt.domains[gt];if($t&&"inherited"!==$t.type)return $t}return this._getLayerDomain(gt)}getField(gt){return this.fieldsIndex.get(gt)}queryAttachments(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.lV)(mt,gt,je,Hn)})()}queryFeatures(gt,je){var mt=this;return(0,E.A)(function*(){const st=yield mt.load(),vt=yield st.source.queryFeatures(wn.A.from(gt)??st.createQuery(),je);if(vt?.features)for(const $t of vt.features)$t.layer=$t.sourceLayer=st;return vt})()}queryObjectIds(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.sg)(mt,gt,je,Hn)})()}queryFeatureCount(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.Ye)(mt,gt,je,Hn)})()}queryExtent(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.B5)(mt,gt,je,Hn)})()}queryRelatedFeatures(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.hM)(mt,gt,je,Hn)})()}queryRelatedFeaturesCount(gt,je){var mt=this;return(0,E.A)(function*(){return(0,Zt.S2)(mt,gt,je,Hn)})()}queryTopFeatures(gt,je){var mt=this;return(0,E.A)(function*(){const{source:st,capabilities:vt}=yield mt.load();if(!st.queryTopFeatures||!vt?.query?.supportsTopFeaturesQuery)throw new b.A(Hn,"Layer source does not support queryTopFeatures capability");const $t=yield st.queryTopFeatures(Er.A.from(gt),je);if($t?.features)for(const ln of $t.features)ln.layer=ln.sourceLayer=mt;return $t})()}queryTopObjectIds(gt,je){var mt=this;return(0,E.A)(function*(){const{source:st,capabilities:vt}=yield mt.load();if(!st.queryTopObjectIds||!vt?.query.supportsTopFeaturesQuery)throw new b.A(Hn,"Layer source does not support queryTopObjectIds capability");return st.queryTopObjectIds(Er.A.from(gt),je)})()}queryTopFeaturesExtent(gt,je){var mt=this;return(0,E.A)(function*(){const{source:st,capabilities:vt}=yield mt.load();if(!st.queryTopExtents||!vt?.query?.supportsTopFeaturesQuery)throw new b.A(Hn,"Layer source does not support queryTopExtents capability");return st.queryTopExtents(Er.A.from(gt),je)})()}queryTopFeatureCount(gt,je){var mt=this;return(0,E.A)(function*(){const{source:st,capabilities:vt}=yield mt.load();if(!st.queryTopCount||!vt?.query?.supportsTopFeaturesQuery)throw new b.A(Hn,"Layer source does not support queryFeatureCount capability");return st.queryTopCount(Er.A.from(gt),je)})()}read(gt,je){const mt=gt.featureCollection;if((mt||"Feature Collection"===gt.type)&&(this.resourceInfo=gt),mt){const st=mt.layers;st&&1===st.length&&(super.read(st[0],je),null!=mt.showLegend&&super.read({showLegend:mt.showLegend},je))}super.read(gt,je),je&&"service"===je.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(gt,je){je={...je,origin:je?.origin??void 0,writeLayerSchema:je?.writeLayerSchema??this._hasMemorySource()};const{origin:mt,layerContainerType:st,messages:vt}=je;if(this.dynamicDataSource)return vt?.push(gs(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===mt||"web-scene"===mt)&&"tables"!==st)return vt?.push(gs(this,`a table source can only be written to tables, not ${st}`)),null;if(this._hasMemorySource())return vt?.push(gs(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===mt||"web-scene"===mt)&&"tables"===st)return vt?.push(gs(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(gt,je)}clone(){if(this._hasMemorySource())throw new b.A(Hn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(gt){return!!this.loaded&&("memory"===this.source?.type||(0,ur.D)(this,gt))}save(gt){var je=this;return(0,E.A)(function*(){return je._debouncedSaveOperations(jn.X.SAVE,gt)})()}saveAs(gt,je){var mt=this;return(0,E.A)(function*(){return mt._debouncedSaveOperations(jn.X.SAVE_AS,je,gt)})()}_readEditingEnabled(gt,je,mt){let st=gt.layerDefinition?.capabilities;return st?this._hasEditingCapability(st):(st=gt.capabilities,je&&"web-map"===mt?.origin&&!this._hasMemorySource()&&st?this._hasEditingCapability(st):void 0)}_hasEditingCapability(gt){return gt.toLowerCase().split(",").map(je=>je.trim()).includes("editing")}_writeEditingEnabled(gt,je,mt,st){if(!gt){const vt=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,K.sM)("layerDefinition.capabilities",vt,je),mt&&!st?.writeLayerSchema&&(je.capabilities=vt)}}_getLayerDomain(gt){const je=this.fieldsIndex.get(gt);return je?je.domain:null}_fetchFirstValidLayerId(gt){return(0,J.A)(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:gt}).then(je=>{const mt=je.data;if(mt)return this.findFirstValidLayerId(mt)})}initLayerProperties(gt){var je=this;return(0,E.A)(function*(){return je._set("source",gt),gt.sourceJSON&&(je.sourceJSON=gt.sourceJSON,je.read(gt.sourceJSON,{origin:"service",portalItem:je.portalItem,portal:je.portalItem?.portal,url:je.parsedUrl})),je._verifySource(),je._verifyFields(),(0,kn.yp)(je.renderer,je.fieldsIndex),(0,kn.sv)(je.timeInfo,je.fieldsIndex),(0,ir.L)(je,{origin:"service"})})()}hasDataChanged(){var gt=this;return(0,E.A)(function*(){return(0,Zt.jp)(gt)})()}fetchPublishingStatus(){var gt=this;return(0,E.A)(function*(){const je=gt.source;return je?.fetchPublishingStatus?je.fetchPublishingStatus():"unavailable"})()}_verifyFields(){const gt=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+gt+")"),this.isTable||this._hasMemorySource()||-1!==gt.search(/\/FeatureServer\//i)||this.fields?.some(je=>"geometry"===je.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+gt+")")}_fixTemplates(gt,je){gt&&gt.forEach(mt=>{const st=mt.prototype?.attributes;st&&je&&delete st[je]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new b.A("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new b.A("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(gt){gt.forEach(je=>{je.layer=this,je.sourceLayer=this}),this.addHandles([gt.on("after-add",je=>{je.item.layer=this,je.item.sourceLayer=this}),gt.on("after-remove",je=>{je.item.layer=null,je.item.sourceLayer=null})],"fl-source")}_resetMemorySource(gt){gt.forEach(je=>{je.layer=null,je.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(gt){return Array.isArray(gt.layers)&&gt.layers.length>0?gt.layers[0].id:Array.isArray(gt.tables)&&gt.tables.length>0?gt.tables[0].id:void 0}};(0,D._)([(0,ae.w)("service","capabilities")],En.prototype,"readCapabilities",null),(0,D._)([(0,te.MZ)({json:{origins:{"web-scene":{write:!1}},write:!0}})],En.prototype,"charts",void 0),(0,D._)([(0,te.MZ)({readOnly:!0})],En.prototype,"createQueryVersion",null),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.copyrightText"}}})],En.prototype,"copyright",void 0),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.displayField"}}})],En.prototype,"displayField",void 0),(0,D._)([(0,te.MZ)({types:Z.Es,readOnly:!0})],En.prototype,"defaultSymbol",void 0),(0,D._)([(0,te.MZ)({type:fr.L})],En.prototype,"dynamicDataSource",void 0),(0,D._)([(0,te.MZ)({type:Boolean})],En.prototype,"editingEnabled",null),(0,D._)([(0,ae.w)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],En.prototype,"readEditingEnabled",null),(0,D._)([(0,ae.w)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],En.prototype,"readEditingEnabledFromWebMap",null),(0,D._)([(0,ve.K)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],En.prototype,"writeEditingEnabled",null),(0,D._)([(0,ve.K)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],En.prototype,"writeEditingEnabledToWebMap",null),(0,D._)([(0,te.MZ)({readOnly:!0})],En.prototype,"effectiveEditingEnabled",null),(0,D._)([(0,te.MZ)({...on.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:zr}}}}})],En.prototype,"fields",void 0),(0,D._)([(0,te.MZ)(on.fieldsIndex)],En.prototype,"fieldsIndex",void 0),(0,D._)([(0,te.MZ)({type:fe.A,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],En.prototype,"formTemplate",void 0),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.extent"}}})],En.prototype,"fullExtent",void 0),(0,D._)([(0,te.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:zr,writer(gt,je,mt){const st=gt?Zt.iX.toJSON(gt):null;st&&(0,K.sM)(mt,st,je)}}}},read:{source:"layerDefinition.geometryType",reader:Zt.iX.read}}})],En.prototype,"geometryType",void 0),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.hasM"}}})],En.prototype,"hasM",void 0),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.hasZ"}}})],En.prototype,"hasZ",void 0),(0,D._)([(0,te.MZ)(Gt.id)],En.prototype,"id",void 0),(0,D._)([(0,te.MZ)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],En.prototype,"infoFor3D",void 0),(0,D._)([(0,te.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],En.prototype,"isTable",void 0),(0,D._)([(0,ae.w)("service","isTable",["type","geometryType"]),(0,ae.w)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],En.prototype,"readIsTable",null),(0,D._)([(0,ve.K)("web-map","isTable")],En.prototype,"writeIsTable",null),(0,D._)([(0,te.MZ)(Gt.kF)],En.prototype,"labelsVisible",void 0),(0,D._)([(0,te.MZ)({type:[Cn.A],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:Nn.w,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:Nn.w,write:{enabled:!0,layerContainerTypes:G.K}}},name:"layerDefinition.drawingInfo.labelingInfo",read:Nn.w,write:!0}})],En.prototype,"labelingInfo",void 0),(0,D._)([(0,te.MZ)((()=>{const gt=(0,x.o8)(Gt.Ih);return gt.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(je,mt,st){(0,K.sM)(st,(0,xs.p)(je),mt)}}},gt})())],En.prototype,"opacity",void 0),(0,D._)([(0,te.MZ)(Gt.fV)],En.prototype,"legendEnabled",void 0),(0,D._)([(0,te.MZ)({type:["show","hide"],json:(()=>{const gt=(0,x.o8)(Gt.C1.json);return gt.origins["portal-item"]={read:!1,write:!1},gt})()})],En.prototype,"listMode",void 0),(0,D._)([(0,ae.w)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],En.prototype,"readGlobalIdField",null),(0,D._)([(0,te.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:zr}}}}})],En.prototype,"objectIdField",void 0),(0,D._)([(0,ae.w)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],En.prototype,"readObjectIdField",null),(0,D._)([(0,te.MZ)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],En.prototype,"operationalLayerType",void 0),(0,D._)([(0,te.MZ)(on.outFields)],En.prototype,"outFields",void 0),(0,D._)([(0,te.MZ)({readOnly:!0})],En.prototype,"parsedUrl",null),(0,D._)([(0,te.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],En.prototype,"path",void 0),(0,D._)([(0,te.MZ)(Gt.M6)],En.prototype,"popupEnabled",void 0),(0,D._)([(0,te.MZ)({type:W.A,json:{name:"popupInfo",write:!0}})],En.prototype,"popupTemplate",void 0),(0,D._)([(0,te.MZ)({readOnly:!0})],En.prototype,"defaultPopupTemplate",null),(0,D._)([(0,te.MZ)({types:N.H,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:N.X,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:G.K,overridePolicy:(gt,je,mt)=>({ignoreOrigin:mt?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(gt,je,mt)=>({ignoreOrigin:mt?.writeLayerSchema})}}})],En.prototype,"renderer",null),(0,D._)([(0,ae.w)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,ae.w)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],En.prototype,"readRenderer",null),(0,D._)([(0,te.MZ)()],En.prototype,"resourceInfo",void 0),(0,D._)([(0,te.MZ)((()=>{const gt=(0,x.o8)(Gt.PY);return gt.json.origins["portal-item"]={read:!1,write:!1},gt})())],En.prototype,"screenSizePerspectiveEnabled",void 0),(0,D._)([(0,te.MZ)({clonable:!1})],En.prototype,"source",null),(0,D._)([(0,pe.w)("source")],En.prototype,"castSource",null),(0,D._)([(0,ae.w)("portal-item","source",["featureSet"]),(0,ae.w)("web-map","source",["featureSet"])],En.prototype,"readSource",null),(0,D._)([(0,te.MZ)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],En.prototype,"spatialReference",void 0),(0,D._)([(0,te.MZ)({type:Number})],En.prototype,"subtypeCode",void 0),(0,D._)([(0,te.MZ)({type:[an.A]})],En.prototype,"templates",void 0),(0,D._)([(0,ae.w)("templates",["editFieldsInfo","creatorField","editorField","templates"])],En.prototype,"readTemplates",null),(0,D._)([(0,te.MZ)({type:Un.A})],En.prototype,"timeInfo",void 0),(0,D._)([(0,te.MZ)()],En.prototype,"title",void 0),(0,D._)([(0,ae.w)("service","title",["name"]),(0,ae.w)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],En.prototype,"readTitle",null),(0,D._)([(0,ae.w)("web-map","title",["layerDefinition.name","title"])],En.prototype,"readTitleFromWebMap",null),(0,D._)([(0,te.MZ)({type:String})],En.prototype,"sublayerTitleMode",void 0),(0,D._)([(0,te.MZ)({json:{read:!1}})],En.prototype,"type",void 0),(0,D._)([(0,te.MZ)({type:String})],En.prototype,"typeIdField",void 0),(0,D._)([(0,ae.w)("service","typeIdField"),(0,ae.w)("typeIdField",["layerDefinition.typeIdField"])],En.prototype,"readTypeIdField",null),(0,D._)([(0,te.MZ)({type:[mn.A]})],En.prototype,"types",void 0),(0,D._)([(0,ae.w)("service","types",["types"]),(0,ae.w)("types",["layerDefinition.types"])],En.prototype,"readTypes",null),(0,D._)([(0,te.MZ)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],En.prototype,"visible",void 0),(0,D._)([(0,ae.w)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],En.prototype,"readVisible",null),En=(0,D._)([(0,de.$)("esri.layers.FeatureLayer")],En);const zn=En},95478:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ue});var E=v(10467),D=v(8189),B=(v(21152),v(89563)),P=v(12849),H=v(5922),j=v(42425),$=v(3046),S=v(55098),I=v(35150),O=v(56492),U=v(45272),N=v(85211),L=(v(3248),v(40707),v(76576)),C=v(23098);function x(){return(x=(0,E.A)(function*(ee){const te="portalItem"in ee?ee:{portalItem:ee},{fromItem:pe}=yield v.e(5565).then(v.bind(v,15565));try{return yield pe(te)}catch(ae){const de=te?.portalItem,ve=de?.id||"unset",G=de?.portal?.url||C.A.portalUrl;throw I.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+G+"', id: '"+ve+"')",ae),ae}})).apply(this,arguments)}var R=v(28067),w=v(32034);let K=0,V=class extends(j.A.EventedMixin((0,$.sA)(S.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new R.A(-180,-90,180,90,w.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+K++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=w.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static fromArcGISServerUrl(ee){return(0,E.A)(function*(){const te="string"==typeof ee?{url:ee}:ee;return(yield v.e(4126).then(v.bind(v,34126))).fromUrl(te)})()}static fromPortalItem(ee){return function b(ee){return x.apply(this,arguments)}(ee)}initialize(){this.when().catch(ee=>{(0,O.zf)(ee)||I.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:ee})})}destroy(){const ee=this.parent;if(ee){const te=this;"layers"in ee&&ee.layers.includes(te)?ee.layers.remove(te):"tables"in ee&&ee.tables.includes(te)?ee.tables.remove(te):"baseLayers"in ee&&ee.baseLayers.includes(te)?ee.baseLayers.remove(te):"referenceLayers"in ee&&ee.referenceLayers.includes(te)&&ee.referenceLayers.remove(te),this._set("parent",null)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,U.An)(this.url)}fetchAttributionData(){var ee=this;return(0,E.A)(function*(){const te=ee.attributionDataUrl;if(ee.hasAttributionData&&te)return(yield(0,B.A)(te,{query:{f:"json"},responseType:"json"})).data;throw new H.A("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,D._)([(0,N.MZ)({type:String})],V.prototype,"attributionDataUrl",void 0),(0,D._)([(0,N.MZ)({type:R.A})],V.prototype,"fullExtent",void 0),(0,D._)([(0,N.MZ)({readOnly:!0})],V.prototype,"hasAttributionData",null),(0,D._)([(0,N.MZ)({type:String,clonable:!1})],V.prototype,"id",void 0),(0,D._)([(0,N.MZ)({type:Boolean,nonNullable:!0})],V.prototype,"legendEnabled",void 0),(0,D._)([(0,N.MZ)({type:["show","hide","hide-children"]})],V.prototype,"listMode",void 0),(0,D._)([(0,N.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],V.prototype,"opacity",void 0),(0,D._)([(0,N.MZ)({clonable:!1})],V.prototype,"parent",void 0),(0,D._)([(0,N.MZ)({readOnly:!0})],V.prototype,"parsedUrl",null),(0,D._)([(0,N.MZ)({type:Boolean,readOnly:!0})],V.prototype,"persistenceEnabled",void 0),(0,D._)([(0,N.MZ)({type:Boolean})],V.prototype,"popupEnabled",void 0),(0,D._)([(0,N.MZ)({type:Boolean})],V.prototype,"attributionVisible",void 0),(0,D._)([(0,N.MZ)({type:w.A})],V.prototype,"spatialReference",void 0),(0,D._)([(0,N.MZ)({type:String})],V.prototype,"title",void 0),(0,D._)([(0,N.MZ)({readOnly:!0,json:{read:!1}})],V.prototype,"type",void 0),(0,D._)([(0,N.MZ)()],V.prototype,"url",void 0),(0,D._)([(0,N.MZ)({type:P.A})],V.prototype,"visibilityTimeExtent",void 0),(0,D._)([(0,N.MZ)({type:Boolean,nonNullable:!0})],V.prototype,"visible",void 0),V=(0,D._)([(0,L.$)("esri.layers.Layer")],V);const ue=V},4052:(et,Ae,v)=>{"use strict";v.d(Ae,{bv:()=>C,Fk:()=>b,yG:()=>x,$b:()=>R,Nd:()=>w,jm:()=>K,sK:()=>ee});var E=v(27980),D=v(67685);function W(){const te=new Float32Array(16);return te[0]=1,te[5]=1,te[10]=1,te[15]=1,te}const j=W();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:j,clone:function B(te){const pe=new Float32Array(16);return pe[0]=te[0],pe[1]=te[1],pe[2]=te[2],pe[3]=te[3],pe[4]=te[4],pe[5]=te[5],pe[6]=te[6],pe[7]=te[7],pe[8]=te[8],pe[9]=te[9],pe[10]=te[10],pe[11]=te[11],pe[12]=te[12],pe[13]=te[13],pe[14]=te[14],pe[15]=te[15],pe},create:W,createView:function H(te,pe){return new Float32Array(te,pe,16)},fromValues:function P(te,pe,ae,de,ve,G,fe,ie,ye,q,re,ce,oe,le,Se,se){const Pe=new Float32Array(16);return Pe[0]=te,Pe[1]=pe,Pe[2]=ae,Pe[3]=de,Pe[4]=ve,Pe[5]=G,Pe[6]=fe,Pe[7]=ie,Pe[8]=ye,Pe[9]=q,Pe[10]=re,Pe[11]=ce,Pe[12]=oe,Pe[13]=le,Pe[14]=Se,Pe[15]=se,Pe}},Symbol.toStringTag,{value:"Module"}));var S=v(92771);class C{constructor(pe,ae,de){this.strength=pe,this.radius=ae,this.threshold=de,this.type="bloom"}interpolate(pe,ae,de){this.strength=V(pe.strength,ae.strength,de),this.radius=V(pe.radius,ae.radius,de),this.threshold=V(pe.threshold,ae.threshold,de)}clone(){return new C(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:ue(this.radius),strength:this.strength,threshold:this.threshold}}}class b{constructor(pe){this.radius=pe,this.type="blur"}interpolate(pe,ae,de){this.radius=Math.round(V(pe.radius,ae.radius,de))}clone(){return new b(this.radius)}toJSON(){return{type:"blur",radius:ue(this.radius)}}}class x{constructor(pe,ae){this.type=pe,this.amount=ae,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(pe,ae,de){this.amount=V(pe.amount,ae.amount,de),this._updateMatrix()}clone(){return new x(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const pe=this._colorMatrix||W();switch(this.type){case"brightness":this._colorMatrix=((te,pe)=>{const ae=(0,S.hZ)(te,pe,0,0,0,0,pe,0,0,0,0,pe,0,0,0,0,1);return(0,S.mg)(ae,ae)})(pe,this.amount);break;case"contrast":this._colorMatrix=((te,pe)=>{const ae=(0,S.hZ)(te,pe,0,0,.5-.5*pe,0,pe,0,.5-.5*pe,0,0,pe,.5-.5*pe,0,0,0,1);return(0,S.mg)(ae,ae)})(pe,this.amount);break;case"grayscale":this._colorMatrix=((te,pe)=>{const ae=1-this.amount,de=(0,S.hZ)(te,.2126+.7874*ae,.7152-.7152*ae,.0722-.0722*ae,0,.2126-.2126*ae,.7152+.2848*ae,.0722-.0722*ae,0,.2126-.2126*ae,.7152-.7152*ae,.0722+.9278*ae,0,0,0,0,1);return(0,S.mg)(de,de)})(pe);break;case"invert":this._colorMatrix=((te,pe)=>{const ae=1-2*pe,de=(0,S.hZ)(te,ae,0,0,pe,0,ae,0,pe,0,0,ae,pe,0,0,0,1);return(0,S.mg)(de,de)})(pe,this.amount);break;case"saturate":this._colorMatrix=((te,pe)=>{const ae=(0,S.hZ)(te,.213+.787*pe,.715-.715*pe,.072-.072*pe,0,.213-.213*pe,.715+.285*pe,.072-.072*pe,0,.213-.213*pe,.715-.715*pe,.072+.928*pe,0,0,0,0,1);return(0,S.mg)(ae,ae)})(pe,this.amount);break;case"sepia":this._colorMatrix=((te,pe)=>{const ae=1-this.amount,de=(0,S.hZ)(te,.393+.607*ae,.769-.769*ae,.189-.189*ae,0,.349-.349*ae,.686+.314*ae,.168-.168*ae,0,.272-.272*ae,.534-.534*ae,.131+.869*ae,0,0,0,0,1);return(0,S.mg)(de,de)})(pe)}}}class R{constructor(pe,ae,de,ve){this.offsetX=pe,this.offsetY=ae,this.blurRadius=de,this.color=ve,this.type="drop-shadow"}interpolate(pe,ae,de){this.offsetX=V(pe.offsetX,ae.offsetX,de),this.offsetY=V(pe.offsetY,ae.offsetY,de),this.blurRadius=V(pe.blurRadius,ae.blurRadius,de),this.color[0]=Math.round(V(pe.color[0],ae.color[0],de)),this.color[1]=Math.round(V(pe.color[1],ae.color[1],de)),this.color[2]=Math.round(V(pe.color[2],ae.color[2],de)),this.color[3]=V(pe.color[3],ae.color[3],de)}clone(){return new R(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const pe=[...this.color];return pe[3]*=255,{type:"drop-shadow",xoffset:ue(this.offsetX),yoffset:ue(this.offsetY),blurRadius:ue(this.blurRadius),color:pe}}}class w{constructor(pe){this.angle=pe,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(pe,ae,de){this.angle=V(pe.angle,ae.angle,de),this._updateMatrix()}clone(){return new w(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const pe=this._colorMatrix||W();this._colorMatrix=((te,pe)=>{const ae=Math.sin(pe*Math.PI/180),de=Math.cos(pe*Math.PI/180),ve=(0,S.hZ)(te,.213+.787*de-.213*ae,.715-.715*de-.715*ae,.072-.072*de+.928*ae,0,.213-.213*de+.143*ae,.715+.285*de+.14*ae,.072-.072*de-.283*ae,0,.213-.213*de-.787*ae,.715-.715*de+.715*ae,.072+.928*de+.072*ae,0,0,0,0,1);return(0,S.mg)(ve,ve)})(pe,this.angle)}}class K{constructor(pe){this.amount=pe,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(pe,ae,de){this.amount=V(pe.amount,ae.amount,de)}clone(){return new K(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function V(te,pe,ae){return te+(pe-te)*ae}function ue(te){return Math.round(1e3*(0,D.PN)(te))/1e3}function ee(te){switch(te.type){case"grayscale":case"sepia":case"invert":return new x(te.type,0);case"saturate":case"brightness":case"contrast":return new x(te.type,1);case"opacity":return new K(1);case"hue-rotate":return new w(0);case"blur":return new b(0);case"drop-shadow":return new R(0,0,0,[...(0,E.TS)("transparent")]);case"bloom":return new C(0,0,1)}}},72211:(et,Ae,v)=>{"use strict";v.d(Ae,{LF:()=>P,M9:()=>H,zu:()=>I});var E=v(5922),D=v(89221),W=v(79845),B=v(26073);function P(N,J,Z){try{return function $(N){if(!N||0===N.length)return null;if(function S(N){const J=N[0];return!!J&&"scale"in J}(N)){const J=[];for(const Z of N)J.push({scale:Z.scale,value:I(Z.value)});return J}return I(N)}(N)}catch(L){Z?.messages?.push(L)}return null}function H(N,J,Z,L){try{const C=function j(N){const J=(0,W.q)(N);return J?(0,B.dw)(J)?J.map(Z=>Z.toJSON()):J.map(({scale:Z,effects:L})=>({scale:Z,value:L.map(C=>C.toJSON())})):null}(N);(0,D.sM)(Z,C,J)}catch(C){L.messages&&L.messages.push(C)}}function I(N){if(!N?.length)return"";const J=[];for(const Z of N){let L=[];switch(Z.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":L=[O(Z,"amount")];break;case"blur":L=[O(Z,"radius","pt")];break;case"hue-rotate":L=[O(Z,"angle","deg")];break;case"drop-shadow":L=[O(Z,"xoffset","pt"),O(Z,"yoffset","pt"),O(Z,"blurRadius","pt"),U(Z,"color")];break;case"bloom":L=[O(Z,"strength"),O(Z,"radius","pt"),O(Z,"threshold")]}const C=`${Z.type}(${L.filter(Boolean).join(" ")})`;(0,W.q)(C),J.push(C)}return J.join(" ")}function O(N,J,Z){if(null==N[J])throw new E.A("effect:missing-parameter",`Missing parameter '${J}' in ${N.type} effect`,{effect:N});return Z?N[J]+Z:""+N[J]}function U(N,J){if(null==N[J])throw new E.A("effect:missing-parameter",`Missing parameter '${J}' in ${N.type} effect`,{effect:N});const Z=N[J];return`rgba(${Z[0]||0}, ${Z[1]||0}, ${Z[2]||0}, ${Z[3]/255||0})`}},79845:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>I});var H,E=v(27980),D=v(5922),W=v(4052),P=(v(93293),v(26073)),$={exports:{}};(H=$).exports&&(H.exports=function(){function oe(se,Pe,Ie,X){var Ee=Error.call(this,se);return Object.setPrototypeOf&&Object.setPrototypeOf(Ee,oe.prototype),Ee.expected=Pe,Ee.found=Ie,Ee.location=X,Ee.name="SyntaxError",Ee}function le(se,Pe,Ie){return Ie=Ie||" ",se.length>Pe?se:se+(Ie+=Ie.repeat(Pe-=se.length)).slice(0,Pe)}return function ce(se,Pe){function Ie(){this.constructor=se}Ie.prototype=Pe.prototype,se.prototype=new Ie}(oe,Error),oe.prototype.format=function(se){var Pe="Error: "+this.message;if(this.location){var Ie,X=null;for(Ie=0;Ie<se.length;Ie++)if(se[Ie].source===this.location.source){X=se[Ie].text.split(/\r\n|\n|\r/g);break}var Ee=this.location.start,Le=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(Ee):Ee,Oe=this.location.source+":"+Le.line+":"+Le.column;if(X){var _e=this.location.end,we=le("",Le.line.toString().length," "),ke=X[Ee.line-1],Xe=(Ee.line===_e.line?_e.column:ke.length+1)-Ee.column||1;Pe+="\n --\x3e "+Oe+"\n"+we+" |\n"+Le.line+" | "+ke+"\n"+we+" | "+le("",Ee.column-1," ")+le("",Xe,"^")}else Pe+="\n at "+Oe}return Pe},oe.buildMessage=function(se,Pe){var Ie={literal:function(ke){return'"'+Ee(ke.text)+'"'},class:function(ke){var Xe=ke.parts.map(function(Q){return Array.isArray(Q)?Le(Q[0])+"-"+Le(Q[1]):Le(Q)});return"["+(ke.inverted?"^":"")+Xe.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(ke){return ke.description}};function X(ke){return ke.charCodeAt(0).toString(16).toUpperCase()}function Ee(ke){return ke.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Xe){return"\\x0"+X(Xe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Xe){return"\\x"+X(Xe)})}function Le(ke){return ke.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(Xe){return"\\x0"+X(Xe)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(Xe){return"\\x"+X(Xe)})}function Oe(ke){return Ie[ke.type](ke)}return"Expected "+function _e(ke){var Xe,Q,De=ke.map(Oe);if(De.sort(),De.length>0){for(Xe=1,Q=1;Xe<De.length;Xe++)De[Xe-1]!==De[Xe]&&(De[Q]=De[Xe],Q++);De.length=Q}switch(De.length){case 1:return De[0];case 2:return De[0]+" or "+De[1];default:return De.slice(0,-1).join(", ")+", or "+De[De.length-1]}}(se)+" but "+function we(ke){return ke?'"'+Ee(ke)+'"':"end of input"}(Pe)+" found."},{SyntaxError:oe,parse:function Se(se,Pe){var Ie,X={},Ee=(Pe=void 0!==Pe?Pe:{}).grammarSource,Le={start:Jn},Oe=Jn,_e="none",we=")",ke=",",Xe="(",Q="%",De="px",Ke="cm",Ye="mm",rt="in",lt="pt",_t="pc",tt="deg",qe="rad",xe="grad",Be="turn",Ze="#",Ne=".",He="e",Je=/^[ \t\n\r]/,ut=/^[a-z\-]/,dt=/^[0-9a-fA-F]/,Et=/^[+\-]/,Lt=/^[0-9]/,jt=Zi("none"),Kt=Ss("none",!1),Gt=Ss(")",!1),Zt=Ss(",",!1),an=Zi("whitespace"),mn=hs([" ","\t","\n","\r"],!1,!1),Kn=Zi("function"),kn=Ss("(",!1),Cn=Zi("identifier"),Nn=hs([["a","z"],"-"],!1,!1),er=Zi("percentage"),Un=Ss("%",!1),ur=Zi("length"),fr=Ss("px",!1),ir=Ss("cm",!1),wn=Ss("mm",!1),Er=Ss("in",!1),tr=Ss("pt",!1),jn=Ss("pc",!1),xs=Zi("angle"),Hn=Ss("deg",!1),gs=Ss("rad",!1),ys=Ss("grad",!1),on=Ss("turn",!1),zr=Zi("number"),En=Zi("color"),zn=Ss("#",!1),gt=hs([["0","9"],["a","f"],["A","F"]],!1,!1),je=hs(["+","-"],!1,!1),mt=hs([["0","9"]],!1,!1),st=Ss(".",!1),vt=Ss("e",!1),$t=function(){return[]},ln=function(Dt,Xt){return{type:"function",name:Dt,parameters:Xt||[]}},Rn=function(Dt,Xt){return Xt.length>0?function zl(Dt,Xt,dn){return[Dt].concat(function Gl(Dt,Xt){return Dt.map(function(dn){return dn[Xt]})}(Xt,dn))}(Dt,Xt,3):[Dt]},Cr=function(Dt){return{type:"quantity",value:Dt.value,unit:Dt.unit}},yr=function(Dt){return{type:"color",colorType:Dt.type,value:Dt.value}},Fe=function(Dt){return Dt},At=function(){return zo()},Ct=function(Dt){return{value:Dt,unit:"%"}},ot=function(Dt){return{value:Dt,unit:"px"}},pt=function(Dt){return{value:Dt,unit:"cm"}},Pt=function(Dt){return{value:Dt,unit:"mm"}},zt=function(Dt){return{value:Dt,unit:"in"}},gn=function(Dt){return{value:Dt,unit:"pt"}},yn=function(Dt){return{value:Dt,unit:"pc"}},Tr=function(Dt){return{value:Dt,unit:"deg"}},Or=function(Dt){return{value:Dt,unit:"rad"}},_n=function(Dt){return{value:Dt,unit:"grad"}},as=function(Dt){return{value:Dt,unit:"turn"}},Lr=function(Dt){return{value:Dt,unit:null}},Zs=function(){return{type:"hex",value:zo()}},lo=function(Dt){return{type:"function",value:Dt}},_s=function(){return{type:"named",value:zo()}},eo=function(){return parseFloat(zo())},kt=0,kr=0,ui=[{line:1,column:1}],Yn=0,oa=[],bn=0;if("startRule"in Pe){if(!(Pe.startRule in Le))throw new Error("Can't start parsing from rule \""+Pe.startRule+'".');Oe=Le[Pe.startRule]}function zo(){return se.substring(kr,kt)}function Ss(Dt,Xt){return{type:"literal",text:Dt,ignoreCase:Xt}}function hs(Dt,Xt,dn){return{type:"class",parts:Dt,inverted:Xt,ignoreCase:dn}}function Zi(Dt){return{type:"other",description:Dt}}function Wc(Dt){var Xt,dn=ui[Dt];if(dn)return dn;for(Xt=Dt-1;!ui[Xt];)Xt--;for(dn={line:(dn=ui[Xt]).line,column:dn.column};Xt<Dt;)10===se.charCodeAt(Xt)?(dn.line++,dn.column=1):dn.column++,Xt++;return ui[Dt]=dn,dn}function mr(Dt){kt<Yn||(kt>Yn&&(Yn=kt,oa=[]),oa.push(Dt))}function Jn(){var Dt;return(Dt=function Vc(){var Dt,Xt;return bn++,Dt=kt,Hs(),se.substr(kt,4)===_e?(Xt=_e,kt+=4):(Xt=X,0===bn&&mr(Kt)),Xt!==X?(Hs(),kr=Dt,Dt=$t()):(kt=Dt,Dt=X),bn--,Dt===X&&0===bn&&mr(jt),Dt}())===X&&(Dt=function Hl(){var Dt,Xt;if(Dt=[],(Xt=Ki())!==X)for(;Xt!==X;)Dt.push(Xt),Xt=Ki();else Dt=X;return Dt}()),Dt}function Ki(){var Dt,Xt,dn,cr;return Dt=kt,Hs(),(Xt=function ol(){var Dt,Xt,dn;return bn++,Dt=kt,(Xt=Hi())!==X?(40===se.charCodeAt(kt)?(dn=Xe,kt++):(dn=X,0===bn&&mr(kn)),dn!==X?(kr=Dt,Dt=Fe(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),bn--,Dt===X&&(Xt=X,0===bn&&mr(Kn)),Dt}())!==X?(Hs(),(dn=function Zc(){var Dt,Xt,dn,cr,Gs,Rs,Co,Si;if(Dt=kt,(Xt=sl())!==X){for(dn=[],cr=kt,Gs=Hs(),44===se.charCodeAt(kt)?(Rs=ke,kt++):(Rs=X,0===bn&&mr(Zt)),Rs===X&&(Rs=null),Co=Hs(),(Si=sl())!==X?cr=Gs=[Gs,Rs,Co,Si]:(kt=cr,cr=X);cr!==X;)dn.push(cr),cr=kt,Gs=Hs(),44===se.charCodeAt(kt)?(Rs=ke,kt++):(Rs=X,0===bn&&mr(Zt)),Rs===X&&(Rs=null),Co=Hs(),(Si=sl())!==X?cr=Gs=[Gs,Rs,Co,Si]:(kt=cr,cr=X);kr=Dt,Dt=Rn(Xt,dn)}else kt=Dt,Dt=X;return Dt}())===X&&(dn=null),Hs(),41===se.charCodeAt(kt)?(cr=we,kt++):(cr=X,0===bn&&mr(Gt)),cr!==X?(Hs(),kr=Dt,Dt=ln(Xt,dn)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt}function sl(){var Dt,Xt;return Dt=kt,(Xt=function il(){var Dt,Xt,dn;return bn++,Dt=kt,Hs(),(Xt=Ns())!==X?(37===se.charCodeAt(kt)?(dn=Q,kt++):(dn=X,0===bn&&mr(Un)),dn!==X?(kr=Dt,Dt=Ct(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),bn--,Dt===X&&0===bn&&mr(er),Dt}())===X&&(Xt=function to(){var Dt,Xt,dn;return bn++,Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===De?(dn=De,kt+=2):(dn=X,0===bn&&mr(fr)),dn!==X?(kr=Dt,Dt=ot(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===Ke?(dn=Ke,kt+=2):(dn=X,0===bn&&mr(ir)),dn!==X?(kr=Dt,Dt=pt(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===Ye?(dn=Ye,kt+=2):(dn=X,0===bn&&mr(wn)),dn!==X?(kr=Dt,Dt=Pt(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===rt?(dn=rt,kt+=2):(dn=X,0===bn&&mr(Er)),dn!==X?(kr=Dt,Dt=zt(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===lt?(dn=lt,kt+=2):(dn=X,0===bn&&mr(tr)),dn!==X?(kr=Dt,Dt=gn(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,Hs(),(Xt=Ns())!==X?(se.substr(kt,2)===_t?(dn=_t,kt+=2):(dn=X,0===bn&&mr(jn)),dn!==X?(kr=Dt,Dt=yn(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X)))))),bn--,Dt===X&&0===bn&&mr(ur),Dt}())===X&&(Xt=function ju(){var Dt,Xt,dn;return bn++,Dt=kt,(Xt=Ns())!==X?(se.substr(kt,3)===tt?(dn=tt,kt+=3):(dn=X,0===bn&&mr(Hn)),dn!==X?(kr=Dt,Dt=Tr(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,(Xt=Ns())!==X?(se.substr(kt,3)===qe?(dn=qe,kt+=3):(dn=X,0===bn&&mr(gs)),dn!==X?(kr=Dt,Dt=Or(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,(Xt=Ns())!==X?(se.substr(kt,4)===xe?(dn=xe,kt+=4):(dn=X,0===bn&&mr(ys)),dn!==X?(kr=Dt,Dt=_n(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X),Dt===X&&(Dt=kt,(Xt=Ns())!==X?(se.substr(kt,4)===Be?(dn=Be,kt+=4):(dn=X,0===bn&&mr(on)),dn!==X?(kr=Dt,Dt=as(Xt)):(kt=Dt,Dt=X)):(kt=Dt,Dt=X)))),bn--,Dt===X&&(Xt=X,0===bn&&mr(xs)),Dt}())===X&&(Xt=function xn(){var Dt,Xt;return bn++,Dt=kt,Hs(),(Xt=Ns())!==X?(kr=Dt,Dt=Lr(Xt)):(kt=Dt,Dt=X),bn--,Dt===X&&0===bn&&mr(zr),Dt}()),Xt!==X&&(kr=Dt,Xt=Cr(Xt)),(Dt=Xt)===X&&(Dt=kt,(Xt=function Vo(){var Dt,Xt,dn,cr;if(bn++,Dt=kt,35===se.charCodeAt(kt)?(Xt=Ze,kt++):(Xt=X,0===bn&&mr(zn)),Xt!==X){if(dn=[],dt.test(se.charAt(kt))?(cr=se.charAt(kt),kt++):(cr=X,0===bn&&mr(gt)),cr!==X)for(;cr!==X;)dn.push(cr),dt.test(se.charAt(kt))?(cr=se.charAt(kt),kt++):(cr=X,0===bn&&mr(gt));else dn=X;dn!==X?(kr=Dt,Dt=Zs()):(kt=Dt,Dt=X)}else kt=Dt,Dt=X;return Dt===X&&(Dt=kt,(Xt=Ki())!==X&&(kr=Dt,Xt=lo(Xt)),(Dt=Xt)===X&&(Dt=kt,(Xt=Hi())!==X&&(kr=Dt,Xt=_s()),Dt=Xt)),bn--,Dt===X&&(Xt=X,0===bn&&mr(En)),Dt}())!==X&&(kr=Dt,Xt=yr(Xt)),Dt=Xt),Dt}function Hs(){var Dt,Xt;for(bn++,Dt=[],Je.test(se.charAt(kt))?(Xt=se.charAt(kt),kt++):(Xt=X,0===bn&&mr(mn));Xt!==X;)Dt.push(Xt),Je.test(se.charAt(kt))?(Xt=se.charAt(kt),kt++):(Xt=X,0===bn&&mr(mn));return bn--,Xt=X,0===bn&&mr(an),Dt}function Hi(){var Dt,Xt,dn;if(bn++,Dt=kt,Xt=[],ut.test(se.charAt(kt))?(dn=se.charAt(kt),kt++):(dn=X,0===bn&&mr(Nn)),dn!==X)for(;dn!==X;)Xt.push(dn),ut.test(se.charAt(kt))?(dn=se.charAt(kt),kt++):(dn=X,0===bn&&mr(Nn));else Xt=X;return Xt!==X&&(kr=Dt,Xt=At()),bn--,(Dt=Xt)===X&&(Xt=X,0===bn&&mr(Cn)),Dt}function Ns(){var Dt,Xt,dn,cr,Gs,Rs,Co;for(Dt=kt,Et.test(se.charAt(kt))?(se.charAt(kt),kt++):0===bn&&mr(je),Xt=kt,dn=[],Lt.test(se.charAt(kt))?(cr=se.charAt(kt),kt++):(cr=X,0===bn&&mr(mt));cr!==X;)dn.push(cr),Lt.test(se.charAt(kt))?(cr=se.charAt(kt),kt++):(cr=X,0===bn&&mr(mt));if(46===se.charCodeAt(kt)?(cr=Ne,kt++):(cr=X,0===bn&&mr(st)),cr!==X){if(Gs=[],Lt.test(se.charAt(kt))?(Rs=se.charAt(kt),kt++):(Rs=X,0===bn&&mr(mt)),Rs!==X)for(;Rs!==X;)Gs.push(Rs),Lt.test(se.charAt(kt))?(Rs=se.charAt(kt),kt++):(Rs=X,0===bn&&mr(mt));else Gs=X;Gs!==X?Xt=dn=[dn,cr,Gs]:(kt=Xt,Xt=X)}else kt=Xt,Xt=X;if(Xt===X)if(Xt=[],Lt.test(se.charAt(kt))?(dn=se.charAt(kt),kt++):(dn=X,0===bn&&mr(mt)),dn!==X)for(;dn!==X;)Xt.push(dn),Lt.test(se.charAt(kt))?(dn=se.charAt(kt),kt++):(dn=X,0===bn&&mr(mt));else Xt=X;if(Xt!==X){if(dn=kt,101===se.charCodeAt(kt)?(cr=He,kt++):(cr=X,0===bn&&mr(vt)),cr!==X){if(Et.test(se.charAt(kt))?(Gs=se.charAt(kt),kt++):(Gs=X,0===bn&&mr(je)),Gs===X&&(Gs=null),Rs=[],Lt.test(se.charAt(kt))?(Co=se.charAt(kt),kt++):(Co=X,0===bn&&mr(mt)),Co!==X)for(;Co!==X;)Rs.push(Co),Lt.test(se.charAt(kt))?(Co=se.charAt(kt),kt++):(Co=X,0===bn&&mr(mt));else Rs=X;Rs!==X?dn=cr=[cr,Gs,Rs]:(kt=dn,dn=X)}else kt=dn,dn=X;dn===X&&(dn=null),kr=Dt,Dt=eo()}else kt=Dt,Dt=X;return Dt}if((Ie=Oe())!==X&&kt===se.length)return Ie;throw Ie!==X&&kt<se.length&&mr({type:"end"}),function $c(Dt,Xt,dn){return new oe(oe.buildMessage(Dt,Xt),Dt,Xt,dn)}(oa,Yn<se.length?se.charAt(Yn):null,function Uu(Dt,Xt,dn){var cr=Wc(Dt),Gs=Wc(Xt);return{source:Ee,start:{offset:Dt,line:cr.line,column:cr.column},end:{offset:Xt,line:Gs.line,column:Gs.column}}}(Yn,Yn<se.length?Yn+1:Yn))}}}());var S=$.exports;function I(ce){if(!ce||0===ce.length)return null;if("string"==typeof ce){const le=O(ce);return le&&0!==le.length?le:null}const oe=ce.map(le=>{if(!Number.isFinite(le.scale)||le.scale<=0)throw new D.A("effect:invalid-scale","scale must be finite and greater than 0",{stop:le});return{scale:le.scale,effects:O(le.value)}});oe.sort((le,Se)=>Se.effects.length-le.effects.length);for(let le=0;le<oe.length-1;le++){if(!(0,P.mj)(oe[le].effects,oe[le+1].effects))throw new D.A("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:oe[le].effects,b:oe[le+1].effects});(0,P.O9)(oe[le].effects,oe[le+1].effects)}return oe.sort((le,Se)=>Se.scale-le.scale),oe}function O(ce){let oe;if(!ce)return[];try{oe=S.parse(ce)}catch(le){throw new D.A("effect:invalid-syntax","Invalid effect syntax",{value:ce,error:le})}return oe.map(le=>function U(ce){try{switch(ce.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function N(ce){let oe=1;return x(ce.parameters,1),1===ce.parameters.length&&(oe=ae(ce.parameters[0])),new W.yG(ce.name,oe)}(ce);case"opacity":return function J(ce){let oe=1;return x(ce.parameters,1),1===ce.parameters.length&&(oe=ae(ce.parameters[0])),new W.jm(oe)}(ce);case"hue-rotate":return function Z(ce){let oe=0;return x(ce.parameters,1),1===ce.parameters.length&&(oe=function ve(ce){return function ee(ce){if("quantity"!==ce.type||!(0===ce.value&&null===ce.unit||ce.unit&&null!=ue[ce.unit]))throw new D.A("effect:type-error",`Expected <angle>, Actual: ${R(ce)}`,{term:ce})}(ce),ce.value*ue[ce.unit]||0}(ce.parameters[0])),new W.Nd(oe)}(ce);case"blur":return function L(ce){let oe=0;return x(ce.parameters,1),1===ce.parameters.length&&(oe=G(ce.parameters[0]),w(oe,ce.parameters[0])),new W.Fk(oe)}(ce);case"drop-shadow":return function C(ce){const oe=[];let le=null;for(const Se of ce.parameters)if("color"===Se.type){if(oe.length&&Object.freeze(oe),le)throw new D.A("effect:type-error","Accepts only one color",{});le=fe(Se)}else{const se=G(Se);if(Object.isFrozen(oe))throw new D.A("effect:type-error","<length> parameters not consecutive",{lengths:oe});oe.push(se),3===oe.length&&w(se,Se)}if(oe.length<2||oe.length>3)throw new D.A("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${oe.length}}`,{lengths:oe});return new W.$b(oe[0],oe[1],oe[2]||0,le||ie("black"))}(ce);case"bloom":return function b(ce){let oe=1,le=0,Se=0;return x(ce.parameters,3),ce.parameters[0]&&(oe=ae(ce.parameters[0])),ce.parameters[1]&&(le=G(ce.parameters[1]),w(le,ce.parameters[1])),ce.parameters[2]&&(Se=ae(ce.parameters[2])),new W.bv(oe,le,Se)}(ce)}}catch(oe){throw oe.details.filter=ce,oe}throw new D.A("effect:unknown-effect",`Effect '${ce.name}' is not supported`,{effect:ce})}(le))}function x(ce,oe){if(ce.length>oe)throw new D.A("effect:type-error",`Function supports up to ${oe} parameters, Actual: ${ce.length}`,{parameters:ce})}function R(ce){if("color"===ce.type)return"<color>";if(ce.unit){if(ce.unit in te)return"<length>";if(ce.unit in ue)return"<angle>";if("%"===ce.unit)return"<percentage>"}return"<double>"}function w(ce,oe){if(ce<0)throw new D.A("effect:type-error",`Negative values are not allowed, Actual: ${ce}`,{term:oe})}const ue={deg:1,grad:.9,rad:180/Math.PI,turn:360},te={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function ae(ce){!function V(ce){if("quantity"!==ce.type||null!==ce.unit&&"%"!==ce.unit)throw new D.A("effect:type-error",`Expected <double> or <percentage>, Actual: ${R(ce)}`,{term:ce})}(ce);const oe=ce.value;return w(oe,ce),"%"===ce.unit?.01*oe:oe}function G(ce){return function pe(ce){if("quantity"!==ce.type||!(0===ce.value&&null===ce.unit||ce.unit&&null!=te[ce.unit]))throw new D.A("effect:type-error",`Expected <length>, Actual: ${R(ce)}`,{term:ce})}(ce),ce.value*te[ce.unit]||0}function fe(ce){switch(ce.colorType){case"hex":return(0,E.qh)(ce.value);case"named":return ie(ce.value);case"function":return function re(ce){if(x(ce.parameters,4),ye.test(ce.name))return[ae(ce.parameters[0]),ae(ce.parameters[1]),ae(ce.parameters[2]),ce.parameters[3]?ae(ce.parameters[3]):1];if(q.test(ce.name))return(0,E.z$)(function de(ce){return function K(ce){if("quantity"!==ce.type||null!==ce.unit)throw new D.A("effect:type-error",`Expected <double>, Actual: ${R(ce)}`,{term:ce})}(ce),w(ce.value,ce),ce.value}(ce.parameters[0]),ae(ce.parameters[1]),ae(ce.parameters[2]),ce.parameters[3]?ae(ce.parameters[3]):1);throw new D.A("effect:syntax-error",`Invalid color function '${ce.name}'`,{colorFunction:ce})}(ce.value)}}function ie(ce){if(!(0,E.V6)(ce))throw new D.A("effect:unknown-color",`color '${ce}' isn't valid`,{namedColor:ce});return(0,E.c4)(ce)}const ye=/^rgba?/i,q=/^hsla?/i},26073:(et,Ae,v)=>{"use strict";v.d(Ae,{O9:()=>W,dw:()=>B,mj:()=>D});var E=v(4052);function D(H,j){const $=H.length>j.length?H:j;return(H.length>j.length?j:H).every((S,I)=>S.type===$[I].type)}function W(H,j){const $=H.length>j.length?H:j,S=H.length>j.length?j:H;for(let I=S.length;I<$.length;I++)S.push((0,E.sK)($[I]))}function B(H){const j=H[0];return!!j&&"type"in j}},94376:(et,Ae,v)=>{"use strict";v.d(Ae,{p:()=>$});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576));const $=S=>{let I=class extends S{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function j(S){return"portalItem"in S}(this)?this.portalItem?.apiKey:null}set apiKey(O){null!=O?this._override("apiKey",O):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,E._)([(0,D.MZ)({type:String})],I.prototype,"apiKey",null),I=(0,E._)([(0,H.$)("esri.layers.mixins.APIKeyMixin")],I),I}},25936:(et,Ae,v)=>{"use strict";v.d(Ae,{b:()=>$});var E=v(8189),D=v(35150),W=v(85211),H=(v(3248),v(40707),v(76576)),j=v(68438);const $=S=>{let I=class extends S{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const O=(0,j.qg)(this.url);if(null!=O&&O.title)return O.title}return this._get("title")||""}set title(O){this._set("title",O)}set url(O){this._set("url",(0,j.Jf)(O,D.A.getLogger(this)))}};return(0,E._)([(0,W.MZ)()],I.prototype,"title",null),(0,E._)([(0,W.MZ)({type:String})],I.prototype,"url",null),I=(0,E._)([(0,H.$)("esri.layers.mixins.ArcGISService")],I),I}},93410:(et,Ae,v)=>{"use strict";v.d(Ae,{LF:()=>I,dM:()=>O,sU:()=>$});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(72211);const $={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},S={read:{reader:j.LF},write:{allowNull:!0,writer:j.M9}},I={json:{read:!1,write:!1,origins:{"web-map":S,"portal-item":S}}},O=U=>{let N=class extends U{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,E._)([(0,D.MZ)($)],N.prototype,"blendMode",void 0),(0,E._)([(0,D.MZ)(I)],N.prototype,"effect",void 0),N=(0,E._)([(0,H.$)("esri.layers.mixins.BlendLayer")],N),N}},23e3:(et,Ae,v)=>{"use strict";v.d(Ae,{d:()=>j});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576));const j=$=>{let S=class extends ${constructor(){super(...arguments),this.customParameters=null}};return(0,E._)([(0,D.MZ)({type:Object,json:{write:{overridePolicy:I=>({enabled:!!(I&&Object.keys(I).length>0)})}}})],S.prototype,"customParameters",void 0),S=(0,E._)([(0,H.$)("esri.layers.mixins.CustomParametersMixin")],S),S}},58277:(et,Ae,v)=>{"use strict";v.d(Ae,{Jz:()=>O,Mk:()=>L,Zk:()=>N,dP:()=>U,gz:()=>b,w6:()=>x});var E=v(8189),D=v(42425),W=v(77806),B=v(56492),$=(v(35150),v(3248),v(5922),v(76576)),S=v(30448);const I=new D.A.EventEmitter;function O(R){return I.on("apply-edits",new WeakRef(R))}function U(R){return I.on("update-moment",new WeakRef(R))}function N(R,w,K=null,V=!1){const ue=(0,B.Tw)();return I.emit("apply-edits",{serviceUrl:R,layerId:w,gdbVersion:K,mayReceiveServiceEdits:V=null==w||V,result:ue.promise}),ue}const Z=Symbol();function L(R){return null!=R&&"object"==typeof R&&Z in R}function C(R){return null!=R&&"object"==typeof R&&"gdbVersion"in R}function b(R,w,K){const V=new URL(R).host,ue=S.Z3.get(V),ee=te=>!te||te===ue;return ee(w)&&ee(K)||w===K}const x=R=>{var w;let K=class extends R{constructor(...V){super(...V),this[w]=!0,this._applyEditsHandler=ue=>{const{serviceUrl:ee,layerId:te,gdbVersion:pe,mayReceiveServiceEdits:ae,result:de}=ue,ve=ee===this.url,G=null!=te&&null!=this.layerId&&te===this.layerId,fe=C(this),ie=C(this)&&b(ee,pe,this.gdbVersion);if(!ve||fe&&!ie||!G&&!ae)return;const ye=de.then(q=>{if(G&&(q.addedFeatures.length||q.updatedFeatures.length||q.deletedFeatures.length||q.addedAttachments.length||q.updatedAttachments.length||q.deletedAttachments.length))return this.emit("edits",(0,W.o8)(q)),q;const re=q.editedFeatures?.find(({layerId:oe})=>oe===this.layerId);if(re){const{adds:oe,updates:le,deletes:Se}=re.editedFeatures,se={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:oe?oe.map(({attributes:Pe})=>({objectId:this.objectIdField&&Pe[this.objectIdField],globalId:this.globalIdField&&Pe[this.globalIdField]})):[],deletedFeatures:Se?Se.map(({attributes:Pe})=>({objectId:this.objectIdField&&Pe[this.objectIdField],globalId:this.globalIdField&&Pe[this.globalIdField]})):[],updatedFeatures:le?le.map(({current:{attributes:Pe}})=>({objectId:this.objectIdField&&Pe[this.objectIdField],globalId:this.globalIdField&&Pe[this.globalIdField]})):[],editedFeatures:(0,W.o8)(q.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,W.o8)(q.historicMoment)};return this.emit("edits",se),se}const ce={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,W.o8)(q.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,W.o8)(q.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(ee,pe,ce.historicMoment)&&this.emit("edits",ce),ce}).then(q=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(ee,pe,q.historicMoment)&&(this.historicMoment=q.historicMoment),q));this.emit("apply-edits",{result:ye})},this._updateMomentHandler=ue=>{const{serviceUrl:ee,gdbVersion:te,moment:pe}=ue,ae=ee===this.url,de=C(this),ve=C(this)&&b(ee,te,this.gdbVersion),G=C(this)&&!b(ee,this.gdbVersion,null);ae&&de&&ve&&G&&"historicMoment"in this&&this.historicMoment!==pe&&(this.historicMoment=pe)},this.when().then(()=>{this.addHandles(O(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(U(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(V,ue,ee){return"historicMoment"in this&&this.historicMoment!==ee&&(0,S.w5)(V,ue)}};return w=Z,K=(0,E._)([(0,$.$)("esri.layers.mixins.EditBusLayer")],K),K}},31446:(et,Ae,v)=>{"use strict";v.d(Ae,{F:()=>I,Y:()=>S});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576));const $={write:{allowNull:!0}},S={type:v(66722).A,json:{origins:{"web-map":$,"portal-item":$}}},I=O=>{let U=class extends O{constructor(){super(...arguments),this.featureEffect=null}};return(0,E._)([(0,D.MZ)(S)],U.prototype,"featureEffect",void 0),U=(0,E._)([(0,H.$)("esri.layers.mixins.FeatureEffectLayer")],U),U}},29674:(et,Ae,v)=>{"use strict";v.d(Ae,{j:()=>ie});var E=v(8189),D=v(31178),W=v(77806),B=v(35150),P=v(85211),j=(v(3248),v(17221)),$=v(76576),S=v(50305),I=v(50501),O=v(28067),U=v(33119),N=v(32034),J=v(68438),Z=v(22329),L=v(90660),C=v(71065),x=(v(40707),v(22639));let R=class extends((0,L.O)(C.oY)){constructor(ye){super(ye),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,E._)([(0,P.MZ)()],R.prototype,"creatorField",void 0),(0,E._)([(0,P.MZ)()],R.prototype,"creationDateField",void 0),(0,E._)([(0,P.MZ)()],R.prototype,"editorField",void 0),(0,E._)([(0,P.MZ)()],R.prototype,"editDateField",void 0),(0,E._)([(0,P.MZ)()],R.prototype,"realm",void 0),(0,E._)([(0,P.MZ)((0,x.P6)("dateFieldsTimeReference",!0))],R.prototype,"timeZone",void 0),R=(0,E._)([(0,$.$)("esri.layers.support.EditFieldsInfo")],R);const w=R;let K=class extends((0,L.O)(C.oY)){constructor(ye){super(ye)}};(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"name",void 0),(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"fields",void 0),(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"isAscending",void 0),(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"indexType",void 0),(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"isUnique",void 0),(0,E._)([(0,P.MZ)({constructOnly:!0,json:{write:!0}})],K.prototype,"description",void 0),K=(0,E._)([(0,$.$)("esri.layers.support.FeatureIndex")],K);var V=v(39729),ue=v(82663);let ee=class extends((0,L.O)(C.oY)){constructor(ye){super(ye),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,E._)([(0,P.MZ)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],ee.prototype,"shapeAreaField",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],ee.prototype,"shapeLengthField",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:ye=>ue.dk.read(ye)||ue.Sk.read(ye)}})],ee.prototype,"units",void 0),ee=(0,E._)([(0,$.$)("esri.layers.support.GeometryFieldsInfo")],ee);const te=ee;var pe=v(64584),ae=v(36267),de=v(90543),ve=v(84546);let G=class extends((0,L.O)(C.oY)){constructor(ye){super(ye),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(ye){if(!ye)return null;const q={};for(const re of Object.keys(ye))q[re]=(0,ve.rS)(ye[re]);return q}writeDomains(ye,q){if(!ye)return;const re={};for(const ce of Object.keys(ye))ye[ce]&&(re[ce]=ye[ce]?.toJSON());q.domains=re}};(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],G.prototype,"code",void 0),(0,E._)([(0,P.MZ)({type:Object,json:{write:!0}})],G.prototype,"defaultValues",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],G.prototype,"domains",void 0),(0,E._)([(0,j.w)("domains")],G.prototype,"readDomains",null),(0,E._)([(0,S.K)("domains")],G.prototype,"writeDomains",null),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],G.prototype,"name",void 0),G=(0,E._)([(0,$.$)("esri.layers.support.Subtype")],G);const fe=G,ie=ye=>{let q=class extends ye{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(D.A.ofType(K)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=N.A.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:re}=this;if(re){const{query:oe,operations:le,editing:Se}=re;if(!oe.supportsQueryByOthers||!oe.supportsQueryByAnonymous||le.supportsEditing&&!(Se.supportsUpdateByOthers&&Se.supportsUpdateByAnonymous&&Se.supportsDeleteByOthers&&Se.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if((0,V.tG)(this))return"load";if(this.hasUpdateItemRestrictions)return re.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const ce=this.editFieldsInfo;return(ce?.creatorField||ce?.editorField)&&re?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(re,ce){return(0,de.S)(ce,this.url)}readEditingInfo(re,ce){const{editingInfo:oe}=ce;return oe?{lastEditDate:null!=oe.lastEditDate?new Date(oe.lastEditDate):null}:null}get effectiveCapabilities(){const re=this.capabilities;if(!re)return null;const ce=(0,W.o8)(re),{operations:oe,editing:le}=ce;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(oe.supportsQuery=!0),ce):this.userHasUpdateItemPrivileges?(oe.supportsAdd=oe.supportsDelete=oe.supportsEditing=oe.supportsQuery=oe.supportsUpdate=le.supportsDeleteByOthers=le.supportsGeometryUpdate=le.supportsUpdateByOthers=!0,ce):(this.userHasFullEditingPrivileges&&oe.supportsEditing&&(oe.supportsAdd=oe.supportsDelete=oe.supportsUpdate=le.supportsGeometryUpdate=!0),ce)}readGlobalIdFieldFromService(re,ce){return(0,V.jD)(ce)}get hasFullEditingRestrictions(){const re=this.capabilities;if(!re||this.sourceJSON?.isMultiServicesView)return!1;const{operations:ce,editing:oe}=re;return ce.supportsEditing&&!(ce.supportsAdd&&ce.supportsDelete&&ce.supportsUpdate&&oe.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const re=this.capabilities;if(!re)return!1;const{operations:ce,editing:oe}=re;return this.sourceJSON?.isMultiServicesView?!ce.supportsQuery:!(ce.supportsAdd&&ce.supportsDelete&&ce.supportsEditing&&ce.supportsQuery&&ce.supportsUpdate&&oe.supportsDeleteByOthers&&oe.supportsGeometryUpdate&&oe.supportsUpdateByOthers)}readIsTableFromService(re,ce){return"Table"===ce.type}readMaxScale(re,ce){return ce.effectiveMaxScale||re||0}readMinScale(re,ce){return ce.effectiveMinScale||re||0}readObjectIdFieldFromService(re,ce){return(0,V.Zm)(ce)}readServiceDefinitionExpression(re,ce){return ce.definitionQuery||ce.definitionExpression}set url(re){if(null==re)return void this._set("url",re);const ce=(0,J.HZ)({layer:this,url:re,nonStandardUrlAllowed:!0,logger:B.A.getLogger(this)});this._set("url",ce.url),null!=ce.layerId&&this._set("layerId",ce.layerId)}writeUrl(re,ce,oe,le){(0,J.LS)(this,re,null,ce,le)}readVersion(re,ce){return(0,V.$4)(ce)}};return(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"authenticationTriggerEvent",null),(0,E._)([(0,P.MZ)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],q.prototype,"copyright",void 0),(0,E._)([(0,P.MZ)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],q.prototype,"capabilities",void 0),(0,E._)([(0,j.w)("service","capabilities")],q.prototype,"readCapabilitiesFromService",null),(0,E._)([(0,P.MZ)((0,x.P6)("dateFieldsTimeReference"))],q.prototype,"dateFieldsTimeZone",void 0),(0,E._)([(0,P.MZ)({type:Boolean})],q.prototype,"datesInUnknownTimezone",void 0),(0,E._)([(0,P.MZ)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],q.prototype,"definitionExpression",void 0),(0,E._)([(0,P.MZ)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],q.prototype,"displayField",void 0),(0,E._)([(0,P.MZ)({readOnly:!0,type:w})],q.prototype,"editFieldsInfo",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"editingInfo",void 0),(0,E._)([(0,j.w)("editingInfo")],q.prototype,"readEditingInfo",null),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"effectiveCapabilities",null),(0,E._)([(0,P.MZ)((()=>{const re=(0,W.o8)(Z.Yj),ce=re.json.origins;return ce["web-map"]={read:!1,write:!1},ce["portal-item"]={read:!1,write:!1},re})())],q.prototype,"elevationInfo",void 0),(0,E._)([(0,P.MZ)({type:pe.A,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:I.K}}}}})],q.prototype,"floorInfo",void 0),(0,E._)([(0,P.MZ)({type:O.A,json:{origins:{service:{read:{source:"extent"}}}}})],q.prototype,"fullExtent",void 0),(0,E._)([(0,P.MZ)()],q.prototype,"gdbVersion",void 0),(0,E._)([(0,P.MZ)({readOnly:!0,type:te,json:{read:{source:"geometryProperties"}}})],q.prototype,"geometryFieldsInfo",void 0),(0,E._)([(0,P.MZ)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:V.iX.read}}}})],q.prototype,"geometryType",void 0),(0,E._)([(0,P.MZ)({type:String})],q.prototype,"globalIdField",void 0),(0,E._)([(0,j.w)("service","globalIdField",["globalIdField","fields"])],q.prototype,"readGlobalIdFieldFromService",null),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"hasFullEditingRestrictions",null),(0,E._)([(0,P.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],q.prototype,"hasM",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"hasUpdateItemRestrictions",null),(0,E._)([(0,P.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],q.prototype,"hasZ",void 0),(0,E._)([(0,P.MZ)({readOnly:!0,type:U.A})],q.prototype,"heightModelInfo",void 0),(0,E._)([(0,P.MZ)({type:Date})],q.prototype,"historicMoment",void 0),(0,E._)([(0,P.MZ)({type:D.A.ofType(K),readOnly:!0})],q.prototype,"indexes",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"isTable",void 0),(0,E._)([(0,j.w)("service","isTable",["type"])],q.prototype,"readIsTableFromService",null),(0,E._)([(0,P.MZ)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],q.prototype,"layerId",void 0),(0,E._)([(0,P.MZ)(Z.hG)],q.prototype,"maxScale",void 0),(0,E._)([(0,j.w)("service","maxScale",["maxScale","effectiveMaxScale"])],q.prototype,"readMaxScale",null),(0,E._)([(0,P.MZ)(Z.hn)],q.prototype,"minScale",void 0),(0,E._)([(0,j.w)("service","minScale",["minScale","effectiveMinScale"])],q.prototype,"readMinScale",null),(0,E._)([(0,P.MZ)({type:String})],q.prototype,"objectIdField",void 0),(0,E._)([(0,j.w)("service","objectIdField",["objectIdField","fields"])],q.prototype,"readObjectIdFieldFromService",null),(0,E._)([(0,P.MZ)((0,x.P6)("preferredTimeReference"))],q.prototype,"preferredTimeZone",void 0),(0,E._)([(0,P.MZ)({type:[ae.A],readOnly:!0})],q.prototype,"relationships",void 0),(0,E._)([(0,P.MZ)({type:Boolean})],q.prototype,"returnM",void 0),(0,E._)([(0,P.MZ)({type:Boolean})],q.prototype,"returnZ",void 0),(0,E._)([(0,P.MZ)({readOnly:!0,json:{write:!1}})],q.prototype,"serverGens",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],q.prototype,"serviceDefinitionExpression",void 0),(0,E._)([(0,j.w)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],q.prototype,"readServiceDefinitionExpression",null),(0,E._)([(0,P.MZ)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],q.prototype,"serviceItemId",void 0),(0,E._)([(0,P.MZ)()],q.prototype,"sourceJSON",void 0),(0,E._)([(0,P.MZ)({type:N.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],q.prototype,"spatialReference",void 0),(0,E._)([(0,P.MZ)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],q.prototype,"subtypeField",void 0),(0,E._)([(0,P.MZ)({type:[fe],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],q.prototype,"subtypes",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],q.prototype,"trackIdField",void 0),(0,E._)([(0,P.MZ)(Z.OZ)],q.prototype,"url",null),(0,E._)([(0,S.K)("url")],q.prototype,"writeUrl",null),(0,E._)([(0,P.MZ)({json:{origins:{service:{read:!0}},read:!1}})],q.prototype,"version",void 0),(0,E._)([(0,j.w)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],q.prototype,"readVersion",null),q=(0,E._)([(0,$.$)("esri.layers.mixins.FeatureLayerBase")],q),q}},25263:(et,Ae,v)=>{"use strict";v.d(Ae,{J:()=>ce});var E=v(8189),$=(v(79122),v(70176),v(92089),v(9826),v(15317),v(38582),v(96128)),O=(v(13318),v(85718),v(35150)),U=v(48900),N=v(85211),J=v(3248),L=(v(40707),v(76576)),C=v(2052),b=v(14236),x=v(84495),R=v(8042),K=(v(47280),v(5922)),V=v(55144),ue=v(40695),ee=v(71314),te=v(46602);J.A.add("esri-cluster-arcade-enabled",!0);const ae=(0,J.A)("esri-cluster-arcade-enabled"),de=new Set(["simple-line","simple-fill","picture-fill"]);function ve(oe,le){let Se=le.clone();if(!ie(Se))return Se;if(le.getSymbols().some(se=>de.has(se.type))&&(Se=new $.A({symbol:new te.A})),Se.authoringInfo||(Se.authoringInfo=new ee.A),Se.authoringInfo.isAutoGenerated=!0,"visualVariables"in Se){const se=(Se.visualVariables||[]).filter(Pe=>"$view.scale"!==Pe.valueExpression);se.forEach(Pe=>{"rotation"===Pe.type?Pe.field?Pe.field=re(oe,Pe.field,"avg_angle","number"):Pe.valueExpression&&(Pe.field=q(oe,Pe.valueExpression,"avg_angle","number"),Pe.valueExpression=null):Pe.normalizationField?(Pe.field=re(oe,Pe.field,"avg_norm","number",Pe.normalizationField),Pe.normalizationField=null):Pe.field?Pe.field=re(oe,Pe.field,"avg","number"):Pe.valueExpression&&(Pe.field=q(oe,Pe.valueExpression,"avg","number"),Pe.valueExpression=null)}),Se.visualVariables=se}switch(Se.type){case"simple":break;case"pie-chart":for(const se of Se.attributes)se.field?se.field=re(oe,se.field,"sum","number"):se.valueExpression&&(se.field=q(oe,se.valueExpression,"sum","number"),se.valueExpression=null);break;case"unique-value":Se.field?Se.field=re(oe,Se.field,"mode","string"):Se.valueExpression&&(Se.field=q(oe,Se.valueExpression,"mode","string"),Se.valueExpression=null);break;case"class-breaks":Se.normalizationField?(Se.field=re(oe,Se.field,"avg_norm","number",Se.normalizationField),Se.normalizationField=null):Se.field?Se.field=re(oe,Se.field,"avg","number"):Se.valueExpression&&(Se.field=q(oe,Se.valueExpression,"avg","number"),Se.valueExpression=null)}return Se}const ie=oe=>{const le=Se=>O.A.getLogger("esri.views.2d.layers.support.clusterUtils").error(new K.A("Unsupported-renderer",Se,{renderer:oe}));if(!oe)return!1;switch(oe.type){case"unique-value":if(oe.field2||oe.field3)return le("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(oe.normalizationField){const Se=oe.normalizationType;if("field"!==Se)return le(`FeatureReductionCluster does not support a normalizationType of ${Se}`),!1}break;case"simple":case"pie-chart":break;default:return le(`FeatureReductionCluster does not support renderers of type ${oe.type}`),!1}if(!ae){if("valueExpression"in oe&&oe.valueExpression)return le("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in oe&&oe.visualVariables||[]).some(Se=>!(!("valueExpression"in Se)||!Se.valueExpression)))return le("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function q(oe,le,Se,se){const Pe=(0,V.d)(le),Ie="mode"===Se?`cluster_type_${Pe}`:"sum"===Se?`cluster_sum_${Pe}`:`cluster_avg_${Pe}`;return oe.some(X=>X.name===Ie)||oe.push(new C.A({name:Ie,isAutoGenerated:!0,onStatisticExpression:new ue.A({expression:le,returnType:se}),statisticType:Se})),Ie}function re(oe,le,Se,se,Pe){if("cluster_count"===le||oe.some(X=>X.name===le))return le;const Ie=function ye(oe,le,Se){switch(oe){case"sum":return`cluster_sum_${le}`;case"avg":case"avg_angle":return`cluster_avg_${le}`;case"mode":return`cluster_type_${le}`;case"avg_norm":{const se=Se,Pe="field",Ie=le.toLowerCase()+",norm:"+Pe+","+se.toLowerCase();return"cluster_avg_"+(0,V.d)(Ie)}}}(Se,le,Pe);return oe.some(X=>X.name===Ie)||oe.push(new C.A("avg_norm"===Se?{name:Ie,isAutoGenerated:!0,onStatisticExpression:new ue.A({expression:`$feature.${le} / $feature.${Pe}`,returnType:se}),statisticType:"avg"}:{name:Ie,isAutoGenerated:!0,onStatisticField:le,statisticType:Se})),Ie}const ce=oe=>{let le=class extends oe{constructor(...Se){super(...Se),this.addHandles((0,U.wB)(()=>this.renderer,()=>{if(this.featureReduction){const se=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",se)}},U.OH))}set featureReduction(Se){const se=this._normalizeFeatureReduction(Se);this._set("featureReduction",se)}set renderer(Se){}_withClusterVariable(Se,se,Pe){const Ie=Se.clone();return"visualVariables"in Ie&&(Ie.visualVariables||(Ie.visualVariables=[]),Ie.visualVariables.some(X=>"size"===X.type)||Ie.visualVariables.push(new x.A({field:"cluster_count",stops:[new R.A({value:1}),new R.A({useMinValue:!0,size:se}),new R.A({useMaxValue:!0,size:Pe})]}))),Ie}_normalizeFeatureReduction(Se){if("cluster"!==Se?.type)return Se;const se=Se.clone(),Pe=[new C.A({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],Ie=(se.fields??[]).filter(we=>!we.isAutoGenerated),X=Se.renderer&&!Se.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:Ee,clusterMaxSize:Le}=se;if(X){se.fields=[...Pe,...Ie];const we=this._withClusterVariable(se.renderer,Ee,Le);return se.effectiveFeatureRenderer=we,se.effectiveClusterRenderer=we,se}if(Se.symbol){if(se.fields=[...Pe,...Ie],se.renderer=null,!this.renderer)return se.effectiveFeatureRenderer=null,se.effectiveClusterRenderer=null,se;const we=ve(Pe,this.renderer),ke=this._withClusterVariable(we,Ee,Le),Q=new $.A({symbol:Se.symbol,visualVariables:"visualVariables"in ke&&ke.visualVariables?ke.visualVariables:[]});return se.fields=[...Pe,...Ie],se.effectiveFeatureRenderer=ke,se.effectiveClusterRenderer=Q,se}if(!this.renderer)return Se;const Oe=ve(Pe,this.renderer);se.fields=[...Pe,...Ie],se.renderer=Oe;const _e=this._withClusterVariable(Oe,Ee,Le);return se.effectiveFeatureRenderer=_e,se.effectiveClusterRenderer=_e,se}};return(0,E._)([(0,N.MZ)(b.d)],le.prototype,"featureReduction",null),le=(0,E._)([(0,L.$)("esri.layers.mixins.FeatureReductionLayer")],le),le}},17049:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>R});var E=v(8189),D=v(12849),W=v(5922),B=v(45272),P=v(85211),H=v(55739),S=(v(40707),v(3248),v(17221)),I=v(76576),O=v(50305),U=v(50501),N=v(34813),J=v(56558);const Z={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},L={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},C={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},b={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":Z,"web-map/basemap":L,"web-map/tables":C,"link-chart/operational-layers":{...Z,LinkChartLayer:!0},"link-chart/basemap":L,"link-chart/tables":C,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};var x=v(22329);const R=K=>{let V=class extends K{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(ue,ee,te){return"Group Layer"===te?.portalItem?.type?void 0:ue}writeListMode(ue,ee,te,pe){(pe&&"ground"===pe.layerContainerType||ue&&(0,J.R)(this,te,{},pe))&&(ee[te]=ue)}writeOperationalLayerType(ue,ee,te,pe){ue&&"tables"!==pe?.layerContainerType&&(ee.layerType=ue)}writeTitle(ue,ee){ee.title=ue??"Layer"}readTimeExtent(ue){return ue?D.A.fromArray(ue):null}writeTimeExtent(ue,ee,te,pe){ue&&"tables"!==pe.layerContainerType&&(ue.isEmpty?pe?.messages&&pe.messages.push(new W.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):ee[te]=ue.toArray())}read(ue,ee){ee&&(ee.layer=this),(0,N.t)(this,ue,te=>super.read(ue,te),ee)}write(ue,ee){if(!this.persistenceEnabled&&!ee?.ignorePersistenceEnabled)return null;if(ee?.origin){const ae=`${ee.origin}/${ee.layerContainerType||"operational-layers"}`;let ve=!!b[ae]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===ae&&(ve=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===ae&&(ve=!1),!ve)return ee.messages?.push(new W.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${ae}'`,{layer:this})),null}const te=super.write(ue,{...ee,layer:this}),pe=!!ee&&!!ee.messages&&!!ee.messages.filter(ae=>ae instanceof W.A&&"web-document-write:property-required"===ae.name).length;return(0,B.w8)(te?.url)?(ee?.messages?.push(new W.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&pe?null:te}beforeSave(){}};return(0,E._)([(0,P.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],V.prototype,"id",void 0),(0,E._)([(0,S.w)("id",["id"])],V.prototype,"readId",null),(0,E._)([(0,P.MZ)(x.C1)],V.prototype,"listMode",void 0),(0,E._)([(0,O.K)("listMode")],V.prototype,"writeListMode",null),(0,E._)([(0,P.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:U.K}}}}})],V.prototype,"operationalLayerType",void 0),(0,E._)([(0,O.K)("operationalLayerType")],V.prototype,"writeOperationalLayerType",null),(0,E._)([(0,P.MZ)(x.ke)],V.prototype,"opacity",void 0),(0,E._)([(0,P.MZ)({type:Boolean,readOnly:!1})],V.prototype,"persistenceEnabled",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],V.prototype,"title",void 0),(0,E._)([(0,O.K)("title"),(0,O.K)(["web-scene"],"title")],V.prototype,"writeTitle",null),(0,E._)([(0,P.MZ)({type:D.A,json:{origins:{"web-scene":{write:{layerContainerTypes:U.K}}}}})],V.prototype,"visibilityTimeExtent",void 0),(0,E._)([(0,S.w)("visibilityTimeExtent")],V.prototype,"readTimeExtent",null),(0,E._)([(0,O.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[H.jz,H.Uv]]}})],V.prototype,"writeTimeExtent",null),(0,E._)([(0,P.MZ)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:U.K}}},name:"visibility",write:!0}})],V.prototype,"visible",void 0),V=(0,E._)([(0,I.$)("esri.layers.mixins.OperationalLayer")],V),V}},43124:(et,Ae,v)=>{"use strict";v.d(Ae,{f:()=>U,n:()=>O});var E=v(8189),D=v(89221),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(15848);const O={type:[$.A],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:function S(N,J,Z){if(!N)return null;const L=N.find(b=>!!b.field);if(!L)return null;const C=new $.A;return C.read(L,Z),[C]}},write:{writer:function I(N,J,Z,L){const C=N.find(b=>!!b.field);C&&(0,D.sM)(Z,[C.toJSON()],J)}}}},U=N=>{let J=class extends N{constructor(){super(...arguments),this.orderBy=null}};return(0,E._)([(0,W.MZ)(O)],J.prototype,"orderBy",void 0),J=(0,E._)([(0,j.$)("esri.layers.mixins.OrderedLayer")],J),J}},85551:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>V});var E=v(10467),D=v(8189),W=v(23098),B=v(77469),P=v(89563),H=v(89447),j=v(5922),$=v(35150),S=v(11432),I=v(56492),O=v(45272),U=v(85211),Z=(v(3248),v(40707),v(17221)),L=v(76576),C=v(50305),b=v(58443),x=v(73874),R=v(46577),w=v(52606),K=v(69927);const V=ee=>{let te=class extends ee{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,S.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(pe){pe!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",pe))}readPortalItem(pe,ae,de){if(ae.itemId)return new R.default({id:ae.itemId,portal:de?.portal})}writePortalItem(pe,ae){pe?.id&&(ae.itemId=pe.id)}loadFromPortal(pe,ae){var de=this;return(0,E.A)(function*(){if(de.portalItem?.id)try{const{load:ve}=yield Promise.all([v.e(5565),v.e(2076),v.e(6180)]).then(v.bind(v,56180));return(0,I.Te)(ae),yield ve({instance:de,supportedTypes:pe.supportedTypes,validateItem:pe.validateItem,supportsData:pe.supportsData,layerModuleTypeMap:pe.layerModuleTypeMap},ae)}catch(ve){throw(0,I.zf)(ve)||$.A.getLogger(de).warn(`Failed to load layer (${de.title}, ${de.id}) portal item (${de.portalItem.id})\n  ${ve}`),ve}})()}finishLoadEditablePortalLayer(pe){var ae=this;return(0,E.A)(function*(){ae._set("userHasEditingPrivileges",yield ae._fetchUserHasEditingPrivileges(pe).catch(de=>((0,I.QP)(de),!0)))})()}setUserPrivileges(pe,ae){var de=this;return(0,E.A)(function*(){if(!W.A.userPrivilegesApplied)return de.finishLoadEditablePortalLayer(ae);if(de.url)try{const{features:{edit:ve,fullEdit:G},content:{updateItem:fe}}=yield de._fetchUserPrivileges(pe,ae);de._set("userHasEditingPrivileges",ve),de._set("userHasFullEditingPrivileges",G),de._set("userHasUpdateItemPrivileges",fe)}catch(ve){(0,I.QP)(ve)}})()}_fetchUserPrivileges(pe,ae){var de=this;return(0,E.A)(function*(){let ve=de.portalItem;if(!pe||!ve||!ve.loaded||ve.sourceUrl)return de._fetchFallbackUserPrivileges(ae);const G=pe===ve.id;if(G&&ve.portal.user)return(0,K.It)(ve);let fe,ie;if(G)fe=ve.portal.url;else try{fe=yield(0,b.wI)(de.url,ae)}catch(ce){(0,I.QP)(ce)}if(!fe||!(0,O.b8)(fe,ve.portal.url))return de._fetchFallbackUserPrivileges(ae);try{const ce=null!=ae?ae.signal:null;ie=yield B.id?.getCredential(`${fe}/sharing`,{prompt:!1,signal:ce})}catch(ce){(0,I.QP)(ce)}const q=!1;if(!ie)return{features:{edit:!0,fullEdit:q},content:{updateItem:!1}};try{if(G?yield ve.reload():(ve=new R.default({id:pe,portal:{url:fe}}),yield ve.load(ae)),ve.portal.user)return(0,K.It)(ve)}catch(ce){(0,I.QP)(ce)}return{features:{edit:!0,fullEdit:q},content:{updateItem:!1}}})()}_fetchFallbackUserPrivileges(pe){var ae=this;return(0,E.A)(function*(){let de=!0;try{de=yield ae._fetchUserHasEditingPrivileges(pe)}catch(ve){(0,I.QP)(ve)}return{features:{edit:de,fullEdit:!1},content:{updateItem:!1}}})()}_fetchUserHasEditingPrivileges(pe){var ae=this;return(0,E.A)(function*(){const de=ae.url?B.id?.findCredential(ae.url):null;if(!de)return!0;const ve=ue.credential===de?ue.user:yield ae._fetchEditingUser(pe);return ue.credential=de,ue.user=ve,null==ve?.privileges||ve.privileges.includes("features:user:edit")})()}_fetchEditingUser(pe){var ae=this;return(0,E.A)(function*(){const de=ae.portalItem?.portal?.user;if(de)return de;const ve=B.id?.findServerInfo(ae.url??"");if(!ve?.owningSystemUrl)return null;const G=`${ve.owningSystemUrl}/sharing/rest`,fe=x.A.getDefault();if(fe&&fe.loaded&&(0,O.S8)(fe.restUrl)===(0,O.S8)(G))return fe.user;const ie=`${G}/community/self`,ye=null!=pe?pe.signal:null,q=yield(0,H.Ke)((0,P.A)(ie,{authMode:"no-prompt",query:{f:"json"},signal:ye}));return q.ok?w.A.fromJSON(q.value.data):null})()}read(pe,ae){ae&&(ae.layer=this),super.read(pe,ae)}write(pe,ae){const de=ae?.portal,ve=this.portalItem?.id&&(this.portalItem.portal||x.A.getDefault());return de&&ve&&!(0,O.ut)(ve.restUrl,de.restUrl)?(ae.messages&&ae.messages.push(new j.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(pe,{...ae,layer:this})}};return(0,D._)([(0,U.MZ)({type:R.default})],te.prototype,"portalItem",null),(0,D._)([(0,Z.w)("web-document","portalItem",["itemId"])],te.prototype,"readPortalItem",null),(0,D._)([(0,C.K)("web-document","portalItem",{itemId:{type:String}})],te.prototype,"writePortalItem",null),(0,D._)([(0,U.MZ)({clonable:!1})],te.prototype,"resourceReferences",void 0),(0,D._)([(0,U.MZ)({type:Boolean,readOnly:!0})],te.prototype,"userHasEditingPrivileges",void 0),(0,D._)([(0,U.MZ)({type:Boolean,readOnly:!0})],te.prototype,"userHasFullEditingPrivileges",void 0),(0,D._)([(0,U.MZ)({type:Boolean,readOnly:!0})],te.prototype,"userHasUpdateItemPrivileges",void 0),te=(0,D._)([(0,L.$)("esri.layers.mixins.PortalLayer")],te),te},ue={credential:null,user:null}},1151:(et,Ae,v)=>{"use strict";v.d(Ae,{J:()=>ae});var E=v(10467),D=v(8189),B=(v(3248),v(35150)),P=v(56492),H=v(85211),j=v(48669),S=(v(40707),v(76576)),I=v(50501),O=v(31178),Z=(v(89447),v(5922),v(76410),v(34703));const L=new O.A,C=new WeakMap;function w(de,ve){return Number.isFinite(de)&&Number.isFinite(ve)?ve<=0?de:w(ve,de%ve):0}let K=0,V=0;function ue(){const de=Date.now();let ve=!1;for(const G of L){const fe=G.deref();fe?fe.refreshInterval&&de-(C.get(fe)??0)+5>=6e4*fe.refreshInterval&&(C.set(fe,de),fe.refresh(de)):ve=!0}if(ve)for(let G=L.length-1;G>=0;G--)L.at(G).deref()||L.removeAt(G)}(0,Z.fm)(()=>{const de=Date.now();let ve=0;for(const G of L){const fe=G.deref();fe&&(ve=w(Math.round(6e4*fe.refreshInterval),ve),fe.refreshInterval?C.get(fe)||C.set(fe,de):C.delete(fe))}if(ve!==V){if(V=ve,clearInterval(K),0===V)return void(K=0);K=setInterval(ue,V)}});const ae=de=>{let ve=class extends de{constructor(...G){super(...G),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,P.sg)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function b(de){(function R(de){return null!=de&&"object"==typeof de&&"refreshInterval"in de&&"refresh"in de})(de)&&L.push(new WeakRef(de))}(this)},()=>{})}destroy(){!function x(de){const ve=L.find(G=>G.deref()===de);ve&&L.remove(ve)}(this)}castRefreshInterval(G){return G>=.1?G:G<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(G=Date.now()){(0,P.QZ)(this._debounceHasDataChanged()).then(fe=>{fe&&this._set("refreshTimestamp",G),this.emit("refresh",{dataChanged:fe})},fe=>{B.A.getLogger(this).error(fe),this.emit("refresh",{dataChanged:!1,error:fe})})}hasDataChanged(){return(0,E.A)(function*(){return!0})()}get test(){}};return(0,D._)([(0,H.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:I.K}}}}})],ve.prototype,"refreshInterval",void 0),(0,D._)([(0,j.w)("refreshInterval")],ve.prototype,"castRefreshInterval",null),(0,D._)([(0,H.MZ)({readOnly:!0})],ve.prototype,"refreshTimestamp",void 0),(0,D._)([(0,H.MZ)({readOnly:!0})],ve.prototype,"refreshParameters",null),ve=(0,D._)([(0,S.$)("esri.layers.mixins.RefreshableLayer")],ve),ve}},33036:(et,Ae,v)=>{"use strict";v.d(Ae,{j:()=>j});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576));const j=S=>{let I=class extends S{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const O={minScale:this.minScale,maxScale:this.maxScale},U=this.parent;U&&"effectiveScaleRange"in U&&function $(S,I){S.minScale=S.minScale>0?I.minScale>0?Math.min(S.minScale,I.minScale):S.minScale:I.minScale,S.maxScale=S.maxScale>0?I.maxScale>0?Math.max(S.maxScale,I.maxScale):S.maxScale:I.maxScale}(O,U.effectiveScaleRange);const N=this._get("effectiveScaleRange");return N&&N.minScale===O.minScale&&N.maxScale===O.maxScale?N:O}};return(0,E._)([(0,D.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],I.prototype,"minScale",void 0),(0,E._)([(0,D.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],I.prototype,"maxScale",void 0),(0,E._)([(0,D.MZ)({readOnly:!0})],I.prototype,"effectiveScaleRange",null),I=(0,E._)([(0,H.$)("esri.layers.mixins.ScaleRangeLayer")],I),I}},84311:(et,Ae,v)=>{"use strict";v.d(Ae,{B:()=>J,e:()=>Z});var E=v(8189),D=v(12849),W=v(99980),B=v(85211),$=(v(3248),v(35150),v(40707),v(17221)),S=v(76576),I=v(50501),O=v(86300),U=v(38488),N=v(26957);const J={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:I.K}}},Z=L=>{let C=class extends L{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(b,x){const R=x.timeInfo.exportOptions;if(!R)return null;const w=R.timeOffset,K=N.j.fromJSON(R.timeOffsetUnits);return w&&K?new W.A({value:w,unit:K}):null}set timeInfo(b){(0,O.sv)(b,this.fieldsIndex),this._set("timeInfo",b)}};return(0,E._)([(0,B.MZ)({type:D.A,json:{write:!1}})],C.prototype,"timeExtent",void 0),(0,E._)([(0,B.MZ)({type:W.A})],C.prototype,"timeOffset",void 0),(0,E._)([(0,$.w)("service","timeOffset",["timeInfo.exportOptions"])],C.prototype,"readOffset",null),(0,E._)([(0,B.MZ)({value:null,type:U.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],C.prototype,"timeInfo",null),(0,E._)([(0,B.MZ)(J)],C.prototype,"useViewTime",void 0),C=(0,E._)([(0,S.$)("esri.layers.mixins.TemporalLayer")],C),C}},2052:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(71065),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(76576)),$=v(40695);let I=S=class extends D.oY{constructor(U){super(U),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new S({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,W.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],I.prototype,"isAutoGenerated",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"name",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"alias",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"onStatisticField",void 0),(0,E._)([(0,B.MZ)({type:$.A,json:{write:!0}})],I.prototype,"onStatisticExpression",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"statisticType",void 0),I=S=(0,E._)([(0,j.$)("esri.layers.support.AggregateField")],I);const O=I},40695:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var E=v(8189),D=v(90660),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));let S=class extends((0,D.O)(W.oY)){constructor(O){super(O),this.expression=null,this.title=null,this.returnType=null}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],S.prototype,"expression",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],S.prototype,"returnType",void 0),S=(0,E._)([(0,$.$)("esri.layers.support.ExpressionInfo")],S);const I=S},66722:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var U,E=v(8189),D=v(5922),W=v(71065),B=v(89221),P=v(85211),S=(v(3248),v(35150),v(40707),v(76576)),I=v(72211),O=v(95877);const N={read:{reader:I.LF},write:{writer:I.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},J={read:{reader:I.LF},write:{writer:I.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},Z={name:"showExcludedLabels",default:!0};let L=U=class extends W.oY{constructor(b){super(b),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(b,x){const R=super.write(b,x);if(x?.origin){if(R.filter){const w=Object.keys(R.filter);if(w.length>1||"where"!==w[0])return x.messages?.push(new D.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:x.layer,effect:this})),null}if("showExcludedLabels"in R)return x.messages?.push(new D.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:x.layer,effect:this})),null}return R}clone(){return new U({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,E._)([(0,P.MZ)({type:O.A,json:{write:{allowNull:!0,writer(b,x,R,w){const K=b?.write({},w);K&&0!==Object.keys(K).length?(0,B.sM)(R,K,x):(0,B.sM)(R,null,x)}}}})],L.prototype,"filter",void 0),(0,E._)([(0,P.MZ)({json:{write:!0,origins:{"web-map":N,"portal-item":N}}})],L.prototype,"includedEffect",void 0),(0,E._)([(0,P.MZ)({json:{write:!0,origins:{"web-map":J,"portal-item":J}}})],L.prototype,"excludedEffect",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":Z,"portal-item":Z}}})],L.prototype,"excludedLabelsVisible",void 0),L=U=(0,E._)([(0,S.$)("esri.layers.support.FeatureEffect")],L);const C=L},95877:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var U,E=v(8189),D=v(21152),W=v(12849),B=v(49976),P=v(71065),H=v(77806),j=v(85211),I=(v(3248),v(35150),v(76576)),O=v(87086);const N=new B.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),J=new B.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Z=U=class extends P.oY{constructor(C){super(C),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(C={}){const{where:b,geometry:x,spatialRelationship:R,timeExtent:w,objectIds:K,units:V,distance:ue}=this;return new O.A({geometry:(0,H.o8)(x),objectIds:(0,H.o8)(K),spatialRelationship:R,timeExtent:(0,H.o8)(w),where:b,units:V,distance:ue,...C})}clone(){const{where:C,geometry:b,spatialRelationship:x,timeExtent:R,objectIds:w,units:K,distance:V}=this;return new U({geometry:(0,H.o8)(b),objectIds:(0,H.o8)(w),spatialRelationship:x,timeExtent:(0,H.o8)(R),where:C,units:K,distance:V})}};(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],Z.prototype,"where",void 0),(0,E._)([(0,j.MZ)({types:D.yR,json:{write:!0}})],Z.prototype,"geometry",void 0),(0,E._)([(0,j.MZ)({type:N.apiValues,json:{name:"spatialRel",read:{reader:N.read},write:{allowNull:!1,writer:N.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],Z.prototype,"spatialRelationship",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:{overridePolicy(C){return{enabled:null!=C&&null!=this.geometry}}}}})],Z.prototype,"distance",void 0),(0,E._)([(0,j.MZ)({type:[Number],json:{write:!0}})],Z.prototype,"objectIds",void 0),(0,E._)([(0,j.MZ)({type:J.apiValues,json:{read:J.read,write:{writer:J.write,overridePolicy(C){return{enabled:null!=C&&null!=this.geometry}}}}})],Z.prototype,"units",void 0),(0,E._)([(0,j.MZ)({type:W.A,json:{write:!0}})],Z.prototype,"timeExtent",void 0),Z=U=(0,E._)([(0,I.$)("esri.layers.support.FeatureFilter")],Z);const L=Z},27378:(et,Ae,v)=>{"use strict";v.d(Ae,{c:()=>$});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(){super(...arguments),this.type=null}};(0,E._)([(0,W.MZ)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.layers.support.FeatureReduction")],$)},71906:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(27378);let S=$=class extends j.c{constructor(O){super(O),this.type="selection"}clone(){return new $}};(0,E._)([(0,D.MZ)({type:["selection"]})],S.prototype,"type",void 0),S=$=(0,E._)([(0,H.$)("esri.layers.support.FeatureReductionSelection")],S);const I=S},69741:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var E=v(8189),D=v(90660),W=v(49976),B=v(71065),P=v(85211),S=(v(3248),v(35150),v(40707),v(76576));const I=new W.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let O=class extends((0,D.O)(B.oY)){constructor(N){super(N),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,E._)([(0,P.MZ)({json:{write:!0}})],O.prototype,"name",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],O.prototype,"description",void 0),(0,E._)([(0,P.MZ)({json:{read:I.read,write:I.write}})],O.prototype,"drawingTool",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],O.prototype,"prototype",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],O.prototype,"thumbnail",void 0),O=(0,E._)([(0,S.$)("esri.layers.support.FeatureTemplate")],O);const U=O},47063:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var E=v(8189),D=v(90660),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(17221)),S=v(76576),I=v(50305),O=v(84546),U=v(69741);let N=class extends((0,D.O)(W.oY)){constructor(Z){super(Z),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(Z){const L={};for(const C of Object.keys(Z))L[C]=(0,O.rS)(Z[C]);return L}writeDomains(Z,L){const C={};for(const b of Object.keys(Z))Z[b]&&(C[b]=Z[b]?.toJSON());L.domains=C}};(0,E._)([(0,B.MZ)({json:{write:!0}})],N.prototype,"id",void 0),(0,E._)([(0,B.MZ)({json:{write:!0}})],N.prototype,"name",void 0),(0,E._)([(0,B.MZ)({json:{write:!0}})],N.prototype,"domains",void 0),(0,E._)([(0,$.w)("domains")],N.prototype,"readDomains",null),(0,E._)([(0,I.K)("domains")],N.prototype,"writeDomains",null),(0,E._)([(0,B.MZ)({type:[U.A],json:{write:!0}})],N.prototype,"templates",void 0),N=(0,E._)([(0,S.$)("esri.layers.support.FeatureType")],N);const J=N},29141:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var N,E=v(8189),D=v(49976),W=v(71065),B=v(85211),P=v(55739),$=(v(40707),v(3248),v(15463)),S=v(17221),I=v(76576),O=v(84546),U=v(38965);const J=new D.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Z=N=class extends W.oY{constructor(C){super(C),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(C,{description:b}){let x=null;try{x=b?JSON.parse(b):null}catch{}return x?.value??null}readValueType(C,{description:b}){let x=null;try{x=b?JSON.parse(b):null}catch{}return x?J.fromJSON(x.fieldValueType):null}clone(){return new N({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],Z.prototype,"alias",void 0),(0,E._)([(0,B.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],Z.prototype,"defaultValue",void 0),(0,E._)([(0,B.MZ)()],Z.prototype,"description",void 0),(0,E._)([(0,S.w)("description")],Z.prototype,"readDescription",null),(0,E._)([(0,B.MZ)({types:O.gK,json:{read:{reader:O.rS},write:!0}})],Z.prototype,"domain",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],Z.prototype,"editable",void 0),(0,E._)([(0,B.MZ)({type:P.jz,json:{write:{overridePolicy:C=>({enabled:Number.isFinite(C)})}}})],Z.prototype,"length",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],Z.prototype,"name",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],Z.prototype,"nullable",void 0),(0,E._)([(0,$.e)(U.m)],Z.prototype,"type",void 0),(0,E._)([(0,B.MZ)()],Z.prototype,"valueType",void 0),(0,E._)([(0,S.w)("valueType",["description"])],Z.prototype,"readValueType",null),(0,E._)([(0,B.MZ)({type:Boolean,json:{read:!1}})],Z.prototype,"visible",void 0),Z=N=(0,E._)([(0,I.$)("esri.layers.support.Field")],Z);const L=Z},73258:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var E=v(5922),D=v(71065),W=v(35150),B=v(60797),P=v(24098),H=v(86300),j=v(22639),$=v(44549);const U=new Map;class N{static fromJSON(x){return new N(x.fields,x.timeZoneByFieldName)}static fromLayer(x){return new N(x.fields??[],C(x))}static fromLayerJSON(x){return new N(x.fields??[],C(x))}constructor(x=[],R){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=x||[],this._timeZoneByFieldName=R?new Map(R):null;const w=[];for(const K of this.fields){const V=K?.name,ue=Z(V);if(V&&ue){const ee=J(V);this._fieldsMap.set(V,K),this._fieldsMap.set(ee,K),this._normalizedFieldsMap.set(ue,K),w.push(`${ee}:${K.type}:${this._timeZoneByFieldName?.get(V)}`),(0,H.vE)(K)?(this.dateFields.push(K),this._dateFieldsSet.add(K)):(0,H.WA)(K)&&(this._numericFieldsSet.add(K),this.numericFields.push(K)),(0,H.te)(K)||(0,H.Xz)(K)||(K.editable=null==K.editable||!!K.editable,K.nullable=null==K.nullable||!!K.nullable)}}w.sort(),this.uid=w.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const x of this.fields)(0,H.te)(x)||(0,H.Xz)(x)||x.nullable||void 0!==(0,H.lD)(x)||this._requiredFields.push(x)}return this._requiredFields}equals(x){return this.uid===x?.uid}has(x){return null!=this.get(x)}get(x){if(!x)return;let R=this._fieldsMap.get(x);return R||(R=this._fieldsMap.get(J(x))??this._normalizedFieldsMap.get(Z(x)),R&&this._fieldsMap.set(x,R),R)}getTimeZone(x){const R=this.get(x&&"string"!=typeof x?x.name:x);return R?this._timeZoneByFieldName?this._timeZoneByFieldName.get(R.name):"date"===R.type||"esriFieldTypeDate"===R.type?(W.A.getLogger("esri.layers.support.FieldsIndex").error(new E.A("getTimeZone:no-timezone-information",`no time zone information for field '${R.name}'`)),j.n$):L.has(R.type)?j.L5:null:null}getLuxonTimeZone(x){const R=this.getTimeZone(x);return R?R===j.L5?P.GB.instance:R===j.n$?$.mQ.utcInstance:(0,B.tE)(U,R,()=>$.oh.create(R)):null}isDateField(x){return this._dateFieldsSet.has(this.get(x))}isTimeOnlyField(x){return(0,H.OH)(this.get(x))}isNumericField(x){return this._numericFieldsSet.has(this.get(x))}normalizeFieldName(x){return this.get(x)?.name??void 0}toJSON(){return{fields:this.fields.map(x=>(0,D.Wj)(x)?x.toJSON():x),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function J(b){return b.trim().toLowerCase()}function Z(b){return(0,H.rS)(b)?.toLowerCase()??""}const L=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function C(b){const x=new Map;if(!b.fields)return x;const R=!0===b.datesInUnknownTimezone,{timeInfo:w,editFieldsInfo:K}=b,V=(w?"startField"in w?w.startField:w.startTimeField:"")??"",ue=(w?"endField"in w?w.endField:w.endTimeField:"")??"",ee=function O(b){return"dateFieldsTimeZone"in b}(b)?b.dateFieldsTimeZone??null:b.dateFieldsTimeReference?(0,j.ZS)(b.dateFieldsTimeReference):null,te=K?function S(b){return"timeZone"in b}(K)?K.timeZone??ee:K.dateFieldsTimeReference?(0,j.ZS)(K.dateFieldsTimeReference):ee??j.n$:null,pe=w?function I(b){return"timeZone"in b}(w)?w.timeZone??ee:w.timeReference?(0,j.ZS)(w.timeReference):ee:null,ae=new Map([[J(K?.creationDateField??""),te],[J(K?.editDateField??""),te],[J(V),pe],[J(ue),pe]]);for(const{name:de,type:ve}of b.fields)if(L.has(ve))x.set(de,j.L5);else if("date"!==ve&&"esriFieldTypeDate"!==ve)x.set(de,null);else if(R)x.set(de,j.L5);else{const G=ae.get(J(de??""))??ee;x.set(de,G)}return x}},29598:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(71065),W=v(85211),B=v(55739),j=(v(40707),v(3248),v(76576));let S=$=class extends D.oY{constructor(O){super(O),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new $({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,E._)([(0,W.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],S.prototype,"cols",void 0),(0,E._)([(0,W.MZ)({type:B.jz,json:{write:!0}})],S.prototype,"level",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"levelValue",void 0),(0,E._)([(0,W.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],S.prototype,"origin",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],S.prototype,"resolution",void 0),(0,E._)([(0,W.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],S.prototype,"rows",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],S.prototype,"scale",void 0),S=$=(0,E._)([(0,j.$)("esri.layers.support.LOD")],S);const I=S},20329:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>de});var Z,E=v(8189),D=v(47280),B=(v(3248),v(49976)),P=v(71065),H=v(77806),j=v(67685),$=v(85211),I=(v(35150),v(17221)),O=v(76576),U=v(50305),J=(v(40707),v(4858));let L=Z=class extends P.oY{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(ve,G){return G.value?(0,J.mX)(G.value):ve}writeExpression(ve,G,fe){null!=this.value&&(ve=(0,J.mX)(this.value)),null!=ve&&(G[fe]=ve)}clone(){return new Z({expression:this.expression,title:this.title,value:this.value})}};(0,E._)([(0,$.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],L.prototype,"expression",void 0),(0,E._)([(0,I.w)("expression",["expression","value"])],L.prototype,"readExpression",null),(0,E._)([(0,U.K)("expression")],L.prototype,"writeExpression",null),(0,E._)([(0,$.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],L.prototype,"title",void 0),(0,E._)([(0,$.MZ)({json:{read:!1,write:!1}})],L.prototype,"value",void 0),L=Z=(0,E._)([(0,O.$)("esri.layers.support.LabelExpressionInfo")],L);const C=L;var w,b=v(58443),x=v(91644),R=v(80841);const K=new B.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function V(ve,G,fe){return{enabled:!(0,b.TU)(fe?.layer)}}function ue(ve){return!ve||"service"!==ve.origin&&"map-image"!==ve.layer?.type}function te(ve){return!!function ee(ve){return"map-image"===ve?.type}(ve)&&!!ve.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let ae=w=class extends P.oY{static evaluateWhere(ve,G){const fe=(ie,ye,q)=>{switch(ye){case"=":return ie==q;case"<>":return ie!=q;case">":return ie>q;case">=":return ie>=q;case"<":return ie<q;case"<=":return ie<=q}return!1};try{if(null==ve)return!0;const ie=ve.split(" ");if(3===ie.length)return fe(G[ie[0]],ie[1],ie[2]);if(7===ie.length){const ye=fe(G[ie[0]],ie[1],ie[2]),q=ie[3],re=fe(G[ie[4]],ie[5],ie[6]);switch(q){case"AND":return ye&&re;case"OR":return ye||re}}return!1}catch{}}constructor(ve){super(ve),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=x.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(ve,G){const fe=G.labelExpressionInfo;if(!fe||!fe.value&&!fe.expression)return ve}writeLabelExpression(ve,G,fe){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)ve=(0,J.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const ie=(0,J.tH)(this.labelExpressionInfo.expression);ie&&(ve="["+ie+"]")}null!=ve&&(G[fe]=ve)}writeLabelExpressionInfo(ve,G,fe,ie){if(null==ve&&null!=this.labelExpression&&ue(ie))ve=new C({expression:this.getLabelExpressionArcade()});else if(!ve)return;const ye=ve.toJSON(ie);ye.expression&&(G[fe]=ye)}writeMaxScale(ve,G){(ve||this.minScale)&&(G.maxScale=ve)}writeMinScale(ve,G){(ve||this.maxScale)&&(G.minScale=ve)}getLabelExpression(){return(0,J.XJ)(this)}getLabelExpressionArcade(){return(0,J.BI)(this)}getLabelExpressionSingleField(){return(0,J.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new w({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,H.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,H.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,E._)([(0,$.MZ)({type:String,json:{write:!0}})],ae.prototype,"name",void 0),(0,E._)([(0,$.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:V}}}}})],ae.prototype,"allowOverrun",void 0),(0,E._)([(0,$.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:V}}}}})],ae.prototype,"deconflictionStrategy",void 0),(0,E._)([(0,$.MZ)({type:String,json:{write:{overridePolicy(ve,G,fe){return this.labelExpressionInfo&&"service"===fe?.origin&&te(fe.layer)?{enabled:!1}:{allowNull:!0}}}}})],ae.prototype,"labelExpression",void 0),(0,E._)([(0,I.w)("labelExpression")],ae.prototype,"readLabelExpression",null),(0,E._)([(0,U.K)("labelExpression")],ae.prototype,"writeLabelExpression",null),(0,E._)([(0,$.MZ)({type:C,json:{write:{overridePolicy:(ve,G,fe)=>function pe(ve){return ue(ve)||te(ve?.layer)}(fe)?{allowNull:!0}:{enabled:!1}}}})],ae.prototype,"labelExpressionInfo",void 0),(0,E._)([(0,U.K)("labelExpressionInfo")],ae.prototype,"writeLabelExpressionInfo",null),(0,E._)([(0,$.MZ)({type:K.apiValues,json:{type:K.jsonValues,read:K.read,write:K.write}})],ae.prototype,"labelPlacement",void 0),(0,E._)([(0,$.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ae.prototype,"labelPosition",void 0),(0,E._)([(0,$.MZ)({type:Number})],ae.prototype,"maxScale",void 0),(0,E._)([(0,U.K)("maxScale")],ae.prototype,"writeMaxScale",null),(0,E._)([(0,$.MZ)({type:Number})],ae.prototype,"minScale",void 0),(0,E._)([(0,U.K)("minScale")],ae.prototype,"writeMinScale",null),(0,E._)([(0,$.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:V}}}}})],ae.prototype,"repeatLabel",void 0),(0,E._)([(0,$.MZ)({type:Number,cast:j.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:V}}}}})],ae.prototype,"repeatLabelDistance",void 0),(0,E._)([(0,$.MZ)({types:D.em,json:{origins:{"web-scene":{types:D.Rv,write:R.oO,default:null}},write:R.oO,default:null}})],ae.prototype,"symbol",void 0),(0,E._)([(0,$.MZ)({type:Boolean,json:{write:!0}})],ae.prototype,"useCodedValues",void 0),(0,E._)([(0,$.MZ)({type:String,json:{write:!0}})],ae.prototype,"where",void 0),ae=w=(0,E._)([(0,O.$)("esri.layers.support.LabelClass")],ae);const de=ae},64584:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(31178),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));let I=S=class extends W.oY{constructor(U){super(U),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new D.A}clone(){return new S({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"floorField",void 0),(0,E._)([(0,B.MZ)({json:{read:!1,write:!1}})],I.prototype,"viewAllMode",void 0),(0,E._)([(0,B.MZ)({json:{read:!1,write:!1}})],I.prototype,"viewAllLevelIds",void 0),I=S=(0,E._)([(0,$.$)("esri.layers.support.LayerFloorInfo")],I);const O=I},15848:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var S,E=v(8189),D=v(49976),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));const I=new D.J({asc:"ascending",desc:"descending"});let O=S=class extends W.oY{constructor(N){super(N),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new S({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],O.prototype,"field",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],O.prototype,"valueExpression",void 0),(0,E._)([(0,B.MZ)({type:I.apiValues,json:{type:I.jsonValues,read:I.read,write:I.write}})],O.prototype,"order",void 0),O=S=(0,E._)([(0,$.$)("esri.layers.support.OrderByInfo")],O);const U=O},36267:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var E=v(8189),D=v(90660),W=v(49976),B=v(71065),P=v(85211),S=(v(3248),v(35150),v(40707),v(76576));const I=new W.J({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),O=new W.J({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let U=class extends((0,D.O)(B.oY)){constructor(J){super(J),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,E._)([(0,P.MZ)({json:{read:I.read,write:I.write}})],U.prototype,"cardinality",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"composite",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"id",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"keyField",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"keyFieldInRelationshipTable",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"name",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"relatedTableId",void 0),(0,E._)([(0,P.MZ)({json:{read:!0,write:!0}})],U.prototype,"relationshipTableId",void 0),(0,E._)([(0,P.MZ)({json:{read:O.read,write:O.write}})],U.prototype,"role",void 0),U=(0,E._)([(0,S.$)("esri.layers.support.Relationship")],U);const N=U},11333:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>K});var x,E=v(8189),D=v(49976),W=v(71065),B=v(82663),P=v(85211),H=v(55739),S=(v(40707),v(3248),v(17221)),I=v(76576),O=v(50305),U=v(1749),N=v(32034),J=v(51995),Z=v(58701),L=v(55039),C=v(29598),b=v(25858);const R=new D.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let w=x=class extends W.oY{static create(V={}){const{resolutionFactor:ue=1,scales:ee,size:te=256,spatialReference:pe=N.A.WebMercator,numLODs:ae=24}=V;if(!(0,Z.fn)(pe)){const ye=[];if(ee)for(let q=0;q<ee.length;q++){const re=ee[q];ye.push(new C.A({level:q,scale:re,resolution:re}))}else{let q=5e-4;for(let re=ae-1;re>=0;re--)ye.unshift(new C.A({level:re,scale:q,resolution:q})),q*=2}return new x({dpi:96,lods:ye,origin:new U.A(0,0,pe),size:[te,te],spatialReference:pe})}const de=(0,Z.Vp)(pe),ve=new U.A(V.origin?{x:V.origin.x,y:V.origin.y,spatialReference:pe}:de?{x:de.origin[0],y:de.origin[1],spatialReference:pe}:{x:0,y:0,spatialReference:pe}),fe=1/(39.37*(0,B.GA)(pe)*96),ie=[];if(ee)for(let ye=0;ye<ee.length;ye++){const q=ee[ye];ie.push(new C.A({level:ye,scale:q,resolution:q*fe}))}else{let ye=(0,Z.EA)(pe)?512/te*591657527.5917094:256/te*591657527.591555;const q=Math.ceil(ae/ue);ie.push(new C.A({level:0,scale:ye,resolution:ye*fe}));for(let re=1;re<q;re++){const ce=ye/2**ue;ie.push(new C.A({level:re,scale:ce,resolution:ce*fe})),ye=ce}}return new x({dpi:96,lods:ie,origin:ve,size:[te,te],spatialReference:pe})}constructor(V){super(V),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:V,origin:ue}=this;if(V&&ue){const ee=(0,Z.Vp)(V);return V.isWrappable&&!!ee&&Math.abs(ee.origin[0]-ue.x)<=ee.dx}return!1}readOrigin(V,ue){return U.A.fromJSON({spatialReference:ue.spatialReference,...V})}set lods(V){let ue=0,ee=0;const te=[],pe=this._levelToLOD={};V&&(ue=-1/0,ee=1/0,V.forEach(ae=>{te.push(ae.scale),ue=ae.scale>ue?ae.scale:ue,ee=ae.scale<ee?ae.scale:ee,pe[ae.level]=ae})),this._set("scales",te),this._set("lods",V),this._initializeUpsampleLevels()}readSize(V,ue){return[ue.cols,ue.rows]}writeSize(V,ue){ue.cols=V[0],ue.rows=V[1]}zoomToScale(V){const ue=this.scales;if(V<=0)return ue[0];if(V>=ue.length-1)return ue[ue.length-1];const ee=Math.floor(V);return ue[ee]/(ue[ee]/ue[ee+1])**(V-ee)}scaleToZoom(V){const ue=this.scales,ee=ue.length-1;let te=0;for(;te<ee;te++){const pe=ue[te],ae=ue[te+1];if(pe<=V)return te;if(ae===V)return te+1;if(pe>V&&ae<V)return te+Math.log(pe/V)/Math.log(pe/ae)}return te}tileAt(V,ue,ee,te){const pe=this.lodAt(V);if(!pe)return null;let ae,de;if("number"==typeof ue)ae=ue,de=ee;else if((0,Z.aI)(ue.spatialReference,this.spatialReference))ae=ue.x,de=ue.y,te=ee;else{const fe=(0,L.Cv)(ue,this.spatialReference);if(null==fe)return null;ae=fe.x,de=fe.y,te=ee}const ve=pe.resolution*this.size[0],G=pe.resolution*this.size[1];return te||(te=new b.U(null,0,0,0,(0,J.vt)())),te.level=V,te.row=Math.floor((this.origin.y-de)/G+.001),te.col=Math.floor((ae-this.origin.x)/ve+.001),this.updateTileInfo(te),te}updateTileInfo(V,ue=x.ExtrapolateOptions.NONE){let ee=this.lodAt(V.level);if(!ee&&ue===x.ExtrapolateOptions.POWER_OF_TWO){const de=this.lods[this.lods.length-1];de.level<V.level&&(ee=de)}if(!ee)return;const te=V.level-ee.level,pe=ee.resolution*this.size[0]/2**te,ae=ee.resolution*this.size[1]/2**te;V.id=`${V.level}/${V.row}/${V.col}`,V.extent||(V.extent=(0,J.vt)()),V.extent[0]=this.origin.x+V.col*pe,V.extent[1]=this.origin.y-(V.row+1)*ae,V.extent[2]=V.extent[0]+pe,V.extent[3]=V.extent[1]+ae}upsampleTile(V){const ue=this._upsampleLevels[V.level];return!(!ue||-1===ue.parentLevel||(V.level=ue.parentLevel,V.row=Math.floor(V.row/ue.factor+.001),V.col=Math.floor(V.col/ue.factor+.001),this.updateTileInfo(V),0))}getTileBounds(V,ue){const ee=this.lodAt(ue.level);if(null==ee)return null;const{resolution:te}=ee,pe=te*this.size[0],ae=te*this.size[1];return V[0]=this.origin.x+ue.col*pe,V[1]=this.origin.y-(ue.row+1)*ae,V[2]=V[0]+pe,V[3]=V[1]+ae,V}lodAt(V){return this._levelToLOD?.[V]??null}clone(){return x.fromJSON(this.write({}))}getCompatibleForVTL(V){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===V)return null;const ue=(512===this.size[0]&&256===V?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===V&&0===ue)return this;const ee=[],te=this.lods.length-ue;for(let pe=0;pe<te;pe++){const ae=pe+ue,{scale:de,resolution:ve}=ae>=0?this.lods[ae]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};ee.push(new C.A({level:pe,scale:de,resolution:ve}))}return new x({size:[V,V],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:ee})}_initializeUpsampleLevels(){const V=this.lods;this._upsampleLevels=[];let ue=null;for(let ee=0;ee<V.length;ee++){const te=V[ee];this._upsampleLevels[te.level]={parentLevel:ue?ue.level:-1,factor:ue?ue.resolution/te.resolution:0},ue=te}}};var V,ue;(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],w.prototype,"compressionQuality",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],w.prototype,"dpi",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:R.read,write:R.write,origins:{"web-scene":{read:!1,write:!1}}}})],w.prototype,"format",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],w.prototype,"isWrappable",null),(0,E._)([(0,P.MZ)({type:U.A,json:{write:!0}})],w.prototype,"origin",void 0),(0,E._)([(0,S.w)("origin")],w.prototype,"readOrigin",null),(0,E._)([(0,P.MZ)({type:[C.A],value:null,json:{write:!0}})],w.prototype,"lods",null),(0,E._)([(0,P.MZ)({readOnly:!0})],w.prototype,"scales",void 0),(0,E._)([(0,P.MZ)({cast:V=>Array.isArray(V)?V:"number"==typeof V?[V,V]:[256,256]})],w.prototype,"size",void 0),(0,E._)([(0,S.w)("size",["rows","cols"])],w.prototype,"readSize",null),(0,E._)([(0,O.K)("size",{cols:{type:H.jz},rows:{type:H.jz}})],w.prototype,"writeSize",null),(0,E._)([(0,P.MZ)({type:N.A,json:{write:!0}})],w.prototype,"spatialReference",void 0),w=x=(0,E._)([(0,I.$)("esri.layers.support.TileInfo")],w),(ue=(V=w||(w={})).ExtrapolateOptions||(V.ExtrapolateOptions={}))[ue.NONE=0]="NONE",ue[ue.POWER_OF_TWO=1]="POWER_OF_TWO";const K=w},25858:(et,Ae,v)=>{"use strict";v.d(Ae,{U:()=>E});class E{constructor(W,B,P,H,j=void 0){this.id=W,this.level=B,this.row=P,this.col=H,this.extent=j}}},38488:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var E=v(8189),D=v(12849),W=v(99980),B=v(90660),P=v(71065),H=v(85211),I=(v(3248),v(35150),v(40707),v(17221)),O=v(76576),U=v(50305),N=v(22639);function J(C,b){return W.A.fromJSON({value:C,unit:b})}let Z=class extends((0,B.O)(P.oY)){constructor(C){super(C),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(C,b){return b.timeExtent&&Array.isArray(b.timeExtent)&&2===b.timeExtent.length?D.A.fromArray(b.timeExtent):null}writeFullTimeExtent(C,b){b.timeExtent=null!=C?.start&&null!=C.end?C.toArray():null}readInterval(C,b){return b.timeInterval&&b.timeIntervalUnits?J(b.timeInterval,b.timeIntervalUnits):b.defaultTimeInterval&&b.defaultTimeIntervalUnits?J(b.defaultTimeInterval,b.defaultTimeIntervalUnits):null}writeInterval(C,b){b.timeInterval=C?.toJSON().value??null,b.timeIntervalUnits=C?.toJSON().unit??null}};(0,E._)([(0,H.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],Z.prototype,"cumulative",void 0),(0,E._)([(0,H.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],Z.prototype,"endField",void 0),(0,E._)([(0,H.MZ)({type:D.A,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"fullTimeExtent",void 0),(0,E._)([(0,I.w)("fullTimeExtent",["timeExtent"])],Z.prototype,"readFullTimeExtent",null),(0,E._)([(0,U.K)("fullTimeExtent")],Z.prototype,"writeFullTimeExtent",null),(0,E._)([(0,H.MZ)({type:Boolean,json:{write:!0}})],Z.prototype,"hasLiveData",void 0),(0,E._)([(0,H.MZ)({type:W.A,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"interval",void 0),(0,E._)([(0,I.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],Z.prototype,"readInterval",null),(0,E._)([(0,U.K)("interval")],Z.prototype,"writeInterval",null),(0,E._)([(0,H.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],Z.prototype,"startField",void 0),(0,E._)([(0,H.MZ)((0,N.P6)("timeReference",!0))],Z.prototype,"timeZone",void 0),(0,E._)([(0,H.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],Z.prototype,"trackIdField",void 0),(0,E._)([(0,H.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],Z.prototype,"useTime",void 0),(0,E._)([(0,H.MZ)({type:[Date],json:{read:!1}})],Z.prototype,"stops",void 0),Z=(0,E._)([(0,O.$)("esri.layers.support.TimeInfo")],Z);const L=Z},68438:(et,Ae,v)=>{"use strict";v.d(Ae,{Fi:()=>$,HZ:()=>Z,Jf:()=>J,LS:()=>L,Wo:()=>N,bd:()=>C,cr:()=>O,iz:()=>I,qg:()=>S,tK:()=>b,yG:()=>U});var E=v(45272),D=v(88135);const W={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},B=Object.values(W),P=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${B.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),H=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${B.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),j=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function $(x){return P.test(x)}function S(x){if(null==x)return null;const R=(0,E.An)(x),w=R?.path.match(P)||R?.path.match(H);if(!w)return null;const[,K,V,ue,ee]=w,te=V.indexOf("/");return{title:O(-1!==te?V.slice(te+1):V),serverType:W[ue.toLowerCase()],sublayer:null!=ee&&""!==ee?parseInt(ee,10):null,url:{path:K}}}function I(x){const R=(0,E.An)(x).path.match(j);return R?{serviceUrl:R[1],sublayerId:Number(R[2])}:null}function O(x){return(x=x.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+x.slice(1)}function U(x,R){const w=[];if(x){const K=S(x);null!=K&&K.title&&w.push(K.title)}if(R){const K=O(R);w.push(K)}if(2===w.length){if(w[0].toLowerCase().includes(w[1].toLowerCase()))return w[0];if(w[1].toLowerCase().includes(w[0].toLowerCase()))return w[1]}return w.join(" - ")}function N(x){let R=(0,E.$z)(x,!0);return!!R&&(R=R.toLowerCase(),R.endsWith(".arcgis.com")&&(R.startsWith("services")||R.startsWith("tiles")||R.startsWith("features")))}function J(x,R){return x&&(0,E.UC)((0,E.zi)(x,R))}function Z(x){let{url:R}=x;if(!R)return{url:R};R=(0,E.zi)(R,x.logger);const w=(0,E.An)(R),K=S(w.path);let V;if(null!=K)null!=K.sublayer&&null==x.layer.layerId&&(V=K.sublayer),R=K.url.path;else if(x.nonStandardUrlAllowed){const ue=I(w.path);null!=ue&&(R=ue.serviceUrl,V=ue.sublayerId)}return{url:(0,E.UC)(R),layerId:V}}function L(x,R,w,K,V){(0,D.w)(R,K,"url",V),K.url&&null!=x.layerId&&(K.url=(0,E.fj)(K.url,w,x.layerId.toString()))}function C(x){if(!x)return!1;const R=x.toLowerCase(),w=R.includes("/services/"),K=R.includes("/mapserver/wmsserver"),V=R.includes("/imageserver/wmsserver"),ue=R.includes("/wmsserver");return w&&(K||V||ue)}function b(x){if(!x)return!1;const R=new E.s0((0,E.s2)(x)),w=R.authority?.toLowerCase();return"server.arcgisonline.com"===w||"services.arcgisonline.com"===w}},22329:(et,Ae,v)=>{"use strict";v.d(Ae,{C1:()=>w,Fm:()=>C,Ih:()=>L,M6:()=>$,OZ:()=>I,PY:()=>j,Qo:()=>N,Yj:()=>U,fV:()=>O,hG:()=>R,hn:()=>x,id:()=>b,kF:()=>S,ke:()=>Z});var E=v(50501),D=v(28067),W=v(32034),B=v(88135),P=v(88485),H=v(46873);const j={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:E.K}}},$={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(K,V)=>!V.disablePopup},write:{enabled:!0,writer(K,V,ue){V[ue]=!K}}}},S={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:E.K}}},I={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:B.w}}},O={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:E.K}}},U={value:null,type:P.A,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:E.K}}};function N(K){return{type:K,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const J={write:{enabled:!0,layerContainerTypes:E.K},read:!0},Z={type:Number,json:{origins:{"web-document":J,"portal-item":{write:!0}}}},L={...Z,json:{...Z.json,origins:{"web-document":{...J,write:{enabled:!0,layerContainerTypes:E.K,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(K,V,ue)=>ue&&"service"!==ue.origin||!V.drawingInfo||void 0===V.drawingInfo.transparency?V.layerDefinition?.drawingInfo&&void 0!==V.layerDefinition.drawingInfo.transparency?(0,H.D)(V.layerDefinition.drawingInfo.transparency):void 0:(0,H.D)(V.drawingInfo.transparency)}}},C={type:D.A,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(K,V)=>{const ue=D.A.fromJSON(K);return null!=V.spatialReference&&"object"==typeof V.spatialReference&&(ue.spatialReference=W.A.fromJSON(V.spatialReference)),ue}}}},read:!1}},b={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},x={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:E.K}}},name:"layerDefinition.minScale",write:!0}},R={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:E.K}}},name:"layerDefinition.maxScale",write:!0}},w={json:{write:{ignoreOrigin:!0,layerContainerTypes:E.K},origins:{"web-map":{read:!1,write:!1}}}}},54444:(et,Ae,v)=>{"use strict";v.d(Ae,{A5:()=>S,Mh:()=>D,wb:()=>$});var D,O,E=v(77365);(O=D||(D={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",O.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const W=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function P(O){return null!=O&&("date-only"===O.type||"esriFieldTypeDateOnly"===O.type)}function H(O){return null!=O&&("timestamp-offset"===O.type||"esriFieldTypeTimestampOffset"===O.type)}function j(O){return null!=O&&("time-only"===O.type||"esriFieldTypeTimeOnly"===O.type)}function $(O,U,N){const J=N??O?.domain;if(!J)return null;switch(J.type){case"range":{const{min:Z,max:L}=S(O,N);if(null!=Z&&+U<Z||null!=L&&+U>L)return D.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==J.codedValues||J.codedValues.every(Z=>null==Z||Z.code!==U))return D.INVALID_CODED_VALUE}return null}function S(O,U){const N=U??O?.domain;if(!N||"range"!==N.type)return;const J="range"in N?N.range[0]:N.minValue,Z="range"in N?N.range[1]:N.maxValue,L=function B(O){return null!=O&&W.has(O.type)}(O);return P(O)||j(O)||H(O)?{...I(O,Z,J),isInteger:L}:{min:null!=J&&"number"==typeof J?J:null,max:null!=Z&&"number"==typeof Z?Z:null,rawMin:J,rawMax:Z,isInteger:L}}function I(O,U,N){return P(O)?{min:(0,E.Xi)(N)?.toMillis(),max:(0,E.Xi)(U)?.toMillis(),rawMin:N,rawMax:U}:j(O)?{min:(0,E.UE)(N)?.toMillis(),max:(0,E.UE)(U)?.toMillis(),rawMin:N,rawMax:U}:H(O)?{min:(0,E.gz)(N)?.toMillis(),max:(0,E.gz)(U)?.toMillis(),rawMin:N,rawMax:U}:{max:null,min:null}}},84546:(et,Ae,v)=>{"use strict";v.d(Ae,{rS:()=>pe,gK:()=>te}),v(3248);var I,D=v(8189),W=v(77806),B=v(85211),H=(v(35150),v(15463)),j=v(76576),$=v(71065);v(40707);let O=I=class extends $.oY{constructor(ae){super(ae),this.name=null,this.code=null}clone(){return new I({name:this.name,code:this.code})}};(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],O.prototype,"name",void 0),(0,D._)([(0,B.MZ)({type:[String,Number],json:{write:!0}})],O.prototype,"code",void 0),O=I=(0,D._)([(0,j.$)("esri.layers.support.CodedValue")],O);const N=new(v(49976).J)({inherited:"inherited",codedValue:"coded-value",range:"range"});let J=class extends $.oY{constructor(ae){super(ae),this.name=null,this.type=null}};(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],J.prototype,"name",void 0),(0,D._)([(0,H.e)(N)],J.prototype,"type",void 0),J=(0,D._)([(0,j.$)("esri.layers.support.Domain")],J);const Z=J;var L;let C=L=class extends Z{constructor(ae){super(ae),this.codedValues=null,this.type="coded-value"}getName(ae){let de=null;if(this.codedValues){const ve=String(ae);this.codedValues.some(G=>(String(G.code)===ve&&(de=G.name),!!de))}return de}clone(){return new L({codedValues:(0,W.o8)(this.codedValues),name:this.name})}};(0,D._)([(0,B.MZ)({type:[O],json:{write:!0}})],C.prototype,"codedValues",void 0),(0,D._)([(0,H.e)({codedValue:"coded-value"})],C.prototype,"type",void 0),C=L=(0,D._)([(0,j.$)("esri.layers.support.CodedValueDomain")],C);const b=C;var R;v(5922);let w=R=class extends Z{constructor(ae){super(ae),this.type="inherited"}clone(){return new R}};(0,D._)([(0,H.e)({inherited:"inherited"})],w.prototype,"type",void 0),w=R=(0,D._)([(0,j.$)("esri.layers.support.InheritedDomain")],w);const K=w;var V;let ue=V=class extends Z{constructor(ae){super(ae),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new V({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,D._)([(0,B.MZ)({json:{type:[Number],read:{source:"range",reader:(ae,de)=>de.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(ae,de,ve){de[ve]=[this.minValue||0,ae]}}}})],ue.prototype,"maxValue",void 0),(0,D._)([(0,B.MZ)({json:{type:[Number],read:{source:"range",reader:(ae,de)=>de.range?.[0]},write:{target:"range",writer(ae,de,ve){de[ve]=[ae,this.maxValue||0]}}}})],ue.prototype,"minValue",void 0),(0,D._)([(0,H.e)({range:"range"})],ue.prototype,"type",void 0),ue=V=(0,D._)([(0,j.$)("esri.layers.support.RangeDomain")],ue);const ee=ue,te={key:"type",base:Z,typeMap:{range:ue,"coded-value":b,inherited:K}};function pe(ae){if(!ae?.type)return null;switch(ae.type){case"range":return ee.fromJSON(ae);case"codedValue":return b.fromJSON(ae);case"inherited":return K.fromJSON(ae)}return null}},39729:(et,Ae,v)=>{"use strict";v.d(Ae,{$4:()=>Oe,B5:()=>re,C$:()=>Ye,GA:()=>tt,Nv:()=>_e,PD:()=>lt,S2:()=>Se,VA:()=>De,VZ:()=>X,WP:()=>ae,Xl:()=>C,Ye:()=>ye,Zm:()=>Le,bt:()=>R,ct:()=>K,hM:()=>oe,iX:()=>L,jD:()=>Ee,jp:()=>Pe,lV:()=>ve,mm:()=>te,rn:()=>ue,sg:()=>fe,tG:()=>_t,xd:()=>xe});var E=v(10467),D=v(77469),W=v(47280),B=v(89447),P=v(5922),H=v(49976),j=v(63484),$=v(71224),S=v(15884),I=v(58443),O=v(96128),U=v(13318),N=v(52466),J=v(87086),Z=v(59487);const L=new H.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function C(Be,Ze,Ne,He){return b.apply(this,arguments)}function b(){return(b=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(yield x(Be,Ze,He),!Je.addAttachment)throw new P.A(He,"Layer source does not support addAttachment capability");return Je.addAttachment(Ze,Ne)})).apply(this,arguments)}function x(Be,Ze,Ne){const{attributes:He}=Ze,{objectIdField:Je}=Be;return Be.capabilities?.data?.supportsAttachment?Ze?He?Je&&He[Je]?Promise.resolve():Promise.reject(new P.A(Ne,`feature is missing the identifying attribute ${Je}`)):Promise.reject(new P.A(Ne,"'attributes' are required on a feature to query attachments")):Promise.reject(new P.A(Ne,"A feature is required to add/delete/update attachments")):Promise.reject(new P.A(Ne,"this layer doesn't support attachments"))}function R(Be,Ze,Ne,He,Je){return w.apply(this,arguments)}function w(){return(w=(0,E.A)(function*(Be,Ze,Ne,He,Je){const ut=yield we(Be);if(yield x(Be,Ze,Je),!ut.updateAttachment)throw new P.A(Je,"Layer source does not support updateAttachment capability");return ut.updateAttachment(Ze,Ne,He)})).apply(this,arguments)}function K(Be,Ze,Ne){return V.apply(this,arguments)}function V(){return(V=(0,E.A)(function*(Be,Ze,Ne){const{applyEdits:He}=yield v.e(3828).then(v.bind(v,13828)),Je=yield Be.load();let ut=Ne;return"feature"===Je.type&&Je.infoFor3D&&null!=Ze.deleteFeatures&&null!=Je.globalIdField&&(ut={...ut,globalIdToObjectId:yield tt(Je,Ze.deleteFeatures,Je.globalIdField)}),He(Je,Je.source,Ze,Ne)})).apply(this,arguments)}function ue(Be,Ze,Ne){return ee.apply(this,arguments)}function ee(){return(ee=(0,E.A)(function*(Be,Ze,Ne){const{uploadAssets:He}=yield v.e(3828).then(v.bind(v,13828)),Je=yield Be.load();return He(Je,Je.source,Ze,Ne)})).apply(this,arguments)}function te(Be,Ze,Ne,He){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(yield x(Be,Ze,He),!Je.deleteAttachments)throw new P.A(He,"Layer source does not support deleteAttachments capability");return Je.deleteAttachments(Ze,Ne)})).apply(this,arguments)}function ae(Be,Ze,Ne){return de.apply(this,arguments)}function de(){return(de=(0,E.A)(function*(Be,Ze,Ne){const He=(yield Be.load({signal:Ze?.signal})).source;if(!He.fetchRecomputedExtents)throw new P.A(Ne,"Layer source does not support fetchUpdates capability");return He.fetchRecomputedExtents(Ze)})).apply(this,arguments)}function ve(Be,Ze,Ne,He){return G.apply(this,arguments)}function G(){return(G=(0,E.A)(function*(Be,Ze,Ne,He){Ze=N.A.from(Ze),yield Be.load();const Je=Be.source,ut=Be.capabilities;if(!ut?.data?.supportsAttachment)throw new P.A(He,"this layer doesn't support attachments");const{attachmentTypes:dt,objectIds:Et,globalIds:Lt,num:jt,size:Kt,start:Gt,where:Zt}=Ze;if(!ut?.operations?.supportsQueryAttachments&&(dt?.length>0||Lt?.length>0||Kt?.length>0||jt||Gt||Zt))throw new P.A(He,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",Ze);if(!(Et?.length||Lt?.length||Zt))throw new P.A(He,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",Ze);if(!Je.queryAttachments)throw new P.A(He,"Layer source does not support queryAttachments capability",Ze);return Je.queryAttachments(Ze)})).apply(this,arguments)}function fe(Be,Ze,Ne,He){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(!Je.queryObjectIds)throw new P.A(He,"Layer source does not support queryObjectIds capability");return Je.queryObjectIds(J.A.from(Ze)??Be.createQuery(),Ne)})).apply(this,arguments)}function ye(Be,Ze,Ne,He){return q.apply(this,arguments)}function q(){return(q=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(!Je.queryFeatureCount)throw new P.A(He,"Layer source does not support queryFeatureCount capability");return Je.queryFeatureCount(J.A.from(Ze)??Be.createQuery(),Ne)})).apply(this,arguments)}function re(Be,Ze,Ne,He){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(!Je.queryExtent)throw new P.A(He,"Layer source does not support queryExtent capability");return Je.queryExtent(J.A.from(Ze)??Be.createQuery(),Ne)})).apply(this,arguments)}function oe(Be,Ze,Ne,He){return le.apply(this,arguments)}function le(){return(le=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(!Je.queryRelatedFeatures)throw new P.A(He,"Layer source does not support queryRelatedFeatures capability");return Je.queryRelatedFeatures(Z.default.from(Ze),Ne)})).apply(this,arguments)}function Se(Be,Ze,Ne,He){return se.apply(this,arguments)}function se(){return(se=(0,E.A)(function*(Be,Ze,Ne,He){const Je=yield we(Be);if(!Je.queryRelatedFeaturesCount)throw new P.A(He,"Layer source does not support queryRelatedFeaturesCount capability");return Je.queryRelatedFeaturesCount(Z.default.from(Ze),Ne)})).apply(this,arguments)}function Pe(Be){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,E.A)(function*(Be){const Ze=Be.source;if(Ze?.refresh)try{const{dataChanged:Ne,updates:He}=yield Ze.refresh();if(null!=He&&(Be.sourceJSON={...Be.sourceJSON,...He},Be.read(He,{origin:"service",url:Be.parsedUrl})),Ne)return!0}catch{}if(Be.definitionExpression)try{return(yield(0,j.G)(Be.definitionExpression,Be.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function X(Be){const Ze=new J.A,Ne=Be.capabilities?.data,He=Be.capabilities?.query;Ze.historicMoment=Be.historicMoment,Ze.gdbVersion=Be.gdbVersion,Ze.returnGeometry=!0,He&&(Ze.compactGeometryEnabled=He.supportsCompactGeometry,Ze.defaultSpatialReferenceEnabled=He.supportsDefaultSpatialReference),Ne&&(Ne.supportsZ&&null!=Be.returnZ&&(Ze.returnZ=Be.returnZ),Ne.supportsM&&null!=Be.returnM&&(Ze.returnM=Be.returnM)),Ze.outFields=["*"];const{timeOffset:Je,timeExtent:ut}=Be;return Ze.timeExtent=null!=Je&&null!=ut?ut.offset(-Je.value,Je.unit):ut||null,Ze.multipatchOption="multipatch"===Be.geometryType?"xyFootprint":null,Ze}function Ee(Be){const{globalIdField:Ze,fields:Ne}=Be;if(Ze)return Ze;if(Ne)for(const He of Ne)if("esriFieldTypeGlobalID"===He.type)return He.name}function Le(Be){const{objectIdField:Ze,fields:Ne}=Be;if(Ze)return Ze;if(Ne)for(const He of Ne)if("esriFieldTypeOID"===He.type)return He.name}function Oe(Be){return Be.currentVersion?Be.currentVersion:Be.hasOwnProperty("capabilities")||Be.hasOwnProperty("drawingInfo")||Be.hasOwnProperty("hasAttachments")||Be.hasOwnProperty("htmlPopupType")||Be.hasOwnProperty("relationships")||Be.hasOwnProperty("timeInfo")||Be.hasOwnProperty("typeIdField")||Be.hasOwnProperty("types")?10:9.3}function _e(Be,Ze){const{subtypes:Ne,subtypeField:He}=Be;if(!Ze||!Ne?.length||!He)return null;const Je=Ze.attributes[He];return null==Je?null:Ne.find(ut=>ut.code===Je)}function we(Be){return ke.apply(this,arguments)}function ke(){return(ke=(0,E.A)(function*(Be){return(yield Be.load()).source})).apply(this,arguments)}function Q(){return(Q=(0,E.A)(function*(Be,Ze){if(!D.id||D.id.findCredential(Be))return;let Ne;try{const He=yield(0,I.wI)(Be,Ze);He&&(Ne=yield D.id.checkSignInStatus(`${He}/sharing`))}catch{}if(Ne)try{const He=null!=Ze?Ze.signal:null;yield D.id.getCredential(Be,{signal:He})}catch{}})).apply(this,arguments)}function De(Be,Ze,Ne){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,E.A)(function*(Be,Ze,Ne){const He=Be.parsedUrl?.path;He&&Be.authenticationTriggerEvent===Ze&&(yield function Xe(Be,Ze){return Q.apply(this,arguments)}(He,Ne))}),Ke.apply(this,arguments)}function Ye(Be){return!Be.sourceJSON?.isMultiServicesView&&(Be.userHasUpdateItemPrivileges||Be.editingEnabled)}const rt=(0,$.C)({types:W.xK});function lt(Be,Ze){if(Be.defaultSymbol)return Be.types?.length?new U.A({defaultSymbol:rt(Be.defaultSymbol,Be,Ze),field:Be.typeIdField,uniqueValueInfos:Be.types.map(Ne=>({id:Ne.id,symbol:rt(Ne.symbol,Ne,Ze)}))}):new O.A({symbol:rt(Be.defaultSymbol,Be,Ze)})}function _t(Be){let Ze=Be.sourceJSON?.cacheMaxAge;if(!Ze)return!1;const Ne=Be.editingInfo?.lastEditDate?.getTime();return null==Ne||(Ze*=1e3,Date.now()-Ne<Ze)}function tt(Be,Ze,Ne){return qe.apply(this,arguments)}function qe(){return(qe=(0,E.A)(function*(Be,Ze,Ne){if(null==Ze)return null;const He=[],{objectIdField:Je}=Be;if(Ze.forEach(jt=>{let Kt=null;if("attributes"in jt){const{attributes:Gt}=jt;Kt={globalId:Gt[Ne],objectId:null!=Gt[Je]&&-1!==Gt[Je]?Gt[Je]:null}}else Kt={globalId:jt.globalId,objectId:null!=jt.objectId&&-1!==jt.objectId?jt.objectId:null};null!=Kt.globalId&&(null!=Kt.objectId&&-1!==Kt.objectId||He.push(Kt.globalId))}),0===He.length)return null;const ut=Be.createQuery();ut.where=He.map(jt=>`${Ne}='${jt}'`).join(" OR "),ut.returnGeometry=!1,ut.outFields=[Je,Ne],ut.cacheHint=!1;const dt=yield(0,B.DZ)((0,S.SE)(Be,ut));if(!dt.ok)return null;const Et=new Map,Lt=dt.value.features;for(const jt of Lt){const Kt=jt.attributes[Ne],Gt=jt.attributes[Je];null!=Kt&&null!=Gt&&-1!==Gt&&Et.set(Kt,Gt)}return Et})).apply(this,arguments)}function xe(Be,Ze,Ne){if(!Ze||!Ne||!Be)return null;const He=Ne.getAttribute(Ze);return null==He?null:Be.find(Je=>{const{id:ut}=Je;return null!=ut&&ut.toString()===He.toString()})??null}},15884:(et,Ae,v)=>{"use strict";v.d(Ae,{SE:()=>W});var E=v(10467),D=v(87086);function W($,S,I){return B.apply(this,arguments)}function B(){return(B=(0,E.A)(function*($,S,I){S=S.clone(),$.capabilities.query.supportsMaxRecordCountFactor&&(S.maxRecordCountFactor=j($));const O=function P($){return j($)*function H($){return $.capabilities.query.maxRecordCount||2e3}($)}($),U=$.capabilities.query.supportsPagination;S.start=0,S.num=O;let N=null;for(;;){const J=yield $.source.queryFeaturesJSON(S,I);if(null==N?N=J:N.features=N.features.concat(J.features),N.exceededTransferLimit=J.exceededTransferLimit,!U||!J.exceededTransferLimit)break;S.start+=O}return N})).apply(this,arguments)}function j($){return $.capabilities.query.supportsMaxRecordCountFactor?D.A.MAX_MAX_RECORD_COUNT_FACTOR:1}},14236:(et,Ae,v)=>{"use strict";v.d(Ae,{d:()=>Se});var de,E=v(50501),D=v(27378),W=v(8189),B=v(92165),O=(v(79122),v(70176),v(92089),v(9826),v(15317),v(38582),v(96128)),N=(v(13318),v(85718)),J=v(36156),Z=v(77806),L=v(89221),C=v(67685),b=v(85211),w=(v(3248),v(35150),v(15463)),K=v(17221),V=v(76576),ue=v(50305),ee=v(2052),te=v(22329),pe=v(39729),ae=v(20329);let ve=de=class extends D.c{constructor(se){super(se),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,C.cr)("12px"),this.fields=[],this.renderer=null}writeFields(se,Pe,Ie){const X=se.filter(Ee=>"avg_angle"!==Ee.statisticType).map(Ee=>Ee.toJSON());(0,L.sM)(Ie,X,Pe)}readRenderer(se,Pe,Ie){const X=Pe.drawingInfo?.renderer;return X?(0,N.L)(X,Pe,Ie)??void 0:(0,pe.PD)(Pe,Ie)}clone(){return new de({fields:(0,Z.o8)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,Z.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,Z.o8)(this.popupTemplate),renderer:(0,Z.o8)(this.renderer),binType:(0,Z.o8)(this.binType),size:this.size})}};(0,W._)([(0,w.e)({binning:"binning"})],ve.prototype,"type",void 0),(0,W._)([(0,w.e)({geohash:"geohash",square:"square"}),(0,b.MZ)({type:["geohash","square"]})],ve.prototype,"binType",void 0),(0,W._)([(0,b.MZ)({type:Number,json:{write:!0}})],ve.prototype,"fixedBinLevel",void 0),(0,W._)([(0,b.MZ)({type:[ae.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ve.prototype,"labelingInfo",void 0),(0,W._)([(0,b.MZ)(te.kF)],ve.prototype,"labelsVisible",void 0),(0,W._)([(0,b.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ve.prototype,"maxScale",void 0),(0,W._)([(0,b.MZ)(te.M6)],ve.prototype,"popupEnabled",void 0),(0,W._)([(0,b.MZ)({type:B.A,json:{name:"popupInfo",write:!0}})],ve.prototype,"popupTemplate",void 0),(0,W._)([(0,b.MZ)({type:Number,cast:se=>"auto"===se?se:(0,C.cr)(se)})],ve.prototype,"size",void 0),(0,W._)([(0,b.MZ)({type:[ee.A],json:{write:!0}})],ve.prototype,"fields",void 0),(0,W._)([(0,ue.K)("fields")],ve.prototype,"writeFields",null),(0,W._)([(0,b.MZ)({types:J.H,json:{write:{target:"drawingInfo.renderer"}}})],ve.prototype,"renderer",void 0),(0,W._)([(0,K.w)("renderer",["drawingInfo.renderer"])],ve.prototype,"readRenderer",null),ve=de=(0,W._)([(0,V.$)("esri.layers.support.FeatureReductionBinning")],ve);const G=ve;var ye,fe=v(47280),ie=v(71065);function q(se){return"simple"===se.type&&!se.visualVariables?.length}let re=ye=class extends ie.oY{constructor(se){super(se),this.type="cluster",this.clusterRadius=(0,C.cr)("80px"),this.clusterMinSize=(0,C.cr)("12px"),this.clusterMaxSize=(0,C.cr)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(se,Pe,Ie){const X=Pe.drawingInfo?.renderer;return X?.authoringInfo?.isAutoGenerated?null:X?q(X)?null:(0,N.L)(X,Pe,Ie)??void 0:(0,pe.PD)(Pe,Ie)}readSymbol(se,Pe,Ie){const X=Pe.drawingInfo?.renderer;return X?.authoringInfo?.isAutoGenerated?null:X&&q(X)?(0,N.L)(X,Pe,Ie)?.symbol:null}writeSymbol(se,Pe,Ie,X){const Ee=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||Ee){const Le=new O.A({symbol:se});Pe.drawingInfo={renderer:Le.write({},X)}}}writeFields(se,Pe,Ie){const X=se.filter(Ee=>"avg_angle"!==Ee.statisticType).map(Ee=>Ee.toJSON());(0,L.sM)(Ie,X,Pe)}readFields(se,Pe,Ie){return se.filter(X=>!X.isAutoGenerated).map(X=>ee.A.fromJSON(X))}clone(){return new ye({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,Z.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,Z.o8)(this.fields),maxScale:this.maxScale,renderer:(0,Z.o8)(this.renderer),symbol:(0,Z.o8)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,Z.o8)(this.popupTemplate)})}};(0,W._)([(0,b.MZ)({type:["cluster"],readOnly:!0,json:{write:!0}})],re.prototype,"type",void 0),(0,W._)([(0,b.MZ)({type:Number,cast:se=>"auto"===se?se:(0,C.cr)(se),json:{write:!0}})],re.prototype,"clusterRadius",void 0),(0,W._)([(0,b.MZ)({type:Number,cast:C.cr,json:{write:!0}})],re.prototype,"clusterMinSize",void 0),(0,W._)([(0,b.MZ)({type:Number,cast:C.cr,json:{write:!0}})],re.prototype,"clusterMaxSize",void 0),(0,W._)([(0,b.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],re.prototype,"maxScale",void 0),(0,W._)([(0,b.MZ)(te.M6)],re.prototype,"popupEnabled",void 0),(0,W._)([(0,b.MZ)({type:B.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],re.prototype,"popupTemplate",void 0),(0,W._)([(0,b.MZ)({types:J.H,json:{write:{target:"drawingInfo.renderer"}}})],re.prototype,"renderer",void 0),(0,W._)([(0,K.w)("renderer",["drawingInfo.renderer"])],re.prototype,"readRenderer",null),(0,W._)([(0,b.MZ)({types:fe.q8})],re.prototype,"symbol",void 0),(0,W._)([(0,K.w)("symbol",["drawingInfo.renderer"])],re.prototype,"readSymbol",null),(0,W._)([(0,ue.K)("symbol")],re.prototype,"writeSymbol",null),(0,W._)([(0,b.MZ)({type:[ae.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],re.prototype,"labelingInfo",void 0),(0,W._)([(0,b.MZ)(te.kF)],re.prototype,"labelsVisible",void 0),(0,W._)([(0,b.MZ)({type:[ee.A],json:{write:!0}})],re.prototype,"fields",void 0),(0,W._)([(0,ue.K)("fields")],re.prototype,"writeFields",null),(0,W._)([(0,K.w)("fields")],re.prototype,"readFields",null),re=ye=(0,W._)([(0,V.$)("esri.layers.support.FeatureReductionCluster")],re);const ce=re;var oe=v(71906);const le={key:"type",base:D.c,typeMap:{cluster:ce,binning:G}},Se={types:{key:"type",base:D.c,typeMap:{selection:oe.A,cluster:ce,binning:G}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:le},"portal-item":{types:le},"web-scene":{types:{key:"type",base:D.c,typeMap:{selection:oe.A}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:E.K}}}}}},3404:(et,Ae,v)=>{"use strict";v.d(Ae,{p:()=>H});var E=v(3248),D=v(35150),W=v(29141),B=v(73258),P=v(86300);function H(){return{fields:{type:[W.A],value:null,set:function(j){if(j&&(0,E.A)("big-integer-warning-enabled")){const $=j.filter(S=>"big-integer"===S.type||"oid"===S.type&&(S.length||0)>=8);if($.length){const S=$.map(I=>`'${I.name}'`).join(", ");D.A.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${S}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",j)}},fieldsIndex:{readOnly:!0,get(){return B.A.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(j){this._userOutFields=j,this.notifyChange("outFields")},get:function(){const j=this._userOutFields;if(!j?.length)return null;if(j.includes("*"))return["*"];if(!this.fields)return j;for(const $ of j)this.fieldsIndex?.has($)||D.A.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${$} found in outFields`,{layer:this,outFields:j});return(0,P.DB)(this.fieldsIndex,j)}}}}},38965:(et,Ae,v)=>{"use strict";v.d(Ae,{m:()=>D});const D=new(v(49976).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},86300:(et,Ae,v)=>{"use strict";v.d(Ae,{Ah:()=>fr,Bz:()=>Ye,CJ:()=>gs,DB:()=>C,Dx:()=>K,Im:()=>_t,JL:()=>yr,Kl:()=>$t,NO:()=>G,OG:()=>tr,OH:()=>ir,R$:()=>Ke,RP:()=>ye,WA:()=>Nn,WX:()=>Hn,Xz:()=>Er,_b:()=>Ze,_w:()=>b,eX:()=>Le,f:()=>Se,hL:()=>R,hW:()=>w,lD:()=>Be,mB:()=>te,nw:()=>Ct,o:()=>oe,rS:()=>I,rq:()=>x,sv:()=>Z,te:()=>wn,uo:()=>vt,vE:()=>Un,yM:()=>er,yp:()=>N,zD:()=>ur});var E=v(10467),D=v(5922),W=v(89221),B=v(17435),P=v(63484),H=v(54444),j=v(48218);const $=/^([0-9_])/,S=/[^a-z0-9_\u0080-\uffff]+/gi;function I(ot){return null==ot?null:ot.trim().replaceAll(S,"_").replace($,"F$1")||null}const O=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],U=["field","normalizationField"];function N(ot,pt){if(null!=ot&&null!=pt)for(const Pt of Array.isArray(ot)?ot:[ot])if(J(O,Pt,pt),"visualVariables"in Pt&&Pt.visualVariables)for(const zt of Pt.visualVariables)J(U,zt,pt)}function J(ot,pt,Pt){if(ot)for(const zt of ot){const gn=(0,W.wc)(zt,pt),yn=gn&&"function"!=typeof gn&&Pt.get(gn);yn&&(0,W.sM)(zt,yn.name,pt)}}function Z(ot,pt){if(null!=ot&&pt?.fields?.length)if("startField"in ot){const Pt=pt.get(ot.startField),zt=pt.get(ot.endField);ot.startField=Pt?.name??null,ot.endField=zt?.name??null}else{const Pt=pt.get(ot.startTimeField),zt=pt.get(ot.endTimeField);ot.startTimeField=Pt?.name??null,ot.endTimeField=zt?.name??null}}const L=new Set;function C(ot,pt){return ot&&pt?(L.clear(),b(L,ot,pt),Array.from(L).sort()):[]}function b(ot,pt,Pt){if(Pt)if(pt?.fields?.length)if(Pt.includes("*"))for(const{name:zt}of pt.fields)ot.add(zt);else for(const zt of Pt)x(ot,pt,zt);else{if(Pt.includes("*"))return ot.clear(),void ot.add("*");for(const zt of Pt)null!=zt&&ot.add(zt)}}function x(ot,pt,Pt){if("string"==typeof Pt)if(pt){const zt=pt.get(Pt);zt&&ot.add(zt.name)}else ot.add(Pt)}function R(ot,pt){return null==pt||null==ot?[]:pt.includes("*")?(ot.fields??[]).map(Pt=>Pt.name):pt}function w(ot,pt,Pt=1){if(!pt||!ot)return[];if(pt.includes("*"))return["*"];const zt=C(ot,pt);return zt.length/ot.fields.length>=Pt?["*"]:zt}function K(ot,pt,Pt){return V.apply(this,arguments)}function V(){return(V=(0,E.A)(function*(ot,pt,Pt){if(!Pt)return;const{arcadeUtils:zt}=yield(0,j.lw)(),gn=zt.extractFieldNames(Pt,pt?.fields?.map(yn=>yn.name));for(const yn of gn)x(ot,pt,yn)})).apply(this,arguments)}function ue(ot,pt,Pt){return ee.apply(this,arguments)}function ee(){return(ee=(0,E.A)(function*(ot,pt,Pt){if(Pt&&"1=1"!==Pt){const zt=yield(0,P.G)(Pt,pt);if(!zt.isStandardized)throw new D.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:Pt});b(ot,pt,zt.fieldNames)}})).apply(this,arguments)}function te({displayField:ot,fields:pt}){return ot||(pt?.length?ae(pt,"name-or-title")||ae(pt,"unique-identifier")||ae(pt,"type-or-category")||function pe(ot){for(const pt of ot){if(!pt?.name)continue;const Pt=pt.name.toLowerCase();if(Pt.includes("name")||Pt.includes("title"))return pt.name}return null}(pt):null)}function ae(ot,pt){for(const Pt of ot)if(Pt?.valueType&&Pt.valueType===pt)return Pt.name;return null}function G(ot,pt){return fe.apply(this,arguments)}function fe(){return(fe=(0,E.A)(function*(ot,pt){if(!pt)return;const Pt=pt.elevationInfo?.featureExpressionInfo;return Pt?Pt.collectRequiredFields(ot,pt.fieldsIndex):void 0})).apply(this,arguments)}function ye(ot,pt,Pt){return q.apply(this,arguments)}function q(){return q=(0,E.A)(function*(ot,pt,Pt){if(!pt||!Pt||!("fields"in Pt))return;const zt=[];zt.push(function re(ot,pt,Pt){return ce.apply(this,arguments)}(ot,pt,Pt.popupTemplate)),Pt.fields&&zt.push(...Pt.fields.map(function(){var yn=(0,E.A)(function*(Tr){return function ie(ot,pt,Pt){Pt.onStatisticExpression?K(ot,pt,Pt.onStatisticExpression.expression):ot.add(Pt.onStatisticField)}(ot,pt.fieldsIndex,Tr)});return function(Tr){return yn.apply(this,arguments)}}())),yield Promise.all(zt)}),q.apply(this,arguments)}function ce(){return(ce=(0,E.A)(function*(ot,pt,Pt){const zt=[];Pt?.expressionInfos&&zt.push(...Pt.expressionInfos.map(yn=>K(ot,pt.fieldsIndex,yn.expression)));const gn=Pt?.content;if(Array.isArray(gn))for(const yn of gn)"expression"===yn.type&&yn.expressionInfo&&zt.push(K(ot,pt.fieldsIndex,yn.expressionInfo.expression));yield Promise.all(zt)})).apply(this,arguments)}function oe(ot,pt,Pt){return le.apply(this,arguments)}function le(){return(le=(0,E.A)(function*(ot,pt,Pt){pt&&(pt.timeInfo&&Pt?.timeExtent&&b(ot,pt.fieldsIndex,[pt.timeInfo.startField,pt.timeInfo.endField]),pt.floorInfo&&b(ot,pt.fieldsIndex,[pt.floorInfo.floorField]),null!=Pt?.where&&(yield ue(ot,pt.fieldsIndex,Pt.where)))})).apply(this,arguments)}function Se(ot,pt,Pt){return se.apply(this,arguments)}function se(){return se=(0,E.A)(function*(ot,pt,Pt){pt&&Pt&&(yield Promise.all(Pt.map(zt=>function Pe(ot,pt,Pt){return Ie.apply(this,arguments)}(ot,pt,zt))))}),se.apply(this,arguments)}function Ie(){return(Ie=(0,E.A)(function*(ot,pt,Pt){pt&&Pt&&(Pt.valueExpression?yield K(ot,pt.fieldsIndex,Pt.valueExpression):Pt.field&&x(ot,pt.fieldsIndex,Pt.field))})).apply(this,arguments)}function Le(ot){return ot?C(ot.fieldsIndex,Q(ot)):[]}const _e=new Set(["oid","global-id","guid"]),we=new Set(["oid","global-id"]),ke=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Q(ot){if(!ot)return[];const pt="editFieldsInfo"in ot&&ot.editFieldsInfo;if(!pt)return[];const{creationDateField:Pt,creatorField:zt,editDateField:gn,editorField:yn}=pt;return[Pt,zt,gn,yn].filter(Boolean)}function De(ot){return Q(ot).map(pt=>pt.toLowerCase())}function Ke(ot,pt){return ot.editable&&!_e.has(ot.type)&&!De(pt).includes(ot.name?.toLowerCase()??"")}function Ye(ot,pt){const Pt=ot.name?.toLowerCase()??"";return!(null!=pt?.objectIdField&&Pt===pt.objectIdField.toLowerCase()||null!=pt?.globalIdField&&Pt===pt.globalIdField.toLowerCase()||function Xe(ot){const pt=new Set;De(ot).forEach(zt=>pt.add(zt)),function Oe(ot){if(!ot)return[];const pt=ot.geometryFieldsInfo;return pt?C(ot.fieldsIndex,[pt.shapeAreaField,pt.shapeLengthField]):[]}(ot).forEach(zt=>pt.add(zt.toLowerCase()));const Pt=ot&&"infoFor3D"in ot?ot.infoFor3D:void 0;return Pt&&(Object.values(Pt.assetMapFieldRoles).forEach(zt=>pt.add(zt.toLowerCase())),Object.values(Pt.transformFieldRoles).forEach(zt=>pt.add(zt.toLowerCase()))),Array.from(pt)}(pt).includes(Pt)||we.has(ot.type)||ke.some(zt=>zt.test(Pt)))}function _t(ot,pt){return tt.apply(this,arguments)}function tt(){return tt=(0,E.A)(function*(ot,pt){const{labelingInfo:Pt,fieldsIndex:zt}=pt;Pt?.length&&(yield Promise.all(Pt.map(gn=>function qe(ot,pt,Pt){return xe.apply(this,arguments)}(ot,zt,gn))))}),tt.apply(this,arguments)}function xe(){return(xe=(0,E.A)(function*(ot,pt,Pt){if(!Pt)return;const zt=Pt.getLabelExpression(),gn=Pt.where;if("arcade"===zt.type)yield K(ot,pt,zt.expression);else{const yn=zt.expression.match(/{[^}]*}/g);yn&&yn.forEach(Tr=>{x(ot,pt,Tr.slice(1,-1))})}yield ue(ot,pt,gn)})).apply(this,arguments)}function Be(ot){const pt=ot.defaultValue;return void 0!==pt&&Lt(ot,pt)?pt:ot.nullable?null:void 0}function Ze(ot){const pt="string"==typeof ot?{type:ot}:ot;return er(pt)?255:"esriFieldTypeDate"===pt.type||"date"===pt.type?8:void 0}function Ne(ot){return"number"==typeof ot&&!isNaN(ot)&&isFinite(ot)}function He(ot){return null===ot||Ne(ot)}function Je(ot){return null===ot||Number.isInteger(ot)}function ut(ot){return null!=ot&&"string"==typeof ot}function dt(ot){return null===ot||ut(ot)}function Et(){return!0}function Lt(ot,pt){let Pt;switch(ot.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":Pt=ot.nullable?Je:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":Pt=ot.nullable?He:Ne;break;case"string":case"esriFieldTypeString":Pt=ot.nullable?dt:ut;break;default:Pt=Et}return 1===arguments.length?Pt:Pt(pt)}const kn=(0,B.KC)(new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]));function Nn(ot){return null!=ot&&kn.has(ot.type)}function er(ot){return null!=ot&&("string"===ot.type||"esriFieldTypeString"===ot.type)}function Un(ot){return null!=ot&&("date"===ot.type||"esriFieldTypeDate"===ot.type)}function ur(ot){return null!=ot&&("date-only"===ot.type||"esriFieldTypeDateOnly"===ot.type)}function fr(ot){return null!=ot&&("timestamp-offset"===ot.type||"esriFieldTypeTimestampOffset"===ot.type)}function ir(ot){return null!=ot&&("time-only"===ot.type||"esriFieldTypeTimeOnly"===ot.type)}function wn(ot){return null!=ot&&("oid"===ot.type||"esriFieldTypeOID"===ot.type)}function Er(ot){return null!=ot&&("global-id"===ot.type||"esriFieldTypeGlobalID"===ot.type)}function tr(ot,pt){return null===gs(ot,pt)}var jn,xs;function Hn(ot){return null==ot||"number"==typeof ot&&isNaN(ot)?null:ot}function gs(ot,pt){return null==ot||ot.nullable&&null===pt?null:Nn(ot)&&!function ys(ot,pt){const Pt="string"==typeof ot?zr(ot):ot;if(!Pt)return!1;const zt=Pt.min,gn=Pt.max;return Pt.isInteger?Number.isInteger(pt)&&pt>=zt&&pt<=gn:pt>=zt&&pt<=gn}(ot.type,Number(pt))?jn.OUT_OF_RANGE:Lt(ot,pt)?ot.domain?(0,H.wb)(ot,pt):null:xs.INVALID_TYPE}function zr(ot){switch(ot){case"esriFieldTypeSmallInteger":case"small-integer":return zn;case"esriFieldTypeInteger":case"integer":return gt;case"esriFieldTypeBigInteger":case"big-integer":return je;case"esriFieldTypeSingle":case"single":return mt;case"esriFieldTypeDouble":case"double":return st}}(jn||(jn={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(xs||(xs={})).INVALID_TYPE="type-validation-error::invalid-type";const zn={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},gt={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},je={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},mt={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},st={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function vt(ot,pt,Pt){switch(ot){case H.Mh.INVALID_CODED_VALUE:return`Value ${Pt} is not in the coded domain - field: ${pt.name}, domain: ${JSON.stringify(pt.domain)}`;case H.Mh.VALUE_OUT_OF_RANGE:return`Value ${Pt} is out of the range of valid values - field: ${pt.name}, domain: ${JSON.stringify(pt.domain)}`;case xs.INVALID_TYPE:return`Value ${Pt} is not a valid value for the field type - field: ${pt.name}, type: ${pt.type}, nullable: ${pt.nullable}`;case jn.OUT_OF_RANGE:{const{min:zt,max:gn}=zr(pt.type);return`Value ${Pt} is out of range for the number type - field: ${pt.name}, type: ${pt.type}, value range is ${zt} to ${gn}`}}}function $t(ot,pt){return!function ln(ot,pt,Pt){if(!pt?.attributes||!ot){if(null!=Pt)for(const yn of ot??[])Pt.add(yn);return!0}const zt=new Set(Object.keys(pt.attributes));let gn=!1;for(const yn of ot)if(!zt.has(yn)){if(gn=!0,null==Pt)break;Pt.add(yn)}return gn}(ot,pt,null)}function yr(ot){return!!ot&&["raster.itempixelvalue","raster.servicepixelvalue"].some(pt=>ot.toLowerCase().startsWith(pt))}function Ct(ot){const pt=ot?.match(/{[^}]+}/g);return pt?pt.map(Pt=>Pt.slice(1,-1).split(":")[0].trim()):[]}},4858:(et,Ae,v)=>{"use strict";v.d(Ae,{BI:()=>J,D3:()=>U,XJ:()=>N,lc:()=>O,mX:()=>L,rU:()=>Z,tH:()=>K});var E=v(1119);const D="__begin__",W="__end__",B=new RegExp(D,"ig"),P=new RegExp(W,"ig"),H=new RegExp("^"+D,"i"),j=new RegExp(W+"$","i"),$='"',S=$+" + ",I=" + "+$;function O(V){return V.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function U(V){return V.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function N(V){const ue={expression:"",type:"none"};return V.labelExpressionInfo?V.labelExpressionInfo.value?(ue.expression=V.labelExpressionInfo.value,ue.type="conventional"):V.labelExpressionInfo.expression&&(ue.expression=V.labelExpressionInfo.expression,ue.type="arcade"):null!=V.labelExpression&&(ue.expression=O(V.labelExpression),ue.type="conventional"),ue}function J(V){const ue=N(V);if(!ue)return null;switch(ue.type){case"conventional":return L(ue.expression);case"arcade":return ue.expression}return null}function Z(V){const ue=N(V);if(!ue)return null;switch(ue.type){case"conventional":return function b(V){return V?.match(C)?.[1].trim()||null}(ue.expression);case"arcade":return K(ue.expression)}return null}function L(V){let ue;return V?(ue=(0,E.HC)(V,ee=>D+'$feature["'+ee+'"]'+W),ue=H.test(ue)?ue.replace(H,""):$+ue,ue=j.test(ue)?ue.replace(j,""):ue+$,ue=ue.replaceAll(B,S).replaceAll(P,I)):ue='""',ue}const C=/^\s*\{([^}]+)\}\s*$/i,x=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,R=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function K(V){if(!V)return null;let ue=x.exec(V)||R.exec(V);return ue?ue[1]||ue[3]:(ue=w.exec(V),ue?ue[2]:null)}},73975:(et,Ae,v)=>{"use strict";v.d(Ae,{w:()=>H,z:()=>S});var E=v(5922),D=v(35150),W=v(20329);const B=()=>D.A.getLogger("esri.layers.support.labelingInfo"),P=/\[([^[\]]+)\]/gi;function H(I,O,U){return I?I.map(N=>{const J=new W.A;if(J.read(N,U),J.labelExpression){const Z=O.fields||O.layerDefinition?.fields||this.fields;J.labelExpression=J.labelExpression.replaceAll(P,(L,C)=>`[${function j(I,O){if(!O)return I;const U=I.toLowerCase();for(let N=0;N<O.length;N++){const J=O[N].name;if(J.toLowerCase()===U)return J}return I}(C,Z)}]`)}return J}):null}const $={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function S(I,O){const U=[];for(const N of I){const J=N.labelPlacement,Z=$[O];if(!N.symbol)return B().warn("No ILabelClass symbol specified."),[];if(!Z)return B().error(new E.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${O}' is not supported`)),[];if(Z.includes(J))U.push(N);else{const L=Z[0];J&&B().warn(`Found invalid label placement type ${J} for ${O}. Defaulting to ${L}`);const C=N.clone();C.labelPlacement=L,U.push(C)}}return U}},58443:(et,Ae,v)=>{"use strict";v.d(Ae,{BR:()=>ie,F2:()=>O,Ov:()=>V,Sv:()=>U,TU:()=>C,W_:()=>ue,XX:()=>L,tk:()=>q,wI:()=>de});var E=v(10467),D=v(77469),W=v(89563);function O(re){return null!=re&&"object"==typeof re&&"type"in re&&"subtype-group"===re.type&&"sublayers"in re}function U(re){return"subtype-sublayer"===re?.type}const L={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function C(re){const ce=re?.type;return"building-scene"===ce||"integrated-mesh"===ce||"point-cloud"===ce||"scene"===ce}function V(re){return"feature"===re?.type&&!re.url&&"memory"===re.source?.type}function ue(re){return("feature"===re?.type||"subtype-group"===re?.type)&&"feature-layer"===re.source?.type}function de(re,ce){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.A)(function*(re,ce){const oe=D.id?.findServerInfo(re);if(null!=oe?.currentVersion)return oe.owningSystemUrl||null;const le=re.toLowerCase().indexOf("/rest/services");if(-1===le)return null;const Se=`${re.substring(0,le)}/rest/info`,se=null!=ce?ce.signal:null,{data:Pe}=yield(0,W.A)(Se,{query:{f:"json"},responseType:"json",signal:se});return Pe?.owningSystemUrl||null})).apply(this,arguments)}function ie(re){return function G(re){if(!("capabilities"in re))return!1;switch(re.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(re)?"effectiveCapabilities"in re?re.effectiveCapabilities:re.capabilities:null}function q(re){return!!function ye(re){if(!("editingEnabled"in re))return!1;switch(re.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(re)&&("effectiveEditingEnabled"in re?re.effectiveEditingEnabled:re.editingEnabled)}},90543:(et,Ae,v)=>{"use strict";v.d(Ae,{S:()=>S,d:()=>x});var E=v(3248),D=v(68438);function W(R,w,K){return!!P(R,w,K)}function B(R,w,K){return P(R,w,K)}function P(R,w,K){return R&&R.hasOwnProperty(w)?R[w]:K}const H={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function j(R){const w=R?.supportedSpatialAggregationStatistics?.map(K=>K.toLowerCase());return{envelope:!!w?.includes("envelopeaggregate"),centroid:!!w?.includes("centroidaggregate"),convexHull:!!w?.includes("convexhullaggregate")}}function $(R,w){return!!R?.supportedOperationsWithCacheHint?.map(V=>V.toLowerCase())?.includes(w.toLowerCase())}function S(R,w){return{analytics:I(R),attachment:O(R),data:U(R),metadata:N(R),operations:J(R.capabilities,R,w),query:Z(R,w),queryRelated:L(R),queryTopFeatures:C(R),editing:b(R)}}function I(R){return{supportsCacheHint:$(R.advancedQueryCapabilities,"queryAnalytics")}}function O(R){const w=R.attachmentProperties,K={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:$(R.advancedQueryCapabilities,"queryAttachments"),supportsResize:W(R,"supportsAttachmentsResizing",!1)};return w&&Array.isArray(w)&&w.forEach(V=>{const ue=H[V.name];ue&&(K[ue]=!!V.isEnabled)}),K}function U(R){return{isVersioned:W(R,"isDataVersioned",!1),supportsAttachment:W(R,"hasAttachments",!1),supportsM:W(R,"hasM",!1),supportsZ:W(R,"hasZ",!1)}}function N(R){return{supportsAdvancedFieldProperties:W(R,"supportsFieldDescriptionProperty",!1)}}function J(R,w,K){const V=R?R.toLowerCase().split(",").map(fe=>fe.trim()):[],ue=K?(0,D.qg)(K):null,ee=V.includes(null!=ue&&"MapServer"===ue.serverType?"data":"query"),te=V.includes("editing")&&!w.datesInUnknownTimezone;let pe=te&&V.includes("create"),ae=te&&V.includes("delete"),de=te&&V.includes("update");const ve=V.includes("changetracking"),G=w.advancedQueryCapabilities;return te&&!(pe||ae||de)&&(pe=ae=de=!0),{supportsCalculate:W(w,"supportsCalculate",!1),supportsTruncate:W(w,"supportsTruncate",!1),supportsValidateSql:W(w,"supportsValidateSql",!1),supportsAdd:pe,supportsDelete:ae,supportsEditing:te,supportsChangeTracking:ve,supportsQuery:ee,supportsQueryAnalytics:W(G,"supportsQueryAnalytic",!1),supportsQueryAttachments:W(G,"supportsQueryAttachments",!1),supportsQueryTopFeatures:W(G,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:W(w,"supportsAttachmentsResizing",!1),supportsSync:V.includes("sync"),supportsUpdate:de,supportsExceedsLimitStatistics:W(w,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:W(w,"supportsAsyncConvert3D",!1)}}function Z(R,w){const K=R.advancedQueryCapabilities,V=R.ownershipBasedAccessControlForFeatures,ue=R.archivingInfo,ee=R.currentVersion,te=w?.includes("MapServer"),pe=!te||ee>=(0,E.A)("mapserver-pbf-version-support"),ae=(0,D.Wo)(w),de=new Set((R.supportedQueryFormats??"").split(",").map(ve=>ve.toLowerCase().trim()));return{maxRecordCount:B(R,"maxRecordCount",void 0),maxRecordCountFactor:B(R,"maxRecordCountFactor",void 0),standardMaxRecordCount:B(R,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:j(K),supportsCacheHint:W(K,"supportsQueryWithCacheHint",!1)||$(K,"query"),supportsCentroid:W(K,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:ae,supportsDefaultSpatialReference:W(K,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:W(K,"supportsDisjointSpatialRel",!1),supportsDistance:W(K,"supportsQueryWithDistance",!1),supportsDistinct:W(K,"supportsDistinct",R.supportsAdvancedQueries),supportsExtent:W(K,"supportsReturningQueryExtent",!1),supportsFormatPBF:pe&&de.has("pbf"),supportsFullTextSearch:W(K,"supportsFullTextSearch",!1),supportsGeometryProperties:W(K,"supportsReturningGeometryProperties",!1),supportsHavingClause:W(K,"supportsHavingClause",!1),supportsHistoricMoment:W(ue,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:W(K,"supportsMaxRecordCountFactor",!1),supportsOrderBy:W(K,"supportsOrderBy",R.supportsAdvancedQueries),supportsPagination:W(K,"supportsPagination",!1),supportsPercentileStatistics:W(K,"supportsPercentileStatistics",!1),supportsQuantization:W(R,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:W(R,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:W(V,"allowAnonymousToQuery",!0),supportsQueryByOthers:W(V,"allowOthersToQuery",!0),supportsQueryGeometry:W(R,"supportsReturningQueryGeometry",!1),supportsResultType:W(K,"supportsQueryWithResultType",!1),supportsSpatialAggregationStatistics:W(K,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:W(K,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:W(R,"useStandardizedQueries",!1),supportsStatistics:W(K,"supportsStatistics",R.supportsStatistics),supportsTopFeaturesQuery:W(K,"supportsTopFeaturesQuery",!1),tileMaxRecordCount:B(R,"tileMaxRecordCount",void 0)}}function L(R){const w=R.advancedQueryCapabilities,K=W(w,"supportsAdvancedQueryRelated",!1);return{supportsPagination:W(w,"supportsQueryRelatedPagination",!1),supportsCount:K,supportsOrderBy:K,supportsCacheHint:$(w,"queryRelated")}}function C(R){return{supportsCacheHint:$(R.advancedQueryCapabilities,"queryTopFilter")}}function b(R){const w=R.ownershipBasedAccessControlForFeatures,K=R?R.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:W(R,"allowGeometryUpdates",!0),supportsGlobalId:W(R,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:W(R,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:W(R,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:W(R,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:W(R,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:W(w,"allowAnonymousToDelete",!0),supportsDeleteByOthers:W(w,"allowOthersToDelete",!0),supportsUpdateByAnonymous:W(w,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:W(w,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:W(K,"supportsAsyncApplyEdits",!1),zDefault:B(R,"zDefault",void 0)}}function x(R){return{operations:{supportsAppend:W(R,"supportsAppend",!1),supportsExportClip:W(R,"supportsExportClip",!1),supportsExportFrameset:W(R,"supportsExportFrameset",!1),supportsMensuration:W(R,"supportsMensuration",!1),supportsUpdate:W(R,"supportsUpdate",!1)},query:{supportsCoverageQuery:R?.playbackInfo?.klv["0601"]??!1}}}},93164:(et,Ae,v)=>{"use strict";v.d(Ae,{L:()=>ye});var x,E=v(8189),D=v(49976),W=v(71065),B=v(85211),P=v(48669),H=v(15463),j=v(17221),$=v(76576),S=v(55739),I=v(71224),O=v(29141),U=v(77757),C=(v(21152),v(3248),v(35150),v(40707),v(32034)),b=v(6434);let R=x=class extends W.oY{constructor(q){super(q),this.type="query-table"}clone(){const{workspaceId:q,query:re,oidFields:ce,spatialReference:oe,geometryType:le}=this,Se={workspaceId:q,query:re,oidFields:ce,spatialReference:oe?.clone()??void 0,geometryType:le};return new x(Se)}};var w;(0,E._)([(0,H.e)({queryTable:"query-table"})],R.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],R.prototype,"workspaceId",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],R.prototype,"query",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],R.prototype,"oidFields",void 0),(0,E._)([(0,B.MZ)({type:C.A,json:{write:!0}})],R.prototype,"spatialReference",void 0),(0,E._)([(0,H.e)(b.g)],R.prototype,"geometryType",void 0),R=x=(0,E._)([(0,$.$)("esri.layers.support.source.QueryTableDataSource")],R);let K=w=class extends W.oY{constructor(q){super(q),this.type="raster"}clone(){const{workspaceId:q,dataSourceName:re}=this;return new w({workspaceId:q,dataSourceName:re})}};var V;(0,E._)([(0,H.e)({raster:"raster"})],K.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],K.prototype,"dataSourceName",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],K.prototype,"workspaceId",void 0),K=w=(0,E._)([(0,$.$)("esri.layers.support.source.RasterDataSource")],K);let ue=V=class extends W.oY{constructor(q){super(q),this.type="table"}clone(){const{workspaceId:q,gdbVersion:re,dataSourceName:ce}=this;return new V({workspaceId:q,gdbVersion:re,dataSourceName:ce})}};var ee,te;(0,E._)([(0,H.e)({table:"table"})],ue.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],ue.prototype,"workspaceId",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],ue.prototype,"gdbVersion",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],ue.prototype,"dataSourceName",void 0),ue=V=(0,E._)([(0,$.$)("esri.layers.support.source.TableDataSource")],ue);const pe=(0,D.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let ae=ee=class extends W.oY{constructor(q){super(q),this.type="join-table"}readLeftTableSource(q,re,ce){return ve()(q,re,ce)}castLeftTableSource(q){return(0,S.aq)(fe(),q)}readRightTableSource(q,re,ce){return ve()(q,re,ce)}castRightTableSource(q){return(0,S.aq)(fe(),q)}clone(){const{leftTableKey:q,rightTableKey:re,leftTableSource:ce,rightTableSource:oe,joinType:le}=this,Se={leftTableKey:q,rightTableKey:re,leftTableSource:ce?.clone()??void 0,rightTableSource:oe?.clone()??void 0,joinType:le};return new ee(Se)}};(0,E._)([(0,H.e)({joinTable:"join-table"})],ae.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],ae.prototype,"leftTableKey",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],ae.prototype,"rightTableKey",void 0),(0,E._)([(0,B.MZ)({json:{write:!0}})],ae.prototype,"leftTableSource",void 0),(0,E._)([(0,j.w)("leftTableSource")],ae.prototype,"readLeftTableSource",null),(0,E._)([(0,P.w)("leftTableSource")],ae.prototype,"castLeftTableSource",null),(0,E._)([(0,B.MZ)({json:{write:!0}})],ae.prototype,"rightTableSource",void 0),(0,E._)([(0,j.w)("rightTableSource")],ae.prototype,"readRightTableSource",null),(0,E._)([(0,P.w)("rightTableSource")],ae.prototype,"castRightTableSource",null),(0,E._)([(0,H.e)(pe)],ae.prototype,"joinType",void 0),ae=ee=(0,E._)([(0,$.$)("esri.layers.support.source.JoinTableDataSource")],ae);let de=null;function ve(){return de||(de=(0,I.C)({types:fe()})),de}let G=null;function fe(){return G||(G={key:"type",base:null,typeMap:{"data-layer":ye,"map-layer":U.f}}),G}const ie={key:"type",base:null,typeMap:{"join-table":ae,"query-table":R,raster:K,table:ue}};let ye=te=class extends W.oY{constructor(q){super(q),this.type="data-layer"}clone(){const{fields:q,dataSource:re}=this;return new te({fields:q,dataSource:re})}};(0,E._)([(0,H.e)({dataLayer:"data-layer"})],ye.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:[O.A],json:{write:!0}})],ye.prototype,"fields",void 0),(0,E._)([(0,B.MZ)({types:ie,json:{write:!0}})],ye.prototype,"dataSource",void 0),ye=te=(0,E._)([(0,$.$)("esri.layers.support.source.DataLayerSource")],ye),ye.from=(0,S.dp)(ye)},77757:(et,Ae,v)=>{"use strict";v.d(Ae,{f:()=>I});var S,E=v(8189),D=v(71065),W=v(85211),B=v(55739),j=(v(40707),v(3248),v(15463)),$=v(76576);let I=S=class extends D.oY{constructor(O){super(O),this.type="map-layer"}clone(){const{mapLayerId:O,gdbVersion:U}=this;return new S({mapLayerId:O,gdbVersion:U})}};(0,E._)([(0,j.e)({mapLayer:"map-layer"})],I.prototype,"type",void 0),(0,E._)([(0,W.MZ)({type:B.jz,json:{write:!0}})],I.prototype,"mapLayerId",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"gdbVersion",void 0),I=S=(0,E._)([(0,$.$)("esri.layers.support.source.MapLayerSource")],I)},5540:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>W});var E=v(68438);const D=[];function W(B,P){if((0,E.Wo)(B.url??""))return!0;const{wkid:H}=P;for(const j of D){if((B.version??0)>=j[0])return!0;if("function"==typeof j[1]&&(j[1]=j[1]()),j[1].has(H))return!1}return!0}D.push([10.91,()=>{const B=new Set([9709,9716,9741,9761,9766]);for(let P=9712;P<=9713;P++)B.add(P);for(let P=9748;P<=9749;P++)B.add(P);for(let P=20904;P<=20932;P++)B.add(P);for(let P=21004;P<=21032;P++)B.add(P);for(let P=21207;P<=21264;P++)B.add(P);for(let P=21307;P<=21364;P++)B.add(P);for(let P=23301;P<=23333;P++)B.add(P);for(let P=102759;P<=102760;P++)B.add(P);for(let P=102934;P<=102955;P++)B.add(P);return B}]),D.push([10.9,()=>{const B=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let P=9356;P<=9360;P++)B.add(P);for(let P=9404;P<=9407;P++)B.add(P);for(let P=9476;P<=9482;P++)B.add(P);for(let P=9487;P<=9494;P++)B.add(P);for(let P=9697;P<=9699;P++)B.add(P);return B}]),D.push([10.81,()=>{const B=new Set([9265,9333,103598,103699]);for(let P=9248;P<=9254;P++)B.add(P);for(let P=9271;P<=9273;P++)B.add(P);for(let P=9284;P<=9285;P++)B.add(P);for(let P=21453;P<=21463;P++)B.add(P);return B}]),D.push([10.8,()=>{const B=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let P=8035;P<=8036;P++)B.add(P);for(let P=8455;P<=8456;P++)B.add(P);for(let P=8518;P<=8529;P++)B.add(P);for(let P=8533;P<=8536;P++)B.add(P);for(let P=8538;P<=8540;P++)B.add(P);for(let P=8677;P<=8679;P++)B.add(P);for(let P=8902;P<=8903;P++)B.add(P);for(let P=8907;P<=8910;P++)B.add(P);for(let P=8949;P<=8951;P++)B.add(P);for(let P=8972;P<=8987;P++)B.add(P);for(let P=9039;P<=9040;P++)B.add(P);for(let P=9068;P<=9069;P++)B.add(P);for(let P=9140;P<=9141;P++)B.add(P);for(let P=9148;P<=9150;P++)B.add(P);for(let P=9153;P<=9159;P++)B.add(P);for(let P=9205;P<=9218;P++)B.add(P);for(let P=9221;P<=9222;P++)B.add(P);for(let P=54098;P<=54101;P++)B.add(P);return B}]),D.push([10.71,()=>{const B=new Set([6316]);for(let P=8351;P<=8353;P++)B.add(P);for(let P=9294;P<=9297;P++)B.add(P);for(let P=22619;P<=22621;P++)B.add(P);for(let P=103586;P<=103594;P++)B.add(P);return B}])},37370:(et,Ae,v)=>{"use strict";v.d(Ae,{R:()=>W,t:()=>B});var E=v(92129);const D={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(P,H,j)=>{"-"===H.charAt(0)?P.style.setProperty(H,j):P.style[H]=j}};let W=P=>(0,E.X$)(D,P),B={create:(P,H)=>(H=W(H),(0,E.dj)(P,document.createElement("div"),void 0,H),(0,E.Av)(P,H)),append:(P,H,j)=>(j=W(j),(0,E.dj)(H,P,void 0,j),(0,E.Av)(H,j)),insertBefore:(P,H,j)=>(j=W(j),(0,E.dj)(H,P.parentNode,P,j),(0,E.Av)(H,j)),merge:(P,H,j)=>(j=W(j),H.domNode=P,(0,E.OM)(P,H,j),(0,E.Av)(H,j)),replace:(P,H,j)=>(j=W(j),(0,E.dj)(H,P.parentNode,P,j),P.parentNode.removeChild(P),(0,E.Av)(H,j))}},92129:(et,Ae,v)=>{"use strict";v.d(Ae,{Av:()=>pe,OM:()=>K,X$:()=>H,dj:()=>V});var E=v(60421);const D="http://www.w3.org/",W=`${D}2000/svg`,B=`${D}1999/xlink`;let P=[],H=(ae,de)=>{let ve={};return Object.keys(ae).forEach(G=>{ve[G]=ae[G]}),de&&Object.keys(de).forEach(G=>{ve[G]=de[G]}),ve},j=(ae,de)=>ae.vnodeSelector===de.vnodeSelector&&(ae.properties&&de.properties?ae.properties.key===de.properties.key&&ae.properties.bind===de.properties.bind:!ae.properties&&!de.properties),$=ae=>{if("string"!=typeof ae)throw new Error("Style values must be strings")},S=(ae,de,ve)=>{if(""!==de.vnodeSelector)for(let G=ve;G<ae.length;G++)if(j(ae[G],de))return G;return-1},I=(ae,de,ve,G)=>{let fe=ae[de];if(""===fe.vnodeSelector)return;let ie=fe.properties;if(!ie||!(void 0===ie.key?ie.bind:ie.key))for(let ye=0;ye<ae.length;ye++)if(ye!==de&&j(ae[ye],fe))throw new Error(`${ve.vnodeSelector} had a ${fe.vnodeSelector} child ${"added"===G?G:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},O=ae=>{if(ae.properties){let de=ae.properties.enterAnimation;de&&de(ae.domNode,ae.properties)}},U=[],N=!1,J=ae=>{(ae.children||[]).forEach(J),ae.properties&&ae.properties.afterRemoved&&ae.properties.afterRemoved.apply(ae.properties.bind||ae.properties,[ae.domNode])},Z=()=>{N=!1,U.forEach(J),U.length=0},L=ae=>{U.push(ae),N||(N=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Z,{timeout:16}):setTimeout(Z,16))},C=ae=>{let de=ae.domNode;if(ae.properties){let ve=ae.properties.exitAnimation;if(ve)return de.style.pointerEvents="none",void ve(de,()=>{de.parentNode&&(de.parentNode.removeChild(de),L(ae))},ae.properties)}de.parentNode&&(de.parentNode.removeChild(de),L(ae))},b=(ae,de,ve)=>{if(!de)return;let G=ve.eventHandlerInterceptor,fe=Object.keys(de),ie=fe.length;for(let ye=0;ye<ie;ye++){let q=fe[ye],re=de[q];if("className"===q)throw new Error('Property "className" is not supported, use "class".');if("class"===q)ue(ae,re,!0);else if("classes"===q){let ce=Object.keys(re),oe=ce.length;for(let le=0;le<oe;le++){let Se=ce[le];re[Se]&&ae.classList.add(Se)}}else if("styles"===q){let ce=Object.keys(re),oe=ce.length;for(let le=0;le<oe;le++){let Se=ce[le],se=re[Se];se&&($(se),ve.styleApplyer(ae,Se,se))}}else if("key"!==q&&null!=re){let ce=typeof re;"function"===ce?(0===q.lastIndexOf("on",0)&&(G&&(re=G(q,re,ae,de)),"oninput"===q&&function(){let oe=re;re=function(le){oe.apply(this,[le]),le.target["oninput-value"]=le.target.value}}()),ae[q]=re):ve.namespace===W?"href"===q?ae.setAttributeNS(B,q,re):ae.setAttribute(q,re):"string"===ce&&"value"!==q?"innerHTML"===q?ae[q]=E.W5.sanitize(re):x(ae)&&q in ae?ae[q]=re:ae.setAttribute(q,re):ae[q]=re}}};function x(ae){if(!(ae instanceof Element&&ae.tagName.includes("-")))return!1;const de=window.customElements.get(ae.tagName.toLowerCase());return!!de&&ae instanceof de}let R,K=(ae,de,ve)=>{((ae,de,ve)=>{if(de)for(let G of de)V(G,ae,void 0,ve)})(ae,de.children,ve),de.text&&(ae.textContent=de.text),b(ae,de.properties,ve),de.properties&&de.properties.afterCreate&&de.properties.afterCreate.apply(de.properties.bind||de.properties,[ae,ve,de.vnodeSelector,de.properties,de.children])},V=(ae,de,ve,G)=>{let fe,ie=0,ye=ae.vnodeSelector,q=de.ownerDocument;if(""===ye)fe=ae.domNode=q.createTextNode(ae.text),void 0!==ve?de.insertBefore(fe,ve):de.appendChild(fe);else{for(let re=0;re<=ye.length;++re){let ce=ye.charAt(re);if(re===ye.length||"."===ce||"#"===ce){let oe=ye.charAt(ie-1),le=ye.slice(ie,re);"."===oe?fe.classList.add(le):"#"===oe?fe.id=le:("svg"===le&&(G=H(G,{namespace:W})),void 0!==G.namespace?fe=ae.domNode=q.createElementNS(G.namespace,le):(fe=ae.domNode=ae.domNode||q.createElement(le),"input"===le&&ae.properties&&void 0!==ae.properties.type&&fe.setAttribute("type",ae.properties.type)),void 0!==ve?de.insertBefore(fe,ve):fe.parentNode!==de&&de.appendChild(fe)),ie=re+1}}K(fe,ae,G)}},ue=(ae,de,ve)=>{de&&de.split(" ").forEach(G=>{G&&ae.classList.toggle(G,ve)})};R=(ae,de,ve)=>{let G=ae.domNode,fe=!1;if(ae===de)return!1;let ie=!1;if(""===de.vnodeSelector){if(de.text!==ae.text){let ye=G.ownerDocument.createTextNode(de.text);return G.parentNode.replaceChild(ye,G),de.domNode=ye,fe=!0,fe}de.domNode=G}else 0===de.vnodeSelector.lastIndexOf("svg",0)&&(ve=H(ve,{namespace:W})),ae.text!==de.text&&(ie=!0,void 0===de.text?G.removeChild(G.firstChild):G.textContent=de.text),de.domNode=G,ie=((ae,de,ve,G,fe)=>{if(ve===G)return!1;let ie,ye=(ve=ve||P).length,q=(G=G||P).length,re=0,ce=0,oe=!1;for(;ce<q;){let le=re<ye?ve[re]:void 0,Se=G[ce];if(void 0!==le&&j(le,Se))oe=R(le,Se,fe)||oe,re++;else{let se=S(ve,Se,re+1);if(se>=0){for(ie=re;ie<se;ie++)C(ve[ie]),I(ve,ie,ae,"removed");oe=R(ve[se],Se,fe)||oe,re=se+1}else V(Se,de,re<ye?ve[re].domNode:void 0,fe),O(Se),I(G,ce,ae,"added")}ce++}if(ye>re)for(ie=re;ie<ye;ie++)C(ve[ie]),I(ve,ie,ae,"removed");return oe})(de,G,ae.children,de.children,ve)||ie,ie=((ae,de,ve,G)=>{if(!ve)return;let fe=!1,ie=Object.keys(ve),ye=ie.length;for(let q=0;q<ye;q++){let re=ie[q],ce=ve[re],oe=de[re];if("class"===re)oe!==ce&&(ue(ae,oe,!1),ue(ae,ce,!0));else if("classes"===re){let le=ae.classList,Se=Object.keys(ce),se=Se.length;for(let Pe=0;Pe<se;Pe++){let Ie=Se[Pe],X=!!ce[Ie];X!==!!oe[Ie]&&(fe=!0,X?le.add(Ie):le.remove(Ie))}}else if("styles"===re){let le=Object.keys(ce),Se=le.length;for(let se=0;se<Se;se++){let Pe=le[se],Ie=ce[Pe];Ie!==oe[Pe]&&(fe=!0,Ie?($(Ie),G.styleApplyer(ae,Pe,Ie)):G.styleApplyer(ae,Pe,""))}}else if(ce||"string"!=typeof oe||(ce=""),"value"!==re||x(ae)){if(ce!==oe){let le=typeof ce;"function"===le&&G.eventHandlerInterceptor||(G.namespace===W?"href"===re?ae.setAttributeNS(B,re,ce):ae.setAttribute(re,ce):"string"===le?"innerHTML"===re?ae[re]=E.W5.sanitize(ce):"role"===re&&""===ce?ae.removeAttribute(re):x(ae)&&re in ae?ae[re]=ce:ae.setAttribute(re,ce):ae[re]!==ce&&(ae[re]=ce),fe=!0)}}else{let le=ae[re];le!==ce&&(ae["oninput-value"]?le===ae["oninput-value"]:ce!==oe)&&(ae[re]=ce,ae["oninput-value"]=void 0),ce!==oe&&(fe=!0)}}return fe})(G,ae.properties,de.properties,ve)||ie,de.properties&&de.properties.afterUpdate&&de.properties.afterUpdate.apply(de.properties.bind||de.properties,[G,ve,de.vnodeSelector,de.properties,de.children]);return ie&&de.properties&&de.properties.updateAnimation&&de.properties.updateAnimation(G,de.properties,ae.properties),fe};let pe=(ae,de)=>({getLastRender:()=>ae,update:ve=>{if(ae.vnodeSelector!==ve.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let G=ae;ae=ve,R(G,ve,de)},domNode:ae.domNode})},76062:(et,Ae,v)=>{"use strict";v.d(Ae,{F:()=>H});var E=v(37370);let D;D=Array.prototype.find?(j,$)=>j.find($):(j,$)=>j.filter($)[0];let P=(j,$,S)=>{let I=function(O){S("domEvent",O);let U=$(),N=((j,$)=>{let S=[];for(;j&&j!==$;)S.push(j),j=j.parentNode;return S})(O.currentTarget,U.domNode);N.reverse();let J,Z=((j,$)=>{let S=j;return $.forEach(I=>{S=S&&S.children?D(S.children,O=>O.domNode===I):void 0}),S})(U.getLastRender(),N);return j.scheduleRender(),Z&&(J=Z.properties[`on${O.type}`].apply(Z.properties.bind||this,arguments)),S("domEventProcessed",O),J};return(O,U,N,J)=>I},H=j=>{let $,S,I=(0,E.R)(j),O=I.performanceLogger,U=!0,N=!1,J=[],Z=[],L=(b,x,R)=>{let w;I.eventHandlerInterceptor=P($,()=>w,O),w=b(x,R(),I),J.push(w),Z.push(R)},C=()=>{if(S=void 0,U){U=!1,O("renderStart",void 0);for(let b=0;b<J.length;b++){let x=Z[b]();O("rendered",void 0),J[b].update(x),O("patched",void 0)}O("renderDone",void 0),U=!0}};return $={renderNow:C,scheduleRender:()=>{S||N||(S=requestAnimationFrame(C))},stop:()=>{S&&(cancelAnimationFrame(S),S=void 0),N=!0},resume:()=>{N=!1,U=!0,$.scheduleRender()},append:(b,x)=>{L(E.t.append,b,x)},insertBefore:(b,x)=>{L(E.t.insertBefore,b,x)},merge:(b,x)=>{L(E.t.merge,b,x)},replace:(b,x)=>{L(E.t.replace,b,x)},detach:b=>{for(let x=0;x<Z.length;x++)if(Z[x]===b)return Z.splice(x,1),J.splice(x,1)[0];throw new Error("renderFunction was not found")}},$}},71169:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{default:()=>Ze});var E=v(10467),D=v(8189),W=v(81098),B=v(85211),H=(v(3248),v(35150)),$=(v(40707),v(76576)),S=v(35940),I=v(15884),U=(v(21152),v(89563)),N=v(5922),J=v(55098),Z=v(39693),L=v(56492),C=v(45272),b=v(28067),x=v(61320),R=v(58277),w=v(68438),K=v(49976),V=v(15463),ue=v(67317);const ee=(0,K.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let te=class extends ue.A{constructor(Ne){super(Ne),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Ne){var He=this;return(0,E.A)(function*(){const Je={...Ne,query:{f:"json"}},{data:ut}=yield(0,U.A)(He.statusUrl,Je);return He.read(ut),He.editsResolver&&He.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),He})()}waitForJobCompletion(Ne={}){var He=this;return(0,E.A)(function*(){const{interval:Je=1e3,statusCallback:ut}=Ne;return new Promise((dt,Et)=>{He._clearTimer();const Lt=setInterval(()=>{He._timer||Et((0,L.NK)()),He.checkJobStatus().then(jt=>{const{status:Kt}=jt;switch(He.status=Kt,Kt){case"job-succeeded":He._clearTimer(),dt(He);break;case"job-waiting":case"job-executing":ut&&ut(He)}},jt=>{He._clearTimer(),Et(jt)})},Je);He._timer=Lt})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,D._)([(0,B.MZ)()],te.prototype,"editsResolver",void 0),(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],te.prototype,"statusUrl",void 0),(0,D._)([(0,V.e)(ee)],te.prototype,"status",void 0),(0,D._)([(0,B.MZ)({type:Date,json:{type:Number,write:{writer:(Ne,He)=>{He.submissionTime=Ne?Ne.getTime():null}}}})],te.prototype,"submissionTime",void 0),(0,D._)([(0,B.MZ)({type:Date,json:{type:Number,write:{writer:(Ne,He)=>{He.lastUpdatedTime=Ne?Ne.getTime():null}}}})],te.prototype,"lastUpdatedTime",void 0),te=(0,D._)([(0,$.$)("esri.networks.support.TopologyValidationJobInfo")],te);const pe=te;var ae=v(46577);function ie(Ne,He){return ye.apply(this,arguments)}function ye(){return(ye=(0,E.A)(function*(Ne,He){if("Utility Network Layer"===Ne){const{default:Je}=yield Promise.resolve().then(v.bind(v,71169));return new Je({layerUrl:He})}return null})).apply(this,arguments)}function re(){return(re=(0,E.A)(function*(Ne){let He="portalItem"in Ne?Ne:{portalItem:Ne};!He.portalItem||He.portalItem instanceof ae.default||(He={...He,portalItem:new ae.default(He.portalItem)});const Je=He.portalItem;if(yield Je.load(),"Feature Service"!==Je.type)throw new N.A("portal:unknown-item-type","Unknown item type '${type}'",{type:Je.type});const ut=Je.url,dt=yield(0,U.A)(ut,{responseType:"json",query:{f:"json"}}),Et="Network Layer";if(dt.data.type?.includes(Et))return ie(dt.data.type,ut);if(dt.data.layers){const Lt=dt.data.layers.find(jt=>jt.type.includes(Et));if(Lt)return ie(Lt.type,`${ut}/${Lt.id}`)}return null})).apply(this,arguments)}v(93327);var ce=v(30448),oe=v(32034);let le=class extends((0,Z.P)(J.A)){static fromPortalItem(Ne){return function q(Ne){return re.apply(this,arguments)}(Ne)}constructor(Ne){super(Ne),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._applyEditsHandler=He=>{const{serviceUrl:Je,gdbVersion:ut,result:dt}=He,Et=Je===this.featureServiceUrl,Lt=(0,R.gz)(Je,ut,this.gdbVersion);Et&&Lt&&dt.then(jt=>{(0,ce.w5)(Je,ut)&&(this.historicMoment=jt.historicMoment)})},this._updateMomentHandler=He=>{const{serviceUrl:Je,gdbVersion:ut,moment:dt}=He,Et=Je===this.featureServiceUrl,Lt=(0,R.gz)(Je,ut,this.gdbVersion);Et&&Lt&&(this.historicMoment=dt)},this.when().then(()=>{this.addHandles([(0,R.Jz)(this._applyEditsHandler),(0,R.dP)(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(Ne=>{(0,L.zf)(Ne)||H.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:Ne})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,C.An)(this.layerUrl)}get featureServiceUrl(){return(0,w.qg)(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return(0,w.qg)(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}load(Ne){var He=this;return(0,E.A)(function*(){return He.addResolvingPromise(He._fetchDataElement(He.featureServiceUrl,He.layerId.toString(),Ne)),He.addResolvingPromise(He._fetchLayerMetaData(He.layerUrl,Ne)),He})()}getLayerIdBySourceId(Ne){if(this.dataElement){const He=this.dataElement.domainNetworks;for(const Je of He){for(const ut of Je.edgeSources??[])if(ut.sourceId===Ne)return ut.layerId;for(const ut of Je.junctionSources??[])if(ut.sourceId===Ne)return ut.layerId}return null}return null}queryNamedTraceConfigurations(Ne,He){var Je=this;return(0,E.A)(function*(){const[{queryNamedTraceConfigurations:ut},{default:dt}]=yield Promise.all([v.e(5591).then(v.bind(v,65591)),v.e(4652).then(v.bind(v,44652))]),Et=Je.networkServiceUrl,Lt=dt.from(Ne);return(yield ut(Et,Lt,{...He}))?.namedTraceConfigurations})()}validateTopology(Ne,He){var Je=this;return(0,E.A)(function*(){if(!Ne.validateArea)throw new N.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:ut},{default:dt}]=yield Promise.all([v.e(1096).then(v.bind(v,31096)),v.e(8968).then(v.bind(v,78968))]),Et=dt.from(Ne);(0,ce.w5)(Je.featureServiceUrl,Je.gdbVersion||null)?(Et.sessionID=ce.TA,yield(0,ce.ZJ)(Je.featureServiceUrl,Je.gdbVersion,!0)):Et.sessionID=null,Et.gdbVersion=Je.gdbVersion;const Lt=Je.networkServiceUrl,Kt=(0,R.Zk)(Je.featureServiceUrl,null,Je.gdbVersion,!0),Gt=yield ut(Lt,Et,{...He});if(Gt?.serviceEdits){const Zt=[];for(const an of Gt.serviceEdits){const{editedFeatures:mn}=an,Kn=mn?.spatialReference?new oe.A(mn.spatialReference):null;Zt.push({layerId:an.layerId,editedFeatures:{adds:mn?.adds?.map(kn=>Se(kn,Kn))||[],updates:mn?.updates?.map(kn=>({original:Se(kn[0],Kn),current:Se(kn[1],Kn)}))||[],deletes:mn?.deletes?.map(kn=>Se(kn,Kn))||[],spatialReference:Kn}})}Kt.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:Zt,exceededTransferLimit:!1,historicMoment:Gt.moment})}return Gt})()}submitTopologyValidationJob(Ne,He){var Je=this;return(0,E.A)(function*(){let ut=null;if(!Ne.validateArea)throw new N.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!Je.gdbVersion){const Zt=Je.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");ut=(yield(0,U.A)(Zt,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:dt},{default:Et}]=yield Promise.all([v.e(1096).then(v.bind(v,31096)),v.e(8968).then(v.bind(v,78968))]),Lt=Et.from(Ne);(0,ce.w5)(Je.featureServiceUrl,Je.gdbVersion||null)?(Lt.sessionID=ce.TA,yield(0,ce.ZJ)(Je.featureServiceUrl,Je.gdbVersion,!0)):Lt.sessionID=null,Lt.gdbVersion=Je.gdbVersion||ut;const jt=Je.networkServiceUrl,Kt=Je.featureServiceUrl?(0,R.Zk)(Je.featureServiceUrl,null,Je.gdbVersion,!0):void 0,Gt=yield dt(jt,Lt,{...He});return new pe({statusUrl:Gt,editsResolver:Kt})})()}_fetchLayerMetaData(Ne,He){var Je=this;return(0,E.A)(function*(){const ut=yield(0,U.A)(Ne,{responseType:"json",query:{f:"json"},...He});Je.sourceJSON=ut.data,Je.read(ut.data,{origin:"service"})})()}_fetchDataElement(Ne,He,Je){var ut=this;return(0,E.A)(function*(){if(ut.dataElement)return;const dt=yield(0,U.A)(`${Ne}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([He]),f:"json"},...Je}).then(Et=>Et.data.layerDataElements?.[0]);dt&&ut.read(dt,{origin:"service"})})()}};function Se(Ne,He){return new W.A({attributes:Ne.attributes,geometry:(0,x.rS)({...Ne.geometry,spatialReference:He})})}(0,D._)([(0,B.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],le.prototype,"id",void 0),(0,D._)([(0,B.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],le.prototype,"title",void 0),(0,D._)([(0,B.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],le.prototype,"layerUrl",void 0),(0,D._)([(0,B.MZ)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],le.prototype,"dataElement",void 0),(0,D._)([(0,B.MZ)({type:b.A,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],le.prototype,"fullExtent",void 0),(0,D._)([(0,B.MZ)({type:oe.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],le.prototype,"spatialReference",void 0),(0,D._)([(0,B.MZ)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],le.prototype,"type",void 0),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"datasetName",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"owner",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"schemaGeneration",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"parsedUrl",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"featureServiceUrl",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"networkServiceUrl",null),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"layerId",null),(0,D._)([(0,B.MZ)()],le.prototype,"sourceJSON",void 0),(0,D._)([(0,B.MZ)({readOnly:!0})],le.prototype,"networkSystemLayers",null),(0,D._)([(0,B.MZ)()],le.prototype,"gdbVersion",void 0),(0,D._)([(0,B.MZ)({type:Date})],le.prototype,"historicMoment",void 0),le=(0,D._)([(0,$.$)("esri.networks.Network")],le);const se=le;var Pe=v(71065),Ie=v(96073);let X=class extends((0,Pe.Te)(J.A)){constructor(Ne){super(Ne),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=U.A}initialize(){}load(Ne){var He=this;return(0,E.A)(function*(){const Je=He.layer.load(Ne).then(()=>He._initializeRulesTable());return He.addResolvingPromise(Je),He})()}getFeatureSQL(Ne,He){const Je=Ne.layerId.toString(),ut=Ne.fieldsIndex?.normalizeFieldName("assetGroup"),dt=Ne.fieldsIndex?.normalizeFieldName("assetType"),jt=this.rulesHash[Je];if(jt){const Kt=jt.assetGroupHash[ut?He.attributes[ut]:null];if(Kt)return Kt.assetTypeHash[dt?He.attributes[dt]:null]||null}return null}_initializeRulesTable(){var Ne=this;return(0,E.A)(function*(){const He={};let Je;var dt;(dt=Je||(Je={}))[dt.from=0]="from",dt[dt.to=1]="to",dt[dt.via=2]="via";const ut=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];Ne.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const dt of Ne.rules){if(dt.ruleType===Ie.D2.RTAttachment){Ne.rulesCategorized.attachment.push(dt);continue}if(dt.ruleType===Ie.D2.RTContainment){Ne.rulesCategorized.containment.push(dt);continue}if(dt.ruleType===Ie.D2.RTJunctionJunctionConnectivity){Ne.rulesCategorized.connectivity.push(dt);continue}Ne.rulesCategorized.connectivity.push(dt);let Et=[[Je.from,Je.to],[Je.to,Je.from]];dt.ruleType===Ie.D2.RTEdgeJunctionEdgeConnectivity&&(Et=[[Je.from,Je.via],[Je.via,Je.from],[Je.to,Je.via],[Je.via,Je.to]]);for(const Lt of Et){const jt=Lt.shift(),Kt=Lt.shift();let Gt=!1;switch(dt.ruleType){case Ie.D2.RTEdgeJunctionEdgeConnectivity:Gt=jt===Je.from||jt===Je.to;break;case Ie.D2.RTJunctionEdgeConnectivity:Gt=jt===Je.to}const Zt=ut[jt],an=dt[Zt.networkSourceId]?.layerId.toString()??"",mn=dt[Zt.assetGroupId]?.assetGroupCode?.toString(),Kn=dt[Zt.assetTypeId],kn=Kn?.assetTypeCode?.toString(),Cn=ut[Kt],Nn=dt[Cn.networkSourceId]?.layerId.toString()??"",er=dt[Cn.assetGroupId]?.assetGroupCode?.toString(),Un=dt[Cn.assetTypeId],ur=Un?.assetTypeCode?.toString(),fr=He[an]??{assetGroupHash:{}};if(!(mn&&kn&&er&&ur))continue;const ir=fr.assetGroupHash[mn]??{assetTypeHash:{}},wn=ir.assetTypeHash[kn]??{};if(wn[Nn]=wn[Nn]??{},Gt){wn[an]=wn[an]??{};const tr=`(assetgroup = ${mn} AND assettype = ${kn})`;wn[an].anyVertex=wn[an].anyVertex?`${wn[an].anyVertex}`:`${tr}`,"esriNECPEndVertex"===Un?.connectivityPolicy&&(wn[an].endVertex=wn[an]?.endVertex?`${wn[an].endVertex}`:`${tr}`)}const Er=`(assetgroup = ${er} AND assettype = ${ur})`;wn[Nn].anyVertex=wn[Nn]?.anyVertex?`${wn[Nn].anyVertex} OR ${Er}`:`${Er}`,"esriNECPEndVertex"===Un?.connectivityPolicy&&(wn[Nn].endVertex=wn[Nn]?.endVertex?`${wn[Nn].endVertex} OR ${Er}`:`${Er}`),ir.assetTypeHash[kn]=wn,fr.assetGroupHash[mn]=ir,He[an]=fr}}Ne.rulesHash=He})()}};(0,D._)([(0,B.MZ)({constructOnly:!0})],X.prototype,"layer",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],X.prototype,"rules",void 0),(0,D._)([(0,B.MZ)()],X.prototype,"rulesHash",void 0),(0,D._)([(0,B.MZ)()],X.prototype,"rulesCategorized",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],X.prototype,"request",void 0),X=(0,D._)([(0,$.$)("esri.networks.RulesTable")],X);const Ee=X;var Le=v(91944),Oe=v(98877);let _e=class extends Oe.A{constructor(Ne){super(Ne),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTableId=null,this.associationsTableUrl=null}};(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"rulesTableId",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"rulesTableUrl",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"subnetworksTableId",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"subnetworksTableUrl",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"dirtyAreasLayerId",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"dirtyAreasLayerUrl",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"associationsTableId",void 0),(0,D._)([(0,B.MZ)({constructOnly:!0})],_e.prototype,"associationsTableUrl",void 0),_e=(0,D._)([(0,$.$)("esri.networks.support.NetworkSystemLayers")],_e);const we=_e;let ke=class extends Pe.oY{constructor(Ne){super(Ne),this.id=null,this.name=null}};(0,D._)([(0,B.MZ)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],ke.prototype,"id",void 0),(0,D._)([(0,B.MZ)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],ke.prototype,"name",void 0),(0,D._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],ke.prototype,"isUpstreamTerminal",void 0),ke=(0,D._)([(0,$.$)("esri.networks.support.Terminal")],ke);const Xe=ke,Q=new K.J({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let De=class extends Pe.oY{constructor(Ne){super(Ne),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],De.prototype,"defaultConfiguration",void 0),(0,D._)([(0,B.MZ)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],De.prototype,"id",void 0),(0,D._)([(0,B.MZ)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],De.prototype,"name",void 0),(0,D._)([(0,B.MZ)({type:[Xe],json:{write:!0}})],De.prototype,"terminals",void 0),(0,D._)([(0,B.MZ)({type:Q.apiValues,json:{type:Q.jsonValues,read:Q.read,write:Q.write}})],De.prototype,"traversabilityModel",void 0),De=(0,D._)([(0,$.$)("esri.networks.support.TerminalConfiguration")],De);const Ke=De;var Ye=v(12955);const rt=(0,K.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let lt=class extends Ye.A{constructor(Ne){super(Ne),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}checkJobStatus(Ne){var He=this;return(0,E.A)(function*(){const Je={...Ne,query:{f:"json"}},{data:ut}=yield(0,U.A)(He.statusUrl,Je),dt=ut.traceResults?{...ut.traceResults,...ut}:ut;return He.read(dt),He})()}waitForJobCompletion(Ne={}){var He=this;return(0,E.A)(function*(){const{interval:Je=1e3,statusCallback:ut}=Ne;return new Promise((dt,Et)=>{He._clearTimer();const Lt=setInterval(()=>{He._timer||Et((0,L.NK)()),He.checkJobStatus().then(jt=>{const{status:Kt}=jt;switch(He.status=Kt,Kt){case"job-succeeded":He._clearTimer(),dt(He);break;case"job-waiting":case"job-executing":ut&&ut(He)}},jt=>{He._clearTimer(),Et(jt)})},Je);He._timer=Lt})})()}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],lt.prototype,"statusUrl",void 0),(0,D._)([(0,V.e)(rt)],lt.prototype,"status",void 0),(0,D._)([(0,B.MZ)({type:Date,json:{type:Number,write:{writer:(Ne,He)=>{He.submissionTime=Ne?Ne.getTime():null}}}})],lt.prototype,"submissionTime",void 0),(0,D._)([(0,B.MZ)({type:Date,json:{type:Number,write:{writer:(Ne,He)=>{He.lastUpdatedTime=Ne?Ne.getTime():null}}}})],lt.prototype,"lastUpdatedTime",void 0),lt=(0,D._)([(0,$.$)("esri.networks.support.TraceJobInfo")],lt);const _t=lt;var tt=v(87086);let qe=class extends se{constructor(Ne){super(Ne),this.sharedNamedTraceConfigurations=[],this.type="utility"}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new we({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(Ne=>Ke.fromJSON(Ne))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(Ne=>Ne.domainNetworkName)||[]}get _utilityLayerList(){const Ne=new Set;return this.dataElement?.domainNetworks?.map(He=>{He.edgeSources.map(Je=>{Ne.add(Je.layerId)}),He.junctionSources.map(Je=>{Ne.add(Je.layerId)})}),Ne}load(Ne){var He=()=>super.load,Je=this;return(0,E.A)(function*(){return Je.addResolvingPromise(He().call(Je,Ne)),Je.addResolvingPromise(Je._loadNamedTraceConfigurationsFromNetwork(Ne)),Je})()}getTerminalConfiguration(Ne){let He=null,Je=null;const ut=Ne.layer;let dt=null;if("feature"===ut?.type){if(dt=ut.layerId,null===dt)return null}else if("subtype-sublayer"!==ut?.type||(dt=ut?.parent?.layerId??null,null===dt))return null;const Et=Ne.attributes;if(null==Et)return null;for(const Kt of Object.keys(Et))"ASSETGROUP"===Kt.toUpperCase()&&(He=Ne.getAttribute(Kt)),"ASSETTYPE"===Kt.toUpperCase()&&(Je=Ne.getAttribute(Kt));if(!this.dataElement)return null;let Lt=null;const jt=this.dataElement.domainNetworks;for(const Kt of jt){const Gt=Kt.junctionSources?.find(Zt=>Zt.layerId===dt);if(Gt){const Zt=Gt.assetGroups?.find(an=>an.assetGroupCode===He);if(Zt){const an=Zt.assetTypes?.find(mn=>mn.assetTypeCode===Je);if(an){Lt=an.terminalConfigurationId;break}}}}if(null!=Lt){const Kt=this.dataElement.terminalConfigurations,Gt=Kt?.find(Zt=>Zt.terminalConfigurationId===Lt);return Gt?Ke.fromJSON(Gt):null}return null}getTierNames(Ne){return this.dataElement?.domainNetworks.find(Je=>Je.domainNetworkName===Ne)?.tiers.map(Je=>Je.name)||[]}getRulesTable(){var Ne=this;return(0,E.A)(function*(){return Ne._sharedRulesTable||(Ne._sharedRulesTable=Ne._createRulesTable()),yield Ne._sharedRulesTable})()}isUtilityLayer(Ne){return this._utilityLayerList.has(Ne.layerId)&&(Ne.url?.startsWith(this.featureServiceUrl)??!1)}queryAssociations(Ne){var He=this;return(0,E.A)(function*(){const[{queryAssociations:Je},{default:ut}]=yield Promise.all([Promise.all([v.e(2076),v.e(5997)]).then(v.bind(v,5997)),v.e(4757).then(v.bind(v,24757))]),dt=ut.from(Ne);return dt.gdbVersion=He.gdbVersion,dt.moment=He.historicMoment,(yield Je(He.networkServiceUrl,dt)).associations})()}synthesizeAssociationGeometries(Ne){var He=this;return(0,E.A)(function*(){const[{synthesizeAssociationGeometries:Je},{default:ut}]=yield Promise.all([Promise.all([v.e(2076),v.e(8533)]).then(v.bind(v,18533)),v.e(318).then(v.bind(v,318))]),dt=ut.from(Ne);return dt.gdbVersion=He.gdbVersion,dt.moment=He.historicMoment,Je(He.networkServiceUrl,dt)})()}trace(Ne){var He=this;return(0,E.A)(function*(){const[{trace:Je},{default:ut}]=yield Promise.all([v.e(6016).then(v.bind(v,36016)),v.e(7825).then(v.bind(v,97825))]),dt=ut.from(Ne);return dt.gdbVersion=He.gdbVersion,dt.moment=He.historicMoment,Je(He.networkServiceUrl,dt)})()}submitTraceJob(Ne){var He=this;return(0,E.A)(function*(){const[{submitTraceJob:Je},{default:ut}]=yield Promise.all([v.e(6016).then(v.bind(v,36016)),v.e(7825).then(v.bind(v,97825))]),dt=ut.from(Ne);dt.gdbVersion=He.gdbVersion,dt.moment=He.historicMoment;const Et=yield Je(He.networkServiceUrl,dt);return new _t({statusUrl:Et})})()}canAddAssociation(Ne){var He=this;return(0,E.A)(function*(){const Je=yield He.getRulesTable();if(!Je)return!1;yield Je.load();const ut=(Et,Lt)=>Et?1===Et.terminalId?!Lt?.terminalId||Lt?.terminalId===Et.terminalId:Et.terminalId===Lt?.terminalId:!Lt?.terminalId,dt=(Et,Lt)=>Et.fromNetworkSource?.sourceId===Lt.fromNetworkElement?.networkSourceId&&Et.toNetworkSource?.sourceId===Lt.toNetworkElement?.networkSourceId&&Et.fromAssetGroup?.assetGroupCode===Lt.fromNetworkElement?.assetGroupCode&&Et.fromAssetType?.assetTypeCode===Lt.fromNetworkElement?.assetTypeCode&&Et.toAssetGroup?.assetGroupCode===Lt.toNetworkElement?.assetGroupCode&&Et.toAssetType?.assetTypeCode===Lt.toNetworkElement?.assetTypeCode&&ut(Et.fromTerminal,Lt.fromNetworkElement)&&ut(Et.toTerminal,Lt.toNetworkElement);return"containment"===Ne.associationType?Je.rulesCategorized.containment.some(Et=>dt(Et,Ne)):"attachment"===Ne.associationType?Je.rulesCategorized.attachment.some(Et=>dt(Et,Ne)):Je.rulesCategorized.connectivity.some(Et=>Et.viaNetworkSource?Et.fromNetworkSource?.sourceId===Ne.fromNetworkElement?.networkSourceId&&Et.viaNetworkSource?.sourceId===Ne.toNetworkElement?.networkSourceId&&Et.fromAssetGroup?.assetGroupCode===Ne.fromNetworkElement?.assetGroupCode&&Et.fromAssetType?.assetTypeCode===Ne.fromNetworkElement?.assetTypeCode&&Et.viaAssetGroup?.assetGroupCode===Ne.toNetworkElement?.assetGroupCode&&Et.viaAssetType?.assetTypeCode===Ne.toNetworkElement?.assetTypeCode&&ut(Et.fromTerminal,Ne.fromNetworkElement)&&ut(Et.viaTerminal,Ne.toNetworkElement)||Et.viaNetworkSource?.sourceId===Ne.fromNetworkElement?.networkSourceId&&Et.toNetworkSource?.sourceId===Ne.toNetworkElement?.networkSourceId&&Et.viaAssetGroup?.assetGroupCode===Ne.fromNetworkElement?.assetGroupCode&&Et.viaAssetType?.assetTypeCode===Ne.fromNetworkElement?.assetTypeCode&&Et.toAssetGroup?.assetGroupCode===Ne.toNetworkElement?.assetGroupCode&&Et.toAssetType?.assetTypeCode===Ne.toNetworkElement?.assetTypeCode&&ut(Et.viaTerminal,Ne.fromNetworkElement)&&ut(Et.toTerminal,Ne.toNetworkElement):dt(Et,Ne))})()}generateAddAssociations(Ne){return{addFeatures:Ne.map(He=>new W.A({attributes:{fromnetworksourceid:He.fromNetworkElement?.networkSourceId,fromglobalid:He.fromNetworkElement?.globalId,fromterminalid:He.fromNetworkElement?.terminalId,tonetworksourceid:He.toNetworkElement?.networkSourceId,toglobalid:He.toNetworkElement?.globalId,toterminalid:He.toNetworkElement?.terminalId,associationtype:Ie.v9[He.associationType],iscontentvisible:He.isContentVisible?1:0,percentalong:He.percentAlong,globalid:He.globalId}})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}generateDeleteAssociations(Ne){return{deleteFeatures:Ne.map(He=>({globalId:He.globalId})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:"globalid",objectIdField:"objectid"}}}_loadNamedTraceConfigurationsFromNetwork(Ne){var He=this;return(0,E.A)(function*(){if(0===He.sharedNamedTraceConfigurations?.length)return;const Je=He.sharedNamedTraceConfigurations.map(dt=>dt.globalId),ut=yield He.queryNamedTraceConfigurations({globalIds:Je},Ne);for(const dt of He.sharedNamedTraceConfigurations){const Et=ut?.find(Lt=>Lt.globalId===dt.globalId);if(Et){const Lt=Et.write({},{origin:"service"});dt.read(Lt,{origin:"service"})}}})()}_createRulesTable(){var Ne=this;return(0,E.A)(function*(){const Je=new S.default({url:Ne.networkSystemLayers.rulesTableUrl});yield Je.load();const ut=Ne.dataElement?.domainNetworks;if(!ut)return null;const dt=ut.flatMap(Lt=>[...Lt.edgeSources||[],...Lt.junctionSources||[]]),Et=(yield function xe(Ne){return Be.apply(this,arguments)}(Je)).map(Lt=>Ne._hydrateRuleInfo(Je,dt,Lt));return new Ee({layer:Je,rules:Et})})()}_hydrateRuleInfo(Ne,He,Je){const ut=Ne.fieldsIndex,dt=ut.get("RULETYPE"),Et=ut.get("CREATIONDATE"),Lt=ut.get("FROMNETWORKSOURCEID"),jt=ut.get("FROMASSETGROUP"),Kt=ut.get("FROMASSETTYPE"),Gt=ut.get("FROMTERMINALID"),Zt=ut.get("TONETWORKSOURCEID"),an=ut.get("TOASSETGROUP"),mn=ut.get("TOASSETTYPE"),Kn=ut.get("TOTERMINALID"),kn=ut.get("VIANETWORKSOURCEID"),Cn=ut.get("VIAASSETGROUP"),Nn=ut.get("VIAASSETTYPE"),er=ut.get("VIATERMINALID"),Un=Je.attributes[dt.name],ur=new Date(Je.attributes[Et.name]),fr=[{networkSourceId:Je.attributes[Lt.name],assetGroupId:Je.attributes[jt.name],assetTypeId:Je.attributes[Kt.name],terminalId:Je.attributes[Gt.name]},{networkSourceId:Je.attributes[Zt.name],assetGroupId:Je.attributes[an.name],assetTypeId:Je.attributes[mn.name],terminalId:Je.attributes[Kn.name]},{networkSourceId:Je.attributes[kn.name],assetGroupId:Je.attributes[Cn.name],assetTypeId:Je.attributes[Nn.name],terminalId:Je.attributes[er.name]}];let ir;var Er;(Er=ir||(ir={}))[Er.from=0]="from",Er[Er.to=1]="to",Er[Er.via=2]="via";const wn={ruleType:Un,creationDate:ur};for(const Er of[ir.from,ir.to,ir.via]){if(Un!==Ie.D2.RTEdgeJunctionEdgeConnectivity&&Er===ir.via)continue;const tr=fr[Er],jn=He.find(on=>on.sourceId===tr.networkSourceId),xs=jn?.assetGroups.find(on=>on.assetGroupCode===tr.assetGroupId),Hn=xs?.assetTypes.find(on=>on.assetTypeCode===tr.assetTypeId),gs=this._getTerminal(Hn,tr);let ys="";switch(Er){case ir.from:ys="from";break;case ir.to:ys="to";break;case ir.via:ys="via"}wn[`${ys}NetworkSource`]=jn,wn[`${ys}AssetGroup`]=xs,wn[`${ys}AssetType`]=Hn,wn[`${ys}Terminal`]=gs?.toJSON()}return wn}_getTerminal(Ne,He){const Je=Ne?.terminalConfigurationId;return this.terminalConfigurations?.find(dt=>dt.id===Je)?.terminals?.find(dt=>dt.id===He.terminalId)??null}};function Be(){return(Be=(0,E.A)(function*(Ne){const He=new tt.A({where:"1=1",outFields:["*"]});return(yield(0,I.SE)(Ne,He)).features})).apply(this,arguments)}(0,D._)([(0,B.MZ)({type:[Le.A],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],qe.prototype,"sharedNamedTraceConfigurations",void 0),(0,D._)([(0,B.MZ)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],qe.prototype,"type",void 0),(0,D._)([(0,B.MZ)({readOnly:!0})],qe.prototype,"serviceTerritoryFeatureLayerId",null),(0,D._)([(0,B.MZ)({readOnly:!0})],qe.prototype,"networkSystemLayers",null),(0,D._)([(0,B.MZ)({readOnly:!0})],qe.prototype,"terminalConfigurations",null),(0,D._)([(0,B.MZ)({readOnly:!0})],qe.prototype,"domainNetworkNames",null),qe=(0,D._)([(0,$.$)("esri.networks.UtilityNetwork")],qe);const Ze=qe},91944:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var E=v(8189),D=v(39693),W=v(85211),j=(v(3248),v(35150),v(40707),v(17221)),$=v(76576),S=v(41443),I=v(96073),O=v(71196);let U=class extends D.L{constructor(J){super(J),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(J,Z){return void 0!==J.tierName?O.A.fromJSON(J):S.A.fromJSON(J)}};(0,E._)([(0,W.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],U.prototype,"globalId",void 0),(0,E._)([(0,W.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],U.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:S.A,json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"traceConfiguration",void 0),(0,E._)([(0,j.w)("service","traceConfiguration")],U.prototype,"readTraceConfiguration",null),(0,E._)([(0,W.MZ)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"creationDate",void 0),(0,E._)([(0,W.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"creator",void 0),(0,E._)([(0,W.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"description",void 0),(0,E._)([(0,W.MZ)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],U.prototype,"minStartingPoints",void 0),(0,E._)([(0,W.MZ)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"resultTypes",void 0),(0,E._)([(0,W.MZ)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],U.prototype,"tags",void 0),(0,E._)([(0,W.MZ)({type:I.fO.apiValues,json:{type:I.fO.jsonValues,origins:{service:{read:I.fO.read,write:I.fO.write}},read:!1}})],U.prototype,"traceType",void 0),U=(0,E._)([(0,$.$)("esri.networks.support.NamedTraceConfiguration")],U);const N=U},41443:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"conditionBarriers",void 0),(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"outputConditions",void 0),(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"functions",void 0),(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"functionBarriers",void 0),(0,E._)([(0,W.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],$.prototype,"traversabilityScope",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],$.prototype,"shortestPathNetworkAttributeName",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeBarriers",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"validateConsistency",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"ignoreBarriersAtStartingPoints",void 0),$=(0,E._)([(0,j.$)("esri.networks.support.TraceConfiguration")],$);const S=$},71196:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(41443);let $=class extends j.A{constructor(I){super(I),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};(0,E._)([(0,D.MZ)({type:[Object],json:{write:!0}})],$.prototype,"filterBarriers",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"arcadeExpressionBarrier",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"domainNetworkName",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"filterBitsetNetworkAttributeName",void 0),(0,E._)([(0,D.MZ)({type:[Object],json:{write:!0}})],$.prototype,"filterFunctionBarriers",void 0),(0,E._)([(0,D.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],$.prototype,"filterScope",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeContainers",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeContent",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeIsolated",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeStructures",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"allowIndeterminateFlow",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"includeUpToFirstSpatialContainer",void 0),(0,E._)([(0,D.MZ)({type:Object,json:{write:!0}})],$.prototype,"nearestNeighbor",void 0),(0,E._)([(0,D.MZ)({type:[Object],json:{write:!0}})],$.prototype,"outputFilterCategories",void 0),(0,E._)([(0,D.MZ)({type:[Object],json:{write:!0}})],$.prototype,"outputFilters",void 0),(0,E._)([(0,D.MZ)({type:[Object],json:{write:!0}})],$.prototype,"propagators",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"subnetworkName",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"targetTierName",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"diagramTemplateName",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],$.prototype,"tierName",void 0),(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"validateLocatability",void 0),$=(0,E._)([(0,H.$)("esri.networks.support.UNTraceConfiguration")],$);const S=$},96073:(et,Ae,v)=>{"use strict";v.d(Ae,{BD:()=>H,D2:()=>D,XZ:()=>B,fO:()=>W,v9:()=>P});var D,j,E=v(49976);(j=D||(D={}))[j.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",j[j.RTAttachment=2]="RTAttachment",j[j.RTContainment=3]="RTContainment",j[j.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",j[j.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";const W=new E.J({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),B=new E.J({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),P={connectivity:1,"junction-junction-connectivity":1,attachment:2,containment:3,"junction-edge-from-connectivity":4,"junction-midspan-connectivity":5,"junction-edge-to-connectivity":6},H=new E.J({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},19969:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.oY{constructor(O){super(O),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new $({title:this.title,expression:this.expression})}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"expression",void 0),(0,E._)([(0,W.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],S.prototype,"returnType",void 0),S=$=(0,E._)([(0,j.$)("esri.popup.ElementExpressionInfo")],S);const I=S},26025:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.oY{constructor(O){super(O),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new $({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"name",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"expression",void 0),(0,E._)([(0,W.MZ)({type:["string","number"],json:{write:!0}})],S.prototype,"returnType",void 0),S=$=(0,E._)([(0,j.$)("esri.popup.ExpressionInfo")],S);const I=S},61099:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var O,E=v(8189),D=v(49976),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(15463)),S=v(76576),I=v(17580);let U=O=class extends W.oY{constructor(J){super(J),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new O({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],U.prototype,"fieldName",void 0),(0,E._)([(0,B.MZ)({type:I.A,json:{write:!0}})],U.prototype,"format",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],U.prototype,"isEditable",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],U.prototype,"label",void 0),(0,E._)([(0,$.e)(new D.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],U.prototype,"stringFieldOption",void 0),(0,E._)([(0,B.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],U.prototype,"statisticType",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],U.prototype,"tooltip",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],U.prototype,"visible",void 0),U=O=(0,E._)([(0,S.$)("esri.popup.FieldInfo")],U);const N=U},54042:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(75432);let S=$=class extends j.A{constructor(O){super(O),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new $({description:this.description,displayType:this.displayType,title:this.title})}};(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],S.prototype,"description",void 0),(0,E._)([(0,D.MZ)({type:["auto","preview","list"],json:{write:!0}})],S.prototype,"displayType",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],S.prototype,"title",void 0),(0,E._)([(0,D.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],S.prototype,"type",void 0),S=$=(0,E._)([(0,H.$)("esri.popup.content.AttachmentsContent")],S);const I=S},97932:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52436),$=v(99656);let I=S=class extends j.A{constructor(U){super(U),this.type="bar-chart"}clone(){return new S({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,E._)([(0,D.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:$.U.write}})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.BarChartMediaInfo")],I);const O=I},3615:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52436),$=v(99656);let I=S=class extends j.A{constructor(U){super(U),this.type="column-chart"}clone(){return new S({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,E._)([(0,D.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:$.U.write}})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.ColumnChartMediaInfo")],I);const O=I},75432:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.type=null}};(0,E._)([(0,W.MZ)({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.popup.content.Content")],$);const S=$},65121:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(76576)),j=v(75432);let S=$=class extends j.A{constructor(O){super(O),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new $({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,D.o8)(this.outFields):null})}};(0,E._)([(0,W.MZ)()],S.prototype,"creator",void 0),(0,E._)([(0,W.MZ)()],S.prototype,"destroyer",void 0),(0,E._)([(0,W.MZ)()],S.prototype,"outFields",void 0),(0,E._)([(0,W.MZ)({type:["custom"],readOnly:!0})],S.prototype,"type",void 0),S=$=(0,E._)([(0,H.$)("esri.popup.content.CustomContent")],S);const I=S},558:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(19969),$=v(75432);let I=S=class extends $.A{constructor(U){super(U),this.expressionInfo=null,this.type="expression"}clone(){return new S({expressionInfo:this.expressionInfo?.clone()})}};(0,E._)([(0,D.MZ)({type:j.A,json:{write:!0}})],I.prototype,"expressionInfo",void 0),(0,E._)([(0,D.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.ExpressionContent")],I);const O=I},8975:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(76576)),j=v(50305),$=v(61099),S=v(75432);let O=I=class extends S.A{constructor(N){super(N),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(N,J){J.fieldInfos=N&&N.map(Z=>Z.toJSON())}clone(){return new I((0,D.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,E._)([(0,W.MZ)({type:Object,json:{write:!0}})],O.prototype,"attributes",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],O.prototype,"description",void 0),(0,E._)([(0,W.MZ)({type:[$.A]})],O.prototype,"fieldInfos",void 0),(0,E._)([(0,j.K)("fieldInfos")],O.prototype,"writeFieldInfos",null),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],O.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=I=(0,E._)([(0,H.$)("esri.popup.content.FieldsContent")],O);const U=O},87071:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(82244),$=v(71065);let I=S=class extends $.oY{constructor(Z){super(Z),this.linkURL=null,this.sourceURL=null}clone(){return new S({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],I.prototype,"linkURL",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],I.prototype,"sourceURL",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.support.ImageMediaInfoValue")],I);const O=I;var U;let N=U=class extends j.A{constructor(Z){super(Z),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new U({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],N.prototype,"refreshInterval",void 0),(0,E._)([(0,D.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],N.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:O,json:{write:!0}})],N.prototype,"value",void 0),N=U=(0,E._)([(0,H.$)("esri.popup.content.ImageMediaInfo")],N);const J=N},2175:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52436),$=v(99656);let I=S=class extends j.A{constructor(U){super(U),this.type="line-chart"}clone(){return new S({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,E._)([(0,D.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:$.U.write}})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.LineChartMediaInfo")],I);const O=I},90792:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>b});var L,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(17221)),j=v(76576),$=v(50305),S=v(97932),I=v(3615),O=v(75432),U=v(87071),N=v(2175),J=v(34623),Z=v(47272);let C=L=class extends O.A{constructor(x){super(x),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(x){return x&&x.map(R=>"image"===R.type?U.A.fromJSON(R):"barchart"===R.type?S.A.fromJSON(R):"columnchart"===R.type?I.A.fromJSON(R):"linechart"===R.type?N.A.fromJSON(R):"piechart"===R.type?J.A.fromJSON(R):void 0).filter(Boolean)}writeMediaInfos(x,R){R.mediaInfos=x&&x.map(w=>w.toJSON())}clone(){return new L((0,D.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,E._)([(0,W.MZ)()],C.prototype,"activeMediaInfoIndex",void 0),(0,E._)([(0,W.MZ)({type:Object,json:{write:!0}})],C.prototype,"attributes",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],C.prototype,"description",void 0),(0,E._)([(0,W.MZ)({types:[Z.g]})],C.prototype,"mediaInfos",void 0),(0,E._)([(0,H.w)("mediaInfos")],C.prototype,"readMediaInfos",null),(0,E._)([(0,$.K)("mediaInfos")],C.prototype,"writeMediaInfos",null),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],C.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],C.prototype,"type",void 0),C=L=(0,E._)([(0,j.$)("esri.popup.content.MediaContent")],C);const b=C},34623:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52436),$=v(99656);let I=S=class extends j.A{constructor(U){super(U),this.type="pie-chart"}clone(){return new S({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,E._)([(0,D.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:$.U.write}})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.popup.content.PieChartMediaInfo")],I);const O=I},83902:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var E=v(8189),D=v(90660),W=v(85211),B=v(55739),j=(v(40707),v(3248),v(76576)),$=v(75432),S=v(61852);let I=class extends((0,D.O)($.A)){constructor(U){super(U),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{type:B.jz,write:!0}})],I.prototype,"displayCount",void 0),(0,E._)([(0,W.MZ)({type:["list"],json:{write:!0}})],I.prototype,"displayType",void 0),(0,E._)([(0,W.MZ)({type:[S.A],json:{write:!0}})],I.prototype,"orderByFields",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{type:B.jz,write:!0}})],I.prototype,"relationshipId",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],I.prototype,"type",void 0),I=(0,E._)([(0,j.$)("esri.popup.content.RelationshipContent")],I);const O=I},98089:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(75432);let S=$=class extends j.A{constructor(O){super(O),this.text=null,this.type="text"}clone(){return new $({text:this.text})}};(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],S.prototype,"text",void 0),(0,E._)([(0,D.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],S.prototype,"type",void 0),S=$=(0,E._)([(0,H.$)("esri.popup.content.TextContent")],S);const I=S},52436:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var N,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(82244),$=v(68677),S=v(71065),I=v(77806),O=v(55739),U=v(19457);let J=N=class extends S.oY{constructor(b){super(b),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new N({colors:(0,I.o8)(this.colors),fields:(0,I.o8)(this.fields),normalizeField:this.normalizeField,series:(0,I.o8)(this.series),tooltipField:this.tooltipField})}};(0,E._)([(0,D.MZ)({type:[$.A],json:{type:[[O.jz]],write:!0}})],J.prototype,"colors",void 0),(0,E._)([(0,D.MZ)({type:[String],json:{write:!0}})],J.prototype,"fields",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],J.prototype,"normalizeField",void 0),(0,E._)([(0,D.MZ)({type:[U.A],json:{read:!1}})],J.prototype,"series",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],J.prototype,"tooltipField",void 0),J=N=(0,E._)([(0,H.$)("esri.popup.content.support.ChartMediaInfoValue")],J);const Z=J;let L=class extends j.A{constructor(b){super(b),this.type=null,this.value=void 0}};(0,E._)([(0,D.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],L.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:Z,json:{write:!0}})],L.prototype,"value",void 0),L=(0,E._)([(0,H.$)("esri.popup.content.mixins.ChartMediaInfo")],L);const C=L},82244:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.altText=null,this.caption="",this.title="",this.type=null}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],$.prototype,"altText",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],$.prototype,"caption",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],$.prototype,"title",void 0),(0,E._)([(0,W.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.popup.content.mixins.MediaInfo")],$);const S=$},19457:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(98877),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.A{constructor(O){super(O),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new $({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,E._)([(0,W.MZ)()],S.prototype,"color",void 0),(0,E._)([(0,W.MZ)()],S.prototype,"fieldName",void 0),(0,E._)([(0,W.MZ)()],S.prototype,"tooltip",void 0),(0,E._)([(0,W.MZ)()],S.prototype,"value",void 0),S=$=(0,E._)([(0,j.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],S);const I=S},99656:(et,Ae,v)=>{"use strict";v.d(Ae,{U:()=>D});const D=(0,v(49976).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},47272:(et,Ae,v)=>{"use strict";v.d(Ae,{g:()=>j});var E=v(97932),D=v(3615),W=v(87071),B=v(2175),P=v(34623);const j={base:v(82244).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":E.A,"column-chart":D.A,"line-chart":B.A,"pie-chart":P.A,image:W.A}}},17580:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var E=v(8189),D=v(90660),W=v(71065),B=v(85211),P=v(55739),$=(v(40707),v(3248),v(15463)),S=v(76576),I=v(48266);let O=class extends((0,D.O)(W.oY)){constructor(N){super(N),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,E._)([(0,$.e)(I._v)],O.prototype,"dateFormat",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],O.prototype,"digitSeparator",void 0),(0,E._)([(0,B.MZ)({type:P.jz,json:{write:!0}})],O.prototype,"places",void 0),O=(0,E._)([(0,S.$)("esri.popup.support.FieldInfoFormat")],O);const U=O},61852:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.oY{constructor(O){super(O),this.field=null,this.order=null}clone(){return new $({field:this.field,order:this.order})}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"field",void 0),(0,E._)([(0,W.MZ)({type:["asc","desc"],json:{write:!0}})],S.prototype,"order",void 0),S=$=(0,E._)([(0,j.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],S);const I=S},73874:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ye});var E=v(10467),D=v(8189),W=v(23098),B=v(77469),P=v(89563),H=v(5922),j=v(71065),$=v(55098),S=v(11432),I=v(56492),O=v(85211),U=v(55739),Z=(v(40707),v(3248),v(17221)),L=v(76576),C=v(28067),b=v(88996);let x;var K=v(99976),V=v(12629),ue=v(98877);v(35150);let te=class extends ue.A{constructor(ce){super(ce),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,D._)([(0,O.MZ)()],te.prototype,"nextQueryParams",void 0),(0,D._)([(0,O.MZ)()],te.prototype,"queryParams",void 0),(0,D._)([(0,O.MZ)()],te.prototype,"results",void 0),(0,D._)([(0,O.MZ)()],te.prototype,"total",void 0),te=(0,D._)([(0,L.$)("esri.portal.PortalQueryResult")],te);const pe=te;var ve,ae=v(52606),de=v(2174);let G;const fe={PortalGroup:()=>Promise.resolve({default:K.A}),PortalItem:()=>Promise.resolve().then(v.bind(v,46577)),PortalUser:()=>Promise.resolve({default:ae.A})};let ie=ve=class extends((0,j.Te)($.A)){constructor(ce){super(ce),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=W.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(ce){return"string"==typeof ce?{url:ce}:ce}destroy(){q.unregister(this),this.defaultBasemap=(0,S.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,S.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,S.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,S.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(ce){if(ce)for(const oe of ce)W.A.request.trustedServers.includes(oe)||W.A.request.trustedServers.push(oe);return ce}readDefaultBasemap(ce){return this._readBasemap(ce)}readDefaultDevBasemap(ce){return this._readBasemap(ce)}readDefaultVectorBasemap(ce){return this._readBasemap(ce)}get extraQuery(){const ce=this.user?.orgId;return this.id&&ce&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let ce=this.url;if(ce){const oe=ce.indexOf("/sharing");ce=oe>0?ce.substring(0,oe):this.url.replace(/\/+$/,""),ce+="/sharing/rest"}return ce}get thumbnailUrl(){const ce=this.restUrl,oe=this.thumbnail;return ce&&oe?this._normalizeSSL(ce+"/portals/self/resources/"+oe):null}readUrlKey(ce){return ce&&ce.toLowerCase()}readUser(ce){let oe=null;return ce&&(oe=ae.A.fromJSON(ce),oe.portal=this),oe}load(ce){const oe=Promise.resolve().then(v.bind(v,4360)).then(({default:le})=>{(0,I.Te)(ce),G=le}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,ce)).then(le=>{if(B.id){const Se=B.id;this.credential=Se.findCredential(this.restUrl),this.credential||this.authMode!==ve.AUTH_MODE_AUTO&&this.authMode!==ve.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=Se.on("credential-create",function re(ce){const oe=B.id;return()=>{const le=ce.deref();le&&oe.findCredential(le.restUrl)&&le.signIn().catch(()=>{})}}(new WeakRef(this))),q.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=le,this.read(le)});return this.addResolvingPromise(oe),Promise.resolve(this)}createElevationLayers(){var ce=this;return(0,E.A)(function*(){yield ce.load();const oe=ce._getHelperService("defaultElevationLayers"),le=(yield Promise.all([v.e(2076),v.e(8147)]).then(v.bind(v,98147))).default;return oe?oe.map(Se=>new le({id:Se.id,url:Se.url})):[]})()}fetchBasemaps(ce,oe){var le=this;return(0,E.A)(function*(){const Se=yield le._fetchBasemaps(ce,oe);if(!0===oe?.include3d&&!1!==le.use3dBasemaps){const se=yield le._fetchBasemaps3D(ce,oe);Se.unshift(...se)}return Se})()}fetchCategorySchema(ce){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",ce).then(oe=>oe.categorySchema):(0,I.G4)(ce)?Promise.reject((0,I.NK)()):Promise.resolve([])}fetchFeaturedGroups(ce){const oe=this.featuredGroups,le=new V.A({num:100,sortField:"title"});if(oe?.length){const Se=[];for(const se of oe)Se.push(`(title:"${se.title}" AND owner:${se.owner})`);return le.query=Se.join(" OR "),this.queryGroups(le,ce).then(se=>se.results)}return(0,I.G4)(ce)?Promise.reject((0,I.NK)()):Promise.resolve([])}fetchRegions(ce){const oe=this.user?.culture||this.culture||(0,b.JK)();return this.request(this.restUrl+"/portals/regions",{...ce,query:{culture:oe}})}fetchSettings(ce){const oe=this.user?.culture||this.culture||(0,b.JK)();return this.request(this.restUrl+"/portals/self/settings",{...ce,query:{culture:oe}})}static getDefault(){return function w(ce){return x&&!x.destroyed||(x=ce()),x}(()=>new ve)}queryGroups(ce,oe){return this.queryPortal("/community/groups",ce,"PortalGroup",oe)}queryItems(ce,oe){return this.queryPortal("/search",ce,"PortalItem",oe)}queryUsers(ce,oe){return ce.sortField||(ce.sortField="username"),this.queryPortal("/community/users",ce,"PortalUser",oe)}fetchSelf(ce=this.authMode,oe=!1,le){const Se=this.restUrl+"/portals/self",se={authMode:ce,query:{culture:(0,b.JK)().toLowerCase()},withCredentials:!0,...le};return"auto"===se.authMode&&(se.authMode="no-prompt"),oe&&(se.query.default=!0),this.request(Se,se)}queryPortal(ce,oe,le,Se){const se=(0,U.dp)(V.A,oe),Pe=Ie=>this.request(this.restUrl+ce,{...se.toRequestOptions(this),...Se}).then(X=>{const Ee=se.clone();return Ee.start=X.nextStart,new pe({nextQueryParams:Ee,queryParams:se,total:X.total,results:ve._resultsToTypedArray(Ie,{portal:this},X,Se)})}).then(X=>Promise.all(X.results.map(Ee=>"function"==typeof Ee.when?Ee.when():X)).then(()=>X,Ee=>((0,I.QP)(Ee),X)));return le&&fe[le]?fe[le]().then(({default:Ie})=>((0,I.Te)(Se),Pe(Ie))):Pe()}signIn(){if(this.authMode===ve.AUTH_MODE_ANONYMOUS||this.authMode===ve.AUTH_MODE_NO_PROMPT&&!B.id)return Promise.reject(new H.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const ce=oe=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(oe||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=oe,this.fetchSelf("immediate"))):this.user&&this.credential===oe?null:(this.credential=oe,this.fetchSelf("immediate"))).then(le=>{le&&(this.sourceJSON=le,this.read(le))});return B.id?B.id.getCredential(this.restUrl,{prompt:this.authMode!==ve.AUTH_MODE_NO_PROMPT}).then(oe=>ce(oe)):ce(this.credential)}normalizeUrl(ce){const oe=this.credential?.token;return this._normalizeSSL(oe?ce+(ce.includes("?")?"&":"?")+"token="+oe:ce)}requestToTypedArray(ce,oe,le){return this.request(ce,oe).then(Se=>{const se=ve._resultsToTypedArray(le,{portal:this},Se);return Promise.all(se.map(Pe=>"function"==typeof Pe.when?Pe.when():Se)).then(()=>se,()=>se)})}request(ce,oe={}){const le={f:"json",...oe.query},{authMode:Se=(this.authMode===ve.AUTH_MODE_ANONYMOUS||this.authMode===ve.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:se=null,cacheBust:Pe=!1,method:Ie="auto",responseType:X="json",signal:Ee}=oe,Le={authMode:Se,body:se,cacheBust:Pe,method:Ie,query:le,responseType:X,timeout:0,signal:Ee};return oe.withCredentials&&(Le.withCredentials=!0),(0,P.A)(this._normalizeSSL(ce),Le).then(Oe=>Oe.data)}toJSON(){throw new H.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(ce){if(!ce)return null;if(ce.declaredClass)throw new Error("JSON object is already hydrated");return new ve({sourceJSON:ce})}_getHelperService(ce){const oe=this.helperServices&&this.helperServices[ce];if(!oe)throw new H.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${ce}"`);return oe}_fetchBasemaps(ce,oe){var le=this;return(0,E.A)(function*(){const Se=new V.A;Se.query=ce||(W.A.apiKey&&(0,de.Q)(le.url)?le.devBasemapGalleryGroupQuery:le.useVectorBasemaps?le.vectorBasemapGalleryGroupQuery:le.basemapGalleryGroupQuery),Se.disableExtraQuery=!0;const se=yield le.queryGroups(Se,oe);if(!se.total)return[];const Pe=se.results[0];Se.num=100,Se.query='type:"Web Map" -type:"Web Application"',Se.sortField=Pe.sortField||"name",Se.sortOrder=Pe.sortOrder||"desc";const Ie=yield Pe.queryItems(Se,oe);return Ie.total?Ie.results.filter(X=>"Web Map"===X.type).map(X=>new G({portalItem:X})):[]})()}_fetchBasemaps3D(ce,oe){var le=this;return(0,E.A)(function*(){const Se=ce||le.basemapGalleryGroupQuery3D;if(!Se)return[];const se=new V.A({query:Se,disableExtraQuery:!0}),Pe=yield le.queryGroups(se,oe);if(!Pe.total)return[];const Ie=Pe.results[0];se.num=100,se.query='type:"Web Scene"',se.sortField=Ie.sortField||"name",se.sortOrder=Ie.sortOrder||"desc";const X=yield Ie.queryItems(se,oe);return X.total?X.results.filter(Ee=>"Web Scene"===Ee.type).map(Ee=>new G({portalItem:Ee})):[]})()}_normalizeSSL(ce){return ce.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(ce){if(ce){const oe=G.fromJSON(ce);return oe.portalItem={portal:this},oe}return null}static _resultsToTypedArray(ce,oe,le,Se){let se;if(le){const Pe=null!=Se?Se.signal:null;se=le.listings||le.notifications||le.userInvitations||le.tags||le.items||le.groups||le.comments||le.provisions||le.results||le.relatedItems||le,(ce||oe)&&(se=se.map(Ie=>{const X=Object.assign(ce?ce.fromJSON(Ie):Ie,oe);return"function"==typeof X.load&&X.load(Pe),X}))}else se=[];return se}};ie.AUTH_MODE_ANONYMOUS="anonymous",ie.AUTH_MODE_AUTO="auto",ie.AUTH_MODE_IMMEDIATE="immediate",ie.AUTH_MODE_NO_PROMPT="no-prompt",(0,D._)([(0,O.MZ)()],ie.prototype,"access",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"allSSL",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"authMode",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"authorizedCrossOriginDomains",void 0),(0,D._)([(0,Z.w)("authorizedCrossOriginDomains")],ie.prototype,"readAuthorizedCrossOriginDomains",null),(0,D._)([(0,O.MZ)()],ie.prototype,"basemapGalleryGroupQuery",void 0),(0,D._)([(0,O.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],ie.prototype,"basemapGalleryGroupQuery3D",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"bingKey",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canListApps",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canListData",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canListPreProvisionedItems",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canProvisionDirectPurchase",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canSearchPublic",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canShareBingPublic",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canSharePublic",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canSignInArcGIS",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"canSignInIDP",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"colorSetsGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"commentsEnabled",void 0),(0,D._)([(0,O.MZ)({type:Date})],ie.prototype,"created",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"credential",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"culture",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"currentVersion",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"customBaseUrl",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"defaultBasemap",void 0),(0,D._)([(0,Z.w)("defaultBasemap")],ie.prototype,"readDefaultBasemap",null),(0,D._)([(0,O.MZ)()],ie.prototype,"defaultDevBasemap",void 0),(0,D._)([(0,Z.w)("defaultDevBasemap")],ie.prototype,"readDefaultDevBasemap",null),(0,D._)([(0,O.MZ)({type:C.A})],ie.prototype,"defaultExtent",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"defaultVectorBasemap",void 0),(0,D._)([(0,Z.w)("defaultVectorBasemap")],ie.prototype,"readDefaultVectorBasemap",null),(0,D._)([(0,O.MZ)()],ie.prototype,"description",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"devBasemapGalleryGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"eueiEnabled",void 0),(0,D._)([(0,O.MZ)({readOnly:!0})],ie.prototype,"extraQuery",null),(0,D._)([(0,O.MZ)()],ie.prototype,"featuredGroups",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"featuredItemsGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"galleryTemplatesGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"layoutGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"livingAtlasGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"hasCategorySchema",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"helpBase",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"helperServices",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"helpMap",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"homePageFeaturedContent",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"homePageFeaturedContentCount",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"httpPort",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"httpsPort",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"id",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"ipCntryCode",void 0),(0,D._)([(0,O.MZ)({readOnly:!0})],ie.prototype,"isOrganization",null),(0,D._)([(0,O.MZ)()],ie.prototype,"isPortal",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"isReadOnly",void 0),(0,D._)([(0,O.MZ)({readOnly:!0})],ie.prototype,"itemPageUrl",null),(0,D._)([(0,O.MZ)()],ie.prototype,"layerTemplatesGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"maxTokenExpirationMinutes",void 0),(0,D._)([(0,O.MZ)({type:Date})],ie.prototype,"modified",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"name",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"portalHostname",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"portalMode",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"portalProperties",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"region",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"recycleBinEnabled",void 0),(0,D._)([(0,O.MZ)({readOnly:!0})],ie.prototype,"restUrl",null),(0,D._)([(0,O.MZ)()],ie.prototype,"rotatorPanels",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"showHomePageDescription",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"sourceJSON",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"staticImagesUrl",void 0),(0,D._)([(0,O.MZ)({json:{name:"2DStylesGroupQuery"}})],ie.prototype,"stylesGroupQuery2d",void 0),(0,D._)([(0,O.MZ)({json:{name:"stylesGroupQuery"}})],ie.prototype,"stylesGroupQuery3d",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"supportsHostedServices",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"symbolSetsGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"templatesGroupQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"thumbnail",void 0),(0,D._)([(0,O.MZ)({readOnly:!0})],ie.prototype,"thumbnailUrl",null),(0,D._)([(0,O.MZ)()],ie.prototype,"units",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"url",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"urlKey",void 0),(0,D._)([(0,Z.w)("urlKey")],ie.prototype,"readUrlKey",null),(0,D._)([(0,O.MZ)()],ie.prototype,"user",void 0),(0,D._)([(0,Z.w)("user")],ie.prototype,"readUser",null),(0,D._)([(0,O.MZ)()],ie.prototype,"use3dBasemaps",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"useStandardizedQuery",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"useVectorBasemaps",void 0),(0,D._)([(0,O.MZ)()],ie.prototype,"vectorBasemapGalleryGroupQuery",void 0),ie=ve=(0,D._)([(0,L.$)("esri.portal.Portal")],ie);const ye=ie,q=new FinalizationRegistry(ce=>{ce.remove()})},99976:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(5922),W=v(71065),B=v(85211),P=v(55739),$=(v(40707),v(3248),v(76576)),S=v(12629);let O=I=class extends W.oY{constructor(N){super(N),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const N=this.url,J=this.thumbnail;return N&&J&&this.portal?this.portal?.normalizeUrl(`${N}/info/${J}?f=json`):null}get url(){const N=this.portal?.restUrl;return N?N+"/community/groups/"+this.id:null}fetchCategorySchema(N){return this.portal.request(this.url+"/categorySchema",N).then(J=>{const Z=J.categorySchema||[];return Z.some(L=>"contentCategorySetsGroupQuery.LivingAtlas"===L.source)?this._fetchCategorySchemaSet("LivingAtlas",N):Z})}fetchMembers(N){return this.portal.request(this.url+"/users",N)}getThumbnailUrl(N){let J=this.thumbnailUrl;return J&&N&&(J+=`&w=${N}`),J}toJSON(){throw new D.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(N){if(!N)return null;if(N.declaredClass)throw new Error("JSON object is already hydrated");const J=new I({sourceJSON:N});return J.read(N),J}queryItems(N,J){let Z=(0,P.dp)(S.A,N);const L=this.portal;return parseFloat(L.currentVersion)>5?(Z=Z||new S.A,L.queryPortal(`/content/groups/${this.id}/search`,Z,"PortalItem",J)):(Z=Z?Z.clone():new S.A,Z.query="group:"+this.id+(Z.query?" "+Z.query:""),L.queryItems(Z,J))}_fetchCategorySchemaSet(N,J){const Z=this.portal;return Z.fetchSelf(Z.authMode,!0,J).then(L=>{const C=L.contentCategorySetsGroupQuery;if(C){const b=new S.A({disableExtraQuery:!0,num:1,query:C});return Z.queryGroups(b,J)}throw new D.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(L=>{if(L.total){const C=L.results[0],b=new S.A({num:1,query:`typekeywords:"${N}"`});return C.queryItems(b,J)}throw new D.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(L=>L.total?L.results[0].fetchData("json",J).then(C=>{const b=C?.categorySchema;return b?.length?b:[]}):[])}};(0,E._)([(0,B.MZ)()],O.prototype,"access",void 0),(0,E._)([(0,B.MZ)({type:Date})],O.prototype,"created",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"description",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"id",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"isInvitationOnly",void 0),(0,E._)([(0,B.MZ)({type:Date})],O.prototype,"modified",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"owner",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"portal",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"snippet",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"sortField",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"sortOrder",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"sourceJSON",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"tags",void 0),(0,E._)([(0,B.MZ)()],O.prototype,"thumbnail",void 0),(0,E._)([(0,B.MZ)({readOnly:!0})],O.prototype,"thumbnailUrl",null),(0,E._)([(0,B.MZ)()],O.prototype,"title",void 0),(0,E._)([(0,B.MZ)({readOnly:!0})],O.prototype,"url",null),O=I=(0,E._)([(0,$.$)("esri.portal.PortalGroup")],O);const U=O},46577:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{default:()=>ve});var E=v(10467),D=v(8189),W=v(90261),B=v(5922),P=v(71065),H=v(77806),j=v(55098),$=v(45272),S=v(85211),I=v(55739),O=v(17221),U=v(76576),N=v(28067),J=v(73874),Z=v(98877),L=v(35150),C=v(48669);v(40707),v(3248);let R=class extends Z.A{constructor(G){super(G),this.portalItem=null}normalizeCtorArgs(G){return G?.portalItem&&G.path?{...G,path:w(G.path,G.portalItem)}:G}set path(G){null!=G&&(0,$.oP)(G)?L.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",G)}_castPath(G){return w(G,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(G="json",fe){const ie=this.cdnUrl;if(null==ie)throw new B.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(ie,{responseType:G,query:{token:this.portalItem.apiKey},signal:fe?.signal})}update(G,fe){var ie=this;return(0,E.A)(function*(){const{addOrUpdateResources:ye}=yield v.e(7340).then(v.bind(v,57340));return yield ye(ie.portalItem,[{resource:ie,content:G,compress:fe?.compress,access:fe?.access}],"update",fe),ie})()}hasPath(){return null!=this.path}};function w(G,fe){return null==G?G:(G=G.replace(/^\/+/,""),null!=fe&&(0,$.oP)(G)&&(G=(0,$.V1)(G,fe.itemUrl)),G?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,D._)([(0,S.MZ)()],R.prototype,"portalItem",void 0),(0,D._)([(0,S.MZ)({type:String,value:null})],R.prototype,"path",null),(0,D._)([(0,C.w)("path")],R.prototype,"_castPath",null),(0,D._)([(0,S.MZ)({type:String,readOnly:!0})],R.prototype,"url",null),(0,D._)([(0,S.MZ)({type:String,readOnly:!0})],R.prototype,"cdnUrl",null),(0,D._)([(0,S.MZ)({type:String,readOnly:!0})],R.prototype,"itemRelativeUrl",null),R=(0,D._)([(0,U.$)("esri.portal.PortalItemResource")],R);const K=R;let V=class extends Z.A{constructor(G){super(G),this.created=null,this.rating=null}};(0,D._)([(0,S.MZ)()],V.prototype,"created",void 0),(0,D._)([(0,S.MZ)()],V.prototype,"rating",void 0),V=(0,D._)([(0,U.$)("esri.portal.PortalRating")],V);const ue=V;var te,ee=v(88135);const pe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),ae=new Set(["KML","GeoJson","CSV"]);let de=te=class extends((0,P.Te)(j.A)){static from(G){return(0,I.PZ)(te,G)}constructor(G){super(G),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const G=this.type,fe=this.typeKeywords||[];let ie=G;return"Feature Service"===G||"Feature Collection"===G?ie=fe.includes("Table")?"Table":fe.includes("Route Layer")?"Route Layer":fe.includes("Markup")?"Markup":"Feature Layer":"Image Service"===G?ie=fe.includes("Elevation 3D Layer")?"Elevation Layer":fe.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===G?ie="Scene Layer":"Video Service"===G?ie="Video Layer":"Scene Package"===G?ie="Scene Layer Package":"Stream Service"===G?ie="Feature Layer":"Geoprocessing Service"===G?ie=fe.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===G?ie="GeoEnrichment Service":"Geocoding Service"===G?ie="Locator":"Microsoft Powerpoint"===G?ie="Microsoft PowerPoint":"GeoJson"===G?ie="GeoJSON":"Globe Service"===G?ie="Globe Layer":"Vector Tile Service"===G?ie="Tile Layer":"netCDF"===G?ie="NetCDF":"Map Service"===G?ie=fe.includes("Spatiotemporal")||!fe.includes("Hosted Service")&&!fe.includes("Tiled")||fe.includes("Relational")?"Map Image Layer":"Tile Layer":G?.toLowerCase().includes("add in")?ie=G.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===G?ie="Big Data File Share":"Compact Tile Package"===G?ie="Tile Package (tpkx)":"Raster function template"===G?ie="Raster Function Template":"OGCFeatureServer"===G?ie="OGC Feature Layer":"web mapping application"===G&&fe.includes("configurableApp")?ie="Instant App":"Insights Page"===G?ie="Insights Report":"Excalibur Imagery Project"===G?ie="Excalibur Project":"3DTiles Service"===G?ie="3D tiles layer":"3DTiles Package"===G&&(ie="3D tiles package"),ie}readExtent(G){return G&&G.length?new N.A(G[0][0],G[0][1],G[1][0],G[1][1]):null}get iconUrl(){const G=this.type?.toLowerCase()||"",fe=this.typeKeywords||[];let q,re=!1,ce=!1,oe=!1,le=!1,Se=!1,se=!1,Pe=!1,Ie=!1;return G.indexOf("service")>0||"feature collection"===G||"kml"===G||"wms"===G||"wmts"===G||"wfs"===G?(re=fe.includes("Hosted Service"),"feature service"===G||"feature collection"===G||"kml"===G||"wfs"===G?(ce=fe.includes("Table"),oe=fe.includes("Route Layer"),le=fe.includes("Markup"),Se=fe.includes("Spatiotemporal"),se=fe.includes("UtilityNetwork"),q=Se&&ce?"spatiotemporaltable":ce?"table":oe?"routelayer":le?"markup":Se?"spatiotemporal":se?"utilitynetwork":re?"featureshosted":"features"):"map service"===G||"wms"===G||"wmts"===G?(Se=fe.includes("Spatiotemporal"),Pe=fe.includes("Relational"),q=Se||Pe?"mapimages":re||fe.includes("Tiled")||"wmts"===G?"maptiles":"mapimages"):q="scene service"===G?fe.includes("Line")?"sceneweblayerline":fe.includes("3DObject")?"sceneweblayermultipatch":fe.includes("Point")?"sceneweblayerpoint":fe.includes("IntegratedMesh")?"sceneweblayermesh":fe.includes("PointCloud")?"sceneweblayerpointcloud":fe.includes("Polygon")?"sceneweblayerpolygon":fe.includes("Building")?"sceneweblayerbuilding":fe.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===G?fe.includes("Elevation 3D Layer")?"elevationlayer":fe.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===G?"streamlayer":"vector tile service"===G?"vectortile":"datastore catalog service"===G?"datastorecollection":"geocoding service"===G?"geocodeservice":"video service"===G?fe.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===G?fe.includes("Web Tool")?"tool":"layers":"geodata service"===G?"geodataservice":"3dtiles service"===G?fe.includes("3DObject")?"3dobjecttileslayer":fe.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===G||"cityengine web scene"===G?q="maps":"web scene"===G?q=fe.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===G&&fe.includes("configurableApp")?q="instantapps":"web mapping application"===G||"mobile application"===G||"application"===G||"operation view"===G||"desktop application"===G?q="apps":"map document"===G||"map package"===G||"published map"===G||"scene document"===G||"globe document"===G||"basemap package"===G||"mobile basemap package"===G||"mobile map package"===G||"project package"===G||"project template"===G||"pro map"===G||"layout"===G||"layer"===G&&fe.includes("ArcGIS Pro")||"explorer map"===G&&fe.indexOf("Explorer Document")?q="mapsgray":"service definition"===G||"shapefile"===G||"cad drawing"===G||"geojson"===G||"netcdf"===G||"administrative report"===G?q="datafiles":"360 vr experience"===G?q="360vr":"explorer add in"===G||"desktop add in"===G||"windows viewer add in"===G||"windows viewer configuration"===G?q="appsgray":"arcgis pro add in"===G||"arcgis pro configuration"===G?q="addindesktop":"pdf"===G?q="pdf":"microsoft word"===G?q="word":"microsoft excel"===G?q="excel":"microsoft powerpoint"===G?q="ppt":"rule package"===G||"file geodatabase"===G||"sqlite geodatabase"===G||"csv collection"===G||"kml collection"===G||"windows mobile package"===G||"map template"===G||"desktop application template"===G||"gml"===G||"arcpad package"===G||"code sample"===G||"document link"===G||"earth configuration"===G||"operations dashboard add in"===G||"rules package"===G||"workflow manager package"===G||"explorer map"===G&&fe.includes("Explorer Mapping Application")||fe.includes("Document")?q="datafilesgray":"network analysis service"===G||"geoprocessing service"===G||"geodata service"===G||"geometry service"===G||"geoprocessing package"===G||"locator package"===G||"geoprocessing sample"===G||"workflow manager service"===G?q="toolsgray":"layer"===G||"layer package"===G||"explorer layer"===G?q="layersgray":"analysis model"===G?q="analysismodel":"scene package"===G?q="scenepackage":"3dtiles package"===G?q="3dtileslayerpackage":"3dtiles service"===G?q="3dtileslayer":"mobile scene package"===G?q="mobilescenepackage":"tile package"===G||"compact tile package"===G?q="tilepackage":"task file"===G?q="taskfile":"report template"===G?q="report-template":"statistical data collection"===G?q="statisticaldatacollection":"insights workbook"===G?q="workbook":"insights model"===G?q="insightsmodel":"insights page"===G?q="insightspage":"insights theme"===G?q="insightstheme":"hub initiative"===G?q="hubinitiative":"hub page"===G?q="hubpage":"hub site application"===G?q="hubsite":"hub event"===G?q="hubevent":"hub project"===G?q="hubproject":"relational database connection"===G?q="relationaldatabaseconnection":"big data file share"===G?q="datastorecollection":"image collection"===G?q="imagecollection":"desktop style"===G?q="desktopstyle":"style"===G?q=fe.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===G?q="dashboard":"raster function template"===G?q="rasterprocessingtemplate":"vector tile package"===G?q="vectortilepackage":"ortho mapping project"===G?q="orthomappingproject":"ortho mapping template"===G?q="orthomappingtemplate":"solution"===G?q="solutions":"geopackage"===G?q="geopackage":"deep learning package"===G?q="deeplearningpackage":"real time analytic"===G?q="realtimeanalytics":"big data analytic"===G?q="bigdataanalytics":"feed"===G?q="feed":"excalibur imagery project"===G?q="excaliburimageryproject":"notebook"===G?q="notebook":"storymap"===G?q="storymap":"survey123 add in"===G?q="survey123addin":"mission"===G?q="mission":"mission report"===G?q="missionreport":"mission template"===G?q="missiontemplate":"quickcapture project"===G?q="quickcaptureproject":"pro report"===G?q="proreport":"pro report template"===G?q="proreporttemplate":"urban model"===G?q="urbanmodel":"web experience"===G?q="experiencebuilder":"web experience template"===G?q="webexperiencetemplate":"experience builder widget"===G?q="experiencebuilderwidget":"experience builder widget package"===G?q="experiencebuilderwidgetpackage":"workflow"===G?q="workflow":"kernel gateway connection"===G?q="kernelgatewayconnection":"insights script"===G?q="insightsscript":"hub initiative template"===G?q="hubinitiativetemplate":"storymap theme"===G?q="storymaptheme":"knowledge graph"===G?q="knowledgegraph":"knowledge graph layer"===G?q="knowledgegraphlayer":"knowledge studio project"===G?q="knowledgestudio":"native application"===G?q="nativeapp":"native application installer"===G?q="nativeappinstaller":"web link chart"===G?q="linkchart":"knowledge graph web investigation"===G?q="investigation":"ogcfeatureserver"===G?q="features":"pro project"===G?q="proproject":"insights workbook package"===G?q="insightsworkbookpackage":"apache parquet"===G?q="apacheparquet":"notebook code snippet library"===G?q="notebookcodesnippets":"suitability model"===G?q="suitabilitymodel":"esri classifier definition"===G?q="classifierdefinition":"esri classification schema"===G?q="classificationschema":"insights data engineering workbook"===G?q="dataengineeringworkbook":"insights data engineering model"===G?q="dataengineeringmodel":"deep learning studio project"===G?q="deeplearningproject":"discussion"===G?q="discussion":"allsource project"===G?q="allsourceproject":"api key"===G?q="apikey":"data pipeline"===G?q="datapipelines":"group layer"===G?(Ie=fe.includes("Map"),q=Ie?"layergroup2d":"layergroup"):q="media layer"===G?"onlinemedialayer":"form"===G?fe.includes("Survey123")?"survey":"datafilesgray":"csv"===G?"csv":"image"===G?"image":"maps",q?(0,W.s)("esri/images/portal/"+q+"16.png"):null}get isLayer(){return null!=this.type&&pe.has(this.type)}get itemCdnUrl(){return(0,ee.a)(this.itemUrl)}get itemPageUrl(){const G=this.portal?.itemPageUrl;return G&&this.id?`${G}?id=${this.id}`:null}get itemUrl(){const G=this.portal?.restUrl;return G&&this.id?`${G}/content/items/${this.id}`:null}get thumbnailUrl(){const G=this.itemUrl,fe=this.thumbnail;return G&&fe?this.portal?.normalizeUrl(`${G}/info/${fe}?f=json`)??null:null}get userItemUrl(){const G=this.portal?.restUrl;if(!G)return null;const fe=this.owner||this.portal?.user?.username;return fe?`${G}/content/users/${this.ownerFolder?`${fe}/${this.ownerFolder}`:fe}/items/${this.id}`:null}load(G){const fe=this.portal??(this.portal=J.A.getDefault()),ie=fe.load(G).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?fe.request(this.itemUrl,{signal:null!=G?G.signal:null,query:{token:this.apiKey}}):{}).then(ye=>{this.sourceJSON=ye,this.read(ye)});return this.addResolvingPromise(ie),Promise.resolve(this)}addRating(G){var fe=this;return(0,E.A)(function*(){const ie={method:"post",query:{}};return G instanceof ue&&(G=G.rating),null==G||isNaN(G)||"number"!=typeof G||(ie.query.rating=G),fe.portal?(yield fe.portal.request(fe.itemUrl+"/addRating",ie),new ue({rating:G,created:new Date})):null})()}clone(){const G={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,H.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,H.o8)(this.categories),created:(0,H.o8)(this.created),culture:this.culture,description:this.description,extent:(0,H.o8)(this.extent),groupCategories:(0,H.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,H.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,H.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,H.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,H.o8)(this.typeKeywords),url:this.url};this.loaded&&(G.loadStatus="loaded");const fe=new te({sourceJSON:this.sourceJSON}).set(G);return fe._set("isOrgItem",this.isOrgItem),fe}createPostQuery(){const G=this.toJSON();for(const ie of["tags","typeKeywords","categories"])G[ie]=G[ie]?.join(", ");const{extent:fe}=G;return fe&&(G.extent=JSON.stringify(fe)),G}deleteRating(){var G=this;return(0,E.A)(function*(){yield G.portal.request(G.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(G="json",fe){return this.portal.request(this.itemUrl+"/data",{responseType:G,...fe,query:{token:this.apiKey}})}fetchRating(G){var fe=this;return(0,E.A)(function*(){const ie=yield fe.portal.request(fe.itemUrl+"/rating",{query:{token:fe.apiKey},...G});return null!=ie.rating?(ie.created=new Date(ie.created),new ue(ie)):null})()}fetchRelatedItems(G,fe){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...G,token:this.apiKey},...fe},te)}getThumbnailUrl(G){let fe=this.thumbnailUrl;return fe&&G&&(fe+=`&w=${G}`),fe}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(G=>(this.sourceJSON=G,this.read(G),this))}update(G){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const fe=G?.data,ie={method:"post"};ie.query=this.createPostQuery();for(const ye in ie.query)null===ie.query[ye]&&(ie.query[ye]="");return ie.query.clearEmptyFields=!0,null!=fe&&("string"==typeof fe?ie.query.text=fe:"object"==typeof fe&&(ie.query.text=JSON.stringify(fe))),this.portal.request(`${this.userItemUrl}/update`,ie).then(()=>this.reload())}):Promise.reject(new B.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(G){var fe=this;return(0,E.A)(function*(){if(!fe.id)throw new B.A("portal:item-does-not-exist","The item does not exist yet");yield fe.load();const{portal:ie,itemUrl:ye}=fe;yield ie.signIn();const{copyResources:q,folder:re,tags:ce,title:oe}=G||{},le={method:"post",query:{copyPrivateResources:"all"===q,folder:"string"==typeof re?re:re?.id,includeResources:!!q,tags:ce?.join(","),title:oe}},{itemId:Se}=yield ie.request(`${ye}/copy`,le);return new te({id:Se,portal:ie})})()}updateThumbnail(G){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const fe=G.thumbnail,ie=G.filename,ye={method:"post"};if("string"==typeof fe)ye.query=(0,$.DB)(fe)?{data:fe}:{url:(0,$.s2)(fe)},null!=ie&&(ye.query.filename=ie);else{const q=new FormData;null!=ie?q.append("file",fe,ie):q.append("file",fe),ye.body=q}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,ye).then(()=>this.reload())}):Promise.reject(new B.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(G={},fe){var ie=this;return(0,E.A)(function*(){const{fetchResources:ye}=yield v.e(7340).then(v.bind(v,57340));return ye(ie,G,fe)})()}addResource(G,fe,ie){var ye=this;return(0,E.A)(function*(){const{addOrUpdateResources:q}=yield v.e(7340).then(v.bind(v,57340));return G.portalItem=ye,yield q(ye,[{resource:G,content:fe,compress:ie?.compress,access:ie?.access}],"add",ie),G})()}removeResource(G,fe){var ie=this;return(0,E.A)(function*(){const{removeResource:ye}=yield v.e(7340).then(v.bind(v,57340));if(G.portalItem&&G.portalItem.itemUrl!==ie.itemUrl)throw new B.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return ye(ie,G,fe)})()}removeAllResources(G){var fe=this;return(0,E.A)(function*(){const{removeAllResources:ie}=yield v.e(7340).then(v.bind(v,57340));return ie(fe,G)})()}resourceFromPath(G){return new K({portalItem:this,path:G})}toJSON(){const G=this.extent,fe={accessInformation:this.accessInformation,categories:(0,H.o8)(this.categories),created:this.created?.getTime(),description:this.description,extent:G&&[[G.xmin,G.ymin],[G.xmax,G.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,H.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,H.o8)(this.typeKeywords),url:this.url};return(0,H.oy)(fe)}static fromJSON(G){if(!G)return null;if(G.declaredClass)throw new Error("JSON object is already hydrated");return new te({sourceJSON:G})}_getPostQuery(){const G=this.toJSON();for(const fe in G)"tags"===fe&&null!==G[fe]&&(G[fe]=G[fe].join(", ")),"typeKeywords"===fe&&null!==G[fe]&&(G[fe]=G[fe].join(", ")),"extent"===fe&&G[fe]&&(G[fe]=JSON.stringify(G[fe]));return G}};(0,D._)([(0,S.MZ)({type:["private","shared","org","public"]})],de.prototype,"access",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"accessInformation",void 0),(0,D._)([(0,S.MZ)({type:String})],de.prototype,"apiKey",void 0),(0,D._)([(0,S.MZ)({json:{read:{source:"appProxies"}}})],de.prototype,"applicationProxies",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"avgRating",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"categories",void 0),(0,D._)([(0,S.MZ)({type:Date})],de.prototype,"created",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"culture",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"description",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"displayName",null),(0,D._)([(0,S.MZ)({type:N.A})],de.prototype,"extent",void 0),(0,D._)([(0,O.w)("extent")],de.prototype,"readExtent",null),(0,D._)([(0,S.MZ)()],de.prototype,"groupCategories",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"iconUrl",null),(0,D._)([(0,S.MZ)()],de.prototype,"id",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"isLayer",null),(0,D._)([(0,S.MZ)({type:Boolean,readOnly:!0})],de.prototype,"isOrgItem",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"itemControl",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"itemPageUrl",null),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"itemUrl",null),(0,D._)([(0,S.MZ)()],de.prototype,"licenseInfo",void 0),(0,D._)([(0,S.MZ)({type:Date})],de.prototype,"modified",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"name",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"numComments",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"numRatings",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"numViews",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"owner",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"ownerFolder",void 0),(0,D._)([(0,S.MZ)({type:J.A})],de.prototype,"portal",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"screenshots",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"size",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"snippet",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"sourceJSON",void 0),(0,D._)([(0,S.MZ)({type:String})],de.prototype,"sourceUrl",void 0),(0,D._)([(0,S.MZ)({type:String})],de.prototype,"spatialReference",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"tags",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"thumbnail",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"thumbnailUrl",null),(0,D._)([(0,S.MZ)()],de.prototype,"title",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"type",void 0),(0,D._)([(0,S.MZ)()],de.prototype,"typeKeywords",void 0),(0,D._)([(0,S.MZ)({type:String,json:{read(G,fe){if(ae.has(fe.type)){const ie=this.portal?.restUrl;G||=ie&&this.id?`${ie}/content/items/${this.id}/data`:null}return G}}})],de.prototype,"url",void 0),(0,D._)([(0,S.MZ)({readOnly:!0})],de.prototype,"userItemUrl",null),de=te=(0,D._)([(0,U.$)("esri.portal.PortalItem")],de);const ve=de},12629:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var U,E=v(8189),D=v(98877),W=v(49976),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(76576)),S=v(28067),I=v(32034),O=v(55039);const N=new W.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let J=U=class extends D.A{constructor(L){super(L),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(L){"asc"!==L&&"desc"!==L||this._set("sortOrder",L)}clone(){return new U({categories:this.categories?(0,B.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(L,C){let b=[];this.categories&&(b=this.categories.map(K=>Array.isArray(K)?JSON.stringify(K):K));let x="";if(this.extent){const K=(0,O.Cv)(this.extent,I.A.WGS84);null!=K&&(x=`${K.xmin},${K.ymin},${K.xmax},${K.ymax}`)}let R=this.query;!this.disableExtraQuery&&L.extraQuery&&(R="("+R+")"+L.extraQuery);const w={categories:b,bbox:x,q:R,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(w.sortField=this.sortField.split(",").map(K=>N.toJSON(K.trim())).join(","),w.sortOrder=this.sortOrder),{query:{...C,...w}}}};(0,E._)([(0,P.MZ)()],J.prototype,"categories",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"disableExtraQuery",void 0),(0,E._)([(0,P.MZ)({type:S.A})],J.prototype,"extent",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"filter",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"num",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"query",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"sortField",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"sortOrder",null),(0,E._)([(0,P.MZ)()],J.prototype,"start",void 0),J=U=(0,E._)([(0,$.$)("esri.portal.PortalQueryParams")],J);const Z=J},52606:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var E=v(10467),D=v(8189),W=v(5922),B=v(71065),P=v(85211),S=(v(3248),v(35150),v(40707),v(76576));let I=class extends B.oY{constructor(L){super(L),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const L=this.portal?.restUrl;return L?`${L}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new W.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,D._)([(0,P.MZ)({type:Date})],I.prototype,"created",void 0),(0,D._)([(0,P.MZ)()],I.prototype,"id",void 0),(0,D._)([(0,P.MZ)()],I.prototype,"portal",void 0),(0,D._)([(0,P.MZ)()],I.prototype,"title",void 0),(0,D._)([(0,P.MZ)({readOnly:!0})],I.prototype,"url",null),(0,D._)([(0,P.MZ)()],I.prototype,"username",void 0),I=(0,D._)([(0,S.$)("esri.portal.PortalFolder")],I);const O=I;var N,U=v(99976);let J=N=class extends B.oY{constructor(L){super(L),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const L=this.url,C=this.thumbnail;return L&&C?this.portal.normalizeUrl(`${L}/info/${C}?f=json`):null}get userContentUrl(){const L=this.portal?.restUrl;return L?`${L}/content/users/${this.username}`:null}get url(){const L=this.portal?.restUrl;return L?`${L}/community/users/${this.username}`:null}addItem(L){const C=L&&L.item,b=L?.data,x=L?.folder,R={method:"post"};C&&(R.query=C.createPostQuery(),null!=b&&("string"==typeof b?R.query.text=b:"object"==typeof b&&(R.query.text=JSON.stringify(b))));let w=this.userContentUrl;return x&&(w+="/"+("string"==typeof x?x:x.id)),this.portal.request(w+"/addItem",R).then(K=>(C.id=K.id,C.portal=this.portal,C.loaded?C.reload():C.load()))}deleteItem(L,C=!1){var b=this;return(0,E.A)(function*(){let x=b.userContentUrl;L.ownerFolder&&(x+="/"+L.ownerFolder);const R=C?{permanentDelete:!0}:{};yield b.portal.request(x+`/items/${L.id}/delete`,{method:"post",query:R}),L.id=null,L.portal=null})()}deleteItems(L,C=!1){var b=this;return(0,E.A)(function*(){L=L.concat();const x=b.userContentUrl+"/deleteItems",R=[],w=L.map(K=>K.id);if(w.length){const K={method:"post",query:{items:w.join(","),permanentDelete:C}},V=yield b.portal.request(x,K);for(const ue of V.results){const ee=L.find(ae=>ue.itemId===ae.id),te=ue.success;let pe=null;te?(ee.id=null,ee.portal=null):ue.error&&(pe=new W.A("portal:delete-item-failed",ue.error.message,ue.error)),R.push({item:ee,success:te,error:pe})}}return R})()}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(C=>{let b;return b=C&&C.folders?C.folders.map(x=>{const R=O.fromJSON(x);return R.portal=this.portal,R}):[],b})}fetchGroups(){return this.portal.request(this.url??"").then(L=>{let C;return C=L&&L.groups?L.groups.map(b=>{const x=U.A.fromJSON(b);return x.portal=this.portal,x}):[],C})}fetchItems(L){var C=this;return(0,E.A)(function*(){L??={};let b=C.userContentUrl??"";L.folder&&(b+="/"+L.folder.id);const{default:x}=yield Promise.resolve().then(v.bind(v,46577)),R={folders:!1,inRecycleBin:!!L.inRecycleBin||null,foldersContent:!(L.folder||!L.includeSubfolderItems)||null,num:L.num||10,start:L.start||1,sortField:L.sortField||"created",sortOrder:L.sortOrder||"asc"},w=yield C.portal.request(b,{query:R});let K;return w?.items?(K=w.items.map(V=>{const ue=x.fromJSON(V);return ue.portal=C.portal,ue}),yield Promise.all(K.map(V=>V.load())),{items:K,nextStart:w.nextStart,total:w.total}):{items:[],nextStart:-1,total:0}})()}fetchTags(){return this.portal.request(this.url+"/tags").then(L=>L.tags)}getThumbnailUrl(L){let C=this.thumbnailUrl;return C&&L&&(C+=`&w=${L}`),C}queryFavorites(L){return this.favGroupId?(this._favGroup||(this._favGroup=new U.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(L)):Promise.reject(new W.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}restoreItem(L,C){var b=this;return(0,E.A)(function*(){const x=b.userContentUrl,R=C?{folderID:"string"==typeof C?C:C.id}:null;yield b.portal.request(x+`/items/${L.id}/restore`,{method:"post",query:R})})()}toJSON(){throw new W.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(L){if(!L)return null;if(L.declaredClass)throw new Error("JSON object is already hydrated");const C=new N({sourceJSON:L});return C.read(L),C}};(0,D._)([(0,P.MZ)()],J.prototype,"access",void 0),(0,D._)([(0,P.MZ)({type:Date})],J.prototype,"created",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"culture",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"description",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"email",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"favGroupId",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"fullName",void 0),(0,D._)([(0,P.MZ)({type:Date})],J.prototype,"modified",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"orgId",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"portal",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"preferredView",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"privileges",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"region",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"role",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"roleId",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"sourceJSON",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"thumbnail",void 0),(0,D._)([(0,P.MZ)({readOnly:!0})],J.prototype,"thumbnailUrl",null),(0,D._)([(0,P.MZ)()],J.prototype,"units",void 0),(0,D._)([(0,P.MZ)({readOnly:!0})],J.prototype,"userContentUrl",null),(0,D._)([(0,P.MZ)({readOnly:!0})],J.prototype,"url",null),(0,D._)([(0,P.MZ)()],J.prototype,"username",void 0),(0,D._)([(0,P.MZ)()],J.prototype,"userType",void 0),J=N=(0,D._)([(0,S.$)("esri.portal.PortalUser")],J);const Z=J},15764:(et,Ae,v)=>{"use strict";v.d(Ae,{m:()=>B,v:()=>W});var E=v(45272),D=v(73874);function W(H,j){return{...P(H,j),readResourcePaths:[]}}function B(H,j,$){const S=(0,E.An)(H.itemUrl);return{...P(H,j),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:S?{rootPath:S.path,writtenUrls:[]}:null,resources:$?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function P(H,j){return{origin:j,url:(0,E.An)(H.itemUrl),portal:H.portal||D.A.getDefault(),portalItem:H}}},69927:(et,Ae,v)=>{"use strict";v.d(Ae,{It:()=>Z,LG:()=>j,OM:()=>I,Sm:()=>O,Y:()=>$,bK:()=>S,mm:()=>J,sQ:()=>U});var E=v(10467),D=v(11817),W=v(32034),B=v(55039);function H(){return(H=(0,E.A)(function*(L){const C=L.spatialReference;if(C.isWGS84)return L.clone();if(C.isWebMercator)return(0,B.ci)(L);const b=W.A.WGS84;return yield(0,D.initializeProjection)(C,b),(0,D.project)(L,b)})).apply(this,arguments)}function j(L,C){if(!$(L,C)){const b=L.typeKeywords;b?b.push(C):L.typeKeywords=[C]}}function $(L,C){return!!L.typeKeywords?.includes(C)}function S(L){return $(L,J.HOSTED_SERVICE)}function I(L,C){const b=L.typeKeywords;if(b){const x=b.indexOf(C);x>-1&&b.splice(x,1)}}function O(L,C,b){b?j(L,C):I(L,C)}function U(L){return N.apply(this,arguments)}function N(){return N=(0,E.A)(function*(L){const C=L.clone().normalize();let b;if(C.length>1)for(const x of C)b?x.width>b.width&&(b=x):b=x;else b=C[0];return function P(L){return H.apply(this,arguments)}(b)}),N.apply(this,arguments)}const J={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function Z(L){const{portal:C,isOrgItem:b,itemControl:x}=L,R=C.user?.privileges;let w=!R||R.includes("features:user:edit"),K=!!b&&!!R?.includes("features:user:fullEdit");const V="update"===x||"admin"===x;return V?K=w=!0:K&&(w=!0),{features:{edit:w,fullEdit:K},content:{updateItem:V}}}},17595:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>B,p:()=>W});const E=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,D={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function W(P){const H=P?.match(E);if(!H)return null;const[,j,$,S]=H;if(!j)return null;let I=null,O=null,U=null;const{devext:N,qaext:J,www:Z}=D;if($)if(I=j,S)switch(S.toLowerCase()){case"devext":({customBaseUrl:O,portalHostname:U}=N);break;case"qa":({customBaseUrl:O,portalHostname:U}=J);break;default:return null}else({customBaseUrl:O,portalHostname:U}=Z);else switch(j.toLowerCase()){case"devext":({customBaseUrl:O,portalHostname:U}=N);break;case"qaext":({customBaseUrl:O,portalHostname:U}=J);break;case"www":({customBaseUrl:O,portalHostname:U}=Z);break;default:return null}return{customBaseUrl:O,isPortal:!1,portalHostname:U,urlKey:I}}function B(P){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(P)}},26957:(et,Ae,v)=>{"use strict";v.d(Ae,{j:()=>D});const D=(0,v(49976).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},79122:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ae});var w,E=v(10467),D=v(8189),W=v(47280),B=v(49976),P=v(77806),H=v(35150),j=v(85211),$=v(48669),S=v(15463),I=v(17221),O=v(76576),U=v(50305),N=v(55739),J=v(86300),Z=v(38582),L=v(80695),C=v(19390),b=v(36345),x=v(26768),R=v(48218);const V="percent-of-total",ue="field",ee=new B.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:V,esriNormalizeByField:ue}),te=(0,N.dp)(C.A);let pe=w=class extends((0,L.h)(Z.A)){constructor(de){super(de),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(de,ve,G){if(!Array.isArray(de))return;let fe=ve.minValue;return de.map(ie=>{const ye=new C.A;return ye.read(ie,G),null==ye.minValue&&(ye.minValue=fe),null==ye.maxValue&&(ye.maxValue=ye.minValue),fe=ye.maxValue,ye})}writeClassBreakInfos(de,ve,G,fe){const ie=de.map(ye=>ye.write({},fe));this._areClassBreaksConsecutive()&&ie.forEach(ye=>delete ye.classMinValue),ve[G]=ie}castField(de){return null==de?de:"function"==typeof de?(H.A.getLogger(this).error(".field: field must be a string value"),null):(0,N.GX)(de)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let de=this._get("normalizationType");const ve=!!this.normalizationField,G=null!=this.normalizationTotal;return ve||G?(de=ve&&ue||G&&V||null,ve&&G&&H.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):de!==ue&&de!==V||(de=null),de}set normalizationType(de){this._set("normalizationType",de)}addClassBreakInfo(de,ve,G){let fe=null;fe="number"==typeof de?new C.A({minValue:de,maxValue:ve,symbol:(0,W.dp)(G)}):te((0,P.o8)(de)),this.classBreakInfos.push(fe),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(de,ve){const G=this.classBreakInfos.length;for(let fe=0;fe<G;fe++){const ie=[this.classBreakInfos[fe].minValue,this.classBreakInfos[fe].maxValue];if(ie[0]===de&&ie[1]===ve){this.classBreakInfos.splice(fe,1);break}}}getBreakIndex(de,ve){return this.valueExpression&&null==ve?.arcade&&H.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(de,ve):this._getBreakIndexForField(de)}getClassBreakInfo(de,ve){var G=this;return(0,E.A)(function*(){let fe=ve;G.valueExpression&&null==ve?.arcade&&(fe={...fe,arcade:yield(0,R.lw)()});const ie=G.getBreakIndex(de,fe);return-1!==ie?G.classBreakInfos[ie]:null})()}getSymbol(de,ve){if(this.valueExpression&&null==ve?.arcade)return void H.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const G=this.getBreakIndex(de,ve);return G>-1?this.classBreakInfos[G].symbol:this.defaultSymbol}getSymbolAsync(de,ve){var G=this;return(0,E.A)(function*(){let fe=ve;if(G.valueExpression&&null==ve?.arcade){const ye=yield(0,R.lw)(),{arcadeUtils:q}=ye;q.hasGeometryOperations(G.valueExpression)&&(yield q.enableGeometryOperations()),fe={...fe,arcade:ye}}const ie=G.getBreakIndex(de,fe);return ie>-1?G.classBreakInfos[ie].symbol:G.defaultSymbol})()}getSymbols(){const de=[];return this.classBreakInfos.forEach(ve=>{ve.symbol&&de.push(ve.symbol)}),this.defaultSymbol&&de.push(this.defaultSymbol),de}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((de,ve)=>de+ve.getAttributeHash(),"")}getMeshHash(){const de=JSON.stringify(this.backgroundFillSymbol),ve=JSON.stringify(this.defaultSymbol),G=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${de}.${ve}.${this.classBreakInfos.reduce((fe,ie)=>fe+ie.getMeshHash(),"")}.${G}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new w({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,P.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,P.o8)(this.visualVariables),legendOptions:(0,P.o8)(this.legendOptions),authoringInfo:(0,P.o8)(this.authoringInfo)})}collectRequiredFields(de,ve){var G=this;return(0,E.A)(function*(){const fe=[G.collectVVRequiredFields(de,ve),G.collectSymbolFields(de,ve)];yield Promise.all(fe)})()}collectSymbolFields(de,ve){var G=this;return(0,E.A)(function*(){const fe=[...G.getSymbols().map(ie=>ie.collectRequiredFields(de,ve)),(0,J.Dx)(de,ve,G.valueExpression)];(0,J.rq)(de,ve,G.field),(0,J.rq)(de,ve,G.normalizationField),yield Promise.all(fe)})()}_getBreakIndexForExpression(de,ve){const{viewingMode:G,scale:fe,spatialReference:ie,arcade:ye,timeZone:q}=ve??{},{valueExpression:re}=this;let ce=this._compiledValueExpression.valueExpression===re?this._compiledValueExpression.compiledFunction:null;const oe=ye.arcadeUtils;if(!ce){const Se=oe.createSyntaxTree(re);ce=oe.createFunction(Se),this._compiledValueExpression.compiledFunction=ce}this._compiledValueExpression.valueExpression=re;const le=oe.executeFunction(ce,oe.createExecContext(de,oe.getViewInfo({viewingMode:G,scale:fe,spatialReference:ie}),q));return this._getBreakIndexfromInfos(le)}_getBreakIndexForField(de){const G=de.attributes,fe=this.normalizationType;let ie=parseFloat(G[this.field]);if(fe){const ye=this.normalizationTotal,q=parseFloat(this.normalizationField?G[this.normalizationField]:void 0);if("log"===fe)ie=Math.log(ie)*Math.LOG10E;else if(fe!==V||null==ye||isNaN(ye)){if(fe===ue&&!isNaN(q)){if(isNaN(ie)||isNaN(q))return-1;ie/=q}}else ie=ie/ye*100}return this._getBreakIndexfromInfos(ie)}_getBreakIndexfromInfos(de){const ve=this.isMaxInclusive;if(null!=de&&"number"==typeof de&&!isNaN(de))for(let G=0;G<this.classBreakInfos.length;G++){const fe=[this.classBreakInfos[G].minValue,this.classBreakInfos[G].maxValue];if(fe[0]<=de&&(ve?de<=fe[1]:de<fe[1]))return G}return-1}_areClassBreaksConsecutive(){const de=this.classBreakInfos,ve=de.length;for(let G=1;G<ve;G++)if(de[G-1].maxValue!==de[G].minValue)return!1;return!0}};(0,D._)([(0,j.MZ)(b.As)],pe.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,j.MZ)({type:[C.A]})],pe.prototype,"classBreakInfos",void 0),(0,D._)([(0,I.w)("classBreakInfos")],pe.prototype,"readClassBreakInfos",null),(0,D._)([(0,U.K)("classBreakInfos")],pe.prototype,"writeClassBreakInfos",null),(0,D._)([(0,j.MZ)({type:String,json:{write:!0}})],pe.prototype,"defaultLabel",void 0),(0,D._)([(0,j.MZ)(b.z4)],pe.prototype,"defaultSymbol",void 0),(0,D._)([(0,j.MZ)({type:String,json:{write:!0}})],pe.prototype,"field",void 0),(0,D._)([(0,$.w)("field")],pe.prototype,"castField",null),(0,D._)([(0,j.MZ)({type:Boolean})],pe.prototype,"isMaxInclusive",void 0),(0,D._)([(0,j.MZ)({type:x.q,json:{write:!0}})],pe.prototype,"legendOptions",void 0),(0,D._)([(0,j.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],pe.prototype,"minValue",null),(0,D._)([(0,j.MZ)({type:String,json:{write:!0}})],pe.prototype,"normalizationField",void 0),(0,D._)([(0,j.MZ)({type:Number,cast:de=>(0,N.GB)(de),json:{write:!0}})],pe.prototype,"normalizationTotal",void 0),(0,D._)([(0,j.MZ)({type:ee.apiValues,value:null,json:{type:ee.jsonValues,read:ee.read,write:ee.write}})],pe.prototype,"normalizationType",null),(0,D._)([(0,S.e)({classBreaks:"class-breaks"})],pe.prototype,"type",void 0),(0,D._)([(0,j.MZ)({type:String,json:{write:!0}})],pe.prototype,"valueExpression",void 0),(0,D._)([(0,j.MZ)({type:String,json:{write:!0}})],pe.prototype,"valueExpressionTitle",void 0),pe=w=(0,D._)([(0,O.$)("esri.renderers.ClassBreaksRenderer")],pe);const ae=pe},70176:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>de});var E=v(10467),D=v(8189),W=v(77806),B=v(85211),H=(v(3248),v(35150)),j=v(76576),$=v(50305),S=v(86300),I=v(38582),O=v(80695),U=v(68677),N=v(89563),J=v(5922),Z=v(33087),L=v(56492),C=v(43420),b=v(73258),x=v(48218),R=v(81279),w=v(1684),K=v(32117);const V="esri.renderers.support.DictionaryLoader",ue={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class ee{constructor(G,fe,ie){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new Z.q(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=G,this.config=fe,this.fieldMap=ie}getSymbolFields(){return this._symbolFields}getSymbolAsync(G,fe){var ie=this;return(0,E.A)(function*(){let ye;ie._dictionaryPromise||(ie._dictionaryPromise=ie.fetchResources(fe));try{ye=yield ie._dictionaryPromise}catch(Pe){if((0,L.zf)(Pe))return ie._dictionaryPromise=null,null}const q=ie._dictionaryVersion?.since(4,0),re={};if(ie.fieldMap)for(const Pe of ie._symbolFields){const Ie=(0,K.MO)(ie.fieldMap[Pe],ie._fieldIndex);if(Ie){const X=G.attributes[Ie];re[Pe]=q?X:null!=X?""+G.attributes[Ie]:""}else re[Pe]=""}let ce=null;try{ce=ye?.(re,fe)}catch{return null}if(!ce||"string"!=typeof ce||"invalid"===ce)return null;const oe=ce.split(";"),le=[],Se=[];for(const Pe of oe)if(Pe)if(Pe.includes("po:")){const Ie=Pe.substr(3).split("|");if(3===Ie.length){const X=Ie[0],Ee=Ie[1];let Le=Ie[2];if("DashTemplate"===Ee)Le=Le.split(" ").map(Oe=>Number(Oe));else if("Color"===Ee){const Oe=new U.A(Le).toRgba();Le=[Oe[0],Oe[1],Oe[2],255*Oe[3]]}else Le=Number(Le);Se.push({primitiveName:X,propertyName:Ee,value:Le,defaultValue:null})}}else if(Pe.includes("|")){for(const Ie of Pe.split("|"))if(ie._itemNames.has(Ie)){le.push(Ie);break}}else ie._itemNames.has(Pe)&&le.push(Pe);return ie._cimPartsToCIMSymbol(G,le,Se,null==G.geometry||!G.geometry.hasZ&&"point"===G.geometry.type,fe)})()}fetchResources(G){var fe=this;return(0,E.A)(function*(){if(fe._dictionaryPromise)return fe._dictionaryPromise;if(!fe.url)return void H.A.getLogger(V).error("no valid URL!");const ie=(0,N.A)(fe.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=G?G.signal:null}),[{data:ye}]=yield Promise.all([ie,(0,x.lw)()]);if(!ye)throw fe._dictionaryPromise=null,new J.A("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:q,dictionary_version:re,expression:ce,itemsNames:oe}=ye,le=ce;let Se=!1;re&&(fe._dictionaryVersion=C.R.parse(re),Se=fe._dictionaryVersion.since(4,0)),fe._refSymbolUrlTemplate=fe.url+"/"+ye.cimRefTemplateUrl,fe._itemNames=new Set(oe),fe._symbolFields=q.symbol;const se={};if(fe.config){const X=fe.config;for(const Ee in X)se[Ee]=X[Ee]}if(q.configuration)for(const X of q.configuration)se.hasOwnProperty(X.name)||(se[X.name]=X.value);const Pe=[];if(G?.fields&&fe.fieldMap)for(const X in fe.fieldMap){const Ee=fe.fieldMap[X],Le=G.fields.filter(Oe=>Oe.name.toLowerCase()===Ee?.toLowerCase());Le.length>0&&Pe.push({...Le[0],type:Se?Le[0].type:"esriFieldTypeString"})}Pe.length>0&&(fe._fieldIndex=new b.A(Pe));const Ie=(0,x.xR)(le,null!=G?G.spatialReference:null,Pe,se).then(X=>{const Ee={scale:0};return(Le,Oe)=>{if(null==X)return null;const _e=X.repurposeFeature({geometry:null,attributes:Le});return Ee.scale=null!=Oe?Oe.scale??void 0:void 0,X.evaluate({$feature:_e,$view:Ee},X.services)}}).catch(X=>(H.A.getLogger(V).error("Creating dictionary expression failed:",X),null));return fe._dictionaryPromise=Ie,Ie})()}_cimPartsToCIMSymbol(G,fe,ie,ye,q){var re=this;return(0,E.A)(function*(){const ce=new Array(fe.length);for(let Se=0;Se<fe.length;Se++)ce[Se]=re._getSymbolPart(fe[Se],q);let oe=yield Promise.all(ce);const le=re.fieldMap;if(le){oe=(0,W.o8)(oe);for(const Se of oe)w.$.applyDictionaryTextOverrides(Se,G,le,re._fieldIndex,(0,K.bs)(Se))}return new R.A({data:te(oe,ie,ye)})})()}_getSymbolPart(G,fe){var ie=this;return(0,E.A)(function*(){const ye=ie._symbolCache.get(G);if(ye)return ye;if(ie._ongoingRequests.has(G))return ie._ongoingRequests.get(G).then(ce=>ce.data);const q=ie._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,G),re=(0,N.A)(q,{responseType:"json",query:{f:"json"},...fe});ie._ongoingRequests.set(G,re),re.finally(()=>ie._ongoingRequests.delete(G));try{const ce=yield re;return ie._symbolCache.put(G,ce.data),ce.data}catch(ce){throw ce}})()}}function te(ve,G,fe){if(!ve||0===ve.length)return null;const ie={...ve[0]};if(ve.length>1){ie.symbolLayers=[];for(const ye of ve)ie.symbolLayers.unshift(...ye.symbolLayers)}return fe&&(ie.callout=ue),{type:"CIMSymbolReference",symbol:ie,primitiveOverrides:G}}var pe;let ae=pe=class extends((0,O.h)(I.A)){constructor(ve){super(ve),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new ee(this.url,this.config,this.fieldMap)}writeData(ve,G){ve&&(G.scalingExpressionInfo={expression:ve,returnType:"number"})}writeVisualVariables(ve,G,fe,ie){ie?.origin||super.writeVisualVariables(ve,G,fe,ie)}clone(){return new pe({config:(0,W.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,W.o8)(this.fieldMap),url:(0,W.o8)(this.url),visualVariables:(0,W.o8)(this.visualVariables)})}getSymbolAsync(ve,G){var fe=this;return(0,E.A)(function*(){return fe._loader.getSymbolAsync(ve,G)})()}collectRequiredFields(ve,G){var fe=this;return(0,E.A)(function*(){yield fe.collectVVRequiredFields(ve,G),fe.scaleExpression&&(yield(0,S.Dx)(ve,G,fe.scaleExpression));for(const ie in fe.fieldMap){const ye=fe.fieldMap[ie];G.has(ye)&&ve.add(ye)}})()}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((ve,G)=>ve+G.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,D._)([(0,B.MZ)({type:ee})],ae.prototype,"_loader",null),(0,D._)([(0,B.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],ae.prototype,"config",void 0),(0,D._)([(0,B.MZ)({type:Object,json:{write:!0}})],ae.prototype,"fieldMap",void 0),(0,D._)([(0,B.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],ae.prototype,"scaleExpression",void 0),(0,D._)([(0,$.K)("scaleExpression")],ae.prototype,"writeData",null),(0,D._)([(0,B.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(ve){return{enabled:!!ve&&!!this.scaleExpression}}}}})],ae.prototype,"scaleExpressionTitle",void 0),(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],ae.prototype,"url",void 0),(0,D._)([(0,$.K)("visualVariables")],ae.prototype,"writeVisualVariables",null),ae=pe=(0,D._)([(0,j.$)("esri.renderers.DictionaryRenderer")],ae);const de=ae},92089:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>V});var L,E=v(10467),D=v(8189),W=v(68677),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(76576),I=v(86300),O=v(38582),U=v(80695),N=v(36486),J=v(71065);v(40707);let C=L=class extends J.oY{constructor(){super(...arguments),this.unit=null}clone(){return new L({unit:this.unit})}};(0,D._)([(0,P.MZ)({type:String,json:{write:!0}})],C.prototype,"unit",void 0),C=L=(0,D._)([(0,S.$)("esri.renderers.support.DotDensityLegendOptions")],C);const b=C;var w,x=v(88521),R=v(55417);let K=w=class extends((0,U.h)(O.A)){constructor(ue){super(ue),this.attributes=null,this.backgroundColor=new W.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new R.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(ue){if(null==this.referenceScale)return this.dotValue;const ee=ue/this.referenceScale*this.dotValue;return ee<1?1:ee}getSymbol(){return new x.A({outline:this.outline})}getSymbolAsync(){var ue=this;return(0,E.A)(function*(){return ue.getSymbol()})()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((ue,ee)=>ue+ee.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new w({attributes:(0,B.o8)(this.attributes),backgroundColor:(0,B.o8)(this.backgroundColor),dotBlendingEnabled:(0,B.o8)(this.dotBlendingEnabled),dotShape:(0,B.o8)(this.dotShape),dotSize:(0,B.o8)(this.dotSize),dotValue:(0,B.o8)(this.dotValue),legendOptions:(0,B.o8)(this.legendOptions),outline:(0,B.o8)(this.outline),referenceScale:(0,B.o8)(this.referenceScale),seed:(0,B.o8)(this.seed),visualVariables:(0,B.o8)(this.visualVariables),authoringInfo:(0,B.o8)(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(ee=>ee.field||ee.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}collectRequiredFields(ue,ee){var te=this;return(0,E.A)(function*(){yield te.collectVVRequiredFields(ue,ee);for(const pe of te.attributes??[])pe.valueExpression&&(yield(0,I.Dx)(ue,ee,pe.valueExpression)),pe.field&&ue.add(pe.field)})()}};(0,D._)([(0,P.MZ)({type:[N.A],json:{write:!0}})],K.prototype,"attributes",void 0),(0,D._)([(0,P.MZ)({type:W.A,json:{write:!0}})],K.prototype,"backgroundColor",void 0),(0,D._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"dotBlendingEnabled",void 0),(0,D._)([(0,P.MZ)({type:String,json:{write:!1}})],K.prototype,"dotShape",void 0),(0,D._)([(0,P.MZ)({type:Number,json:{write:!0}})],K.prototype,"dotSize",void 0),(0,D._)([(0,P.MZ)({type:b,json:{write:!0}})],K.prototype,"legendOptions",void 0),(0,D._)([(0,P.MZ)({type:R.A,json:{default:null,write:!0}})],K.prototype,"outline",void 0),(0,D._)([(0,P.MZ)({type:Number,json:{write:!0}})],K.prototype,"dotValue",void 0),(0,D._)([(0,P.MZ)({type:Number,json:{write:!0}})],K.prototype,"referenceScale",void 0),(0,D._)([(0,P.MZ)({type:Number,json:{write:!0}})],K.prototype,"seed",void 0),(0,D._)([(0,$.e)({dotDensity:"dot-density"})],K.prototype,"type",void 0),K=w=(0,D._)([(0,S.$)("esri.renderers.DotDensityRenderer")],K);const V=K},9826:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ae});var E=v(10467),D=v(8189),W=v(68677),P=(v(47280),v(23159)),H=v(77806),j=v(35150),$=v(3804),S=v(67685),I=v(85211),U=(v(3248),v(74220)),N=v(15463),J=v(76576),Z=v(86300),L=v(38582),C=v(71314),b=v(3114),x=v(90660),R=v(71065);v(40707);let K=class extends((0,x.O)(R.oY)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,D._)([(0,I.MZ)({type:String,json:{write:!0}})],K.prototype,"minLabel",void 0),(0,D._)([(0,I.MZ)({type:String,json:{write:!0}})],K.prototype,"maxLabel",void 0),(0,D._)([(0,I.MZ)({type:String,json:{write:!0}})],K.prototype,"title",void 0),K=(0,D._)([(0,J.$)("esri.renderers.support.HeatmapLegendOptions")],K);var ee,V=v(78592),ue=v(46602);function te(de){if(null!=de){const{maxDensity:ve,minDensity:G,radius:fe}=de;if(null!=ve||null!=G||null!=fe){const{blurRadius:ie,maxPixelIntensity:ye,minPixelIntensity:q,...re}=de;return re}}return de}let pe=ee=class extends L.A{constructor(de){super(de),this.authoringInfo=null,this.colorStops=[new b.A({ratio:0,color:new W.A("rgba(255, 140, 0, 0)")}),new b.A({ratio:.75,color:new W.A("rgba(255, 140, 0, 1)")}),new b.A({ratio:.9,color:new W.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(de){return te(de)}get blurRadius(){return(0,V.PU)(this.radius)}set blurRadius(de){const ve=this.maxPixelIntensity,G=this.minPixelIntensity;this._set("radius",(0,V.zp)(de)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",ve*this._pixelIntensityToDensity),this._set("minDensity",G*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(de){this._set("maxDensity",de*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(de){this._set("minDensity",de*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(V.ex**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(de,ve){this._warnedProps[de]||"user"===(0,U.oY)(this).getDefaultOrigin()&&(this._warnedProps[de]=!0,(0,$._)(()=>{(0,P.Lx)(j.A.getLogger(this),de,{replacement:`${String(ve)} (suggested value: ${this._get(ve)})`,version:"4.24"})}))}read(de,ve){de=te(de),super.read(de,ve)}getSymbol(){return new ue.A}getSymbolAsync(){var de=this;return(0,E.A)(function*(){return de.getSymbol()})()}getSymbols(){return[this.getSymbol()]}collectRequiredFields(de,ve){var G=this;return(0,E.A)(function*(){const fe=G.field,ie=G.valueExpression;fe&&"string"==typeof fe&&(0,Z.rq)(de,ve,fe),ie&&"string"==typeof ie&&(yield(0,Z.Dx)(de,ve,ie))})()}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new ee({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,H.o8)(this.colorStops),field:this.field,legendOptions:(0,H.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,D._)([(0,I.MZ)({type:C.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],pe.prototype,"authoringInfo",void 0),(0,D._)([(0,I.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],pe.prototype,"blurRadius",null),(0,D._)([(0,I.MZ)({type:[b.A],json:{write:!0}})],pe.prototype,"colorStops",void 0),(0,D._)([(0,I.MZ)({type:String,json:{write:!0}})],pe.prototype,"field",void 0),(0,D._)([(0,I.MZ)({type:K,json:{write:!0}})],pe.prototype,"legendOptions",void 0),(0,D._)([(0,I.MZ)({type:Number,json:{write:!0}})],pe.prototype,"maxDensity",void 0),(0,D._)([(0,I.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],pe.prototype,"maxPixelIntensity",null),(0,D._)([(0,I.MZ)({type:Number,json:{write:!0}})],pe.prototype,"minDensity",void 0),(0,D._)([(0,I.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],pe.prototype,"minPixelIntensity",null),(0,D._)([(0,I.MZ)({type:Number,cast:S.cr,json:{write:!0}})],pe.prototype,"radius",void 0),(0,D._)([(0,I.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],pe.prototype,"referenceScale",void 0),(0,D._)([(0,N.e)({heatmap:"heatmap"})],pe.prototype,"type",void 0),(0,D._)([(0,I.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],pe.prototype,"valueExpression",void 0),(0,D._)([(0,I.MZ)({type:String})],pe.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,I.MZ)({readOnly:!0})],pe.prototype,"_pixelIntensityToDensity",null),pe=ee=(0,D._)([(0,J.$)("esri.renderers.HeatmapRenderer")],pe);const ae=pe},15317:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ee});var E=v(10467),D=v(8189),W=v(68677),P=(v(47280),v(89952)),H=v(90660),j=v(67685),$=v(85211),O=(v(3248),v(35150),v(15463)),U=v(76576),N=v(86300),J=v(38582),Z=v(80695),L=v(36486),C=v(71065);v(40707);let x=class extends((0,H.O)(C.oY)){constructor(){super(...arguments),this.color=new W.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,D._)([(0,$.MZ)({type:W.A,json:{write:!0}})],x.prototype,"color",void 0),(0,D._)([(0,$.MZ)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,D._)([(0,$.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],x.prototype,"threshold",void 0),x=(0,D._)([(0,U.$)("esri.renderers.support.OthersCategory")],x);let R=class extends((0,H.O)(C.oY)){constructor(){super(...arguments),this.title=null}};(0,D._)([(0,$.MZ)({type:String,json:{write:!0}})],R.prototype,"title",void 0),R=(0,D._)([(0,U.$)("esri.renderers.support.PieChartLegendOptions")],R);var w=v(46602),K=v(88521),V=v(55417);let ue=class extends((0,Z.h)((0,H.O)(J.A))){constructor(te){super(te),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new W.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new x,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new w.A({size:this.size?this.size/2+(this.outline?.width||0):0})}getSymbolAsync(){var te=this;return(0,E.A)(function*(){return te.getSymbol()})()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(P.Ru)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((te,pe)=>te+pe.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((te,pe)=>te+JSON.stringify(pe),"")}collectRequiredFields(te,pe){var ae=this;return(0,E.A)(function*(){yield ae.collectVVRequiredFields(te,pe);for(const de of ae.attributes)de.valueExpression&&(yield(0,N.Dx)(te,pe,de.valueExpression)),de.field&&te.add(de.field)})()}};(0,D._)([(0,$.MZ)({type:[L.A],json:{write:!0}})],ue.prototype,"attributes",void 0),(0,D._)([(0,$.MZ)({type:K.A,json:{default:null,write:!0}})],ue.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,$.MZ)({type:W.A,json:{write:!0}})],ue.prototype,"defaultColor",void 0),(0,D._)([(0,$.MZ)({type:String,json:{write:!0}})],ue.prototype,"defaultLabel",void 0),(0,D._)([(0,$.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],ue.prototype,"holePercentage",void 0),(0,D._)([(0,$.MZ)({type:x,json:{write:!0}})],ue.prototype,"othersCategory",void 0),(0,D._)([(0,$.MZ)({type:R,json:{write:!0}})],ue.prototype,"legendOptions",void 0),(0,D._)([(0,$.MZ)({type:V.A,json:{default:null,write:!0}})],ue.prototype,"outline",void 0),(0,D._)([(0,$.MZ)({type:Number,cast:j.cr,json:{write:!0}})],ue.prototype,"size",void 0),(0,D._)([(0,O.e)({pieChart:"pie-chart"})],ue.prototype,"type",void 0),ue=(0,D._)([(0,U.$)("esri.renderers.PieChartRenderer")],ue);const ee=ue},38582:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var E=v(10467),D=v(8189),W=v(49976),B=v(71065),P=v(85211),S=(v(3248),v(35150),v(40707),v(76576)),I=v(71314);const O=new W.J({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let U=class extends B.oY{constructor(J){super(J),this.authoringInfo=null,this.type=null}getRequiredFields(J){var Z=this;return(0,E.A)(function*(){if(!Z.collectRequiredFields)return[];const L=new Set;return yield Z.collectRequiredFields(L,J),Array.from(L).sort()})()}getSymbol(J,Z){}getSymbolAsync(J,Z){return(0,E.A)(function*(){})()}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,D._)([(0,P.MZ)({type:I.A,json:{write:!0}})],U.prototype,"authoringInfo",void 0),(0,D._)([(0,P.MZ)({type:O.apiValues,readOnly:!0,json:{type:O.jsonValues,read:!1,write:{writer:O.write,ignoreOrigin:!0}}})],U.prototype,"type",void 0),U=(0,D._)([(0,S.$)("esri.renderers.Renderer")],U);const N=U},96128:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var U,E=v(10467),D=v(8189),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(15463)),$=v(76576),S=v(38582),I=v(80695),O=v(36345);let N=U=class extends((0,I.h)(S.A)){constructor(Z){super(Z),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(Z,L){var C=this;return(0,E.A)(function*(){yield Promise.all([C.collectSymbolFields(Z,L),C.collectVVRequiredFields(Z,L)])})()}collectSymbolFields(Z,L){var C=this;return(0,E.A)(function*(){yield Promise.all(C.getSymbols().map(b=>b.collectRequiredFields(Z,L)))})()}getSymbol(Z,L){return this.symbol}getSymbolAsync(Z,L){var C=this;return(0,E.A)(function*(){return C.symbol})()}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((Z,L)=>Z+L.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((Z,L)=>Z+JSON.stringify(L),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new U({description:this.description,label:this.label,symbol:(0,W.o8)(this.symbol),visualVariables:(0,W.o8)(this.visualVariables),authoringInfo:(0,W.o8)(this.authoringInfo)})}};(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],N.prototype,"description",void 0),(0,D._)([(0,B.MZ)({type:String,json:{write:!0}})],N.prototype,"label",void 0),(0,D._)([(0,B.MZ)(O.Wp)],N.prototype,"symbol",void 0),(0,D._)([(0,j.e)({simple:"simple"})],N.prototype,"type",void 0),N=U=(0,D._)([(0,$.$)("esri.renderers.SimpleRenderer")],N);const J=N},13318:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>_e});var E=v(10467),D=v(8189),W=v(47280),B=v(5922),P=v(77806),H=v(35150),j=v(89221),$=v(48900),S=v(85211),I=v(48669),O=v(15463),U=v(17221),N=v(76576),J=v(50305),Z=v(48237),L=v(55739),C=v(86300),b=v(73874),x=v(38582),R=v(80695),w=v(36345),K=v(26768),V=v(90660),ue=v(71065);v(3248),v(40707);let pe=class extends((0,V.O)(ue.oY)){constructor(we){super(we),this.value=null,this.value2=null,this.value3=null}};(0,D._)([(0,S.MZ)(w.Ug)],pe.prototype,"value",void 0),(0,D._)([(0,S.MZ)(w.Ug)],pe.prototype,"value2",void 0),(0,D._)([(0,S.MZ)(w.Ug)],pe.prototype,"value3",void 0),pe=(0,D._)([(0,N.$)("esri.renderers.support.UniqueValue")],pe);const ae=pe;var de=v(89952);let ve=class extends((0,V.O)(ue.oY)){constructor(we){super(we),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(we){if(null==we)return null;const ke=typeof(we=Array.isArray(we)?we:[we])[0];return"string"===ke||"number"===ke?we.map(Xe=>new ae({value:Xe})):"object"===ke?we[0]instanceof ae?we:we.map(Xe=>new ae(Xe)):null}};(0,D._)([(0,S.MZ)({type:String,json:{write:!0}})],ve.prototype,"description",void 0),(0,D._)([(0,S.MZ)({type:String,json:{write:!0}})],ve.prototype,"label",void 0),(0,D._)([(0,S.MZ)(w.z4)],ve.prototype,"symbol",void 0),(0,D._)([(0,S.MZ)({type:[ae],json:{type:[[String]],read:{reader:we=>we?we.map(ke=>new ae({value:ke[0],value2:ke[1],value3:ke[2]})):null},write:{writer:(we,ke)=>{const Xe=[];for(const Q of we){const De=[Q.value,Q.value2,Q.value3].filter(de.Ru).map(Ke=>Ke.toString());Xe.push(De)}ke.values=Xe}}}})],ve.prototype,"values",void 0),(0,D._)([(0,I.w)("values")],ve.prototype,"castValues",null),ve=(0,D._)([(0,N.$)("esri.renderers.support.UniqueValueClass")],ve);const G=ve;let fe=class extends((0,V.O)(ue.oY)){constructor(we){super(we),this.heading=null,this.classes=null}};(0,D._)([(0,S.MZ)({type:String,json:{write:!0}})],fe.prototype,"heading",void 0),(0,D._)([(0,S.MZ)({type:[G],json:{write:!0}})],fe.prototype,"classes",void 0),fe=(0,D._)([(0,N.$)("esri.renderers.support.UniqueValueGroup")],fe);const ie=fe;var le,ye=v(82449),q=v(48218),re=v(88135),ce=v(90288),oe=v(75549);const Se="esri.renderers.UniqueValueRenderer",se=()=>H.A.getLogger(Se),Pe="uvInfos-watcher",Ie="uvGroups-watcher",Ee=(0,L.dp)(ye.A);let Oe=le=class extends((0,R.h)(x.A)){constructor(we){super(we),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(ke,Xe){if(!ke&&!Xe)return;if(!ke||!Xe)return{type:"complete",oldValue:ke,newValue:Xe};let Q=!1;const De={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let Ke=0;Ke<Xe.length;Ke++){const Ye=ke.find(rt=>rt.value===Xe[Ke].value);Ye?(0,Z.Ui)(Ye,Xe[Ke])?(De.changed.push({type:"complete",oldValue:Ye,newValue:Xe[Ke]}),Q=!0):De.unchanged.push({oldValue:Ye,newValue:Xe[Ke]}):(De.added.push(Xe[Ke]),Q=!0)}for(let Ke=0;Ke<ke.length;Ke++)Xe.find(Ye=>Ye.value===ke[Ke].value)||(De.removed.push(ke[Ke]),Q=!0);return Q?De:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(we){this._set("field",we),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(we){return null==we||"function"==typeof we?we:(0,L.GX)(we)}writeField(we,ke,Xe,Q){"string"==typeof we?ke[Xe]=we:Q?.messages?Q.messages.push(new B.A("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):se().error(".field: cannot write field to JSON since it's not a string value")}set field2(we){this._set("field2",we),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(we){this._set("field3",we),this._updateUniqueValues()}set valueExpression(we){this._set("valueExpression",we),this._updateUniqueValues()}set defaultSymbol(we){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",we)}set fieldDelimiter(we){this._set("fieldDelimiter",we),this._updateUniqueValues()}readPortal(we,ke,Xe){return Xe.portal||b.A.getDefault()}readStyleOrigin(we,ke,Xe){if(ke.styleName)return Object.freeze({styleName:ke.styleName});if(ke.styleUrl){const Q=(0,re.f)(ke.styleUrl,Xe);return Object.freeze({styleUrl:Q})}}writeStyleOrigin(we,ke,Xe,Q){we.styleName?ke.styleName=we.styleName:we.styleUrl&&(ke.styleUrl=(0,re.t)(we.styleUrl,Q))}set uniqueValueGroups(we){this.styleOrigin?se().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",we),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(we){this.styleOrigin?se().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",we),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(we,ke){if(this.styleOrigin)return void se().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let Xe;Xe="object"==typeof we?Ee(we):new ye.A({value:we,symbol:(0,W.dp)(ke)}),this.uniqueValueInfos?.push(Xe),this._valueInfoMap[Xe.value]=Xe,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(we){if(this.styleOrigin)return void se().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const ke=this.uniqueValueInfos;if(ke)for(let Xe=0;Xe<ke.length;Xe++)if(String(ke[Xe].value)===String(we)){delete this._valueInfoMap[we],ke.splice(Xe,1);break}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}getUniqueValueInfo(we,ke){var Xe=this;return(0,E.A)(function*(){let Q=ke;return Xe.valueExpression&&null==ke?.arcade&&(Q={...Q,arcade:yield(0,q.lw)()}),Xe._getUniqueValueInfo(we,Q)})()}getSymbol(we,ke){return this.valueExpression&&null==ke?.arcade?void se().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(we,ke)?.symbol||this.defaultSymbol}getSymbolAsync(we,ke){var Xe=this;return(0,E.A)(function*(){let Q=ke;if(Xe.valueExpression&&null==Q?.arcade){const Ke=yield(0,q.lw)(),{arcadeUtils:Ye}=Ke;Ye.hasGeometryOperations(Xe.valueExpression)&&(yield Ye.enableGeometryOperations()),Q={...Q,arcade:Ke}}return Xe._getUniqueValueInfo(we,Q)?.symbol||Xe.defaultSymbol})()}getSymbols(){const we=[];for(const ke of this.uniqueValueInfos??[])ke.symbol&&we.push(ke.symbol);return this.defaultSymbol&&we.push(this.defaultSymbol),we}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((we,ke)=>we+ke.getAttributeHash(),"")}getMeshHash(){const we=JSON.stringify(this.backgroundFillSymbol),ke=JSON.stringify(this.defaultSymbol),Xe=this.uniqueValueInfos?.reduce((Q,De)=>Q+De.getMeshHash(),"");return`${we}.${ke}.${Xe}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const we=new le({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,P.o8)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,P.o8)(this.visualVariables),legendOptions:(0,P.o8)(this.legendOptions),authoringInfo:(0,P.o8)(this.authoringInfo),backgroundFillSymbol:(0,P.o8)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(we._isDefaultSymbolDerived=!0),we._set("portal",this.portal);const ke=(0,P.o8)(this.uniqueValueInfos),Xe=(0,P.o8)(this.uniqueValueGroups);return this.styleOrigin&&(we._set("styleOrigin",Object.freeze((0,P.o8)(this.styleOrigin))),Object.freeze(ke),Object.freeze(Xe)),we._set("uniqueValueInfos",ke),we._updateValueInfoMap(),we._set("uniqueValueGroups",Xe),we._isInfosSource=this._isInfosSource,we._watchUniqueValueInfosAndGroups(),we}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}collectRequiredFields(we,ke){var Xe=this;return(0,E.A)(function*(){const Q=[Xe.collectVVRequiredFields(we,ke),Xe.collectSymbolFields(we,ke)];yield Promise.all(Q)})()}collectSymbolFields(we,ke){var Xe=this;return(0,E.A)(function*(){const Q=[...Xe.getSymbols().map(De=>De.collectRequiredFields(we,ke)),(0,C.Dx)(we,ke,Xe.valueExpression)];(0,C.rq)(we,ke,Xe.field),(0,C.rq)(we,ke,Xe.field2),(0,C.rq)(we,ke,Xe.field3),yield Promise.all(Q)})()}populateFromStyle(){return(0,ce.cF)(this.styleOrigin,{portal:this.portal}).then(we=>{const ke=[];return this._valueInfoMap={},we?.data&&Array.isArray(we.data.items)&&we.data.items.forEach(Xe=>{const Q=new oe.A({styleUrl:we.styleUrl,styleName:we.styleName,portal:this.portal,name:Xe.name});this.defaultSymbol||Xe.name!==we.data.defaultItem||(this.defaultSymbol=Q,this._isDefaultSymbolDerived=!0);const De=new ye.A({value:Xe.name,symbol:Q});ke.push(De),this._valueInfoMap[Xe.name]=De}),this._set("uniqueValueInfos",Object.freeze(ke)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:we}=this;if(we)for(const ke of we)this._valueInfoMap[ke.value+""]=ke}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(Pe);const{uniqueValueInfos:we}=this;if(we){const ke=[];for(const Xe of we)ke.push((0,$.wB)(()=>({symbol:Xe.symbol,value:Xe.value,label:Xe.label,description:Xe.description}),(Q,De)=>{Q!==De&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(ke,Pe)}}_watchUniqueValueGroups(){this.removeHandles(Ie);const{uniqueValueGroups:we}=this;if(we){const ke=[];for(const Xe of we){ke.push((0,$.wB)(()=>({classes:Xe.classes}),(Q,De)=>{Q!==De&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const Q of Xe.classes??[])ke.push((0,$.wB)(()=>({symbol:Q.symbol,values:Q.values,label:Q.label,description:Q.description}),(De,Ke)=>{De!==Ke&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(ke,Ie)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const we=[],{field:ke,field2:Xe,field3:Q,fieldDelimiter:De,uniqueValueGroups:Ke,valueExpression:Ye}=this;if(!ke&&!Ye)return this._set("uniqueValueInfos",we),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const rt=!(!ke||!Xe);for(const lt of Ke)for(const _t of lt.classes??[]){const{symbol:tt,label:qe,values:xe,description:Be}=_t;for(const Ze of xe??[]){const{value:Ne,value2:He,value3:Je}=Ze,ut=[Ne];Xe&&ut.push(He),Q&&ut.push(Je);const dt=rt?ut.join(De||""):ut[0]??void 0;we.push(new ye.A({symbol:tt,label:qe,value:dt,description:Be}))}}this._set("uniqueValueInfos",we),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(we=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:ke,field2:Xe,valueExpression:Q,fieldDelimiter:De,uniqueValueInfos:Ke}=this;if(!ke&&!Q||!Ke.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const Ye=!(!ke||!Xe),rt=Ke.map(_t=>{const{symbol:tt,label:qe,value:xe,description:Be}=_t,[Ze,Ne,He]=Ye?xe?.toString()?.split(De||"")||[]:[xe];return new G({symbol:tt,label:qe,description:Be,values:[new ae({value:Ze,value2:Ne,value3:He})]})}),lt=[new ie({classes:rt})];we&&Object.freeze(lt),this._set("uniqueValueGroups",lt),this._watchUniqueValueGroups()}_getUniqueValueInfo(we,ke){return this.valueExpression?this._getUnqiueValueInfoForExpression(we,ke):this._getUnqiueValueInfoForFields(we)}_getUnqiueValueInfoForExpression(we,ke){const{viewingMode:Xe,scale:Q,spatialReference:De,arcade:Ke,timeZone:Ye}=ke??{};let rt=this._cache.compiledFunc;const lt=Ke.arcadeUtils;if(!rt){const tt=lt.createSyntaxTree(this.valueExpression);rt=lt.createFunction(tt),this._cache.compiledFunc=rt}const _t=lt.executeFunction(rt,lt.createExecContext(we,lt.getViewInfo({viewingMode:Xe,scale:Q,spatialReference:De}),Ye));return this._valueInfoMap[_t+""]}_getUnqiueValueInfoForFields(we){const ke=this.field,Xe=we.attributes;let Q;if(this.field2){const De=this.field2,Ke=this.field3,Ye=[];ke&&Ye.push(Xe[ke]),De&&Ye.push(Xe[De]),Ke&&Ye.push(Xe[Ke]),Q=Ye.join(this.fieldDelimiter||"")}else ke&&(Q=Xe[ke]);return this._valueInfoMap[Q+""]}static fromPortalStyle(we,ke){const Xe=new le(ke?.properties);Xe._set("styleOrigin",Object.freeze({styleName:we})),Xe._set("portal",ke?.portal||b.A.getDefault());const Q=Xe.populateFromStyle();return Q.catch(De=>{se().error(`#fromPortalStyle('${we}'[, ...])`,"Failed to create unique value renderer from style name",De)}),Q}static fromStyleUrl(we,ke){const Xe=new le(ke?.properties);Xe._set("styleOrigin",Object.freeze({styleUrl:we}));const Q=Xe.populateFromStyle();return Q.catch(De=>{se().error(`#fromStyleUrl('${we}'[, ...])`,"Failed to create unique value renderer from style URL",De)}),Q}};(0,D._)([(0,S.MZ)({readOnly:!0})],Oe.prototype,"_cache",null),(0,D._)([(0,O.e)({uniqueValue:"unique-value"})],Oe.prototype,"type",void 0),(0,D._)([(0,S.MZ)(w.As)],Oe.prototype,"backgroundFillSymbol",void 0),(0,D._)([(0,S.MZ)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Oe.prototype,"field",null),(0,D._)([(0,I.w)("field")],Oe.prototype,"castField",null),(0,D._)([(0,J.K)("field")],Oe.prototype,"writeField",null),(0,D._)([(0,S.MZ)({type:String,value:null,json:{write:!0}})],Oe.prototype,"field2",null),(0,D._)([(0,S.MZ)({type:String,value:null,json:{write:!0}})],Oe.prototype,"field3",null),(0,D._)([(0,S.MZ)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Oe.prototype,"orderByClassesEnabled",void 0),(0,D._)([(0,S.MZ)({type:String,value:null,json:{write:!0}})],Oe.prototype,"valueExpression",null),(0,D._)([(0,S.MZ)({type:String,json:{write:!0}})],Oe.prototype,"valueExpressionTitle",void 0),(0,D._)([(0,S.MZ)({type:K.q,json:{write:!0}})],Oe.prototype,"legendOptions",void 0),(0,D._)([(0,S.MZ)({type:String,json:{write:!0}})],Oe.prototype,"defaultLabel",void 0),(0,D._)([(0,S.MZ)((0,j.$N)({...w.z4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Oe.prototype,"defaultSymbol",null),(0,D._)([(0,S.MZ)({type:String,value:null,json:{write:!0}})],Oe.prototype,"fieldDelimiter",null),(0,D._)([(0,S.MZ)({type:b.A,readOnly:!0})],Oe.prototype,"portal",void 0),(0,D._)([(0,U.w)("portal",["styleName"])],Oe.prototype,"readPortal",null),(0,D._)([(0,S.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Oe.prototype,"styleOrigin",void 0),(0,D._)([(0,U.w)("styleOrigin",["styleName","styleUrl"])],Oe.prototype,"readStyleOrigin",null),(0,D._)([(0,J.K)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Oe.prototype,"writeStyleOrigin",null),(0,D._)([(0,S.MZ)({type:[ie],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(we,ke,Xe)=>(ke.uniqueValueGroups||function Le(we){const{field1:ke,field2:Xe,field3:Q,fieldDelimiter:De,uniqueValueInfos:Ke,valueExpression:Ye}=we,rt=!(!ke||!Xe);return[{classes:(Ke??[]).map(lt=>{const{symbol:_t,label:tt,value:qe,description:xe}=lt,[Be,Ze,Ne]=rt?qe?.toString()?.split(De||"")||[]:[qe],He=[];return(ke||Ye)&&He.push(Be),Xe&&He.push(Ze),Q&&He.push(Ne),{symbol:_t,label:tt,values:[He],description:xe}})}]}(ke)).map(Q=>ie.fromJSON(Q,Xe))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Oe.prototype,"uniqueValueGroups",null),(0,D._)([(0,S.MZ)({type:[ye.A],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Oe.prototype,"uniqueValueInfos",null),Oe=le=(0,D._)([(0,N.$)(Se)],Oe);const _e=Oe},80695:(et,Ae,v)=>{"use strict";v.d(Ae,{h:()=>q});var E=v(10467),D=v(8189),W=v(85211),P=(v(3248),v(35150)),j=(v(40707),v(17221)),$=v(76576),S=v(50305),I=v(86300);const U=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var b,N=v(59592),J=v(35307),Z=v(71065),L=v(55739),C=v(46873);let x=b=class extends Z.oY{constructor(ce){super(ce),this.label=null,this.opacity=null,this.value=null}readOpacity(ce,oe){return(0,C.D)(oe.transparency)}writeOpacity(ce,oe,le){oe[le]=(0,C.p)(ce)}clone(){return new b({label:this.label,opacity:this.opacity,value:this.value})}};(0,D._)([(0,W.MZ)({type:String,json:{write:!0}})],x.prototype,"label",void 0),(0,D._)([(0,W.MZ)({type:Number,json:{type:L.jz,write:{target:"transparency"}}})],x.prototype,"opacity",void 0),(0,D._)([(0,j.w)("opacity",["transparency"])],x.prototype,"readOpacity",null),(0,D._)([(0,S.K)("opacity")],x.prototype,"writeOpacity",null),(0,D._)([(0,W.MZ)({type:Number,json:{write:!0}})],x.prototype,"value",void 0),x=b=(0,D._)([(0,$.$)("esri.renderers.visualVariables.support.OpacityStop")],x);const R=x;var w;let K=w=class extends J.A{constructor(ce){super(ce),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(ce){ce&&Array.isArray(ce)&&(ce=ce.filter(oe=>!!oe)).sort((oe,le)=>oe.value-le.value),this._set("stops",ce)}clone(){return new w({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(ce=>ce.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(ce=>ce.value||0)}};(0,D._)([(0,W.MZ)({readOnly:!0})],K.prototype,"cache",null),(0,D._)([(0,W.MZ)({type:["opacity"],json:{type:["transparencyInfo"]}})],K.prototype,"type",void 0),(0,D._)([(0,W.MZ)({type:String,json:{write:!0}})],K.prototype,"normalizationField",void 0),(0,D._)([(0,W.MZ)({type:[R],json:{write:!0}})],K.prototype,"stops",null),K=w=(0,D._)([(0,$.$)("esri.renderers.visualVariables.OpacityVariable")],K);const V=K;var ue=v(91749),ee=v(84495),te=v(98877),pe=v(49976),ae=v(96996);const de={color:N.A,size:ee.A,opacity:V,rotation:ue.A},ve=new pe.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),G=/^\[([^\]]+)\]$/i;let fe=class extends te.A{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(ce){if(this._resetVariables(),ce=ce&&ce.filter(oe=>!!oe),ce?.length){for(const oe of ce)switch(oe.type){case"color":this.colorVariables.push(oe);break;case"opacity":this.opacityVariables.push(oe);break;case"rotation":this.rotationVariables.push(oe);break;case"size":this.sizeVariables.push(oe)}this.sizeVariables.length&&this.sizeVariables.some(oe=>!!oe.target)&&ce.sort((oe,le)=>{let Se=null;return Se=oe.target===le.target?0:oe.target?1:-1,Se});for(let oe=0;oe<ce.length;oe++)ce[oe].index=oe;this._set("visualVariables",ce)}else this._set("visualVariables",ce)}readVariables(ce,oe,le){const{rotationExpression:Se,rotationType:se}=oe,Pe=Se?.match(G),Ie=Pe?.[1];if(Ie&&(ce||(ce=[]),ce.push({type:"rotationInfo",rotationType:se,field:Ie})),ce)return ce.map(X=>{const Ee=ve.read(X.type),Le=de[Ee];Le||(P.A.getLogger(this).warn(`Unknown variable type: ${Ee}`),le?.messages&&le.messages.push(new ae.A("visual-variable:unsupported",`visualVariable of type '${Ee}' is not supported`,{definition:X,context:le})));const Oe=new Le;return Oe.read(X,le),Oe})}writeVariables(ce,oe){const le=[];for(const Se of ce){const se=Se.toJSON(oe);se&&le.push(se)}return le}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,D._)([(0,W.MZ)()],fe.prototype,"visualVariables",null),fe=(0,D._)([(0,$.$)("esri.renderers.visualVariables.VisualVariableFactory")],fe);const ie=fe,ye={base:J.A,key:"type",typeMap:{opacity:V,color:N.A,rotation:ue.A,size:ee.A}},q=ce=>{let oe=class extends ce{constructor(){super(...arguments),this._vvFactory=new ie}set visualVariables(le){this._vvFactory.visualVariables=le,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(le,Se,se){return this._vvFactory.readVariables(le,Se,se)}writeVisualVariables(le,Se,se,Pe){Se[se]=this._vvFactory.writeVariables(le,Pe)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const le of this.visualVariables)if(le.arcadeRequired)return!0;return!1}hasVisualVariables(le,Se){return le?this.getVisualVariablesForType(le,Se).length>0:this.getVisualVariablesForType("size",Se).length>0||this.getVisualVariablesForType("color",Se).length>0||this.getVisualVariablesForType("opacity",Se).length>0||this.getVisualVariablesForType("rotation",Se).length>0}getVisualVariablesForType(le,Se){const se=this.visualVariables;return se?se.filter(Pe=>Pe.type===le&&("string"==typeof Se?Pe.target===Se:!1!==Se||!Pe.target)):[]}collectVVRequiredFields(le,Se){var se=this;return(0,E.A)(function*(){let Pe=[];se.visualVariables&&(Pe=Pe.concat(se.visualVariables));for(const Ie of Pe)Ie&&(Ie.field&&(0,I.rq)(le,Se,Ie.field),Ie.normalizationField&&(0,I.rq)(le,Se,Ie.normalizationField),Ie.valueExpression&&(re(Ie.valueExpression,le,Se)||(yield(0,I.Dx)(le,Se,Ie.valueExpression))))})()}};return(0,D._)([(0,W.MZ)({types:[ye],value:null,json:{write:!0}})],oe.prototype,"visualVariables",null),(0,D._)([(0,j.w)("visualVariables",["visualVariables","rotationType","rotationExpression"])],oe.prototype,"readVisualVariables",null),(0,D._)([(0,S.K)("visualVariables")],oe.prototype,"writeVisualVariables",null),oe=(0,D._)([(0,$.$)("esri.renderers.mixins.VisualVariablesMixin")],oe),oe};function re(ce,oe,le){const Se=function O(ce){return ce.match(U)?.[1]?.replace(/\\'/g,"'")??null}(ce);return null!=Se&&((0,I.rq)(oe,le,Se),!0)}},36486:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var O,E=v(8189),D=v(68677),W=v(71065),B=v(35150),P=v(85211),H=v(48669),S=(v(40707),v(3248),v(76576)),I=v(55739);let U=O=class extends W.oY{constructor(J){super(J),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(J){return null==J?J:"function"==typeof J?(B.A.getLogger(this).error(".field: field must be a string value"),null):(0,I.GX)(J)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new O({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,E._)([(0,P.MZ)({type:D.A,json:{type:[Number],write:!0}})],U.prototype,"color",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"field",void 0),(0,E._)([(0,H.w)("field")],U.prototype,"castField",null),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"label",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"valueExpression",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"valueExpressionTitle",void 0),U=O=(0,E._)([(0,S.$)("esri.renderers.support.AttributeColorInfo")],U);const N=U},71314:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Se});var U,E=v(8189),D=v(49976),W=v(71065),B=v(77806),P=v(85211),H=v(55739),j=v(17221),$=v(76576);v(3248),v(35150),v(40707);let N=U=class extends W.oY{constructor(se){super(se),this.minValue=0,this.maxValue=0}clone(){return new U({minValue:this.minValue,maxValue:this.maxValue})}};var J;(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],N.prototype,"minValue",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],N.prototype,"maxValue",void 0),N=U=(0,E._)([(0,$.$)("esri.renderers.support.AuthoringInfoClassBreakInfo")],N);let Z=J=class extends W.oY{constructor(se){super(se),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new J({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,B.o8)(this.classBreakInfos)})}};(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"field",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"normalizationField",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"label",void 0),(0,E._)([(0,P.MZ)({type:[N],json:{write:!0}})],Z.prototype,"classBreakInfos",void 0),Z=J=(0,E._)([(0,$.$)("esri.renderers.support.AuthoringInfoFieldInfo")],Z);var C,L=v(48669);let b=C=class extends W.oY{constructor(se){super(se),this.label=null,this.size=null,this.value=null}clone(){return new C({label:this.label,value:this.value,size:this.size})}};(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],b.prototype,"label",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],b.prototype,"size",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],b.prototype,"value",void 0),b=C=(0,E._)([(0,$.$)("esri.renderers.support.AuthoringInfoSizeStop")],b);const x=b;var R;const w=new D.J({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),K=new D.J({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),V={key:se=>"number"==typeof se?"number":"string",typeMap:{number:Number,string:String},base:null},ue=["high-to-low","above-and-below","centered-on","extremes"],ee=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],te=["seconds","minutes","hours","days","months","years"];let ae=R=class extends W.oY{constructor(se){super(se),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(se){return"string"==typeof se||"number"==typeof se?se:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(se){this._set("normalizationField",se)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(se){this._set("referenceSizeScale",se)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(se){this._set("referenceSizeSymbolStyle",se)}castStartTime(se){return"string"==typeof se||"number"==typeof se?se:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(se){this._set("sizeStops",se)}get style(){return"color"===this.type?this._get("style"):null}set style(se){this._set("style",se)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(se){this._set("theme",se)}clone(){return new R({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:(0,B.o8)(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,E._)([(0,P.MZ)({types:V,json:{write:!0}})],ae.prototype,"endTime",void 0),(0,E._)([(0,L.w)("endTime")],ae.prototype,"castEndTime",null),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],ae.prototype,"field",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],ae.prototype,"maxSliderValue",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],ae.prototype,"minSliderValue",void 0),(0,E._)([(0,P.MZ)({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],ae.prototype,"normalizationField",null),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],ae.prototype,"referenceSizeScale",null),(0,E._)([(0,P.MZ)({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],ae.prototype,"referenceSizeSymbolStyle",null),(0,E._)([(0,P.MZ)({types:V,json:{write:!0}})],ae.prototype,"startTime",void 0),(0,E._)([(0,L.w)("startTime")],ae.prototype,"castStartTime",null),(0,E._)([(0,P.MZ)({type:[x],json:{origins:{"web-scene":{write:!1}},write:!0}})],ae.prototype,"sizeStops",null),(0,E._)([(0,P.MZ)({type:w.apiValues,value:null,json:{type:w.jsonValues,read:w.read,write:w.write}})],ae.prototype,"style",null),(0,E._)([(0,P.MZ)({type:ee,value:null,json:{type:ee,origins:{"web-scene":{type:ue,write:{writer:(se,Pe)=>{ue.includes(se)&&(Pe.theme=se)}}}},write:!0}})],ae.prototype,"theme",null),(0,E._)([(0,P.MZ)({type:K.apiValues,json:{type:K.jsonValues,read:K.read,write:K.write}})],ae.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:te,json:{type:te,write:!0}})],ae.prototype,"units",void 0),ae=R=(0,E._)([(0,$.$)("esri.renderers.support.AuthoringInfoVisualVariable")],ae);const de=ae;var G,ve=v(54485);const fe=new D.J({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),ie=new D.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),ye=new D.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),q=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let le=G=class extends W.oY{constructor(se){super(se),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const se=this._get("classificationMethod"),Pe=this.type;return Pe&&"relationship"!==Pe?"class-breaks-size"===Pe||"class-breaks-color"===Pe?se||"manual":null:se}set classificationMethod(se){this._set("classificationMethod",se)}readColorRamp(se){return se?(0,ve.r)(se):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(se){this._set("fields",se)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(se){this._set("field1",se)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(se){this._set("field2",se)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(se){this._set("flowTheme",se)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(se){this._set("focus",se)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(se){this._set("numClasses",se)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(se){this._set("statistics",se)}get standardDeviationInterval(){const se=this.type;return se&&"relationship"!==se&&"class-breaks-size"!==se&&"class-breaks-color"!==se||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(se){this._set("standardDeviationInterval",se)}get type(){return this._get("type")}set type(se){let Pe=se;"classed-size"===se?Pe="class-breaks-size":"classed-color"===se&&(Pe="class-breaks-color"),this._set("type",Pe)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(se){this._set("univariateSymbolStyle",se)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(se){this._set("univariateTheme",se)}clone(){return new G({classificationMethod:this.classificationMethod,colorRamp:(0,B.o8)(this.colorRamp),fadeRatio:(0,B.o8)(this.fadeRatio),fields:this.fields?.slice(0),field1:(0,B.o8)(this.field1),field2:(0,B.o8)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(se=>se.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,E._)([(0,P.MZ)({type:fe.apiValues,value:null,json:{type:fe.jsonValues,read:fe.read,write:fe.write,origins:{"web-document":{default:"manual",type:fe.jsonValues,read:fe.read,write:fe.write}}}})],le.prototype,"classificationMethod",null),(0,E._)([(0,P.MZ)({types:ve.g,json:{write:!0}})],le.prototype,"colorRamp",void 0),(0,E._)([(0,j.w)("colorRamp")],le.prototype,"readColorRamp",null),(0,E._)([(0,P.MZ)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],le.prototype,"fadeRatio",void 0),(0,E._)([(0,P.MZ)({type:[String],value:null,json:{write:!0}})],le.prototype,"fields",null),(0,E._)([(0,P.MZ)({type:Z,value:null,json:{write:!0}})],le.prototype,"field1",null),(0,E._)([(0,P.MZ)({type:Z,value:null,json:{write:!0}})],le.prototype,"field2",null),(0,E._)([(0,P.MZ)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],le.prototype,"flowTheme",null),(0,E._)([(0,P.MZ)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],le.prototype,"focus",null),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],le.prototype,"isAutoGenerated",void 0),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{type:H.jz,write:!0}})],le.prototype,"numClasses",null),(0,E._)([(0,P.MZ)({type:q,json:{type:q,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],le.prototype,"lengthUnit",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],le.prototype,"maxSliderValue",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],le.prototype,"minSliderValue",void 0),(0,E._)([(0,P.MZ)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],le.prototype,"statistics",null),(0,E._)([(0,P.MZ)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],le.prototype,"standardDeviationInterval",null),(0,E._)([(0,P.MZ)({type:ie.apiValues,value:null,json:{type:ie.jsonValues,read:ie.read,write:ie.write,origins:{"web-scene":{type:ye.jsonValues,write:{writer:ye.write,overridePolicy:se=>({enabled:"flow"!==se})}}}}})],le.prototype,"type",null),(0,E._)([(0,P.MZ)({type:[de],json:{write:!0}})],le.prototype,"visualVariables",void 0),(0,E._)([(0,P.MZ)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],le.prototype,"univariateSymbolStyle",null),(0,E._)([(0,P.MZ)({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],le.prototype,"univariateTheme",null),le=G=(0,E._)([(0,$.$)("esri.renderers.support.AuthoringInfo")],le);const Se=le},19390:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(36345);let I=S=class extends D.oY{constructor(U){super(U),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new S({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const U=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${U}`}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],I.prototype,"minValue",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],I.prototype,"maxValue",void 0),(0,E._)([(0,W.MZ)($.Wp)],I.prototype,"symbol",void 0),I=S=(0,E._)([(0,j.$)("esri.renderers.support.ClassBreakInfo")],I);const O=I},3114:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(68677),W=v(71065),B=v(85211),P=v(55739),$=(v(40707),v(3248),v(76576));let I=S=class extends W.oY{constructor(U){super(U),this.color=null,this.ratio=null}clone(){return new S({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,E._)([(0,B.MZ)({type:D.A,json:{type:[P.jz],default:null,write:!0}})],I.prototype,"color",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{write:!0}})],I.prototype,"ratio",void 0),I=S=(0,E._)([(0,$.$)("esri.renderers.support.HeatmapColorStop")],I);const O=I},26768:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>S});var $,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.oY{constructor(){super(...arguments),this.title=null}clone(){return new $({title:this.title})}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],S.prototype,"title",void 0),S=$=(0,E._)([(0,j.$)("esri.renderers.support.LegendOptions")],S)},82449:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(36345);let I=S=class extends D.oY{constructor(U){super(U),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new S({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const U=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${U}`}};(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"description",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,E._)([(0,W.MZ)($.Wp)],I.prototype,"symbol",void 0),(0,E._)([(0,W.MZ)($.Ug)],I.prototype,"value",void 0),I=S=(0,E._)([(0,j.$)("esri.renderers.support.UniqueValueInfo")],I);const O=I},36345:(et,Ae,v)=>{"use strict";v.d(Ae,{As:()=>S,Ug:()=>I,Wp:()=>$,z4:()=>j});var E=v(47280),D=v(89221),W=v(71224),B=v(80841),P=v(84986),H=v(27093);const j={types:E.xK,json:{write:{writer:B.M9},origins:{"web-scene":{types:E.On,write:{writer:B.M9},read:{reader:(0,W.C)({types:E.On})}}}}},$=(0,D.$N)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},j),S={types:{base:P.A,key:"type",typeMap:{"simple-fill":E.Es.typeMap["simple-fill"],"picture-fill":E.Es.typeMap["picture-fill"],"polygon-3d":E.Es.typeMap["polygon-3d"]}},json:{write:{writer:B.M9},origins:{"web-scene":{type:H.A,write:{writer:B.M9}}}}},I={cast:O=>null==O||"string"==typeof O||"number"==typeof O?O:`${O}`,json:{type:String,write:{writer:(O,U)=>{U.value=O?.toString()}}}}},78592:(et,Ae,v)=>{"use strict";v.d(Ae,{O3:()=>S,PU:()=>j,YW:()=>O,ex:()=>P,hv:()=>I,zp:()=>H});var E=v(69287),D=v(67685),W=v(53781),B=v(89141);const P=2.4;function H(U){return(0,D.PN)(U*P)}function j(U){return(0,D.Lz)(U)/P}function $(U,N,J,Z){let{color:L,ratio:C}=N,{color:b,ratio:x}=J;x===C&&(1===x?C-=1e-6:x+=1e-6);const R=(0,E.qE)((Z-C)/(x-C),0,1);(0,W.l)(U,L.toArray(),b.toArray(),R)}function S(U){const J=new Uint8ClampedArray(2048);if((U=U.filter(({ratio:x})=>x>=0&&x<=1).sort((x,R)=>x.ratio-R.ratio).map(({color:x,ratio:R})=>({color:x,ratio:Math.max(R,.001)}))).length<1)return J;let Z=U[0],L=U[0],C=1;const b=(0,B.vt)();for(let x=0;x<512;x++){const R=(x+.5)/512;for(;R>L.ratio&&C<U.length;)Z=L,L=U[C++];$(b,Z,L,R),J.set(b,4*x)}return J}function I(U,N,J){const Z=Math.sqrt(U**2+N**2)/J;return Z>1?0:3/(Math.PI*J**2)*(1-Z**2)**2}function O(U){return"function"==typeof U?U:U?N=>+N[U]:()=>1}},85718:(et,Ae,v)=>{"use strict";v.d(Ae,{L:()=>H,r:()=>B});var E=v(96996),D=v(71224),W=v(36156);function B(j,$){return H(j,null,$)}const P=(0,D.C)({types:W.H});function H(j,$,S){return j?j&&(j.styleName||j.styleUrl)&&"uniqueValue"!==j.type?(S?.messages&&S.messages.push(new E.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+j.type+"'",{definition:j,context:S})),null):P(j,$,S):null}},48716:(et,Ae,v)=>{"use strict";v.d(Ae,{j:()=>W});var E=v(82663),D=v(47258);const W={unknown:1,inches:(0,E.oU)(1,"meters","inches"),feet:(0,E.oU)(1,"meters","feet"),"us-feet":(0,E.oU)(1,"meters","us-feet"),yards:(0,E.oU)(1,"meters","yards"),miles:(0,E.oU)(1,"meters","miles"),"nautical-miles":(0,E.oU)(1,"meters","nautical-miles"),millimeters:(0,E.oU)(1,"meters","millimeters"),centimeters:(0,E.oU)(1,"meters","centimeters"),decimeters:(0,E.oU)(1,"meters","decimeters"),meters:(0,E.oU)(1,"meters","meters"),kilometers:(0,E.oU)(1,"meters","kilometers"),"decimal-degrees":1/(0,E.vl)(1,"meters",D.$O.radius)}},8691:(et,Ae,v)=>{"use strict";v.d(Ae,{L:()=>P});var E=v(10467),D=v(89447),W=v(56492),B=v(96996);function P(j,$,S){return H.apply(this,arguments)}function H(){return(H=(0,E.A)(function*(j,$,S){const I=j&&j.getAtOrigin&&j.getAtOrigin("renderer",$.origin);if(I&&"unique-value"===I.type&&I.styleOrigin){const O=yield(0,D.Ke)(I.populateFromStyle());if((0,W.Te)(S),!1===O.ok){const U=O.error;$?.messages&&$.messages.push(new B.A("renderer:style-reference",`Failed to create unique value renderer from style reference: ${U.message}`,{error:U,context:$})),j.clear("renderer",$?.origin)}}})).apply(this,arguments)}},36156:(et,Ae,v)=>{"use strict";v.d(Ae,{H:()=>I,X:()=>O});var E=v(35150),D=v(79122),W=v(70176),B=v(92089),P=v(9826),H=v(15317),j=v(38582),$=v(96128),S=v(13318);const I={key:"type",base:j.A,typeMap:{heatmap:P.A,simple:$.A,"unique-value":S.A,"class-breaks":D.A,"dot-density":B.A,dictionary:W.A,"pie-chart":H.A},errorContext:"renderer"},O={key:"type",base:j.A,typeMap:{simple:$.A,"unique-value":S.A,"class-breaks":D.A,heatmap:P.A},errorContext:"renderer",validate:function U(L){switch(L.type){case"simple":return function N(L){if(L.symbol)return L;E.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(L);case"unique-value":return function J(L){const C=L.uniqueValueInfos,b=C?.filter(({symbol:x,label:R},w)=>(x||E.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${w}] ${R}) without a symbol from web scene.`),!!x));return b?.length!==C?.length&&(L.uniqueValueInfos=b),L}(L);case"class-breaks":return function Z(L){const C=L.classBreakInfos,b=C?.filter(({symbol:x,label:R},w)=>(x||E.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${w}] ${R}) without a symbol from web scene.`),!!x));return b?.length!==C?.length&&(L.classBreakInfos=b),L}(L);case"heatmap":return L}}}},59592:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(35307),$=v(5236);let I=S=class extends j.A{constructor(U){super(U),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(U){U&&Array.isArray(U)&&(U=U.filter(N=>!!N)).sort((N,J)=>N.value-J.value),this._set("stops",U)}clone(){return new S({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(U=>U.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(U=>U.value||0)}};(0,E._)([(0,D.MZ)({readOnly:!0})],I.prototype,"cache",null),(0,E._)([(0,D.MZ)({type:["color"],json:{type:["colorInfo"]}})],I.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:String,json:{write:!0}})],I.prototype,"normalizationField",void 0),(0,E._)([(0,D.MZ)({type:[$.A],json:{write:!0}})],I.prototype,"stops",null),I=S=(0,E._)([(0,H.$)("esri.renderers.visualVariables.ColorVariable")],I);const O=I},91749:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(5922),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(50305),S=v(35307);let O=I=class extends S.A{constructor(N){super(N),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(N,J,Z,L){L?.messages&&L.messages.push(new D.A("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}].valueExpressionTitle`,context:L}))}clone(){return new I({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,E._)([(0,W.MZ)({readOnly:!0})],O.prototype,"cache",null),(0,E._)([(0,W.MZ)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],O.prototype,"axis",void 0),(0,E._)([(0,W.MZ)({type:["rotation"],json:{type:["rotationInfo"]}})],O.prototype,"type",void 0),(0,E._)([(0,W.MZ)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],O.prototype,"rotationType",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],O.prototype,"valueExpressionTitle",void 0),(0,E._)([(0,$.K)("web-scene","valueExpressionTitle")],O.prototype,"writeValueExpressionTitleWebScene",null),O=I=(0,E._)([(0,j.$)("esri.renderers.visualVariables.RotationVariable")],O);const U=O},84495:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ae});var C,E=v(8189),D=v(5922),W=v(49976),B=v(35150),P=v(85211),H=v(48669),j=v(17221),$=v(76576),S=v(50305),I=v(35307),O=v(67685),N=v(8042),L=(v(3248),v(40707),v(58742));let b=C=class extends L.A{constructor(){super(...arguments),this.customValues=null}clone(){return new C({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};(0,E._)([(0,P.MZ)({type:[Number],json:{write:!0}})],b.prototype,"customValues",void 0),b=C=(0,E._)([(0,$.$)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],b);const x=b;var K,R=v(64765),w=v(77522);const V=new W.J({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),ue=new W.J({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function ee(de){if(null!=de)return"string"==typeof de||"number"==typeof de?function U(de){return(0,O.cr)(de)}(de):"size"===de.type?(0,R.of)(de)?de:(delete(de={...de}).type,new pe(de)):void 0}function te(de,ve,G){if("object"!=typeof de)return de;const fe=new pe;return fe.read(de,G),fe}let pe=K=class extends I.A{constructor(de){super(de),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&w.viewScaleRE.test(this.valueExpression)}}set index(de){(0,R.of)(this.maxSize)&&(this.maxSize.index=`visualVariables[${de}].maxSize`),(0,R.of)(this.minSize)&&(this.minSize.index=`visualVariables[${de}].minSize`),this._set("index",de)}get inputValueType(){return(0,R.eh)(this)}set maxDataValue(de){de&&this.stops&&(B.A.getLogger(this).warn("cannot set maxDataValue when stops is not null."),de=null),this._set("maxDataValue",de)}set maxSize(de){de&&this.stops&&(B.A.getLogger(this).warn("cannot set maxSize when stops is not null."),de=null),this._set("maxSize",de)}castMaxSize(de){return ee(de)}readMaxSize(de,ve,G){return te(de,0,G)}set minDataValue(de){de&&this.stops&&(B.A.getLogger(this).warn("cannot set minDataValue when stops is not null."),de=null),this._set("minDataValue",de)}set minSize(de){de&&this.stops&&(B.A.getLogger(this).warn("cannot set minSize when stops is not null."),de=null),this._set("minSize",de)}castMinSize(de){return ee(de)}readMinSize(de,ve,G){return te(de,0,G)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(de){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?de&&Array.isArray(de)&&(de=de.filter(ve=>!!ve)).sort((ve,G)=>ve.value-G.value):de&&(B.A.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),de=null),this._set("stops",de)}get transformationType(){return(0,R.KZ)(this,this.inputValueType)}readValueExpression(de,ve){return de||ve.expression&&"$view.scale"}writeValueExpressionWebScene(de,ve,G,fe){if("$view.scale"===de){if(fe?.messages){const ie=this.index;fe.messages.push(new D.A("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"==typeof ie?ie:`visualVariables[${ie}]`)+".valueExpression",context:fe}))}}else ve[G]=de}readValueUnit(de){return de?ue.read(de):null}clone(){return new K({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,R.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,R.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(de=>de.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===R._w.ClampedLinear){const{minSize:de,maxSize:ve}=this;return this.minSize=ve,this.maxSize=de,this}if(this.transformationType===R._w.Stops){const de=this.stops;if(!de)return this;const ve=de.map(fe=>fe.size).reverse(),G=de.length;for(let fe=0;fe<G;fe++)de[fe].size=ve[fe];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(de=>de.value||0)}};(0,E._)([(0,P.MZ)({readOnly:!0})],pe.prototype,"cache",null),(0,E._)([(0,P.MZ)({type:V.apiValues,json:{type:V.jsonValues,origins:{"web-map":{read:!1}},read:V.read,write:V.write}})],pe.prototype,"axis",void 0),(0,E._)([(0,P.MZ)()],pe.prototype,"index",null),(0,E._)([(0,P.MZ)({type:String,readOnly:!0})],pe.prototype,"inputValueType",null),(0,E._)([(0,P.MZ)({type:x,json:{write:!0}})],pe.prototype,"legendOptions",void 0),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{write:!0}})],pe.prototype,"maxDataValue",null),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{write:!0}})],pe.prototype,"maxSize",null),(0,E._)([(0,H.w)("maxSize")],pe.prototype,"castMaxSize",null),(0,E._)([(0,j.w)("maxSize")],pe.prototype,"readMaxSize",null),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{write:!0}})],pe.prototype,"minDataValue",null),(0,E._)([(0,P.MZ)({type:Number,value:null,json:{write:!0}})],pe.prototype,"minSize",null),(0,E._)([(0,H.w)("minSize")],pe.prototype,"castMinSize",null),(0,E._)([(0,j.w)("minSize")],pe.prototype,"readMinSize",null),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],pe.prototype,"normalizationField",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],pe.prototype,"arcadeRequired",null),(0,E._)([(0,P.MZ)({type:String})],pe.prototype,"scaleBy",void 0),(0,E._)([(0,P.MZ)({type:[N.A],value:null,json:{write:!0}})],pe.prototype,"stops",null),(0,E._)([(0,P.MZ)({type:["outline"],json:{write:!0}})],pe.prototype,"target",void 0),(0,E._)([(0,P.MZ)({type:String,readOnly:!0})],pe.prototype,"transformationType",null),(0,E._)([(0,P.MZ)({type:["size"],json:{type:["sizeInfo"]}})],pe.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],pe.prototype,"useSymbolValue",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],pe.prototype,"valueExpression",void 0),(0,E._)([(0,j.w)("valueExpression",["valueExpression","expression"])],pe.prototype,"readValueExpression",null),(0,E._)([(0,S.K)("web-scene","valueExpression")],pe.prototype,"writeValueExpressionWebScene",null),(0,E._)([(0,P.MZ)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],pe.prototype,"valueRepresentation",void 0),(0,E._)([(0,P.MZ)({type:ue.apiValues,json:{write:ue.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],pe.prototype,"valueUnit",void 0),(0,E._)([(0,j.w)("valueUnit")],pe.prototype,"readValueUnit",null),pe=K=(0,E._)([(0,$.$)("esri.renderers.visualVariables.SizeVariable")],pe);const ae=pe},35307:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var E=v(8189),D=v(49976),W=v(71065),B=v(35150),P=v(85211),H=v(48669),j=v(76576),$=v(55739),S=v(58742);const I=new D.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let O=class extends W.oY{constructor(N){super(N),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(N){return null==N?N:"function"==typeof N?(B.A.getLogger(this).error(".field: field must be a string value"),null):(0,$.GX)(N)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,E._)([(0,P.MZ)()],O.prototype,"index",void 0),(0,E._)([(0,P.MZ)({type:I.apiValues,readOnly:!0,json:{read:I.read,write:I.write}})],O.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],O.prototype,"field",void 0),(0,E._)([(0,H.w)("field")],O.prototype,"castField",null),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],O.prototype,"valueExpression",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],O.prototype,"valueExpressionTitle",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],O.prototype,"arcadeRequired",null),(0,E._)([(0,P.MZ)({type:S.A,json:{write:!0}})],O.prototype,"legendOptions",void 0),O=(0,E._)([(0,j.$)("esri.renderers.visualVariables.VisualVariable")],O);const U=O},5236:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(68677),W=v(71065),B=v(85211),P=v(55739),$=(v(40707),v(3248),v(76576)),S=v(50305);let O=I=class extends W.oY{constructor(N){super(N),this.color=null,this.label=null,this.value=null}writeValue(N,J,Z){J[Z]=N??0}clone(){return new I({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,E._)([(0,B.MZ)({type:D.A,json:{type:[P.jz],write:!0}})],O.prototype,"color",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],O.prototype,"label",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],O.prototype,"value",void 0),(0,E._)([(0,S.K)("value")],O.prototype,"writeValue",null),O=I=(0,E._)([(0,$.$)("esri.renderers.visualVariables.support.ColorStop")],O);const U=O},8042:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(71065),W=v(67685),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));let I=S=class extends D.oY{constructor(U){super(U),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new S({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],I.prototype,"label",void 0),(0,E._)([(0,B.MZ)({type:Number,cast:W.cr,json:{write:!0}})],I.prototype,"size",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{write:!0}})],I.prototype,"value",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!1}})],I.prototype,"useMinValue",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!1}})],I.prototype,"useMaxValue",void 0),I=S=(0,E._)([(0,$.$)("esri.renderers.visualVariables.support.SizeStop")],I);const O=I},58742:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(26768);let S=$=class extends j.q{constructor(){super(...arguments),this.showLegend=null}clone(){return new $({title:this.title,showLegend:this.showLegend})}};(0,E._)([(0,D.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"showLegend",void 0),S=$=(0,E._)([(0,H.$)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],S);const I=S},64765:(et,Ae,v)=>{"use strict";var E,D,j;function W(j){return j&&"esri.renderers.visualVariables.SizeVariable"===j.declaredClass}function B(j){return null!=j&&!isNaN(j)&&isFinite(j)}function P(j){return j.valueExpression?E.Expression:j.field&&"string"==typeof j.field?E.Field:E.Unknown}function H(j,$){return($||P(j))===E.Unknown?D.Constant:j.stops?D.Stops:null!=j.minSize&&null!=j.maxSize&&null!=j.minDataValue&&null!=j.maxDataValue?D.ClampedLinear:"unknown"===(j.valueUnit||"unknown")?null!=j.minSize&&null!=j.minDataValue?j.minSize&&j.minDataValue?D.Proportional:D.Additive:D.Identity:D.RealWorldSize}v.d(Ae,{KZ:()=>H,Yf:()=>E,_w:()=>D,eh:()=>P,gf:()=>B,of:()=>W}),(j=E||(E={})).Unknown="unknown",j.Expression="expression",j.Field="field",function(j){j.Unknown="unknown",j.Stops="stops",j.ClampedLinear="clamped-linear",j.Proportional="proportional",j.Additive="additive",j.Constant="constant",j.Identity="identity",j.RealWorldSize="real-world-size"}(D||(D={}))},77522:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{getAllSizes:()=>fe,getColor:()=>N,getOpacity:()=>J,getRotationAngle:()=>Z,getSize:()=>b,getSizeForValue:()=>ae,getSizeFromNumberOrVariable:()=>x,getSizeRangeAtScale:()=>de,getVisualVariableValues:()=>ve,viewScaleRE:()=>U});var E=v(68677),D=v(81098),W=v(69690),B=v(35150),P=v(48716),H=v(64765);const j=()=>B.A.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),$=ie=>j().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${ie}`),S=()=>j().error("Use of arcade expressions requires an arcade context"),I=new D.A,O=Math.PI,U=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function N(ie,ye,q){const re="visualVariables"in ie&&ie.visualVariables?ie.visualVariables.find(Oe=>"color"===Oe.type):ie;if(!re)return;if("esri.renderers.visualVariables.ColorVariable"!==re.declaredClass)return void $("ColorVariable");const ce="number"==typeof ye,oe=ce?null:ye,le=oe?.attributes;let Se=ce?ye:null;const se=re.field,{ipData:Pe,hasExpression:Ie}=re.cache;let X=re.cache.compiledFunc;if(!se&&!Ie){const Oe=re.stops;return Oe&&Oe[0]&&Oe[0].color}if("number"!=typeof Se)if(Ie){if(null==q?.arcade)return void S();const _e=q.arcade.arcadeUtils,we=_e.getViewInfo({viewingMode:q.viewingMode,scale:q.scale,spatialReference:q.spatialReference}),ke=_e.createExecContext(oe,we,q.timeZone);if(!X){const Xe=_e.createSyntaxTree(re.valueExpression);X=_e.createFunction(Xe),re.cache.compiledFunc=X}Se=_e.executeFunction(X,ke)}else le&&(Se=le[se]);const Ee=re.normalizationField,Le=null!=le&&null!=Ee?parseFloat(le[Ee]):void 0;if(null!=Se&&(!Ee||ce||!isNaN(Le)&&0!==Le)){isNaN(Le)||ce||(Se/=Le);const Oe=G(Se,Pe);if(Oe){const _e=Oe[0],we=Oe[1],ke=_e===we?re.stops[_e].color:E.A.blendColors(re.stops[_e].color,re.stops[we].color,Oe[2],q?.color);return new E.A(ke)}}}function J(ie,ye,q){const re="visualVariables"in ie&&ie.visualVariables?ie.visualVariables.find(Oe=>"opacity"===Oe.type):ie;if(!re)return;if("esri.renderers.visualVariables.OpacityVariable"!==re.declaredClass)return void $("OpacityVariable");const ce="number"==typeof ye,oe=ce?null:ye,le=oe?.attributes;let Se=ce?ye:null;const se=re.field,{ipData:Pe,hasExpression:Ie}=re.cache;let X=re.cache.compiledFunc;if(!se&&!Ie){const Oe=re.stops;return Oe&&Oe[0]&&Oe[0].opacity}if("number"!=typeof Se)if(Ie){if(null==q?.arcade)return void S();const _e=q.arcade.arcadeUtils,we=_e.getViewInfo({viewingMode:q.viewingMode,scale:q.scale,spatialReference:q.spatialReference}),ke=_e.createExecContext(oe,we,q.timeZone);if(!X){const Xe=_e.createSyntaxTree(re.valueExpression);X=_e.createFunction(Xe),re.cache.compiledFunc=X}Se=_e.executeFunction(X,ke)}else le&&(Se=le[se]);const Ee=re.normalizationField,Le=null!=le&&null!=Ee?parseFloat(le[Ee]):void 0;if(null!=Se&&(!Ee||ce||!isNaN(Le)&&0!==Le)){isNaN(Le)||ce||(Se/=Le);const Oe=G(Se,Pe);if(Oe){const _e=Oe[0],we=Oe[1];if(_e===we)return re.stops[_e].opacity;{const ke=re.stops[_e].opacity;return ke+(re.stops[we].opacity-ke)*Oe[2]}}}}function Z(ie,ye,q){const re="visualVariables"in ie&&ie.visualVariables?ie.visualVariables.find(Le=>"rotation"===Le.type):ie;if(!re)return;if("esri.renderers.visualVariables.RotationVariable"!==re.declaredClass)return void $("RotationVariable");const ce=re.axis||"heading",oe="heading"===ce&&"arithmetic"===re.rotationType?90:0,le="heading"===ce&&"arithmetic"===re.rotationType?-1:1,Se="number"==typeof ye?null:ye,se=Se?.attributes,Pe=re.field,{hasExpression:Ie}=re.cache;let X=re.cache.compiledFunc,Ee=0;if(!Pe&&!Ie)return Ee;if(Ie){if(null==q?.arcade)return void S();const Oe=q.arcade.arcadeUtils,_e=Oe.getViewInfo({viewingMode:q.viewingMode,scale:q.scale,spatialReference:q.spatialReference}),we=Oe.createExecContext(Se,_e,q.timeZone);if(!X){const ke=Oe.createSyntaxTree(re.valueExpression);X=Oe.createFunction(ke),re.cache.compiledFunc=X}Ee=Oe.executeFunction(X,we)}else se&&(Ee=se[Pe]||0);return Ee="number"!=typeof Ee||isNaN(Ee)?null:oe+le*Ee,Ee}function b(ie,ye,q){const re="visualVariables"in ie&&ie.visualVariables?ie.visualVariables.find(oe=>"size"===oe.type):ie;if(!re)return;if("esri.renderers.visualVariables.SizeVariable"!==re.declaredClass)return void $("SizeVariable");const ce=ae(function L(ie,ye,q){const re="number"==typeof ye,ce=re?null:ye,oe=ce?.attributes;let le=re?ye:null;const{isScaleDriven:Se}=ie.cache;let se=ie.cache.compiledFunc;if(Se){const Ie=q?.scale,X=q?.view;le=null==Ie||"3d"===X?function C(ie){let ye=null,q=null;const re=ie.stops;return re?(ye=re[0].value,q=re[re.length-1].value):(ye=ie.minDataValue||0,q=ie.maxDataValue||0),(ye+q)/2}(ie):Ie}else if(!re)switch(ie.inputValueType){case H.Yf.Expression:{if(null==q?.arcade)return void S();const X=q.arcade.arcadeUtils,Ee=X.getViewInfo({viewingMode:q.viewingMode,scale:q.scale,spatialReference:q.spatialReference}),Le=X.createExecContext(ce,Ee,q.timeZone);if(!se){const Oe=X.createSyntaxTree(ie.valueExpression);se=X.createFunction(Oe),ie.cache.compiledFunc=se}le=X.executeFunction(se,Le);break}case H.Yf.Field:oe&&(le=oe[ie.field]);break;case H.Yf.Unknown:le=null}if(!(0,H.gf)(le))return null;if(re||!ie.normalizationField)return le;const Pe=oe?parseFloat(oe[ie.normalizationField]):null;return(0,H.gf)(Pe)&&0!==Pe?le/Pe:null}(re,ye,q),re,ye,q,re.cache.ipData);return null==ce||isNaN(ce)?0:ce}function x(ie,ye,q){return null==ie?null:(0,H.of)(ie)?b(ie,ye,q):(0,H.gf)(ie)?ie:null}function R(ie,ye,q){return(0,H.gf)(q)&&ie>q?q:(0,H.gf)(ye)&&ie<ye?ye:ie}function ae(ie,ye,q,re,ce){switch(ye.transformationType){case H._w.Additive:return function w(ie,ye,q,re){return ie+((x(ye.minSize,q,re)||ye.minDataValue)??0)}(ie,ye,q,re);case H._w.Constant:return function K(ie,ye,q){const re=ie.stops;let ce=re?.length&&re[0].size;return null==ce&&(ce=ie.minSize),x(ce,ye,q)}(ye,q,re);case H._w.ClampedLinear:return function V(ie,ye,q,re){const ce=(ie-ye.minDataValue)/(ye.maxDataValue-ye.minDataValue),oe=x(ye.minSize,q,re),le=x(ye.maxSize,q,re),Se=re?.shape;if(ie<=ye.minDataValue)return oe;if(ie>=ye.maxDataValue)return le;if(null==oe||null==le)return null;if("area"===ye.scaleBy&&Se){const se="circle"===Se,Pe=se?O*(oe/2)**2:oe*oe,Ie=Pe+ce*((se?O*(le/2)**2:le*le)-Pe);return se?2*Math.sqrt(Ie/O):Math.sqrt(Ie)}return oe+ce*(le-oe)}(ie,ye,q,re);case H._w.Proportional:return function ue(ie,ye,q,re){const ce=re?.shape,oe=ie/ye.minDataValue,le=x(ye.minSize,q,re),Se=x(ye.maxSize,q,re);let se=null;return se="circle"===ce?2*Math.sqrt(oe*(le/2)**2):"square"===ce||"diamond"===ce||"image"===ce?Math.sqrt(oe*le**2):oe*le,R(se,le,Se)}(ie,ye,q,re);case H._w.Stops:return function ee(ie,ye,q,re,ce){const[oe,le,Se]=G(ie,ce);if(oe===le)return x(ye.stops?.[oe].size,q,re);{const se=x(ye.stops?.[oe].size,q,re);return se+(x(ye.stops?.[le].size,q,re)-se)*Se}}(ie,ye,q,re,ce);case H._w.RealWorldSize:return function te(ie,ye,q,re){const ce=(re?.resolution??1)*P.j[ye.valueUnit],oe=x(ye.minSize,q,re),le=x(ye.maxSize,q,re),{valueRepresentation:Se}=ye;let se=null;return se="area"===Se?2*Math.sqrt(ie/O)/ce:"radius"===Se||"distance"===Se?2*ie/ce:ie/ce,R(se,oe,le)}(ie,ye,q,re);case H._w.Identity:return ie;case H._w.Unknown:return null}}function de(ie,ye,q){const{isScaleDriven:re}=ie.cache;if(!(re&&"3d"===q||ye))return null;const ce={scale:ye,view:q};let oe=x(ie.minSize,I,ce),le=x(ie.maxSize,I,ce);if(null!=oe||null!=le){if(oe>le){const Se=le;le=oe,oe=Se}return{minSize:oe,maxSize:le}}}function ve(ie,ye,q){if(!ie.visualVariables)return;const re=[],ce=[],oe=[],le=[],Se=[];for(const se of ie.visualVariables)switch(se.type){case"color":ce.push(se);break;case"opacity":oe.push(se);break;case"rotation":Se.push(se);break;case"size":le.push(se)}return ce.forEach(se=>{const Pe=N(se,ye,q);re.push({variable:se,value:Pe})}),oe.forEach(se=>{const Pe=J(se,ye,q);re.push({variable:se,value:Pe})}),Se.forEach(se=>{const Pe=Z(se,ye,q);re.push({variable:se,value:Pe})}),le.forEach(se=>{const Pe=b(se,ye,q);re.push({variable:se,value:Pe})}),re.filter(se=>null!=se.value)}function G(ie,ye){if(!ye)return;let q=0,re=ye.length-1;return ye.some((ce,oe)=>ie<ce?(re=oe,!0):(q=oe,!1)),[q,re,(ie-ye[q])/(ye[re]-ye[q])]}function fe(ie,ye,q){const re=["proportional","proportional","proportional"];for(const ce of ie){const oe=ce.useSymbolValue?"symbol-value":b(ce,ye,q);switch(ce.axis){case"width":re[0]=oe;break;case"depth":re[1]=oe;break;case"height":re[2]=oe;break;case"width-and-depth":re[0]=oe,re[1]=oe;break;case"all":case void 0:case null:re[0]=oe,re[1]=oe,re[2]=oe;break;default:(0,W.Xb)(ce.axis)}}return re}},89563:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var E=v(10467),D=v(23098),W=v(77469),B=v(5922),P=v(3248),H=v(77806),j=v(56492),$=v(45272),S=v(17595),I=v(2174),O=v(3450);function U(Ie,X){return N.apply(this,arguments)}function N(){return N=(0,E.A)(function*(Ie,X){Ie instanceof URL&&(Ie=Ie.toString()),X?.query instanceof URLSearchParams&&(X.query=(0,$.zf)(X.query.toString().replaceAll("+"," ")));const Ee=(0,$.DB)(Ie),Le=(0,$.w8)(Ie);Le||Ee||(Ie=(0,$.S8)(Ie));const Oe={url:Ie,requestOptions:{...X}};let _e=(0,$.sC)(Ie);if(_e){const Q=yield function ye(Ie,X){return q.apply(this,arguments)}(_e,Oe);if(null!=Q)return{data:Q,getAllHeaders:R,getHeader:R,httpStatus:200,requestOptions:Oe.requestOptions,url:Oe.url};_e.after||_e.error||(_e=null)}if(Ie=Oe.url,"image"===(X=Oe.requestOptions).responseType&&((0,P.A)("host-webworker")||(0,P.A)("host-node")))throw ue("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),Oe);if("head"===X.method){if(X.body)throw ue("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),Oe);if(Ee||Le)throw ue("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),Oe)}if(yield function ee(){return te.apply(this,arguments)}(),J)return J.execute(Ie,X);const we=new AbortController;(0,j.u7)(X,()=>we.abort());const ke={controller:we,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:_e,params:Oe,redoRequest:!1,useIdentity:Z.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},Xe=yield function oe(Ie){return le.apply(this,arguments)}(ke);return _e?.after?.(Xe),Xe}),N.apply(this,arguments)}let J;const Z=D.A.request,L="FormData"in globalThis,C=new Set([499,498,403,401]),b=new Set(["COM_0056","COM_0057","SB_0008"]),x=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=()=>null,w=Symbol();function V(Ie){const X=(0,$.$z)(Ie);return!X||X.endsWith(".arcgis.com")||U._corsServers.includes(X)||(0,$.FL)(X)}function ue(Ie,X,Ee,Le){let Oe="Error";const _e={url:Ee.url,requestOptions:Ee.requestOptions,getAllHeaders:R,getHeader:R,ssl:!1};if(X instanceof B.A)return X.details?(X.details=(0,H.o8)(X.details),X.details.url=Ee.url,X.details.requestOptions=Ee.requestOptions):X.details=_e,X;if(X){const we=Le&&(()=>Array.from(Le.headers)),ke=Le&&(De=>Le.headers.get(De)),Xe=Le?.status,Q=X.message;Q&&(Oe=Q),we&&ke&&(_e.getAllHeaders=we,_e.getHeader=ke),_e.httpStatus=(null!=X.httpCode?X.httpCode:X.code)||Xe||0,_e.subCode=X.subcode,_e.messageCode=X.messageCode,_e.messages="string"==typeof X.details?[X.details]:X.details,_e.raw=w in X?X[w]:X}return(0,j.zf)(X)?(0,j.NK)():new B.A(Ie,Oe,_e)}function te(){return(te=(0,E.A)(function*(){(0,P.A)("host-webworker")&&!J&&(J=yield v.e(7985).then(v.bind(v,27985)))})).apply(this,arguments)}function pe(){return ae.apply(this,arguments)}function ae(){return(ae=(0,E.A)(function*(){W.id||(yield v.e(963).then(v.bind(v,90963)))})).apply(this,arguments)}function ve(){return(ve=(0,E.A)(function*(Ie){const X=Ie.params.url,Ee=Ie.params.requestOptions,Le=Ie.controller.signal,Oe=Ee.body;let _e=null,we=null;if(L&&"HTMLFormElement"in globalThis&&(Oe instanceof FormData?_e=Oe:Oe instanceof HTMLFormElement&&(_e=new FormData(Oe))),"string"==typeof Oe&&(we=Oe),Ie.fetchOptions={cache:Ee.cacheBust?"no-cache":"default",credentials:"same-origin",headers:Ee.headers||{},method:"head"===Ee.method?"HEAD":"GET",mode:"cors",priority:Z.priority,redirect:"follow",signal:Le},(_e||we)&&(Ie.fetchOptions.body=_e||we),"anonymous"===Ee.authMode&&(Ie.useIdentity=!1),Ie.hasToken=!!(/token=/i.test(X)||Ee.query?.token||_e?.get("token")),!Ie.hasToken&&D.A.apiKey&&(0,I.Q)(X)&&(Ee.query||(Ee.query={}),Ee.query.token=D.A.apiKey,Ie.hasToken=!0),Ie.useIdentity&&!Ie.hasToken&&!Ie.credentialToken&&!G(X)&&!(0,j.G4)(Le)){let ke;"immediate"===Ee.authMode?(yield pe(),ke=yield W.id.getCredential(X,{signal:Le}),Ie.credential=ke):"no-prompt"===Ee.authMode?(yield pe(),ke=yield W.id.getCredential(X,{prompt:!1,signal:Le}).catch(()=>{}),Ie.credential=ke):W.id&&(ke=W.id.findCredential(X)),ke&&(Ie.credentialToken=ke.token,Ie.useSSL=!!ke.ssl)}})).apply(this,arguments)}function G(Ie){return x.some(X=>X.test(Ie))}function fe(Ie){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.A)(function*(Ie){let X=Ie.params.url;const Ee=Ie.params.requestOptions,Le=Ie.fetchOptions??{},Oe=(0,$.w8)(X)||(0,$.DB)(X),_e=Ee.responseType||"json",we=Oe?0:null!=Ee.timeout?Ee.timeout:Z.timeout;let ke=!1;if(!Oe){Ie.useSSL&&(X=(0,$.lM)(X));let Ye={...Ee.query};Ie.credentialToken&&(Ye.token=Ie.credentialToken);let rt=(0,$.x0)(Ye);(0,P.A)("esri-url-encodes-apostrophe")&&(rt=rt.replaceAll("'","%27"));const lt=X.length+1+rt.length;let _t;ke="delete"===Ee.method||"post"===Ee.method||"put"===Ee.method||!!Ee.body||lt>Z.maxUrlLength;const tt=Ee.useProxy||!!(0,$.zs)(X);if(tt){const qe=(0,$.s_)(X);_t=qe.path,!ke&&_t.length+1+lt>Z.maxUrlLength&&(ke=!0),qe.query&&(Ye={...qe.query,...Ye})}if("HEAD"===Le.method&&(ke||tt)){if(ke)throw ue("request:invalid-parameters",lt>Z.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),Ie.params);if(tt)throw ue("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),Ie.params)}ke?(Le.method="delete"===Ee.method?"DELETE":"put"===Ee.method?"PUT":"POST",Ee.body?X=(0,$.a6)(X,Ye):(Le.body=(0,$.x0)(Ye),Le.headers||(Le.headers={}),Le.headers["Content-Type"]="application/x-www-form-urlencoded")):X=(0,$.a6)(X,Ye),tt&&(Ie.useProxy=!0,X=`${_t}?${X}`),Ye.token&&L&&Le.body instanceof FormData&&!(0,S.$)(X)&&Le.body.set("token",Ye.token),Ee.hasOwnProperty("withCredentials")?Ie.withCredentials=Ee.withCredentials:(0,$.FX)(X,(0,$.Xq)())||((0,$.FL)(X)||W.id&&W.id.findServerInfo(X)?.webTierAuth)&&(Ie.withCredentials=!0),Ie.withCredentials&&(Le.credentials="include",(0,O.xW)(X)&&(yield(0,O.m3)(ke?(0,$.a6)(X,Ye):X)))}let Xe,Q,De=0,Ke=!1;we>0&&(De=setTimeout(()=>{Ke=!0,Ie.controller.abort()},we));try{if("native-request-init"===Ee.responseType)Q=Le,Q.url=X;else if("image"!==Ee.responseType||"default"!==Le.cache||"GET"!==Le.method||ke||function re(Ie){if(Ie)for(const X of Object.getOwnPropertyNames(Ie))if(Ie[X])return!0;return!1}(Ee.headers)||!Oe&&!Ie.useProxy&&Z.proxyUrl&&!V(X)){if(U._beforeFetch&&(yield U._beforeFetch(X,Le)),Xe=yield fetch(X,Le),U._afterFetch&&(yield U._afterFetch(Xe)),Ie.useProxy||function K(Ie){const X=(0,$.$z)(Ie);X&&!U._corsServers.includes(X)&&U._corsServers.push(X)}(X),"native"===Ee.responseType)Q=Xe;else if("HEAD"!==Le.method)if(Xe.ok){switch(_e){case"array-buffer":Q=yield Xe.arrayBuffer();break;case"blob":case"image":Q=yield Xe.blob();break;default:Q=yield Xe.text()}if(De&&(clearTimeout(De),De=0),"json"===_e||"xml"===_e||"document"===_e)if(Q)switch(_e){case"json":Q=JSON.parse(Q);break;case"xml":Q=ce(Q,"application/xml");break;case"document":Q=ce(Q,"text/html")}else Q=null;if(Q){if("array-buffer"===_e||"blob"===_e){const Ye=Xe.headers.get("Content-Type");if(Ye&&/application\/json|text\/plain/i.test(Ye)&&Q["blob"===_e?"size":"byteLength"]<=750)try{const rt=yield new Response(Q).json();rt.error&&(Q=rt)}catch{}}"image"===_e&&Q instanceof Blob&&(Q=yield Pe(URL.createObjectURL(Q),Ie,!0))}}else{Q=yield Xe.text();try{Q=JSON.parse(Q)}catch{}}}else Q=yield Pe(X,Ie)}catch(Ye){if("AbortError"===Ye.name)throw Ke?(0,O.ql)():(0,j.NK)("Request canceled");if(!(!Xe&&Ye instanceof TypeError&&Z.proxyUrl)||Ee.body||"delete"===Ee.method||"head"===Ee.method||"post"===Ee.method||"put"===Ee.method||Ie.useProxy||V(X))throw Ye;Ie.redoRequest=!0,(0,$.oy)({proxyUrl:Z.proxyUrl,urlPrefix:(0,$.$z)(X)??""})}finally{De&&clearTimeout(De)}return[Xe,Q]})).apply(this,arguments)}function q(){return(q=(0,E.A)(function*(Ie,X){if(null!=Ie.responseData)return Ie.responseData;if(Ie.headers&&(X.requestOptions.headers={...X.requestOptions.headers,...Ie.headers}),Ie.query&&(X.requestOptions.query={...X.requestOptions.query,...Ie.query}),Ie.before){let Ee,Le;try{Le=yield Ie.before(X)}catch(Oe){Ee=ue("request:interceptor",Oe,X)}if((Le instanceof Error||Le instanceof B.A)&&(Ee=ue("request:interceptor",Le,X)),Ee)throw Ie.error&&Ie.error(Ee),Ee;return Le}})).apply(this,arguments)}function ce(Ie,X){let Ee;try{Ee=(new DOMParser).parseFromString(Ie,X)}catch{}if(!Ee||Ee.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Ee}function le(){return le=(0,E.A)(function*(Ie){let X,Ee;yield function de(Ie){return ve.apply(this,arguments)}(Ie);try{do{[X,Ee]=yield fe(Ie)}while(!(yield Se(Ie,X,Ee)))}catch(_e){const we=ue("request:server",_e,Ie.params,X);throw we.details.ssl=Ie.useSSL,Ie.interceptor?.error&&Ie.interceptor.error(we),we}const Le=Ie.params.url;if(Ee&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(Le)){if(!Ie.hasToken&&!Ie.credentialToken&&Ee.user?.username&&!(0,$.FL)(Le)){const _e=(0,$.$z)(Le,!0);_e&&Z.trustedServers.push(_e)}Array.isArray(Ee.authorizedCrossOriginNoCorsDomains)&&(0,O.tz)(Ee.authorizedCrossOriginNoCorsDomains)}const Oe=Ie.credential;if(Oe&&W.id){let we=W.id.findServerInfo(Oe.server)?.owningSystemUrl;if(we){we=we.replace(/\/?$/,"/sharing");const ke=W.id.findCredential(we,Oe.userId);ke&&-1===W.id._getIdenticalSvcIdx(we,ke)&&ke.resources.unshift(we)}}return{data:Ee,getAllHeaders:X?()=>Array.from(X.headers):R,getHeader:X?_e=>X.headers.get(_e):R,httpStatus:X?.status??200,requestOptions:Ie.params.requestOptions,ssl:Ie.useSSL,url:Ie.params.url}}),le.apply(this,arguments)}function Se(Ie,X,Ee){return se.apply(this,arguments)}function se(){return(se=(0,E.A)(function*(Ie,X,Ee){if(Ie.redoRequest)return Ie.redoRequest=!1,!1;const Le=Ie.params.requestOptions;if(!X||"native"===Le.responseType||"native-request-init"===Le.responseType)return!0;let Oe,_e;if(Ee&&(Ee.error&&"object"==typeof Ee.error?Oe=Ee.error:"error"===Ee.status&&Array.isArray(Ee.messages)&&(Oe={...Ee},Oe[w]=Ee,Oe.details=Ee.messages)),!Oe&&!X.ok)throw Oe=new Error(`Unable to load ${X.url} status: ${X.status}`),Oe[w]=Ee,Oe;let we,ke=null;Oe&&(_e=Number(Oe.code),ke=Oe.hasOwnProperty("subcode")?Number(Oe.subcode):null,we=Oe.messageCode,we=we?.toUpperCase());const Xe=Le.authMode;if(403===_e&&(4===ke||Oe.message?.toLowerCase().includes("ssl")&&!Oe.message.toLowerCase().includes("permission"))){if(!Ie.useSSL)return Ie.useSSL=!0,!1}else if(!Ie.hasToken&&Ie.useIdentity&&("no-prompt"!==Xe||498===_e)&&void 0!==_e&&C.has(_e)&&!G(Ie.params.url)&&(403!==_e||(!we||!b.has(we))&&(null==ke||2===ke&&Ie.credentialToken))){yield pe();try{const Q=yield W.id.getCredential(Ie.params.url,{error:ue("request:server",Oe,Ie.params),prompt:"no-prompt"!==Xe,signal:Ie.controller.signal,token:Ie.credentialToken});return Ie.credential=Q,Ie.credentialToken=Q.token,Ie.useSSL=Ie.useSSL||Q.ssl,!1}catch(Q){if("no-prompt"===Xe)return Ie.credential=void 0,Ie.credentialToken=void 0,!1;Oe=Q}}if(Oe)throw Oe;return!0})).apply(this,arguments)}function Pe(Ie,X,Ee=!1){const Le=X.controller.signal,Oe=new Image;return Oe.crossOrigin=X.withCredentials?"use-credentials":"anonymous",Oe.alt="",Oe.fetchPriority=Z.priority,Oe.src=Ie,(0,O.Sx)(Oe,Ie,Ee,Le)}U._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],U._beforeFetch=void 0,U._afterFetch=void 0},66456:(et,Ae,v)=>{"use strict";v.d(Ae,{C:()=>S});var E=v(10467),D=v(89563),W=v(55739),B=v(61320),P=v(68800),H=v(28524),j=v(77436);const $=(0,W.dp)(j.A);function S(O,U,N){return I.apply(this,arguments)}function I(){return(I=(0,E.A)(function*(O,U,N){U=$(U);const J=(0,P.Dl)(O),Z={...J.query,f:"json",...U.toJSON()},L=U.outSpatialReference,C=(0,B.$B)(U.geometries[0]),b=(0,P.jV)(Z,N);return(0,D.A)(J.path+"/project",b).then(({data:{geometries:x}})=>(0,H.V)(x,C,L))})).apply(this,arguments)}},28524:(et,Ae,v)=>{"use strict";v.d(Ae,{V:()=>W,X:()=>D});var E=v(61320);function D(B){return{geometryType:(0,E.$B)(B[0]),geometries:B.map(P=>P.toJSON())}}function W(B,P,H){const j=(0,E.xD)(P);return B.map($=>{const S=j.fromJSON($);return S.spatialReference=H,S})}},92323:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"assetGroupCode",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"assetTypeCode",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],$.prototype,"globalId",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"networkSourceId",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"objectId",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"positionFrom",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"positionTo",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"terminalId",void 0),$=(0,E._)([(0,j.$)("esri.rest.networks.support.NetworkElement")],$);const S=$},12955:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(21870),S=v(55861),I=v(93615);let O=class extends D.oY{constructor(b){super(b),this.line=null,this.multipoint=null,this.polygon=null}};(0,E._)([(0,W.MZ)({type:I.A,json:{write:!0},readOnly:!0})],O.prototype,"line",void 0),(0,E._)([(0,W.MZ)({type:$.A,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],O.prototype,"multipoint",void 0),(0,E._)([(0,W.MZ)({type:S.A,json:{write:!0},readOnly:!0})],O.prototype,"polygon",void 0),O=(0,E._)([(0,j.$)("esri.rest.networks.support.AggregatedGeometry")],O);const U=O;let N=class extends D.oY{constructor(b){super(b),this.functionType=null,this.networkAttributeName=null,this.result=null}};(0,E._)([(0,W.MZ)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],N.prototype,"functionType",void 0),(0,E._)([(0,W.MZ)({type:String,json:{write:!0},readOnly:!0})],N.prototype,"networkAttributeName",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0},readOnly:!0})],N.prototype,"result",void 0),N=(0,E._)([(0,j.$)("esri.rest.networks.support.FunctionResult")],N);const J=N;var Z=v(92323);let L=class extends D.oY{constructor(b){super(b),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};(0,E._)([(0,W.MZ)({type:U,json:{write:!0},readOnly:!0})],L.prototype,"aggregatedGeometry",void 0),(0,E._)([(0,W.MZ)({type:[Z.A],json:{write:!0},readOnly:!0})],L.prototype,"elements",void 0),(0,E._)([(0,W.MZ)({type:[J],json:{write:!0},readOnly:!0})],L.prototype,"globalFunctionResults",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],L.prototype,"kFeaturesForKNNFound",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],L.prototype,"startingPointsIgnored",void 0),(0,E._)([(0,W.MZ)({type:[String],json:{write:!0},readOnly:!0})],L.prototype,"warnings",void 0),L=(0,E._)([(0,j.$)("esri.rest.networks.support.TraceResult")],L);const C=L},67317:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.dirtyAreaCount=null,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};(0,E._)([(0,W.MZ)({type:Date,json:{type:Number,write:{writer:(I,O)=>{O.moment=I?I.getTime():null}}}})],$.prototype,"moment",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"fullUpdate",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"validateErrorsCreated",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],$.prototype,"dirtyAreaCount",void 0),(0,E._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"exceededTransferLimit",void 0),(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"serviceEdits",void 0),(0,E._)([(0,W.MZ)({type:[Object],json:{write:!0}})],$.prototype,"discoveredSubnetworks",void 0),$=(0,E._)([(0,j.$)("esri.rest.networks.support.ValidateNetworkTopologyResult")],$);const S=$},28872:(et,Ae,v)=>{"use strict";v.d(Ae,{u:()=>B});var E=v(82663),D=v(58701);function W(j,$,S){if(null==j.hasM||j.hasZ)for(const I of $)for(const O of I)O.length>2&&(O[2]*=S)}function B(j,$,S){if(!j&&!$||!S)return;const I=(0,E.G9)(S);P(j,S,I),P($,S,I)}function P(j,$,S){if(j)for(const I of j)H(I.geometry,$,S)}function H(j,$,S){if(!j?.spatialReference||(0,D.aI)(j.spatialReference,$))return;const I=(0,E.G9)(j.spatialReference)/S;if(1!==I)if("x"in j)null!=j.z&&(j.z*=I);else if("rings"in j)W(j,j.rings,I);else if("paths"in j)W(j,j.paths,I);else if("points"in j&&(null==j.hasM||j.hasZ))for(const O of j.points)O.length>2&&(O[2]*=I)}},98789:(et,Ae,v)=>{"use strict";v.d(Ae,{q:()=>D});var E=v(23743);function D(W,B,P){if(!P?.features||!P.hasZ)return;const H=(0,E.N)(P.geometryType,B,W.outSpatialReference);if(null!=H)for(const j of P.features)H(j.geometry)}},11029:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(68677),W=v(77806),B=v(85211),P=v(55739),H=v(15463),j=v(76576),$=v(3678);let I=S=class extends $.A{constructor(U){super(U),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new S({fromColor:(0,W.o8)(this.fromColor),toColor:(0,W.o8)(this.toColor),algorithm:this.algorithm})}};(0,E._)([(0,H.e)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],I.prototype,"algorithm",void 0),(0,E._)([(0,B.MZ)({type:D.A,json:{type:[P.jz],write:!0}})],I.prototype,"fromColor",void 0),(0,E._)([(0,B.MZ)({type:D.A,json:{type:[P.jz],write:!0}})],I.prototype,"toColor",void 0),(0,E._)([(0,B.MZ)({type:["algorithmic"]})],I.prototype,"type",void 0),I=S=(0,E._)([(0,j.$)("esri.rest.support.AlgorithmicColorRamp")],I);const O=I},52466:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(71065),W=v(77806),B=v(85211),P=v(55739),H=v(76576),j=v(50305);let S=$=class extends D.oY{constructor(O){super(O),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(O,U){U.resultOffset=this.start,U.resultRecordCount=this.num||10}clone(){return new $((0,W.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,E._)([(0,B.MZ)({type:[String],json:{write:!0}})],S.prototype,"attachmentTypes",void 0),(0,E._)([(0,B.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],S.prototype,"attachmentsWhere",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"cacheHint",void 0),(0,E._)([(0,B.MZ)({type:[String],json:{write:!0}})],S.prototype,"keywords",void 0),(0,E._)([(0,B.MZ)({type:[Number],json:{write:!0}})],S.prototype,"globalIds",void 0),(0,E._)([(0,B.MZ)({json:{write:!0}})],S.prototype,"name",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],S.prototype,"num",void 0),(0,E._)([(0,B.MZ)({type:[Number],json:{write:!0}})],S.prototype,"objectIds",void 0),(0,E._)([(0,B.MZ)({type:Boolean,json:{default:!1,write:!0}})],S.prototype,"returnMetadata",void 0),(0,E._)([(0,B.MZ)({type:[Number],json:{write:!0}})],S.prototype,"size",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],S.prototype,"start",void 0),(0,E._)([(0,j.K)("start"),(0,j.K)("num")],S.prototype,"writeStart",null),(0,E._)([(0,B.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],S.prototype,"where",void 0),S=$=(0,E._)([(0,H.$)("esri.rest.support.AttachmentQuery")],S),S.from=(0,P.dp)(S);const I=S},3678:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.type=null}};(0,E._)([(0,W.MZ)({readOnly:!0,json:{read:!1,write:!0}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.rest.support.ColorRamp")],$);const S=$},93327:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>x});var L,E=v(8189),D=v(21152),W=v(81098),B=v(49976),P=v(71065),H=v(77806),j=v(85211),I=(v(3248),v(35150),v(17221)),O=v(76576),U=v(50305),N=v(32034),J=v(61320),Z=v(29141);const C=new B.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let b=L=class extends P.oY{constructor(R){super(R),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(R,w){const K=N.A.fromJSON(w.spatialReference),V=[];for(let ue=0;ue<R.length;ue++){const ee=R[ue],te=W.A.fromJSON(ee),pe=ee.geometry?.spatialReference;null==te.geometry||pe||(te.geometry.spatialReference=K);const ae=ee.aggregateGeometries,de=te.aggregateGeometries;if(ae&&null!=de)for(const ve in de){const G=de[ve],fe=ae[ve],ie=fe?.spatialReference;null==G||ie||(G.spatialReference=K)}V.push(te)}return V}writeGeometryType(R,w,K,V){if(R)return void C.write(R,w,K,V);const{features:ue}=this;if(ue)for(const ee of ue)if(null!=ee?.geometry)return void C.write(ee.geometry.type,w,K,V)}readQueryGeometry(R,w){if(!R)return null;const K=!!R.spatialReference,V=(0,J.rS)(R);return V&&!K&&w.spatialReference&&(V.spatialReference=N.A.fromJSON(w.spatialReference)),V}writeSpatialReference(R,w){if(R)return void(w.spatialReference=R.toJSON());const{features:K}=this;if(K)for(const V of K)if(V&&null!=V.geometry&&V.geometry.spatialReference)return void(w.spatialReference=V.geometry.spatialReference.toJSON())}clone(){return new L(this.cloneProperties())}cloneProperties(){return(0,H.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(R){const w=this.write();if(w.features&&Array.isArray(R)&&R.length>0)for(let K=0;K<w.features.length;K++){const V=w.features[K];if(V.geometry){const ue=R?.[K];V.geometry=ue?.toJSON()||V.geometry}}return w}quantize(R){const{scale:[w,K],translate:[V,ue]}=R,pe=this.features,ae=this._getQuantizationFunction(this.geometryType,de=>Math.round((de-V)/w),de=>Math.round((ue-de)/K));for(let de=0,ve=pe.length;de<ve;de++)ae?.(pe[de].geometry)||(pe.splice(de,1),de--,ve--);return this.transform=R,this}unquantize(){const{geometryType:R,features:w,transform:K}=this;if(!K)return this;const{translate:[V,ue],scale:[ee,te]}=K;let de=null,ve=null;if(this.hasZ&&null!=K?.scale?.[2]){const{translate:[,,fe],scale:[,,ie]}=K;de=ye=>ye*ie+fe}if(this.hasM&&null!=K?.scale?.[3]){const{translate:[,,,fe],scale:[,,,ie]}=K;ve=ye=>null==ye?ye:ye*ie+fe}const G=this._getHydrationFunction(R,fe=>fe*ee+V,fe=>ue-fe*te,de,ve);for(const{geometry:fe}of w)null!=fe&&G&&G(fe);return this.transform=null,this}_quantizePoints(R,w,K){let V,ue;const ee=[];for(let te=0,pe=R.length;te<pe;te++){const ae=R[te];if(te>0){const de=w(ae[0]),ve=K(ae[1]);de===V&&ve===ue||(ee.push([de-V,ve-ue]),V=de,ue=ve)}else V=w(ae[0]),ue=K(ae[1]),ee.push([V,ue])}return ee.length>0?ee:null}_getQuantizationFunction(R,w,K){return"point"===R?V=>(V.x=w(V.x),V.y=K(V.y),V):"polyline"===R||"polygon"===R?V=>{const ue=(0,J.Bi)(V)?V.rings:V.paths,ee=[];for(let te=0,pe=ue.length;te<pe;te++){const de=this._quantizePoints(ue[te],w,K);de&&ee.push(de)}return ee.length>0?((0,J.Bi)(V)?V.rings=ee:V.paths=ee,V):null}:"multipoint"===R?V=>{const ue=this._quantizePoints(V.points,w,K);return ue&&ue.length>0?(V.points=ue,V):null}:"extent"===R?V=>V:null}_getHydrationFunction(R,w,K,V,ue){return"point"===R?ee=>{ee.x=w(ee.x),ee.y=K(ee.y),V&&(ee.z=V(ee.z))}:"polyline"===R||"polygon"===R?ee=>{const te=(0,J.Bi)(ee)?ee.rings:ee.paths;let pe,ae;for(let de=0,ve=te.length;de<ve;de++){const G=te[de];for(let fe=0,ie=G.length;fe<ie;fe++){const ye=G[fe];fe>0?(pe+=ye[0],ae+=ye[1]):(pe=ye[0],ae=ye[1]),ye[0]=w(pe),ye[1]=K(ae)}}if(V&&ue)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];for(let fe=0,ie=G.length;fe<ie;fe++){const ye=G[fe];ye[2]=V(ye[2]),ye[3]=ue(ye[3])}}else if(V)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];for(let fe=0,ie=G.length;fe<ie;fe++){const ye=G[fe];ye[2]=V(ye[2])}}else if(ue)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];for(let fe=0,ie=G.length;fe<ie;fe++){const ye=G[fe];ye[2]=ue(ye[2])}}}:"extent"===R?ee=>{ee.xmin=w(ee.xmin),ee.ymin=K(ee.ymin),ee.xmax=w(ee.xmax),ee.ymax=K(ee.ymax),V&&null!=ee.zmax&&null!=ee.zmin&&(ee.zmax=V(ee.zmax),ee.zmin=V(ee.zmin)),ue&&null!=ee.mmax&&null!=ee.mmin&&(ee.mmax=ue(ee.mmax),ee.mmin=ue(ee.mmin))}:"multipoint"===R?ee=>{const te=ee.points;let pe,ae;for(let de=0,ve=te.length;de<ve;de++){const G=te[de];de>0?(pe+=G[0],ae+=G[1]):(pe=G[0],ae=G[1]),G[0]=w(pe),G[1]=K(ae)}if(V&&ue)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];G[2]=V(G[2]),G[3]=ue(G[3])}else if(V)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];G[2]=V(G[2])}else if(ue)for(let de=0,ve=te.length;de<ve;de++){const G=te[de];G[2]=ue(G[2])}}:null}};(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:R=>({enabled:R})}}})],b.prototype,"exceededTransferLimit",void 0),(0,E._)([(0,j.MZ)({type:[W.A],json:{write:!0}})],b.prototype,"features",void 0),(0,E._)([(0,I.w)("features")],b.prototype,"readFeatures",null),(0,E._)([(0,j.MZ)({type:[Z.A],json:{write:!0}})],b.prototype,"fields",void 0),(0,E._)([(0,j.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:C.read}}})],b.prototype,"geometryType",void 0),(0,E._)([(0,U.K)("geometryType")],b.prototype,"writeGeometryType",null),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:R=>({enabled:R})}}})],b.prototype,"hasM",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:R=>({enabled:R})}}})],b.prototype,"hasZ",void 0),(0,E._)([(0,j.MZ)({types:D.yR,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,E._)([(0,I.w)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,E._)([(0,j.MZ)({type:N.A,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,E._)([(0,U.K)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,E._)([(0,j.MZ)({json:{write:!0}})],b.prototype,"transform",void 0),b=L=(0,E._)([(0,O.$)("esri.rest.support.FeatureSet")],b),b.prototype.toJSON.isDefaultToJSON=!0;const x=b},53754:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(76576)),j=v(11029),$=v(3678);let I=S=class extends $.A{constructor(U){super(U),this.colorRamps=null,this.type="multipart"}clone(){return new S({colorRamps:(0,D.o8)(this.colorRamps)})}};(0,E._)([(0,W.MZ)({type:[j.A],json:{write:!0}})],I.prototype,"colorRamps",void 0),(0,E._)([(0,W.MZ)({type:["multipart"]})],I.prototype,"type",void 0),I=S=(0,E._)([(0,H.$)("esri.rest.support.MultipartColorRamp")],I);const O=I},77436:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(61320),S=v(58701);let I=class extends D.oY{constructor(U){super(U),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const U=this.geometries.map(Z=>Z.toJSON()),N=this.geometries[0],J={};return J.outSR=(0,S.YX)(this.outSpatialReference),J.inSR=(0,S.YX)(N.spatialReference),J.geometries=JSON.stringify({geometryType:(0,$.$B)(N),geometries:U}),this.transformation&&(J.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(J.transformForward=this.transformForward),J}};(0,E._)([(0,W.MZ)()],I.prototype,"geometries",void 0),(0,E._)([(0,W.MZ)({json:{read:{source:"outSR"}}})],I.prototype,"outSpatialReference",void 0),(0,E._)([(0,W.MZ)()],I.prototype,"transformation",void 0),(0,E._)([(0,W.MZ)()],I.prototype,"transformForward",void 0),I=(0,E._)([(0,j.$)("esri.rest.support.ProjectParameters")],I);const O=I},22772:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var O,E=v(8189),W=(v(21152),v(49976)),B=v(71065),P=v(77806),H=v(85211),S=(v(3248),v(35150),v(76576)),I=v(28067);const U=new W.J({upperLeft:"upper-left",lowerLeft:"lower-left"});let N=O=class extends B.oY{constructor(Z){super(Z),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new O((0,P.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,E._)([(0,H.MZ)({type:I.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],N.prototype,"extent",void 0),(0,E._)([(0,H.MZ)({type:["view","edit"],json:{write:!0}})],N.prototype,"mode",void 0),(0,E._)([(0,H.MZ)({type:String,json:{read:U.read,write:U.write}})],N.prototype,"originPosition",void 0),(0,E._)([(0,H.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],N.prototype,"tolerance",void 0),N=O=(0,E._)([(0,S.$)("esri.rest.support.QuantizationParameters")],N);const J=N},87086:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>de});var E=v(8189),D=v(21152),W=v(12849),B=v(49976),P=v(71065),H=v(77806),j=v(85211),$=v(48669),S=v(15463),I=v(76576),O=v(50305),U=v(55739),N=v(61320),J=v(93164),Z=v(90660);v(3248),v(35150),v(40707);let x=class extends((0,Z.O)(P.oY)){constructor(ve){super(ve),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,E._)([(0,j.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],x.prototype,"onFields",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],x.prototype,"operator",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],x.prototype,"searchTerm",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],x.prototype,"searchType",void 0),x=(0,E._)([(0,I.$)("esri.rest.support.FullTextSearch")],x);const R=x;var te,w=v(22772),K=v(37086),V=v(16842),ue=v(32034),ee=v(1749);const pe=new B.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ae=te=class extends P.oY{static from(ve){return(0,U.PZ)(te,ve)}constructor(ve){super(ve),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(ve){return"number"==typeof ve||"object"==typeof ve?ve:null}writeHistoricMoment(ve,G){G.historicMoment=ve&&ve.getTime()}writeParameterValues(ve,G){if(ve){const fe={};for(const ie in ve){const ye=ve[ie];fe[ie]=Array.isArray(ye)?ye.map(q=>q instanceof Date?q.getTime():q):ye instanceof Date?ye.getTime():ye}G.parameterValues=fe}}writeStart(ve,G){G.resultOffset=this.start,G.resultRecordCount=this.num||10,G.where="1=1"}writeWhere(ve,G){G.where=ve||"1=1"}clone(){return new te((0,H.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ae.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,E._)([(0,j.MZ)({json:{write:!0}})],ae.prototype,"aggregateIds",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:!0}})],ae.prototype,"cacheHint",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"compactGeometryEnabled",void 0),(0,E._)([(0,j.MZ)({json:{write:!0}})],ae.prototype,"datumTransformation",void 0),(0,E._)([(0,$.w)("datumTransformation")],ae.prototype,"castDatumTransformation",null),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"defaultSpatialReferenceEnabled",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:{overridePolicy:ve=>({enabled:ve>0})}}})],ae.prototype,"distance",void 0),(0,E._)([(0,j.MZ)({type:J.L,json:{write:!0}})],ae.prototype,"dynamicDataSource",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"formatOf3DObjects",void 0),(0,E._)([(0,j.MZ)({type:[R],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],ae.prototype,"fullText",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"gdbVersion",void 0),(0,E._)([(0,j.MZ)({types:D.yR,json:{read:N.rS,write:!0}})],ae.prototype,"geometry",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:!0}})],ae.prototype,"geometryPrecision",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],ae.prototype,"groupByFieldsForStatistics",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"having",void 0),(0,E._)([(0,j.MZ)({type:Date})],ae.prototype,"historicMoment",void 0),(0,E._)([(0,O.K)("historicMoment")],ae.prototype,"writeHistoricMoment",null),(0,E._)([(0,j.MZ)({type:Number,json:{write:!0}})],ae.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,j.MZ)({type:Number,cast:ve=>ve<1?1:ve>ae.MAX_MAX_RECORD_COUNT_FACTOR?ae.MAX_MAX_RECORD_COUNT_FACTOR:ve,json:{write:{overridePolicy:ve=>({enabled:ve>1})}}})],ae.prototype,"maxRecordCountFactor",void 0),(0,E._)([(0,j.MZ)({type:["xyFootprint"],json:{write:!0}})],ae.prototype,"multipatchOption",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],ae.prototype,"num",void 0),(0,E._)([(0,j.MZ)({json:{write:!0}})],ae.prototype,"objectIds",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],ae.prototype,"orderByFields",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],ae.prototype,"outFields",void 0),(0,E._)([(0,j.MZ)({type:ue.A,json:{name:"outSR",write:!0}})],ae.prototype,"outSpatialReference",void 0),(0,E._)([(0,j.MZ)({type:[V.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],ae.prototype,"outStatistics",void 0),(0,E._)([(0,j.MZ)({json:{write:!0}})],ae.prototype,"parameterValues",void 0),(0,E._)([(0,O.K)("parameterValues")],ae.prototype,"writeParameterValues",null),(0,E._)([(0,j.MZ)({type:ee.A,json:{write:!0}})],ae.prototype,"pixelSize",void 0),(0,E._)([(0,j.MZ)({type:w.A,json:{write:!0}})],ae.prototype,"quantizationParameters",void 0),(0,E._)([(0,j.MZ)({type:[Object],json:{write:!0}})],ae.prototype,"rangeValues",void 0),(0,E._)([(0,j.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],ae.prototype,"relationParameter",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"resultType",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnCentroid",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnDistinctValues",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!0,write:!0}})],ae.prototype,"returnExceededLimitFeatures",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:!0}})],ae.prototype,"returnGeometry",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnQueryGeometry",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"returnM",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:ve=>({enabled:ve})}}})],ae.prototype,"returnZ",void 0),(0,E._)([(0,j.MZ)({type:ue.A,json:{write:!0}})],ae.prototype,"sourceSpatialReference",void 0),(0,E._)([(0,S.e)(K.x,{ignoreUnknown:!1,name:"spatialRel"})],ae.prototype,"spatialRelationship",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],ae.prototype,"start",void 0),(0,E._)([(0,O.K)("start"),(0,O.K)("num")],ae.prototype,"writeStart",null),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"sqlFormat",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],ae.prototype,"text",void 0),(0,E._)([(0,j.MZ)({type:W.A,json:{write:!0}})],ae.prototype,"timeExtent",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{default:!1,write:!0}})],ae.prototype,"timeReferenceUnknownClient",void 0),(0,E._)([(0,S.e)(pe,{ignoreUnknown:!1}),(0,j.MZ)({json:{write:{overridePolicy(ve){return{enabled:!!ve&&null!=this.distance&&this.distance>0}}}}})],ae.prototype,"units",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:{overridePolicy(ve){return{enabled:null!=ve||null!=this.start&&this.start>0}}}}})],ae.prototype,"where",void 0),(0,E._)([(0,O.K)("where")],ae.prototype,"writeWhere",null),ae=te=(0,E._)([(0,I.$)("esri.rest.support.Query")],ae);const de=ae},59487:(et,Ae,v)=>{"use strict";v.r(Ae),v.d(Ae,{default:()=>N});var O,E=v(8189),W=(v(21152),v(71065)),B=v(77806),P=v(85211),H=v(55739),j=v(76576),$=v(50305),S=v(93164),I=v(32034);let U=O=class extends W.oY{constructor(J){super(J),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(J,Z){Z.historicMoment=J&&J.getTime()}writeStart(J,Z){Z.resultOffset=this.start,Z.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(Z.definitionExpression="1=1")}clone(){return new O((0,B.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],U.prototype,"cacheHint",void 0),(0,E._)([(0,P.MZ)({type:S.L,json:{write:!0}})],U.prototype,"dynamicDataSource",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"gdbVersion",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],U.prototype,"geometryPrecision",void 0),(0,E._)([(0,P.MZ)({type:Date})],U.prototype,"historicMoment",void 0),(0,E._)([(0,$.K)("historicMoment")],U.prototype,"_writeHistoricMoment",null),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],U.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],U.prototype,"objectIds",void 0),(0,E._)([(0,P.MZ)({type:[String],json:{write:!0}})],U.prototype,"orderByFields",void 0),(0,E._)([(0,P.MZ)({type:[String],json:{write:!0}})],U.prototype,"outFields",void 0),(0,E._)([(0,P.MZ)({type:I.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],U.prototype,"outSpatialReference",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],U.prototype,"relationshipId",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],U.prototype,"start",void 0),(0,E._)([(0,$.K)("start"),(0,$.K)("num")],U.prototype,"writeStart",null),(0,E._)([(0,P.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],U.prototype,"num",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],U.prototype,"returnGeometry",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],U.prototype,"returnM",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:{overridePolicy:J=>({enabled:J})}}})],U.prototype,"returnZ",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],U.prototype,"where",void 0),U=O=(0,E._)([(0,j.$)("esri.rest.support.RelationshipQuery")],U),U.from=(0,H.dp)(U);const N=U},16842:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var I,E=v(8189),D=v(49976),W=v(71065),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(76576)),S=v(50305);const O=new D.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let U=I=class extends W.oY{constructor(J){super(J),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(J,Z){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(Z.statisticParameters=(0,B.o8)(J))}clone(){return new I({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,B.o8)(this.statisticParameters)})}};(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],U.prototype,"maxPointCount",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],U.prototype,"maxRecordCount",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],U.prototype,"maxVertexCount",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"onStatisticField",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],U.prototype,"outStatisticFieldName",void 0),(0,E._)([(0,P.MZ)({type:String,json:{read:{source:"statisticType",reader:O.read},write:{target:"statisticType",writer:O.write}}})],U.prototype,"statisticType",void 0),(0,E._)([(0,P.MZ)({type:Object})],U.prototype,"statisticParameters",void 0),(0,E._)([(0,S.K)("statisticParameters")],U.prototype,"writeStatisticParameters",null),U=I=(0,E._)([(0,$.$)("esri.rest.support.StatisticDefinition")],U);const N=U},61569:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>V});var Z,E=v(8189),D=v(21152),W=v(12849),B=v(49976),P=v(71065),H=v(77806),j=v(85211),$=v(55739),S=v(76576),I=v(50305),O=v(61320);v(3248),v(35150),v(40707);let L=Z=class extends P.oY{constructor(ue){super(ue),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new Z({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],L.prototype,"groupByFields",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:!0}})],L.prototype,"topCount",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],L.prototype,"orderByFields",void 0),L=Z=(0,E._)([(0,S.$)("esri.rest.support.TopFilter")],L);const C=L;var x,b=v(32034);const R=new B.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),w=new B.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let K=x=class extends P.oY{constructor(ue){super(ue),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(ue,ee){ee.resultOffset=this.start,ee.resultRecordCount=this.num||10}clone(){return new x((0,H.o8)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,E._)([(0,j.MZ)({type:Boolean,json:{write:!0}})],K.prototype,"cacheHint",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:{overridePolicy:ue=>({enabled:ue>0})}}})],K.prototype,"distance",void 0),(0,E._)([(0,j.MZ)({types:D.yR,json:{read:O.rS,write:!0}})],K.prototype,"geometry",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:!0}})],K.prototype,"geometryPrecision",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{write:!0}})],K.prototype,"maxAllowableOffset",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],K.prototype,"num",void 0),(0,E._)([(0,j.MZ)({json:{write:!0}})],K.prototype,"objectIds",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],K.prototype,"orderByFields",void 0),(0,E._)([(0,j.MZ)({type:[String],json:{write:!0}})],K.prototype,"outFields",void 0),(0,E._)([(0,j.MZ)({type:b.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],K.prototype,"outSpatialReference",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],K.prototype,"resultType",void 0),(0,E._)([(0,j.MZ)({json:{write:!0}})],K.prototype,"returnGeometry",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:ue=>({enabled:ue})}}})],K.prototype,"returnM",void 0),(0,E._)([(0,j.MZ)({type:Boolean,json:{write:{overridePolicy:ue=>({enabled:ue})}}})],K.prototype,"returnZ",void 0),(0,E._)([(0,j.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],K.prototype,"start",void 0),(0,E._)([(0,I.K)("start"),(0,I.K)("num")],K.prototype,"writeStart",null),(0,E._)([(0,j.MZ)({type:String,json:{read:{source:"spatialRel",reader:R.read},write:{target:"spatialRel",writer:R.write}}})],K.prototype,"spatialRelationship",void 0),(0,E._)([(0,j.MZ)({type:W.A,json:{write:!0}})],K.prototype,"timeExtent",void 0),(0,E._)([(0,j.MZ)({type:C,json:{write:!0}})],K.prototype,"topFilter",void 0),(0,E._)([(0,j.MZ)({type:String,json:{read:w.read,write:{writer:w.write,overridePolicy(ue){return{enabled:null!=ue&&null!=this.distance&&this.distance>0}}}}})],K.prototype,"units",void 0),(0,E._)([(0,j.MZ)({type:String,json:{write:!0}})],K.prototype,"where",void 0),K=x=(0,E._)([(0,S.$)("esri.rest.support.TopFeaturesQuery")],K),K.from=(0,$.dp)(K);const V=K},54485:(et,Ae,v)=>{"use strict";v.d(Ae,{g:()=>B,r:()=>P});var E=v(11029),D=v(3678),W=v(53754);const B={key:"type",base:D.A,typeMap:{algorithmic:E.A,multipart:W.A}};function P(H){return H?.type?"algorithmic"===H.type?E.A.fromJSON(H):"multipart"===H.type?W.A.fromJSON(H):null:null}},37086:(et,Ae,v)=>{"use strict";v.d(Ae,{x:()=>D});const D=new(v(49976).J)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},68800:(et,Ae,v)=>{"use strict";v.d(Ae,{Dl:()=>j,jV:()=>H,lF:()=>$}),v(23098),v(77469);var W=v(77806),B=v(45272);function H(I,O){return O?{...O,query:{...I??{},...O.query}}:{query:I}}function j(I){return"string"==typeof I?(0,B.An)(I):(0,W.o8)(I)}function $(I,O,U){const N={};for(const J in I){if("declaredClass"===J)continue;const Z=I[J];if(null!=Z&&"function"!=typeof Z)if(Array.isArray(Z))N[J]=Z.map(L=>$(L));else if("object"==typeof Z)if(Z.toJSON){const L=Z.toJSON(U?.[J]);N[J]=O?L:JSON.stringify(L)}else N[J]=O?Z:JSON.stringify(Z);else N[J]=Z}return N}v(2174)},27641:(et,Ae,v)=>{"use strict";v.d(Ae,{Y:()=>O});var E=v(8189),D=v(81098),B=(v(35150),v(55739)),$=(v(40707),v(3248),v(5922),v(69039)),S=v(76576),I=v(88494);let O=class extends I.X{_own(U){U.layer&&"remove"in U.layer&&U.layer!==this.owner&&U.layer.remove(U),U.layer=this.owner}_release(U){U.layer===this.owner&&(U.layer=null)}};(0,E._)([(0,$.u)({Type:D.A,ensureType:(0,B.dp)(D.A)})],O.prototype,"itemType",void 0),O=(0,E._)([(0,S.$)("esri.support.GraphicsCollection")],O)},74613:(et,Ae,v)=>{"use strict";v.d(Ae,{Q:()=>U});var E=v(8189),D=v(31178),W=v(5605),B=v(35150),P=v(56492),H=v(85211),S=(v(3248),v(40707),v(76576)),I=v(95478);function O(N,J,Z){let L,C;if(N)for(let b=0,x=N.length;b<x;b++){if(L=N.at(b),L?.[J]===Z)return L;if("group"===L?.type&&(C=O(L.layers,J,Z),C))return C}}const U=N=>{let J=class extends N{constructor(...Z){super(...Z),this.layers=new D.A;const C=x=>{x.parent=this,this.layerAdded(x),"elevation"!==x.type&&"base-elevation"!==x.type||B.A.getLogger(this).error(`Layer 'title:${x.title}, id:${x.id}' of type '${x.type}' is not supported as an operational layer and will therefore be ignored.`)},b=x=>{x.parent=null,this.layerRemoved(x)};this.addHandles([this.layers.on("before-add",x=>{if(x.item===this)return x.preventDefault(),void B.A.getLogger(this).error("#add()","Cannot add layer to itself.");(x=>{x.parent&&"remove"in x.parent&&x.parent.remove(x)})(x.item)}),this.layers.on("after-add",x=>C(x.item)),this.layers.on("after-remove",x=>b(x.item))])}destroy(){const Z=this.layers.toArray();for(const L of Z)L.destroy();this.layers.destroy()}set layers(Z){this._set("layers",(0,W.V)(Z,this._get("layers")))}add(Z,L){const C=this.layers;if(L=C.getNextIndex(L),Z instanceof I.A){const b=Z;b.parent===this?this.reorder(b,L):C.add(b,L)}else(0,P.$X)(Z)?Z.then(b=>{this.destroyed||this.add(b,L)}):B.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(Z,L){const C=this.layers;let b=C.getNextIndex(L);Z.slice().forEach(x=>{x.parent!==this?(C.add(x,b),b+=1):this.reorder(x,b)})}findLayerById(Z){return O(this.layers,"id",Z)}findLayerByUid(Z){return O(this.layers,"uid",Z)}remove(Z){return this.layers.remove(Z)}removeMany(Z){return this.layers.removeMany(Z)}removeAll(){return this.layers.removeAll()}reorder(Z,L){return this.layers.reorder(Z,L)}layerAdded(Z){}layerRemoved(Z){}};return(0,E._)([(0,H.MZ)()],J.prototype,"layers",null),J=(0,E._)([(0,S.$)("esri.support.LayersMixin")],J),J}},93480:(et,Ae,v)=>{"use strict";v.d(Ae,{l:()=>I});var E=v(8189),D=v(31178),W=v(5605),B=v(35150),P=v(85211),$=(v(3248),v(40707),v(76576));function S(O,U,N){if(O)for(let J=0,Z=O.length;J<Z;J++){const L=O.at(J);if(L[U]===N)return L;if("group"===L?.type){const C=S(L.tables,U,N);if(C)return C}}}const I=O=>{let U=class extends O{constructor(...N){super(...N),this.tables=new D.A,this.addHandles([this.tables.on("after-add",J=>{const Z=J.item;Z.parent&&Z.parent!==this&&"tables"in Z.parent&&Z.parent.tables.remove(Z),Z.parent=this,"feature"!==Z.type&&B.A.getLogger(this).error(`Layer 'title:${Z.title}, id:${Z.id}' of type '${Z.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",J=>{J.item.parent=null})])}destroy(){const N=this.tables.toArray();for(const J of N)J.destroy();this.tables.destroy()}set tables(N){this._set("tables",(0,W.V)(N,this._get("tables")))}findTableById(N){return S(this.tables,"id",N)}findTableByUid(N){return S(this.tables,"uid",N)}};return(0,E._)([(0,P.MZ)()],U.prototype,"tables",null),U=(0,E._)([(0,$.$)("esri.support.TablesMixin")],U),U}},52491:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(98877),W=v(3046),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));let I=S=class extends((0,W.sA)(D.A)){constructor(U){super(U),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new S({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,E._)([(0,B.MZ)()],I.prototype,"active",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"className",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"disabled",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"icon",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"id",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"indicator",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"title",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"type",void 0),(0,E._)([(0,B.MZ)()],I.prototype,"visible",void 0),I=S=(0,E._)([(0,$.$)("esri.support.actions.ActionBase")],I);const O=I},11342:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52491);let S=$=class extends j.A{constructor(O){super(O),this.image=null,this.type="button"}clone(){return new $({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,E._)([(0,D.MZ)()],S.prototype,"image",void 0),S=$=(0,E._)([(0,H.$)("esri.support.actions.ActionButton")],S);const I=S},41866:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var $,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(52491);let S=$=class extends j.A{constructor(O){super(O),this.image=null,this.type="toggle",this.value=!1}clone(){return new $({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,E._)([(0,D.MZ)()],S.prototype,"image",void 0),(0,E._)([(0,D.MZ)()],S.prototype,"value",void 0),S=$=(0,E._)([(0,H.$)("esri.support.actions.ActionToggle")],S);const I=S},2174:(et,Ae,v)=>{"use strict";v.d(Ae,{Q:()=>B});var E=v(45272);const D=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function B(P){const H=(0,E.$z)(P,!0);return!!H&&H.endsWith(".arcgis.com")&&!D.has(H)&&!P.endsWith("/sharing/rest/generateToken")}},48218:(et,Ae,v)=>{"use strict";v.d(Ae,{Ad:()=>O,lw:()=>$,xR:()=>N});var E=v(10467),W=(v(21152),v(5922)),B=v(35150),P=v(32034);let j;function $(){return j||(j=(0,E.A)(function*(){const Z=yield Promise.all([v.e(1732),v.e(7936),v.e(2076),v.e(1842)]).then(v.bind(v,81842));return{arcade:Z.arcade,arcadeUtils:Z,Dictionary:Z.Dictionary,Feature:Z.arcadeFeature}})()),j}const O=(Z,L,C)=>J.create(Z,L,C,null,["$feature","$view"],[]),N=(Z,L,C,b)=>J.create(Z,L,C,b,["$feature","$view"],[]);class J{constructor(L,C,b,x,R,w,K){this.services=null,this.script=L,this.evaluate=x;const V=Array.isArray(w)?w:w?.fields;this.fields=V??[],this._syntaxTree=b,this._arcade=C,this._arcadeFeature=R,this._spatialReference=K,this._referencesGeometry=C.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static create(L,C,b,x,R,w){return(0,E.A)(function*(){const{arcade:K,Feature:V,Dictionary:ue}=yield $(),ee=P.A.fromJSON(C);let te;try{te=K.parseScript(L,w)}catch(le){return B.A.getLogger("esri.support.arcadeOnDemand").error(new W.A("arcade-bad-expression","Failed to parse arcade script",{script:L,error:le})),null}const pe=R.reduce((le,Se)=>({...le,[Se]:null}),{});let ae=null;null!=x&&(ae=new ue(x),ae.immutable=!0,pe.$config=null);const de=K.scriptUsesGeometryEngine(te),ve=de&&K.enableGeometrySupport(),G=K.scriptUsesFeatureSet(te)&&K.enableFeatureSetSupport(),fe=K.scriptIsAsync(te),ie=fe&&K.enableAsyncSupport(),ye={vars:pe,spatialReference:ee,useAsync:!!ie};yield Promise.all([ve,G,ie]);const q=new Set;yield K.loadDependentModules(q,te,null,fe,de);const re=new ue;re.immutable=!1,re.setField("scale",0);const ce=K.compileScript(te,ye);return new J(L,K,te,(le,Se)=>{const se=le.$view?.timeZone;return"$view"in le&&le.$view&&(re.setField("scale","object"==typeof le.$view&&"scale"in le.$view?le.$view.scale:void 0),le.$view=re),ae&&(le.$config=ae),ce({vars:le,spatialReference:ee,services:Se,timeZone:se})},new V,b,ee)})()}repurposeFeature(L){return L.geometry&&!L.geometry.spatialReference&&(L.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(L.geometry,L.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}},52706:(et,Ae,v)=>{"use strict";function E(W){const B=atob(W),P=new Uint8Array(B.length);for(let H=0;H<B.length;H++)P[H]=B.charCodeAt(H);return P.buffer}function D(W){const B=new Uint8Array(W);let P="";for(let H=0;H<B.length;H++)P+=String.fromCharCode(B[H]);return btoa(P)}v.d(Ae,{M:()=>E,Y:()=>D})},37361:(et,Ae,v)=>{"use strict";v.d(Ae,{H:()=>H,q:()=>B});var E=v(10467),D=v(90261),W=v(45846);function B(j){return P.apply(this,arguments)}function P(){return(P=(0,E.A)(function*(j){if(!j)return;const $=j.includes("-vector")?j.slice(0,j.indexOf("-vector")):j.includes("-3d")?j.slice(0,j.indexOf("-3d")):j,S=yield(0,W.ud)("esri/t9n/basemaps");return S[j]||S[$]})).apply(this,arguments)}const H={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,D.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,D.s)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},71470:(et,Ae,v)=>{"use strict";v.d(Ae,{JT:()=>ue,Rc:()=>V,VC:()=>O,dp:()=>N,jj:()=>U,n8:()=>ee});var E=v(4360),D=v(23098),B=(v(31178),v(35150)),P=v(11432),H=v(45272),j=v(55739),S=(v(26073),v(37361));const I=()=>B.A.getLogger("esri.support.basemapUtils");function O(){return{}}function U(se){for(const Pe in se)(0,P.pR)(se[Pe]),delete se[Pe]}function N(se,Pe){let Ie;if("string"==typeof se){const X=se in S.H,Ee=!X&&se.includes("/");if(!X&&!Ee){const Le=Object.entries(S.H).filter(([Oe,_e])=>D.A.apiKey&&!_e.classic||!D.A.apiKey&&(_e.classic||_e.is3d)).map(([Oe])=>`"${Oe}"`).sort().join(", ");return I().warn(`Unable to find basemap definition for: ${se}. Try one of these: ${Le}`),null}Pe&&(Ie=Pe[se]),Ie||(Ie=X?E.default.fromId(se):new E.default({style:{id:se}}),Pe&&(Pe[se]=Ie))}else Ie=(0,j.dp)(E.default,se);return Ie?.destroyed&&(I().warn("The provided basemap is already destroyed",{basemap:Ie}),Ie=null),Ie}function V(se){return!!se?.baseLayers.concat(se.referenceLayers).some(ue)}function ue(se){if(pe(se.url))return!0;if("vector-tile"===se.type)for(const Pe in se.sourceNameToSource){const Ie=se.sourceNameToSource[Pe];if(pe(Ie?.sourceUrl))return!0}return!1}function ee(se,Pe){if(null==Pe||null==se)return{spatialReference:null,updating:!1};if("not-loaded"===Pe.loadStatus)return Pe.load(),{spatialReference:null,updating:!0};if(Pe.spatialReference)return{spatialReference:Pe.spatialReference,updating:!1};if(0===Pe.baseLayers.length)return{spatialReference:null,updating:!1};const Ie=Pe.baseLayers.at(0);switch(Ie.loadStatus){case"not-loaded":Ie.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const X=(("supportedSpatialReferences"in Ie?Ie.supportedSpatialReferences:null)||["tileInfo"in Ie?Ie.tileInfo?.spatialReference:Ie.spatialReference]).filter(Boolean),Ee=se.spatialReference;return Ee?{spatialReference:X.find(Le=>Ee.equals(Le))??X[0]??null,updating:!1}:{spatialReference:X[0],updating:!1}}const te=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function pe(se){if(!se)return!1;const Pe=new H.s0((0,H.s2)(se));return!!Pe.authority&&te.test(Pe.authority)}},76227:(et,Ae,v)=>{"use strict";v.d(Ae,{X:()=>W,Z:()=>D});var E=v(2993);function D(B){return new E.A({getCollections:()=>[B.tables,B.layers],getChildrenFunction:P=>{const H=[];return"tables"in P&&H.push(P.tables),"layers"in P&&H.push(P.layers),H},itemFilterFunction:P=>{const H=P.parent;return!!H&&"tables"in H&&H.tables.includes(P)}})}function W(B){for(const P of B.values())P?.destroy();B.clear()}},12089:(et,Ae,v)=>{"use strict";v.d(Ae,{Vd:()=>D,Vo:()=>S});var E=v(3248);const D=()=>!!(0,E.A)("enable-feature:force-wosr"),S=()=>!!(0,E.A)("enable-feature:SceneLayer-editing");((N="i3s-patching")=>{switch(E.A.add("enable-i3s-patching",!1,!0,!0),E.A.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),E.A.add("enable-feature:SceneLayer-editing",!0,!0,!0),N){case"feature-layer-view":E.A.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":E.A.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},41843:(et,Ae,v)=>{"use strict";v.d(Ae,{tn:()=>N});var E=v(92165),D=v(86300),W=v(54042),j=(v(75432),v(65121),v(558),v(8975)),O=(v(90792),v(83902),v(98089),v(61099)),U=v(17580);function N({displayField:ae,editFieldsInfo:de,fields:ve,objectIdField:G,title:fe},ie){if(!ve)return null;const ye=function x(ae,de){const ve=de?.visibleFieldNames;return function L(ae,de){const ve=ae;return de&&(ae=ae.filter(G=>!de.includes(G.type))),ae===ve&&(ae=ae.slice()),ae.sort(C),ae}(ae.fields??[],de?.ignoreFieldTypes||pe).map(G=>new O.A({fieldName:G.name,isEditable:(0,D.R$)(G,ae),label:G.alias,format:K(G),visible:Z(G,{...ae,visibleFieldNames:ve})}))}({editFieldsInfo:de,fields:ve,objectIdField:G},ie);if(!ye.length)return null;const q=function ee(ae){const de=(0,D.mB)(ae),{titleBase:ve}=ae;return de?`${ve}: {${de.trim()}}`:ve??""}({titleBase:fe,fields:ve,displayField:ae}),re=function V(){return[new j.A,new W.A]}();return new E.A({title:q,content:re,fieldInfos:ye})}const Z=(ae,de)=>de.visibleFieldNames?de.visibleFieldNames.has(ae.name):(0,D.Bz)(ae,de);function C(ae,de){return"oid"===ae.type?-1:"oid"===de.type?1:te(ae)?-1:te(de)?1:(ae.alias||ae.name).toLocaleLowerCase().localeCompare((de.alias||de.name).toLocaleLowerCase())}function K(ae){switch(ae.type){case"small-integer":case"integer":case"single":return new U.A({digitSeparator:!0,places:0});case"double":return new U.A({digitSeparator:!0,places:2});case"string":return(0,D.JL)(ae.name)?new U.A({digitSeparator:!0,places:0}):void 0;default:return}}function te(ae){return"name"===(ae.name&&ae.name.toLowerCase())||"name"===ae.alias?.toLowerCase()}const pe=["geometry","blob","raster","guid","xml"]},3450:(et,Ae,v)=>{"use strict";v.d(Ae,{Sx:()=>H,c8:()=>I,m3:()=>N,ql:()=>S,tz:()=>O,xW:()=>U});var E=v(10467),D=v(23098),W=v(3248),B=v(56492),P=v(45272);function H(Z,L,C=!1,b){return new Promise((x,R)=>{if((0,B.G4)(b))return void R(j());let w=()=>{ue(),R(new Error(`Unable to load ${L}`))},K=()=>{const ee=Z;ue(),x(ee)},V=()=>{if(!Z)return;const ee=Z;ue(),ee.src="",R(j())};const ue=()=>{(0,W.A)("esri-image-decode")||(Z.removeEventListener("error",w),Z.removeEventListener("load",K)),w=null,K=null,Z=null,b?.removeEventListener("abort",V),V=null,C&&URL.revokeObjectURL(L)};b?.addEventListener("abort",V),(0,W.A)("esri-image-decode")?Z.decode().then(K,w):(Z.addEventListener("error",w),Z.addEventListener("load",K))})}function j(){try{return new DOMException("Aborted","AbortError")}catch{const Z=new Error;return Z.name="AbortError",Z}}const $="Timeout exceeded";function S(){return new Error($)}function I(Z){return"object"==typeof Z&&!!Z&&"message"in Z&&Z.message===$}function O(Z){D.A.request.crossOriginNoCorsDomains||(D.A.request.crossOriginNoCorsDomains={});const L=D.A.request.crossOriginNoCorsDomains;for(let C of Z)C=C.toLowerCase(),/^https?:\/\//.test(C)?L[(0,P.$z)(C)??""]=0:(L[(0,P.$z)("http://"+C)??""]=0,L[(0,P.$z)("https://"+C)??""]=0)}function U(Z){const L=D.A.request.crossOriginNoCorsDomains;if(L){let C=(0,P.$z)(Z);if(C)return C=C.toLowerCase(),!(0,P.FX)(C,(0,P.Xq)())&&L[C]<Date.now()-36e5}return!1}function N(Z){return J.apply(this,arguments)}function J(){return(J=(0,E.A)(function*(Z){const L=D.A.request.crossOriginNoCorsDomains,C=(0,P.$z)(Z);L&&C&&(L[C.toLowerCase()]=Date.now());const b=(0,P.An)(Z);Z=b.path,"json"===b.query?.f&&(Z+="?f=json");try{yield fetch(Z,{mode:"no-cors",credentials:"include"})}catch{}})).apply(this,arguments)}},97333:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>E,u:()=>D});const E="20240528",D="7245338e27d752fb1d560cb25cd7933092e3c027"},67722:(et,Ae,v)=>{"use strict";v.d(Ae,{fJ:()=>B,g4:()=>W,hY:()=>P});const E="calcite-mode-";function W(){return function D(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}().startsWith("dark")}function B(){return`${E}${W()?"dark":"light"}`}function P(j){(function H(j){Array.from(j.classList).forEach($=>{$.startsWith(E)&&j.classList.remove($)})})(j),j.classList.add(B())}},47280:(et,Ae,v)=>{"use strict";v.d(Ae,{dp:()=>lt,$y:()=>X,wk:()=>Ee,Y7:()=>_e,wC:()=>Oe,Ac:()=>we,Bu:()=>Xe,Es:()=>Le,q8:()=>ke,em:()=>De,Rv:()=>rt,xK:()=>Q,On:()=>Ye});var ee,E=v(55739),D=v(71224),W=v(81279),P=(v(64209),v(48827)),S=(v(92262),v(9015),v(99621),v(6241)),I=v(18399),N=(v(92200),v(65548),v(64484)),L=(v(33149),v(91485),v(8189)),C=v(77806),b=v(67685),x=v(85211),K=(v(3248),v(35150),v(15463)),V=v(76576),ue=v(33264);let te=ee=class extends P.A{constructor(..._t){super(..._t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(_t,tt,qe,xe){if(_t&&"string"!=typeof _t&&null==_t.imageData)return _t;const Be={};return _t&&(Be.url=_t),tt&&(Be.outline=tt),null!=qe&&(Be.width=(0,b.cr)(qe)),null!=xe&&(Be.height=(0,b.cr)(xe)),Be}clone(){const _t=new ee({color:(0,C.o8)(this.color),height:this.height,outline:(0,C.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return _t._set("source",(0,C.o8)(this.source)),_t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,L._)([(0,K.e)({esriPFS:"picture-fill"},{readOnly:!0})],te.prototype,"type",void 0),(0,L._)([(0,x.MZ)(ue.ku)],te.prototype,"url",void 0),(0,L._)([(0,x.MZ)({type:Number,json:{write:!0}})],te.prototype,"xscale",void 0),(0,L._)([(0,x.MZ)({type:Number,json:{write:!0}})],te.prototype,"yscale",void 0),(0,L._)([(0,x.MZ)({type:Number,cast:b.cr,json:{write:!0}})],te.prototype,"width",void 0),(0,L._)([(0,x.MZ)({type:Number,cast:b.cr,json:{write:!0}})],te.prototype,"height",void 0),(0,L._)([(0,x.MZ)({type:Number,cast:b.cr,json:{write:!0}})],te.prototype,"xoffset",void 0),(0,L._)([(0,x.MZ)({type:Number,cast:b.cr,json:{write:!0}})],te.prototype,"yoffset",void 0),(0,L._)([(0,x.MZ)(ue.k7)],te.prototype,"source",void 0),te=ee=(0,L._)([(0,V.$)("esri.symbols.PictureFillSymbol")],te);const pe=te;var ae=v(65824),de=v(25613),ve=v(27093),G=v(88521),fe=v(55417),ie=v(46602),ye=v(84986),ce=(v(32713),v(20736),v(47705)),Se=(v(2329),v(4611),v(75549));function X(_t){if(!_t)return!1;switch(_t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Ee(_t){if(!_t)return!1;switch(_t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}v(53313),v(16707);const Le={base:ye.A,key:"type",typeMap:{"simple-fill":G.A,"picture-fill":pe,"picture-marker":ae.A,"simple-line":fe.A,"simple-marker":ie.A,text:ce.A,"label-3d":S.A,"line-3d":I.A,"mesh-3d":N.A,"point-3d":de.A,"polygon-3d":ve.A,"web-style":Se.A,cim:W.A},errorContext:"symbol"},Oe={base:ye.A,key:"type",typeMap:{"picture-marker":ae.A,"simple-marker":ie.A,"point-3d":de.A,cim:W.A},errorContext:"symbol"},_e={base:ye.A,key:"type",typeMap:{"simple-line":fe.A,"line-3d":I.A,cim:W.A},errorContext:"symbol"},we={base:ye.A,key:"type",typeMap:{"simple-fill":G.A,"picture-fill":pe,"polygon-3d":ve.A,cim:W.A},errorContext:"symbol"},ke={base:ye.A,key:"type",typeMap:{"picture-marker":ae.A,"simple-marker":ie.A,text:ce.A,"web-style":Se.A,cim:W.A},errorContext:"symbol"},Xe=(0,D.C)({types:Le}),Q={base:ye.A,key:"type",typeMap:{"simple-fill":G.A,"picture-fill":pe,"picture-marker":ae.A,"simple-line":fe.A,"simple-marker":ie.A,text:ce.A,"line-3d":I.A,"mesh-3d":N.A,"point-3d":de.A,"polygon-3d":ve.A,"web-style":Se.A,cim:W.A},errorContext:"symbol"},De={base:ye.A,key:"type",typeMap:{text:ce.A,"label-3d":S.A},errorContext:"symbol"},Ye={base:ye.A,key:"type",typeMap:{"line-3d":I.A,"mesh-3d":N.A,"point-3d":de.A,"polygon-3d":ve.A,"web-style":Se.A,cim:W.A},errorContext:"symbol"},rt={base:ye.A,key:"type",typeMap:{"label-3d":S.A},errorContext:"symbol"},lt=(0,E.aq)(Le)},81279:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var J,E=v(10467),D=v(8189),W=v(77806),B=v(1119),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(17221),I=v(76576),O=v(50305),U=v(86300),N=v(84986);let Z=J=class extends N.A{constructor(C){super(C),this.data=null,this.type="cim"}readData(C,b){return b}writeData(C,b){Object.assign(b,C)}collectRequiredFields(C,b){var x=this;return(0,E.A)(function*(){if("CIMSymbolReference"===x.data?.type){const R=x.data.primitiveOverrides;if(R){const w=R.map(K=>{const V=K.valueExpressionInfo;return V?(0,U.Dx)(C,b,V.expression):null});yield Promise.all(w)}}})()}clone(){return new J({data:(0,W.o8)(this.data)})}hash(){return(0,B.Wm)(JSON.stringify(this.data)).toString()}};(0,D._)([(0,P.MZ)({json:{write:!1}})],Z.prototype,"color",void 0),(0,D._)([(0,P.MZ)({json:{write:!0}})],Z.prototype,"data",void 0),(0,D._)([(0,S.w)("data",["symbol"])],Z.prototype,"readData",null),(0,D._)([(0,O.K)("data",{})],Z.prototype,"writeData",null),(0,D._)([(0,$.e)({CIMSymbolReference:"cim"},{readOnly:!0})],Z.prototype,"type",void 0),Z=J=(0,D._)([(0,I.$)("esri.symbols.CIMSymbol")],Z);const L=Z},64209:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>N});var O,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(15463)),j=v(76576),$=v(20736),S=v(91033),I=v(74760);let U=O=class extends $.A{constructor(J){super(J),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new O({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};(0,E._)([(0,H.e)({Extrude:"extrude"},{readOnly:!0})],U.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],U.prototype,"size",void 0),(0,E._)([(0,D.MZ)({type:I.N,json:{write:!0}})],U.prototype,"material",void 0),(0,E._)([(0,D.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],U.prototype,"castShadows",void 0),(0,E._)([(0,D.MZ)(S.J)],U.prototype,"edges",void 0),U=O=(0,E._)([(0,j.$)("esri.symbols.ExtrudeSymbol3DLayer")],U);const N=U},48827:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(55417),$=v(84986);let S=class extends $.A{constructor(O){super(O),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,E._)([(0,D.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":j.A}},json:{default:null,write:!0}})],S.prototype,"outline",void 0),(0,E._)([(0,D.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],S.prototype,"type",void 0),S=(0,E._)([(0,H.$)("esri.symbols.FillSymbol")],S);const I=S},92262:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>pe});var L,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(15463)),j=v(76576),$=v(20736),S=v(91033),I=v(7798),O=v(91541),U=v(11451),N=v(47146),Z=(v(5922),v(74760));let C=L=class extends Z.N{constructor(ae){super(ae),this.colorMixMode=null}clone(){const ae={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new L(ae)}};(0,E._)([(0,H.e)({multiply:"multiply",replace:"replace",tint:"tint"})],C.prototype,"colorMixMode",void 0),C=L=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DFillMaterial")],C);var V,b=v(68677),x=v(71065),R=v(67685),w=v(86646),K=v(64439);let ue=V=class extends x.oY{constructor(ae){super(ae),this.color=new b.A([0,0,0,1]),this.size=(0,R.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){const ae={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new V(ae)}};var ee;(0,E._)([(0,D.MZ)(w.E)],ue.prototype,"color",void 0),(0,E._)([(0,D.MZ)(w.p)],ue.prototype,"size",void 0),(0,E._)([(0,D.MZ)(U.v)],ue.prototype,"pattern",void 0),(0,E._)([(0,D.MZ)({type:K.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],ue.prototype,"patternCap",void 0),ue=V=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DOutline")],ue);let te=ee=class extends $.A{constructor(ae){super(ae),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const ae={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new ee(ae)}static fromSimpleFillSymbol(ae){const de=ae.outline&&ae.outline.style&&"solid"!==ae.outline.style?new I.A({style:ae.outline.style}):null,ve={size:ae.outline?.width??0,color:(ae.outline?.color??N.ON).clone(),pattern:de};return de&&ae.outline?.cap&&(ve.patternCap=ae.outline.cap),new ee({material:new C({color:(ae.color??N.u7).clone()}),pattern:ae.style&&"solid"!==ae.style?new O.A({style:ae.style}):null,outline:ve})}};(0,E._)([(0,H.e)({Fill:"fill"},{readOnly:!0})],te.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:C,json:{write:!0}})],te.prototype,"material",void 0),(0,E._)([(0,D.MZ)(U.r)],te.prototype,"pattern",void 0),(0,E._)([(0,D.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],te.prototype,"castShadows",void 0),(0,E._)([(0,D.MZ)({type:ue,json:{write:!0}})],te.prototype,"outline",void 0),(0,E._)([(0,D.MZ)(S.J)],te.prototype,"edges",void 0),te=ee=(0,E._)([(0,j.$)("esri.symbols.FillSymbol3DLayer")],te);const pe=te},9015:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(71065),W=v(67685),B=v(85211),P=v(48669),$=(v(40707),v(3248),v(76576)),S=v(68448);let O=I=class extends D.oY{constructor(N){super(N),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(N){return(0,W.cr)(N)}clone(){return new I({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,E._)([(0,B.MZ)({type:S.h9,json:{default:"none",write:!0}})],O.prototype,"decoration",void 0),(0,E._)([(0,B.MZ)({type:String,json:{write:!0}})],O.prototype,"family",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{write:{overridePolicy:(N,J,Z)=>({enabled:!Z||!Z.textSymbol3D})}}})],O.prototype,"size",void 0),(0,E._)([(0,P.w)("size")],O.prototype,"castSize",null),(0,E._)([(0,B.MZ)({type:S._R,json:{default:"normal",write:!0}})],O.prototype,"style",void 0),(0,E._)([(0,B.MZ)({type:S.NM,json:{default:"normal",write:!0}})],O.prototype,"weight",void 0),O=I=(0,E._)([(0,$.$)("esri.symbols.Font")],O);const U=O},99621:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>te});var Z,E=v(8189),D=v(77806),W=v(35150),B=v(45272),P=v(85211),j=(v(3248),v(15463)),$=v(76576),S=v(20736),I=v(47146),O=v(28831),U=v(86646),N=v(98877);v(40707);let L=Z=class extends N.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Z({x:this.x,y:this.y})}};(0,E._)([(0,P.MZ)({type:Number})],L.prototype,"x",void 0),(0,E._)([(0,P.MZ)({type:Number})],L.prototype,"y",void 0),L=Z=(0,E._)([(0,$.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],L);var R,C=v(68677),b=v(71065),x=v(67685);let w=R=class extends b.oY{constructor(G){super(G),this.color=new C.A([0,0,0,1]),this.size=(0,x.PN)(1)}clone(){const G={color:null!=this.color?this.color.clone():null,size:this.size};return new R(G)}};(0,E._)([(0,P.MZ)(U.E)],w.prototype,"color",void 0),(0,E._)([(0,P.MZ)(U.p)],w.prototype,"size",void 0),w=R=(0,E._)([(0,$.$)("esri.symbols.support.Symbol3DIconOutline")],w);var V,K=v(74760);const ue="esri.symbols.IconSymbol3DLayer";let ee=V=class extends S.A{constructor(G){super(G),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new V({anchor:this.anchor,anchorPosition:(0,D.o8)(this.anchorPosition),enabled:this.enabled,material:(0,D.o8)(this.material),outline:(0,D.o8)(this.outline),resource:(0,D.o8)(this.resource),size:this.size})}static fromSimpleMarkerSymbol(G){const fe=G.color||I.ON,ie=pe(G),ye=G.outline&&G.outline.width>0?{size:G.outline.width,color:(G.outline.color||I.ON).clone()}:null;return new V({size:G.size,resource:{primitive:ve(G.style)},material:{color:fe},outline:ye,anchor:ie?"relative":void 0,anchorPosition:ie})}static fromPictureMarkerSymbol(G){const fe=!G.color||(0,I.U9)(G.color)?I.ON:G.color,ie=pe(G);return new V({size:G.width<=G.height?G.height:G.width,resource:{href:G.url},material:{color:fe.clone()},anchor:ie?"relative":void 0,anchorPosition:ie})}static fromCIMSymbol(G){return new V({resource:{href:(0,B.Hg)({mediaType:"application/json",data:JSON.stringify(G.data)})}})}};(0,E._)([(0,P.MZ)({type:K.N,json:{write:!0}})],ee.prototype,"material",void 0),(0,E._)([(0,P.MZ)({type:O.i,json:{write:!0}})],ee.prototype,"resource",void 0),(0,E._)([(0,j.e)({Icon:"icon"},{readOnly:!0})],ee.prototype,"type",void 0),(0,E._)([(0,P.MZ)(U.p)],ee.prototype,"size",void 0),(0,E._)([(0,j.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),(0,P.MZ)({json:{default:"center"}})],ee.prototype,"anchor",void 0),(0,E._)([(0,P.MZ)({type:L,json:{type:[Number],read:{reader:G=>new L({x:G[0],y:G[1]})},write:{writer:(G,fe)=>{fe.anchorPosition=[G.x,G.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],ee.prototype,"anchorPosition",void 0),(0,E._)([(0,P.MZ)({type:w,json:{write:!0}})],ee.prototype,"outline",void 0),ee=V=(0,E._)([(0,$.$)(ue)],ee);const te=ee;function pe(G){const fe="width"in G?G.width:G.size,ie="height"in G?G.height:G.size,ye=ae(G.xoffset),q=ae(G.yoffset);return(ye||q)&&fe&&ie?{x:-ye/fe,y:q/ie}:null}function ae(G){return isFinite(G)?G:0}const de={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ve(G){return de[G]||(W.A.getLogger(ue).warn(`${G} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}},6241:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var N,E=v(8189),D=v(31178),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(15463)),$=v(76576),S=v(32713),I=v(2329),O=v(34619),U=v(39908);const J=D.A.ofType({base:null,key:"type",typeMap:{text:I.A}});let Z=N=class extends S.A{constructor(C){super(C),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new J,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,O.LH)(this)}hasVisibleVerticalOffset(){return(0,O.Yq)(this)}clone(){return new N({styleOrigin:(0,W.o8)(this.styleOrigin),symbolLayers:(0,W.o8)(this.symbolLayers),thumbnail:(0,W.o8)(this.thumbnail),callout:(0,W.o8)(this.callout),verticalOffset:(0,W.o8)(this.verticalOffset)})}static fromTextSymbol(C){return new N({symbolLayers:new D.A([I.A.fromTextSymbol(C)])})}};(0,E._)([(0,B.MZ)({type:U.A,json:{write:!0}})],Z.prototype,"verticalOffset",void 0),(0,E._)([(0,B.MZ)(O.oG)],Z.prototype,"callout",void 0),(0,E._)([(0,B.MZ)({json:{read:!1,write:!1}})],Z.prototype,"styleOrigin",void 0),(0,E._)([(0,B.MZ)({type:J})],Z.prototype,"symbolLayers",void 0),(0,E._)([(0,j.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],Z.prototype,"type",void 0),Z=N=(0,E._)([(0,$.$)("esri.symbols.LabelSymbol3D")],Z);const L=Z},18399:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var U,E=v(8189),D=v(31178),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(15463)),$=v(76576),S=v(92200),I=v(91485),O=v(32713);const N=D.A.ofType({base:null,key:"type",typeMap:{line:S.A,path:I.A}}),J=D.A.ofType({base:null,key:"type",typeMap:{line:S.A,path:I.A}});let Z=U=class extends O.A{constructor(C){super(C),this.symbolLayers=new N,this.type="line-3d"}clone(){return new U({styleOrigin:(0,W.o8)(this.styleOrigin),symbolLayers:(0,W.o8)(this.symbolLayers),thumbnail:(0,W.o8)(this.thumbnail)})}static fromSimpleLineSymbol(C){return new U({symbolLayers:new D.A([S.A.fromSimpleLineSymbol(C)])})}};(0,E._)([(0,B.MZ)({type:N,json:{type:J}})],Z.prototype,"symbolLayers",void 0),(0,E._)([(0,j.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],Z.prototype,"type",void 0),Z=U=(0,E._)([(0,$.$)("esri.symbols.LineSymbol3D")],Z);const L=Z},92200:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ee});var E=v(8189),D=v(67685),W=v(85211),j=(v(3248),v(35150),v(40707),v(15463)),$=v(76576),S=v(68677),I=v(90660),O=v(71065),U=v(55739),N=v(29357);let J=class extends((0,I.O)(O.oY)){constructor(te){super(te),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(te){return null!=te&&te.placement===this.placement&&te.style===this.style&&(null==this.color&&null==te.color||null!=this.color&&null!=te.color&&this.color.toJSON()===te.color.toJSON())}};(0,E._)([(0,W.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],J.prototype,"type",void 0),(0,E._)([(0,W.MZ)({type:N.x,json:{default:"begin-end",write:!0}})],J.prototype,"placement",void 0),(0,E._)([(0,W.MZ)({type:N.z,json:{default:"arrow",write:!0}})],J.prototype,"style",void 0),(0,E._)([(0,W.MZ)({type:S.A,json:{type:[U.jz],default:null,write:!0}})],J.prototype,"color",void 0),J=(0,E._)([(0,$.$)("esri.symbols.LineStyleMarker3D")],J);const Z=J;var V,L=v(20736),C=v(7798),b=v(11451),x=v(47146),R=v(86646),w=v(74760),K=v(64439);let ue=V=class extends L.A{constructor(te){super(te),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,D.PN)(1),this.pattern=null,this.marker=null}clone(){const te={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new V(te)}static fromSimpleLineSymbol(te){const pe={enabled:!0,size:te.width??(0,D.PN)(1),cap:te.cap||"butt",join:te.join||"miter",pattern:te.style?new C.A({style:te.style}):null,material:new w.N({color:(te.color||x.ON).clone()}),marker:te.marker?new Z({placement:te.marker.placement,style:te.marker.style,color:te.marker.color?.clone()??null}):null};return new V(pe)}};(0,E._)([(0,W.MZ)({type:w.N,json:{write:!0}})],ue.prototype,"material",void 0),(0,E._)([(0,j.e)({Line:"line"},{readOnly:!0})],ue.prototype,"type",void 0),(0,E._)([(0,W.MZ)({type:K.e,json:{write:!0,default:"miter"}})],ue.prototype,"join",void 0),(0,E._)([(0,W.MZ)({type:K.M4,json:{write:!0,default:"butt"}})],ue.prototype,"cap",void 0),(0,E._)([(0,W.MZ)(R.p)],ue.prototype,"size",void 0),(0,E._)([(0,W.MZ)(b.v)],ue.prototype,"pattern",void 0),(0,E._)([(0,W.MZ)({types:{key:"type",base:Z,typeMap:{style:Z}},json:{write:!0}})],ue.prototype,"marker",void 0),ue=V=(0,E._)([(0,$.$)("esri.symbols.LineSymbol3DLayer")],ue);const ee=ue},65548:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var E=v(8189),D=v(67685),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(84986);let S=class extends $.A{constructor(O){super(O),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,E._)([(0,W.MZ)({type:Number,json:{read:O=>O&&-1*O,write:(O,U)=>U.angle=O&&-1*O}})],S.prototype,"angle",void 0),(0,E._)([(0,W.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],S.prototype,"type",void 0),(0,E._)([(0,W.MZ)({type:Number,cast:D.cr,json:{write:!0}})],S.prototype,"xoffset",void 0),(0,E._)([(0,W.MZ)({type:Number,cast:D.cr,json:{write:!0}})],S.prototype,"yoffset",void 0),(0,E._)([(0,W.MZ)({type:Number,cast:O=>"auto"===O?O:(0,D.cr)(O),json:{write:!0}})],S.prototype,"size",void 0),S=(0,E._)([(0,j.$)("esri.symbols.MarkerSymbol")],S);const I=S},64484:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var O,E=v(8189),D=v(31178),W=v(77806),B=v(85211),j=(v(3248),v(35150),v(15463)),$=v(76576),S=v(92262),I=v(32713);const U=D.A.ofType({base:null,key:"type",typeMap:{fill:S.A}});let N=O=class extends I.A{constructor(Z){super(Z),this.symbolLayers=new U,this.type="mesh-3d"}clone(){return new O({styleOrigin:(0,W.o8)(this.styleOrigin),symbolLayers:(0,W.o8)(this.symbolLayers),thumbnail:(0,W.o8)(this.thumbnail)})}static fromSimpleFillSymbol(Z){return new O({symbolLayers:new D.A([S.A.fromSimpleFillSymbol(Z)])})}};(0,E._)([(0,B.MZ)({type:U})],N.prototype,"symbolLayers",void 0),(0,E._)([(0,j.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],N.prototype,"type",void 0),N=O=(0,E._)([(0,$.$)("esri.symbols.MeshSymbol3D")],N);const J=N},33149:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var O,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(15463)),j=v(76576),$=v(20736),S=v(15225),I=v(98877);let U=O=class extends I.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new O({x:this.x,y:this.y,z:this.z})}};(0,E._)([(0,D.MZ)({type:Number})],U.prototype,"x",void 0),(0,E._)([(0,D.MZ)({type:Number})],U.prototype,"y",void 0),(0,E._)([(0,D.MZ)({type:Number})],U.prototype,"z",void 0),U=O=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],U);var J,N=v(74760);let Z=J=class extends $.A{constructor(C){super(C),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new J({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,E._)([(0,D.MZ)({type:N.N,json:{write:!0}})],Z.prototype,"material",void 0),(0,E._)([(0,D.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Z.prototype,"castShadows",void 0),(0,E._)([(0,D.MZ)({type:S.E,json:{write:!0}})],Z.prototype,"resource",void 0),(0,E._)([(0,H.e)({Object:"object"},{readOnly:!0})],Z.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"width",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"height",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"depth",void 0),(0,E._)([(0,H.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),(0,D.MZ)({json:{default:"origin"}})],Z.prototype,"anchor",void 0),(0,E._)([(0,D.MZ)({type:U,json:{type:[Number],read:{reader:C=>new U({x:C[0],y:C[1],z:C[2]})},write:{writer:(C,b)=>{b.anchorPosition=[C.x,C.y,C.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],Z.prototype,"anchorPosition",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"heading",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"tilt",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],Z.prototype,"roll",void 0),(0,E._)([(0,D.MZ)({readOnly:!0})],Z.prototype,"isPrimitive",null),Z=J=(0,E._)([(0,j.$)("esri.symbols.ObjectSymbol3DLayer")],Z);const L=Z},91485:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var U,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(15463)),j=v(17221),$=v(76576),S=v(20736),I=v(74760),O=v(64439);let N=U=class extends S.A{constructor(Z){super(Z),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(Z,L){return Z??(null==L.height&&null!=L.size?L.size:void 0)}readHeight(Z,L){return Z??(null==L.width&&null!=L.size?L.size:void 0)}clone(){return new U({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,E._)([(0,D.MZ)({type:I.N,json:{write:!0}})],N.prototype,"material",void 0),(0,E._)([(0,D.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],N.prototype,"castShadows",void 0),(0,E._)([(0,H.e)({Path:"path"},{readOnly:!0})],N.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],N.prototype,"profile",void 0),(0,E._)([(0,D.MZ)({type:O.e,json:{write:!0,default:"miter"}})],N.prototype,"join",void 0),(0,E._)([(0,D.MZ)({type:O.Nv,json:{write:!0,default:"butt"}})],N.prototype,"cap",void 0),(0,E._)([(0,D.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],N.prototype,"width",void 0),(0,E._)([(0,j.w)("width",["width","size","height"])],N.prototype,"readWidth",null),(0,E._)([(0,D.MZ)({type:Number,json:{write:!0}})],N.prototype,"height",void 0),(0,E._)([(0,j.w)("height",["height","size","width"])],N.prototype,"readHeight",null),(0,E._)([(0,D.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],N.prototype,"anchor",void 0),(0,E._)([(0,D.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],N.prototype,"profileRotation",void 0),N=U=(0,E._)([(0,$.$)("esri.symbols.PathSymbol3DLayer")],N);const J=N},65824:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var U,E=v(8189),D=v(77806),W=v(67685),B=v(85211),j=(v(3248),v(35150),v(15463)),$=v(17221),S=v(76576),I=v(65548),O=v(33264);let N=U=class extends I.A{constructor(...Z){super(...Z),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(Z,L,C){if(Z&&"string"!=typeof Z&&null==Z.imageData)return Z;const b={};return Z&&(b.url=Z),null!=L&&(b.width=(0,W.cr)(L)),null!=C&&(b.height=(0,W.cr)(C)),b}readHeight(Z,L){return L.size||Z}readWidth(Z,L){return L.size||Z}clone(){const Z=new U({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return Z._set("source",(0,D.o8)(this.source)),Z}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,E._)([(0,B.MZ)({json:{write:!1}})],N.prototype,"color",void 0),(0,E._)([(0,j.e)({esriPMS:"picture-marker"},{readOnly:!0})],N.prototype,"type",void 0),(0,E._)([(0,B.MZ)(O.ku)],N.prototype,"url",void 0),(0,E._)([(0,B.MZ)(O.k7)],N.prototype,"source",void 0),(0,E._)([(0,B.MZ)({type:Number,cast:W.cr,json:{write:!0}})],N.prototype,"height",void 0),(0,E._)([(0,$.w)("height",["height","size"])],N.prototype,"readHeight",null),(0,E._)([(0,B.MZ)({type:Number,cast:W.cr,json:{write:!0}})],N.prototype,"width",void 0),(0,E._)([(0,B.MZ)({json:{write:!1}})],N.prototype,"size",void 0),N=U=(0,E._)([(0,S.$)("esri.symbols.PictureMarkerSymbol")],N);const J=N},25613:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>R});var C,E=v(8189),D=v(68677),W=v(31178),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(76576),I=v(99621),O=v(33149),U=v(32713),N=v(2329),J=v(34619),Z=v(53313),L=v(39908);const b=W.A.ofType({base:null,key:"type",typeMap:{icon:I.A,object:O.A,text:N.A}});let x=C=class extends U.A{constructor(w){super(w),this.verticalOffset=null,this.callout=null,this.symbolLayers=new b,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const w of this.symbolLayers.items)switch(w.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,J.LH)(this)}hasVisibleVerticalOffset(){return(0,J.Yq)(this)}clone(){return new C({verticalOffset:(0,B.o8)(this.verticalOffset),callout:(0,B.o8)(this.callout),styleOrigin:(0,B.o8)(this.styleOrigin),symbolLayers:(0,B.o8)(this.symbolLayers),thumbnail:(0,B.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(w){return new C({symbolLayers:new W.A([I.A.fromSimpleMarkerSymbol(w)])})}static fromPictureMarkerSymbol(w){return new C({symbolLayers:new W.A([I.A.fromPictureMarkerSymbol(w)])})}static fromCIMSymbol(w){if("CIMPointSymbol"!==w.data?.symbol?.type)return null;const V=w.data.symbol;return new C(V?.callout?{symbolLayers:new W.A([I.A.fromCIMSymbol(w)]),callout:new Z.A({size:.5,color:new D.A([0,0,0])}),verticalOffset:new L.A({screenLength:40})}:{symbolLayers:new W.A([I.A.fromCIMSymbol(w)])})}static fromTextSymbol(w){return new C({symbolLayers:new W.A([N.A.fromTextSymbol(w)])})}};(0,E._)([(0,P.MZ)({type:L.A,json:{write:!0}})],x.prototype,"verticalOffset",void 0),(0,E._)([(0,P.MZ)(J.oG)],x.prototype,"callout",void 0),(0,E._)([(0,P.MZ)({type:b,json:{origins:{"web-scene":{write:!0}}}})],x.prototype,"symbolLayers",void 0),(0,E._)([(0,$.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],x.prototype,"type",void 0),x=C=(0,E._)([(0,S.$)("esri.symbols.PointSymbol3D")],x);const R=x},27093:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>K});var x,E=v(8189),D=v(31178),W=v(23159),B=v(77806),P=v(35150),H=v(48900),j=v(85211),S=(v(3248),v(15463)),I=v(76576),O=v(64209),U=v(92262),N=v(99621),J=v(92200),Z=v(33149),L=v(32713),C=v(2329),b=v(4611);const R=D.A.ofType({base:null,key:"type",typeMap:{extrude:O.A,fill:U.A,icon:N.A,line:J.A,object:Z.A,text:C.A,water:b.A}});let w=x=class extends L.A{constructor(V){super(V),this.symbolLayers=new R,this.type="polygon-3d"}initialize(){const V=ue=>{"line"===ue.type&&(0,W.io)(P.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===ue.type&&(0,W.io)(P.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const ue of this.symbolLayers)V(ue);this.addHandles((0,H.on)(()=>this.symbolLayers,"after-add",({item:ue})=>V(ue),H.OH))}clone(){return new x({styleOrigin:(0,B.o8)(this.styleOrigin),symbolLayers:(0,B.o8)(this.symbolLayers),thumbnail:(0,B.o8)(this.thumbnail)})}static fromJSON(V){const ue=new x;if(ue.read(V),2===ue.symbolLayers.length&&"fill"===ue.symbolLayers.at(0).type&&"line"===ue.symbolLayers.at(1).type){const ee=ue.symbolLayers.at(0),te=ue.symbolLayers.at(1);!te.enabled||V.symbolLayers?.[1]&&!1===V.symbolLayers[1].enable||(ee.outline={size:te.size,color:null!=te.material?te.material.color:null}),ue.symbolLayers.removeAt(1)}return ue}static fromSimpleFillSymbol(V){return new x({symbolLayers:new D.A([U.A.fromSimpleFillSymbol(V)])})}};(0,E._)([(0,j.MZ)({type:R,json:{write:!0}})],w.prototype,"symbolLayers",void 0),(0,E._)([(0,S.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],w.prototype,"type",void 0),w=x=(0,E._)([(0,I.$)("esri.symbols.PolygonSymbol3D")],w);const K=w},88521:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var U,E=v(8189),D=v(68677),W=v(49976),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(76576),I=v(48827),O=v(55417);const N=new W.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let J=U=class extends I.A{constructor(...L){super(...L),this.color=new D.A([0,0,0,.25]),this.outline=new O.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(L,C,b){if(L&&"string"!=typeof L)return L;const x={};return L&&(x.style=L),C&&(x.outline=C),b&&(x.color=b),x}clone(){return new U({color:(0,B.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,E._)([(0,P.MZ)()],J.prototype,"color",void 0),(0,E._)([(0,P.MZ)()],J.prototype,"outline",void 0),(0,E._)([(0,$.e)({esriSFS:"simple-fill"},{readOnly:!0})],J.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:N.apiValues,json:{read:N.read,write:N.write}})],J.prototype,"style",void 0),J=U=(0,E._)([(0,S.$)("esri.symbols.SimpleFillSymbol")],J);const Z=J},55417:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ee});var E=v(8189),D=v(49976),W=v(77806),B=v(67685),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(76576),O=(v(40707),v(84986));let U=class extends O.A{constructor(te){super(te),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,E._)([(0,$.e)({esriSLS:"simple-line"},{readOnly:!0})],U.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:Number,cast:B.cr,json:{write:!0}})],U.prototype,"width",void 0),U=(0,E._)([(0,S.$)("esri.symbols.LineSymbol")],U);const N=U;var x,J=v(68677),Z=v(71065),L=v(17221),C=v(50305),b=v(29357);let R=x=class extends Z.oY{constructor(te){super(te),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(te,pe,ae,de){pe[ae]="web-map"===de?.origin?"arrow":te}set color(te){this._set("color",te)}readColor(te){return null!=te?.[0]?[te[0],te[1],te[2],te[3]/255]:te}writeColor(te,pe,ae,de){"web-map"===de?.origin||(pe[ae]=te)}clone(){return new x({color:(0,W.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,E._)([(0,P.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],R.prototype,"placement",void 0),(0,E._)([(0,$.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,P.MZ)({json:{origins:{"web-map":{write:!1}}}})],R.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:b.z})],R.prototype,"style",void 0),(0,E._)([(0,C.K)("style")],R.prototype,"writeStyle",null),(0,E._)([(0,P.MZ)({type:J.A,value:null,json:{write:{allowNull:!0}}})],R.prototype,"color",null),(0,E._)([(0,L.w)("color")],R.prototype,"readColor",null),(0,E._)([(0,C.K)("color")],R.prototype,"writeColor",null),R=x=(0,E._)([(0,S.$)("esri.symbols.LineSymbolMarker")],R);const w=R;var K;const V=new D.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ue=K=class extends N{constructor(...te){super(...te),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(te,pe,ae,de,ve,G){if(te&&"string"!=typeof te)return te;const fe={};return null!=te&&(fe.style=te),null!=pe&&(fe.color=pe),null!=ae&&(fe.width=(0,B.cr)(ae)),null!=de&&(fe.cap=de),null!=ve&&(fe.join=ve),null!=G&&(fe.miterLimit=(0,B.cr)(G)),fe}clone(){return new K({color:(0,W.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,E._)([(0,$.e)({esriSLS:"simple-line"},{readOnly:!0})],ue.prototype,"type",void 0),(0,E._)([(0,P.MZ)({type:V.apiValues,json:{read:V.read,write:V.write}})],ue.prototype,"style",void 0),(0,E._)([(0,P.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(te,pe,ae)=>({enabled:"round"!==te&&null==ae?.origin})}}})],ue.prototype,"cap",void 0),(0,E._)([(0,P.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(te,pe,ae)=>({enabled:"round"!==te&&null==ae?.origin})}}})],ue.prototype,"join",void 0),(0,E._)([(0,P.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":w}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ue.prototype,"marker",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{read:!1,write:!1}})],ue.prototype,"miterLimit",void 0),ue=K=(0,E._)([(0,S.$)("esri.symbols.SimpleLineSymbol")],ue);const ee=ue},46602:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var J,E=v(8189),D=v(68677),W=v(49976),B=v(77806),P=v(67685),H=v(85211),S=(v(3248),v(35150),v(15463)),I=v(76576),O=v(50305),U=v(65548),N=v(55417);const Z=new W.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let L=J=class extends U.A{constructor(...b){super(...b),this.color=new D.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new N.A}normalizeCtorArgs(b,x,R,w){if(b&&"string"!=typeof b)return b;const K={};return b&&(K.style=b),null!=x&&(K.size=(0,P.cr)(x)),R&&(K.outline=R),w&&(K.color=w),K}writeColor(b,x){b&&"x"!==this.style&&"cross"!==this.style&&(x.color=b.toJSON()),null===b&&(x.color=null)}set path(b){this.style="path",this._set("path",b)}clone(){return new J({angle:this.angle,color:(0,B.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,E._)([(0,H.MZ)()],L.prototype,"color",void 0),(0,E._)([(0,O.K)("color")],L.prototype,"writeColor",null),(0,E._)([(0,S.e)({esriSMS:"simple-marker"},{readOnly:!0})],L.prototype,"type",void 0),(0,E._)([(0,H.MZ)()],L.prototype,"size",void 0),(0,E._)([(0,H.MZ)({type:Z.apiValues,json:{read:Z.read,write:Z.write}})],L.prototype,"style",void 0),(0,E._)([(0,H.MZ)({type:String,json:{write:!0}})],L.prototype,"path",null),(0,E._)([(0,H.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":N.A}},json:{default:null,write:!0}})],L.prototype,"outline",void 0),L=J=(0,E._)([(0,I.$)("esri.symbols.SimpleMarkerSymbol")],L);const C=L},84986:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var E=v(10467),D=v(8189),W=v(68677),B=v(49976),P=v(71065),H=v(85211),I=(v(3248),v(35150),v(40707),v(17221)),O=v(76576);const U=new B.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let N=0,J=class extends P.oY{constructor(L){super(L),this.id="sym"+N++,this.type=null,this.color=new W.A([0,0,0,1])}readColor(L){return null!=L?.[0]?[L[0],L[1],L[2],L[3]/255]:L}collectRequiredFields(L,C){return(0,E.A)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,D._)([(0,H.MZ)({type:U.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:U.write}}})],J.prototype,"type",void 0),(0,D._)([(0,H.MZ)({type:W.A,json:{write:{allowNull:!0}}})],J.prototype,"color",void 0),(0,D._)([(0,I.w)("color")],J.prototype,"readColor",null),J=(0,D._)([(0,O.$)("esri.symbols.Symbol")],J);const Z=J},32713:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>G});var E=v(8189),D=v(31178),W=v(5605),B=v(35150),P=v(45272),H=v(96996),j=v(85211),$=v(48669),O=(v(40707),v(3248),v(17221)),U=v(76576),N=v(50305),J=v(73874),Z=v(88135),L=v(64209),C=v(92262),b=v(99621),x=v(92200),R=v(33149),w=v(91485),K=v(84986),V=v(20736),ue=v(2329),ee=v(4611),te=v(7295),pe=v(76124);const ae={icon:b.A,object:R.A,line:x.A,path:w.A,fill:C.A,extrude:L.A,text:ue.A,water:ee.A},de=D.A.ofType({base:V.A,key:"type",typeMap:ae,errorContext:"symbol-layer"});let ve=class extends K.A{constructor(fe){super(fe),this.styleOrigin=null,this.thumbnail=null,this.type=null;const ie=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,ye=ie?.type;this._set("symbolLayers",new(ye||D.A))}get color(){return null}set color(fe){this.constructed&&B.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(fe){(0,W.V)(fe,this._get("symbolLayers"))}readStyleOrigin(fe,ie,ye){if(fe.styleUrl&&fe.name){const q=(0,Z.f)(fe.styleUrl,ye);return new te.A({styleUrl:q,name:fe.name})}if(fe.styleName&&fe.name)return new te.A({portal:ye?.portal||J.A.getDefault(),styleName:fe.styleName,name:fe.name});ye?.messages&&ye.messages.push(new H.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:ye,definition:fe}))}writeStyleOrigin(fe,ie,ye,q){if(fe.styleUrl&&fe.name){let re=(0,Z.t)(fe.styleUrl,q);(0,P.oP)(re)&&(re=(0,P.S8)(re)),ie.styleOrigin={styleUrl:re,name:fe.name}}else fe.styleName&&fe.name&&(fe.portal&&q?.portal&&!(0,P.ut)(fe.portal.restUrl,q.portal.restUrl)?q?.messages&&q.messages.push(new H.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):ie.styleOrigin={styleName:fe.styleName,name:fe.name})}normalizeCtorArgs(fe){return fe instanceof V.A||fe&&ae[fe.type]?{symbolLayers:[fe]}:Array.isArray(fe)?{symbolLayers:fe}:fe}};(0,E._)([(0,j.MZ)({json:{read:!1,write:!1}})],ve.prototype,"color",null),(0,E._)([(0,j.MZ)({type:de,nonNullable:!0,json:{write:!0}}),(0,$.w)(W.H)],ve.prototype,"symbolLayers",null),(0,E._)([(0,j.MZ)({type:te.A})],ve.prototype,"styleOrigin",void 0),(0,E._)([(0,O.w)("styleOrigin")],ve.prototype,"readStyleOrigin",null),(0,E._)([(0,N.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ve.prototype,"writeStyleOrigin",null),(0,E._)([(0,j.MZ)({type:pe.V,json:{read:!1}})],ve.prototype,"thumbnail",void 0),(0,E._)([(0,j.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ve.prototype,"type",void 0),ve=(0,E._)([(0,U.$)("esri.symbols.Symbol3D")],ve);const G=ve},20736:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(50305);let S=class extends D.oY{constructor(O){super(O),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(O,U,N){O||(U[N]=O)}};(0,E._)([(0,W.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],S.prototype,"enabled",void 0),(0,E._)([(0,$.K)("enabled")],S.prototype,"writeEnabled",null),(0,E._)([(0,W.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],S.prototype,"type",void 0),S=(0,E._)([(0,j.$)("esri.symbols.Symbol3DLayer")],S);const I=S},47705:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var N,E=v(8189),D=v(68677),W=v(77806),B=v(67685),P=v(85211),H=v(48669),j=v(15463),$=v(76576),S=v(50305),I=v(9015),O=v(84986),U=v(68448);let J=N=class extends O.A{constructor(...L){super(...L),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new I.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(L,C,b){if(L&&"string"!=typeof L)return L;const x={};return L&&(x.text=L),C&&(x.font=C),b&&(x.color=b),x}writeLineWidth(L,C,b,x){x&&"string"!=typeof x||(C[b]=L)}castLineWidth(L){return(0,B.cr)(L)}writeLineHeight(L,C,b,x){x&&"string"!=typeof x||(C[b]=L)}clone(){return new N({angle:this.angle,backgroundColor:(0,W.o8)(this.backgroundColor),borderLineColor:(0,W.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,W.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,W.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,E._)([(0,P.MZ)({type:D.A,json:{write:!0}})],J.prototype,"backgroundColor",void 0),(0,E._)([(0,P.MZ)({type:D.A,json:{write:!0}})],J.prototype,"borderLineColor",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0},cast:B.cr})],J.prototype,"borderLineSize",void 0),(0,E._)([(0,P.MZ)({type:I.A,json:{write:!0}})],J.prototype,"font",void 0),(0,E._)([(0,P.MZ)({...U.rM,json:{write:!0}})],J.prototype,"horizontalAlignment",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],J.prototype,"kerning",void 0),(0,E._)([(0,P.MZ)({type:D.A,json:{write:!0}})],J.prototype,"haloColor",void 0),(0,E._)([(0,P.MZ)({type:Number,cast:B.cr,json:{write:!0}})],J.prototype,"haloSize",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],J.prototype,"rightToLeft",void 0),(0,E._)([(0,P.MZ)({type:Boolean,json:{write:!0}})],J.prototype,"rotated",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],J.prototype,"text",void 0),(0,E._)([(0,j.e)({esriTS:"text"},{readOnly:!0})],J.prototype,"type",void 0),(0,E._)([(0,P.MZ)({...U.x0,json:{write:!0}})],J.prototype,"verticalAlignment",void 0),(0,E._)([(0,P.MZ)({type:Number,cast:B.cr,json:{write:!0}})],J.prototype,"xoffset",void 0),(0,E._)([(0,P.MZ)({type:Number,cast:B.cr,json:{write:!0}})],J.prototype,"yoffset",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{read:L=>L&&-1*L,write:(L,C)=>C.angle=L&&-1*L}})],J.prototype,"angle",void 0),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],J.prototype,"width",void 0),(0,E._)([(0,P.MZ)({type:Number})],J.prototype,"lineWidth",void 0),(0,E._)([(0,S.K)("lineWidth")],J.prototype,"writeLineWidth",null),(0,E._)([(0,H.w)("lineWidth")],J.prototype,"castLineWidth",null),(0,E._)([(0,P.MZ)(U.Tb)],J.prototype,"lineHeight",void 0),(0,E._)([(0,S.K)("lineHeight")],J.prototype,"writeLineHeight",null),J=N=(0,E._)([(0,$.$)("esri.symbols.TextSymbol")],J);const Z=J},2329:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>ue});var J,E=v(8189),D=v(77806),W=v(85211),H=(v(3248),v(35150),v(15463)),j=v(76576),$=v(50305),S=v(9015),I=v(20736),O=v(86646),U=v(68677),N=v(71065);let Z=J=class extends N.oY{constructor(){super(...arguments),this.color=new U.A([0,0,0,1]),this.size=0}clone(){const ee={color:(0,D.o8)(this.color),size:this.size};return new J(ee)}};(0,E._)([(0,W.MZ)(O.E)],Z.prototype,"color",void 0),(0,E._)([(0,W.MZ)(O.p)],Z.prototype,"size",void 0),Z=J=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DHalo")],Z);var L=v(74760),C=v(90660);v(40707);let x=class extends((0,C.O)(N.oY)){constructor(ee){super(ee),this.color=null}};(0,E._)([(0,W.MZ)(O.E)],x.prototype,"color",void 0),x=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DTextBackground")],x);var w,R=v(68448);let K=w=class extends I.A{constructor(ee){super(ee),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(ee){null!=ee&&null!=this._userSize&&(ee.size=this._userSize),this._set("font",ee)}writeFont(ee,te,pe,ae){const de={...ae,textSymbol3D:!0};te.font=ee.write({},de),delete te.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(ee){this._userSize=ee,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const ee=new w({enabled:this.enabled,font:this.font&&(0,D.o8)(this.font),halo:this.halo&&(0,D.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,D.o8)(this.background)});return ee._userSize=this._userSize,ee}static fromTextSymbol(ee){return new w({font:null!=ee.font?ee.font.clone():new S.A,halo:V(ee.haloColor,ee.haloSize),horizontalAlignment:ee.horizontalAlignment,lineHeight:ee.lineHeight,material:ee.color?new L.N({color:ee.color.clone()}):null,text:ee.text,verticalAlignment:ee.verticalAlignment,background:ee.backgroundColor?new x({color:ee.backgroundColor.clone()}):null})}};function V(ee,te){return ee&&null!=te&&te>0?new Z({color:(0,D.o8)(ee),size:te}):null}(0,E._)([(0,W.MZ)({type:S.A,json:{write:!0}})],K.prototype,"font",null),(0,E._)([(0,$.K)("font")],K.prototype,"writeFont",null),(0,E._)([(0,W.MZ)({type:Z,json:{write:!0}})],K.prototype,"halo",void 0),(0,E._)([(0,W.MZ)({...R.rM,json:{default:"center",write:!0}})],K.prototype,"horizontalAlignment",void 0),(0,E._)([(0,W.MZ)({...R.Tb,json:{default:1,write:!0}})],K.prototype,"lineHeight",void 0),(0,E._)([(0,W.MZ)({type:L.N,json:{write:!0}})],K.prototype,"material",void 0),(0,E._)([(0,W.MZ)({type:x,json:{write:!0}})],K.prototype,"background",void 0),(0,E._)([(0,W.MZ)(O.p)],K.prototype,"size",null),(0,E._)([(0,W.MZ)({type:String,json:{write:!0}})],K.prototype,"text",void 0),(0,E._)([(0,H.e)({Text:"text"},{readOnly:!0})],K.prototype,"type",void 0),(0,E._)([(0,W.MZ)({...R.x0,json:{default:"baseline",write:!0}})],K.prototype,"verticalAlignment",void 0),K=w=(0,E._)([(0,j.$)("esri.symbols.TextSymbol3DLayer")],K);const ue=K},4611:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(68677),W=v(77806),B=v(85211),P=v(55739),H=v(15463),j=v(76576),$=v(20736);let I=S=class extends $.A{constructor(N){super(N),this.color=U.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new S({color:(0,W.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,E._)([(0,B.MZ)({type:D.A,nonNullable:!0,json:{type:[P.jz],write:(N,J,Z)=>J[Z]=N.toArray(D.A.AlphaMode.UNLESS_OPAQUE),default:()=>U.clone(),defaultEquals:N=>N.toCss(!0)===U.toCss(!0)}})],I.prototype,"color",void 0),(0,E._)([(0,H.e)({Water:"water"},{readOnly:!0})],I.prototype,"type",void 0),(0,E._)([(0,B.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],I.prototype,"waterbodySize",void 0),(0,E._)([(0,B.MZ)({type:Number,json:{write:!0,default:null}})],I.prototype,"waveDirection",void 0),(0,E._)([(0,B.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],I.prototype,"waveStrength",void 0),I=S=(0,E._)([(0,j.$)("esri.symbols.WaterSymbol3DLayer")],I);const O=I,U=new D.A([0,119,190])},75549:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>L});var J,E=v(10467),D=v(8189),W=v(35150),B=v(56492),P=v(85211),$=(v(3248),v(40707),v(15463)),S=v(76576),I=v(73874),O=v(88135),U=v(84986),N=v(76124);let Z=J=class extends U.A{constructor(C){super(C),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const C=null!=this.portal?this.portal:I.A.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${C.user?C.user.username:null}:${C.url}`}read(C,b){this.portal=b?.portal,super.read(C,b)}clone(){return new J({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(C){return this._fetchSymbol("webRef",C)}fetchCIMSymbol(C){return this._fetchSymbol("cimRef",C)}_fetchSymbol(C,b){var x=this;return(0,E.A)(function*(){const R=null!=b?b.cache:null,w=R?x._fetchCacheKey:null;if(null!=R){const ee=w&&R.get(w);if(ee)return ee.clone()}const{resolveWebStyleSymbol:K}=yield v.e(2076).then(v.bind(v,58964));(0,B.Te)(b);const V=K(x,{portal:x.portal},C,b);V.catch(ee=>{W.A.getLogger(x).error("#fetchSymbol()","Failed to create symbol from style",ee)});const ue=yield V;return"webRef"===C&&"point-3d"===ue.type||"cimRef"===C&&"cim"===ue.type?(R?.set(w,ue.clone()),ue):null})()}};(0,D._)([(0,P.MZ)({json:{write:!1}})],Z.prototype,"color",void 0),(0,D._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"styleName",void 0),(0,D._)([(0,P.MZ)({type:I.A,json:{write:!1}})],Z.prototype,"portal",void 0),(0,D._)([(0,P.MZ)({type:String,json:{read:O.r,write:O.w}})],Z.prototype,"styleUrl",void 0),(0,D._)([(0,P.MZ)({type:N.V,json:{read:!1}})],Z.prototype,"thumbnail",void 0),(0,D._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"name",void 0),(0,D._)([(0,$.e)({styleSymbolReference:"web-style"},{readOnly:!0})],Z.prototype,"type",void 0),(0,D._)([(0,P.MZ)()],Z.prototype,"_fetchCacheKey",null),Z=J=(0,D._)([(0,S.$)("esri.symbols.WebStyleSymbol")],Z);const L=Z},49139:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};(0,E._)([(0,W.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),(0,E._)([(0,W.MZ)({readOnly:!0})],$.prototype,"visible",void 0),$=(0,E._)([(0,j.$)("esri.symbols.callouts.Callout3D")],$);const S=$},53313:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Z});var N,E=v(8189),D=v(68677),W=v(77806),B=v(67685),P=v(85211),$=(v(3248),v(35150),v(15463)),S=v(76576),I=v(49139),O=v(16707),U=v(86646);let J=N=class extends I.A{constructor(L){super(L),this.type="line",this.color=new D.A([0,0,0,1]),this.size=(0,B.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new N({color:(0,W.o8)(this.color),size:this.size,border:(0,W.o8)(this.border)})}};(0,E._)([(0,$.e)({line:"line"})],J.prototype,"type",void 0),(0,E._)([(0,P.MZ)(U.E)],J.prototype,"color",void 0),(0,E._)([(0,P.MZ)(U.p)],J.prototype,"size",void 0),(0,E._)([(0,P.MZ)({type:O.A,json:{write:!0}})],J.prototype,"border",void 0),(0,E._)([(0,P.MZ)({readOnly:!0})],J.prototype,"visible",null),J=N=(0,E._)([(0,S.$)("esri.symbols.callouts.LineCallout3D")],J);const Z=J},16707:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var I,E=v(8189),D=v(68677),W=v(71065),B=v(77806),P=v(85211),$=(v(3248),v(35150),v(76576)),S=v(86646);let O=I=class extends W.oY{constructor(N){super(N),this.color=new D.A("white")}clone(){return new I({color:(0,B.o8)(this.color)})}};(0,E._)([(0,P.MZ)(S.E)],O.prototype,"color",void 0),O=I=(0,E._)([(0,$.$)("esri.symbols.callouts.LineCallout3DBorder")],O);const U=O},34619:(et,Ae,v)=>{"use strict";v.d(Ae,{LH:()=>B,Yq:()=>W,oG:()=>j});var E=v(49139),D=v(53313);function W($){if(!$)return!1;const S=$.verticalOffset;return!!S&&!(S.screenLength<=0||null!=S.maxWorldLength&&S.maxWorldLength<=0)}function B($){if(!$||!$.supportsCallout||!$.supportsCallout())return!1;const S=$.callout;return!!S&&!!S.visible&&!!W($)}const j={types:{key:"type",base:E.A,typeMap:{line:D.A}},json:{write:!0}}},1684:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>Z});var E=v(10467),D=v(68677),W=v(29430),B=v(77806),P=v(48218),H=v(32117),j=v(5922),$=v(35150),S=v(721);function I(L,C,b,x,R){if(null==L)return null;const w=L.referencesGeometry()&&R?function U(L,C,b){const{transform:x,hasZ:R,hasM:w}=b;O.has(C)||O.set(C,function N(L){const C={};switch(L){case"esriGeometryPoint":return(b,x,R,w)=>(0,S.Tr)(x,C,b,R,w);case"esriGeometryPolygon":return(b,x,R,w)=>(0,S.$X)(x,C,b,R,w);case"esriGeometryPolyline":return(b,x,R,w)=>(0,S.P5)(x,C,b,R,w);case"esriGeometryMultipoint":return(b,x,R,w)=>(0,S.SW)(x,C,b,R,w);default:return $.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new j.A("mapview-arcade",`Unable to handle geometryType: ${L}`)),b=>b}}(C));const K=O.get(C)(L.geometry,x,R,w);return{...L,geometry:K}}(C,x,R):C,K=L.repurposeFeature(w);try{return L.evaluate({...b,$feature:K},L.services)}catch(V){return $.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",V),null}}const O=new Map,J=L=>{if(!L)return[0,0,0,0];const{r:C,g:b,b:x,a:R}=L;return[C,b,x,255*R]};class Z{static findApplicableOverrides(C,b,x){if(C&&b){if(C.primitiveName){let R=!1;for(const w of x)if(w.primitiveName===C.primitiveName){R=!0;break}if(!R)for(const w of b)w.primitiveName===C.primitiveName&&x.push(w)}switch(C.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(C.effects)for(const R of C.effects)Z.findApplicableOverrides(R,b,x);if(C.symbolLayers)for(const R of C.symbolLayers)Z.findApplicableOverrides(R,b,x);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(C.effects)for(const R of C.effects)Z.findApplicableOverrides(R,b,x);if(C.markerPlacement&&Z.findApplicableOverrides(C.markerPlacement,b,x),"CIMVectorMarker"===C.type){if(C.markerGraphics)for(const R of C.markerGraphics)Z.findApplicableOverrides(R,b,x),Z.findApplicableOverrides(R.symbol,b,x)}else"CIMCharacterMarker"===C.type?Z.findApplicableOverrides(C.symbol,b,x):"CIMHatchFill"===C.type?Z.findApplicableOverrides(C.lineSymbol,b,x):"CIMPictureMarker"===C.type&&Z.findApplicableOverrides(C.animatedSymbolProperties,b,x)}}}static findEffectOverrides(C,b){if(!C)return null;if("CIMGeometricEffectDashes"===C.type&&(0,H.K3)(C),!b||!C.primitiveName)return{type:"cim-effect-param",effect:C,overrides:[]};const x=(0,H.rB)(C),R=C.primitiveName,w=[];for(const K of b)K.primitiveName===R&&w.push((0,H.rB)(K));return{type:"cim-effect-param",effect:x,overrides:(0,H.pk)(w)}}static resolveSymbolOverrides(C,b,x,R,w,K,V){return(0,E.A)(function*(){if(!C?.symbol)return null;let{symbol:ue,primitiveOverrides:ee}=C;const te=!!ee;if(!te&&!R)return ue;ue=(0,B.o8)(ue),ee=(0,B.o8)(ee);let pe=!0;if(b||(b={attributes:{}},pe=!1),te){if(pe||(ee=ee.filter(ae=>!ae.valueExpressionInfo?.expression.includes("$feature"))),V||(ee=ee.filter(ae=>!ae.valueExpressionInfo?.expression.includes("$view"))),ee.length>0){const ae={spatialReference:x,fields:(0,H.O2)(b.attributes),geometryType:w};yield Z.createRenderExpressions(ee,ae),Z.evaluateOverrides(ee,b,w??"esriGeometryPoint",K,V)}Z.applyOverrides(ue,ee)}return R&&Z.applyDictionaryTextOverrides(ue,b,R,null),ue})()}static createRenderExpressions(C,b){return(0,E.A)(function*(){const x=[];for(const R of C){const w=R.valueExpressionInfo;if(!w||Z._expressionToRenderExpression.has(w.expression))continue;const K=(0,P.Ad)(w.expression,b.spatialReference,b.fields);x.push(K),K.then(V=>Z._expressionToRenderExpression.set(w.expression,V))}x.length>0&&(yield Promise.all(x))})()}static evaluateOverrides(C,b,x,R,w){const K={$view:{scale:w?.scale}};for(const V of C){V.value&&"object"==typeof V.value&&(0,W.IB)(V.value)&&("Color"===V.propertyName||"StrokeColor"===V.propertyName)&&(V.value=J(V.value));const ue=V.valueExpressionInfo;if(!ue)continue;const ee=Z._expressionToRenderExpression.get(ue.expression);ee&&(V.value=I(ee,b,K,x,R))}}static applyDictionaryTextOverrides(C,b,x,R,w="Normal"){if(C?.type)switch(C.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const K=C.symbolLayers;if(!K)return;for(const V of K)V&&"CIMVectorMarker"===V.type&&Z.applyDictionaryTextOverrides(V,b,x,R,"CIMTextSymbol"===C.type?C.textCase:w)}break;case"CIMVectorMarker":{const K=C.markerGraphics;if(!K)return;for(const V of K)V&&Z.applyDictionaryTextOverrides(V,b,x,R)}break;case"CIMMarkerGraphic":{const K=C.textString;if(K&&K.includes("[")){const V=(0,H.gQ)(K,x);C.textString=(0,H.FM)(b,V,R,w)}}}}static applyOverrides(C,b,x,R){if(C.primitiveName)for(const w of b)if(w.primitiveName===C.primitiveName){const K=(0,H.YF)(w.propertyName);if(R&&R.push({cim:C,nocapPropertyName:K,value:C[K]}),x){let V=!1;for(const ue of x)ue.primitiveName===C.primitiveName&&(V=!0);V||x.push(w)}null!=w.value&&(C[K]=w.value)}switch(C.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(C.effects)for(const w of C.effects)Z.applyOverrides(w,b,x,R);if(C.symbolLayers)for(const w of C.symbolLayers)Z.applyOverrides(w,b,x,R);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(C.effects)for(const w of C.effects)Z.applyOverrides(w,b,x,R);if("CIMVectorMarker"===C.type&&C.markerGraphics)for(const w of C.markerGraphics)Z.applyOverrides(w,b,x,R),Z.applyOverrides(w.symbol,b,x,R)}}static restoreOverrides(C){for(const b of C)b.cim[b.nocapPropertyName]=b.value}static buildOverrideKey(C){let b="";for(const x of C)void 0!==x.value&&(b+=`${x.primitiveName}${x.propertyName}${JSON.stringify(x.value)}`);return b}static toValue(C,b){if("DashTemplate"===C)return b.split(" ").map(x=>Number(x));if("Color"===C){const x=new D.A(b).toRgba();return x[3]*=255,x}return b}}Z._expressionToRenderExpression=new Map},46988:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>D,K:()=>E});const E={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},D={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}}},32117:(et,Ae,v)=>{"use strict";v.d(Ae,{$w:()=>C,Bu:()=>de,DW:()=>ee,FM:()=>$,G9:()=>B,GV:()=>b,Go:()=>I,K3:()=>oe,Kn:()=>V,MM:()=>N,MO:()=>se,Nl:()=>ve,Ny:()=>x,O2:()=>G,UE:()=>fe,YC:()=>Se,YF:()=>ye,ZO:()=>re,_1:()=>pe,_H:()=>w,_d:()=>ue,bs:()=>le,e6:()=>O,gQ:()=>j,iA:()=>ce,jn:()=>Z,lW:()=>U,mA:()=>J,n5:()=>ie,pM:()=>te,pV:()=>K,pk:()=>Pe,rB:()=>Ie,xo:()=>ae,yH:()=>R,zb:()=>q,zr:()=>L});var E=v(46988);function B(_e){return[_e.r,_e.g,_e.b,_e.a]}const P=" /-,\n";function H(_e){let we=_e.length;for(;we--;)if(!P.includes(_e.charAt(we)))return!1;return!0}function j(_e,we){const ke=[];let Xe=0,Q=-1;do{if(Q=_e.indexOf("[",Xe),Q>=Xe){if(Q>Xe){const De=_e.substr(Xe,Q-Xe);ke.push([De,null,H(De)])}if(Xe=Q+1,Q=_e.indexOf("]",Xe),Q>=Xe){if(Q>Xe){const De=we[_e.substr(Xe,Q-Xe)];De&&ke.push([null,De,!1])}Xe=Q+1}}}while(-1!==Q);if(Xe<_e.length-1){const De=_e.substr(Xe);ke.push([De,null,H(De)])}return ke}function $(_e,we,ke,Xe){let Q="",De=null;for(const Ke of we){const[Ye,rt,lt]=Ke;if(Ye)lt?De=Ye:(De&&(Q+=De,De=null),Q+=Ye);else{let _t=rt;null!=ke&&(_t=se(rt,ke));const tt=_e.attributes[_t];tt&&(De&&(Q+=De,De=null),Q+=tt)}}return function S(_e,we){switch("string"!=typeof _e&&(_e=String(_e)),we){case"LowerCase":return _e.toLowerCase();case"Allcaps":return _e.toUpperCase();default:return _e}}(Q,Xe)}function I(_e,we,ke,Xe,Q,De,Ke=!0){const Ye=we/Q,rt=ke/De,lt=Math.ceil(Ye/2),_t=Math.ceil(rt/2);for(let tt=0;tt<De;tt++)for(let qe=0;qe<Q;qe++){const xe=4*(qe+(Ke?De-tt-1:tt)*Q);let Be=0,Ze=0,Ne=0,He=0,Je=0,ut=0,dt=0;const Et=(tt+.5)*rt;for(let Lt=Math.floor(tt*rt);Lt<(tt+1)*rt;Lt++){const jt=Math.abs(Et-(Lt+.5))/_t,Kt=(qe+.5)*Ye,Gt=jt*jt;for(let Zt=Math.floor(qe*Ye);Zt<(qe+1)*Ye;Zt++){let an=Math.abs(Kt-(Zt+.5))/lt;const mn=Math.sqrt(Gt+an*an);mn>=-1&&mn<=1&&(Be=2*mn*mn*mn-3*mn*mn+1,Be>0&&(an=4*(Zt+Lt*we),dt+=Be*_e[an+3],Ne+=Be,_e[an+3]<255&&(Be=Be*_e[an+3]/250),He+=Be*_e[an],Je+=Be*_e[an+1],ut+=Be*_e[an+2],Ze+=Be))}}Xe[xe]=He/Ze,Xe[xe+1]=Je/Ze,Xe[xe+2]=ut/Ze,Xe[xe+3]=dt/Ne}}function O(_e){return _e?[_e[0],_e[1],_e[2],_e[3]/255]:[0,0,0,0]}function U(_e){return _e.data?.symbol??null}function N(_e){return"CIMVectorMarker"===_e.type||"CIMPictureMarker"===_e.type||"CIMBarChartMarker"===_e.type||"CIMCharacterMarker"===_e.type||"CIMPieChartMarker"===_e.type||"CIMStackedBarChartMarker"===_e.type}function J(_e){return"CIMGradientStroke"===_e.type||"CIMPictureStroke"===_e.type||"CIMSolidStroke"===_e.type}function Z(_e){return null!=_e&&("CIMGradientFill"===_e.type||"CIMHatchFill"===_e.type||"CIMPictureFill"===_e.type||"CIMSolidFill"===_e.type||"CIMWaterFill"===_e.type)}function L(_e){return null!=_e&&("CIMMarkerPlacementAlongLineRandomSize"===_e.type||"CIMMarkerPlacementAlongLineSameSize"===_e.type||"CIMMarkerPlacementAlongLineVariableSize"===_e.type||"CIMMarkerPlacementAtExtremities"===_e.type||"CIMMarkerPlacementAtMeasuredUnits"===_e.type||"CIMMarkerPlacementAtRatioPositions"===_e.type||"CIMMarkerPlacementOnLine"===_e.type||"CIMMarkerPlacementOnVertices"===_e.type)}const C=(_e,we=0)=>null==_e||isNaN(_e)?we:_e,b=(_e,we)=>_e??we,x=_e=>_e.tintColor?O(_e.tintColor):[255,255,255,1],R=_e=>{if(!_e)return!1;for(const we of _e)switch(we.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function w(){return Promise.all([v.e(3930),v.e(2076),v.e(2296)]).then(v.bind(v,27815))}function K(_e){if(!_e)return"normal";switch(_e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function V(_e){if(!_e)return"normal";switch(_e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function ue(_e){let we="normal",ke="normal";if(_e){const Xe=_e.toLowerCase();Xe.includes("italic")?we="italic":Xe.includes("oblique")&&(we="oblique"),Xe.includes("bold")?ke="bold":Xe.includes("light")&&(ke="lighter")}return{style:we,weight:ke}}function ee(_e){return _e.underline?"underline":_e.strikethrough?"line-through":"none"}function te(_e){if(!_e)return null;switch(_e.type){case"CIMPolygonSymbol":if(_e.symbolLayers)for(const we of _e.symbolLayers){const ke=te(we);if(null!=ke)return ke}break;case"CIMTextSymbol":return te(_e.symbol);case"CIMSolidFill":return _e.color}return null}function pe(_e){if(_e)switch(_e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const we=_e.symbolLayers;if(we)for(const ke of we){const Xe=pe(ke);if(null!=Xe)return Xe}break}case"CIMTextSymbol":return pe(_e.symbol);case"CIMSolidStroke":return _e.color}}function ae(_e){if(_e)switch(_e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(_e.symbolLayers)for(const we of _e.symbolLayers){const ke=ae(we);if(void 0!==ke)return ke}break;case"CIMTextSymbol":return ae(_e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return _e.width}}function de(_e){switch(_e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function ve(_e){switch(_e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function G(_e){return(_e?Object.keys(_e):[]).map(we=>({name:we,alias:we,type:"string"==typeof _e[we]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const fe=_e=>_e.includes("data:image/svg+xml");function ie(_e){if(!_e)return null;switch(_e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function ye(_e){return _e&&_e.charAt(0).toLowerCase()+_e.substring(1)}function q(_e,we,ke,Xe,Q,De){const{infos:Ke}=De;let Ye=1,rt=0,lt=0,_t=0;for(const{offsetX:xe,offsetY:Be,rotation:Ze,size:Ne,frameHeight:He,rotateClockWise:Je}of Ke)lt=Ee(xe,Be,rt,Ye,lt),_t=X(xe,Be,rt,Ye,_t),He&&(Ye*=Ne/He),rt=Le(Ze,Je,rt);const tt=Ee(Xe,Q,rt,Ye,lt),qe=X(Xe,Q,rt,Ye,_t);return{size:_e*Ye,rotation:Le(we,ke,rt),offsetX:tt,offsetY:qe}}function re(_e){if(null==_e)return!1;if(Array.isArray(_e))return _e.every(we=>re(we));switch(typeof _e){case"string":return!!_e;case"number":return!isNaN(_e)}}function ce(_e,we){if("color"===we||"outlinecolor"===we||"backgroundcolor"===we||"borderlinecolor"===we||"tintcolor"===we)return[...E.K[we]];const ke=E.D[_e];if(!ke)throw new Error(`InternalError: default value for type ${_e}.`);return ke[we]}function oe(_e){return _e?.dashTemplate&&"string"==typeof _e.dashTemplate&&(_e.dashTemplate=_e.dashTemplate.split(" ").map(Number)),_e}function le(_e){if(null==_e)return"Normal";switch(_e.type){case"CIMTextSymbol":return _e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const we=_e.symbolLayers;if(!we)return"Normal";for(const ke of we)if("CIMVectorMarker"===ke.type)return le(ke)}break;case"CIMVectorMarker":{const we=_e.markerGraphics;if(!we)return"Normal";for(const ke of we)if(ke.symbol)return le(ke.symbol)}}return"Normal"}function Se(_e){if(_e)switch(_e.type){case"CIMTextSymbol":return _e.height;case"CIMPointSymbol":{let we=0;if(_e.symbolLayers)for(const ke of _e.symbolLayers)if(ke)switch(ke.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const Xe=ke.size??E.D.CIMVectorMarker.size;Xe>we&&(we=Xe);break}}return we}case"CIMLineSymbol":case"CIMPolygonSymbol":{let we=0;if(_e.symbolLayers)for(const ke of _e.symbolLayers)if(ke)switch(ke.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const Xe=ke.width;null!=Xe&&Xe>we&&(we=Xe);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(ke.markerPlacement&&L(ke.markerPlacement)){const Xe=ke.size??E.D.CIMVectorMarker.size;Xe>we&&(we=Xe)}break;case"CIMPictureFill":{const Xe=ke.height;null!=Xe&&Xe>we&&(we=Xe)}}return we}}}function se(_e,we){if(null!==we){const ke=we.get(_e);return ke?ke.name:_e}return _e}function Pe(_e){return _e.map(we=>({...we,propertyName:ye(we.propertyName)}))}function Ie(_e){const we={};for(const ke in _e){const Xe=_e[ke];we[ye(ke)]=Xe}return we}function X(_e,we,ke,Xe,Q){const De=ke*Math.PI/180;if(De){const Ke=Math.cos(De);return(Math.sin(De)*_e+Ke*we)*Xe+Q}return we*Xe+Q}function Ee(_e,we,ke,Xe,Q){const De=ke*Math.PI/180;return De?(Math.cos(De)*_e-Math.sin(De)*we)*Xe+Q:_e*Xe+Q}function Le(_e,we,ke){return we?ke-_e:ke+_e}},5048:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>U});var E=v(8189),D=v(68677),W=v(71065),B=v(77806),P=v(67685),H=v(85211),S=(v(3248),v(35150),v(76576)),I=v(86646);let O=class extends W.oY{constructor(N){super(N),this.color=new D.A([0,0,0,1]),this.extensionLength=0,this.size=(0,P.PN)(1)}clone(){}cloneProperties(){return{color:(0,B.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,E._)([(0,H.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],O.prototype,"type",void 0),(0,E._)([(0,H.MZ)(I.E)],O.prototype,"color",void 0),(0,E._)([(0,H.MZ)({...I.p,json:{write:{overridePolicy:N=>({enabled:!!N})}}})],O.prototype,"extensionLength",void 0),(0,E._)([(0,H.MZ)(I.p)],O.prototype,"size",void 0),O=(0,E._)([(0,S.$)("esri.symbols.edges.Edges3D")],O);const U=O},97273:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),H=(v(35150),v(3248),v(40707),v(5922),v(15463)),j=v(76576),$=v(5048);let I=S=class extends $.A{constructor(U){super(U),this.type="solid"}clone(){return new S(this.cloneProperties())}};(0,E._)([(0,H.e)({solid:"solid"},{readOnly:!0})],I.prototype,"type",void 0),I=S=(0,E._)([(0,j.$)("esri.symbols.edges.SolidEdges3D")],I);const O=I},91033:(et,Ae,v)=>{"use strict";v.d(Ae,{J:()=>N});var S,E=v(5048),D=v(8189),j=(v(35150),v(3248),v(40707),v(5922),v(15463)),$=v(76576);let I=S=class extends E.A{constructor(J){super(J),this.type="sketch"}clone(){return new S(this.cloneProperties())}};(0,D._)([(0,j.e)({sketch:"sketch"},{readOnly:!0})],I.prototype,"type",void 0),I=S=(0,D._)([(0,$.$)("esri.symbols.edges.SketchEdges3D")],I);const O=I;var U=v(97273);const N={types:{key:"type",base:E.A,typeMap:{solid:U.A,sketch:O}},json:{write:!0}}},63797:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,E._)([(0,W.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.symbols.patterns.LinePattern3D")],$);const S=$},7798:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var O,E=v(8189),D=v(49976),W=v(85211),j=(v(3248),v(35150),v(40707),v(15463)),$=v(76576),S=v(63797);const U=(0,D.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let N=O=class extends S.A{constructor(Z){super(Z),this.type="style",this.style="solid"}clone(){return new O({style:this.style})}};(0,E._)([(0,W.MZ)({type:["style"]})],N.prototype,"type",void 0),(0,E._)([(0,j.e)(U),(0,W.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"]})],N.prototype,"style",void 0),N=O=(0,E._)([(0,$.$)("esri.symbols.patterns.LineStylePattern3D")],N);const J=N},84083:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>S});var E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let $=class extends D.oY{constructor(I){super(I),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,E._)([(0,W.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=(0,E._)([(0,j.$)("esri.symbols.patterns.Pattern3D")],$);const S=$},91541:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(85211),H=(v(3248),v(35150),v(40707),v(76576)),j=v(84083);let I=S=class extends j.A{constructor(U){super(U),this.type="style",this.style="solid"}clone(){return new S({style:this.style})}};(0,E._)([(0,D.MZ)({type:["style"]})],I.prototype,"type",void 0),(0,E._)([(0,D.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:!0}})],I.prototype,"style",void 0),I=S=(0,E._)([(0,H.$)("esri.symbols.patterns.StylePattern3D")],I);const O=I},11451:(et,Ae,v)=>{"use strict";v.d(Ae,{r:()=>P,v:()=>H});var E=v(63797),D=v(7798),W=v(84083),B=v(91541);const P={types:{key:"type",base:W.A,typeMap:{style:B.A}},json:{write:!0}},H={types:{key:"type",base:E.A,typeMap:{style:D.A}},json:{write:!0}}},88485:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>K});var J,E=v(8189),D=v(49976),W=v(71065),B=v(11432),P=v(85211),S=(v(3248),v(35150),v(40707),v(17221)),I=v(76576),O=v(50305),U=v(10467),N=v(86300);let Z=J=class extends W.oY{constructor(V){super(V)}collectRequiredFields(V,ue){var ee=this;return(0,U.A)(function*(){return(0,N.Dx)(V,ue,ee.expression)})()}clone(){return new J({expression:this.expression,title:this.title})}equals(V){return this.expression===V.expression&&this.title===V.title}};(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"expression",void 0),(0,E._)([(0,P.MZ)({type:String,json:{write:!0}})],Z.prototype,"title",void 0),Z=J=(0,E._)([(0,I.$)("esri.symbols.support.FeatureExpressionInfo")],Z);const L=Z;var b,C=v(82575);const x=(0,D.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),R=new D.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let w=b=class extends W.oY{constructor(V){super(V),this.offset=null}readFeatureExpressionInfo(V,ue){return V??(ue.featureExpression&&0===ue.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(V,ue,ee,te){ue[ee]=V.write({},te),"0"===V.expression&&(ue.featureExpression={value:0})}get mode(){const{offset:V,featureExpressionInfo:ue}=this;return this._isOverridden("mode")?this._get("mode"):null!=V||ue?"relative-to-ground":"on-the-ground"}set mode(V){this._override("mode",V)}set unit(V){this._set("unit",V)}write(V,ue){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(V,ue):null}clone(){return new b({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(V){return this.mode===V.mode&&this.offset===V.offset&&this.unit===V.unit&&(0,B.CM)(this.featureExpressionInfo,V.featureExpressionInfo)}};(0,E._)([(0,P.MZ)({type:L,json:{write:!0}})],w.prototype,"featureExpressionInfo",void 0),(0,E._)([(0,S.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],w.prototype,"readFeatureExpressionInfo",null),(0,E._)([(0,O.K)("featureExpressionInfo",{featureExpressionInfo:{type:L},"featureExpression.value":{type:[0]}})],w.prototype,"writeFeatureExpressionInfo",null),(0,E._)([(0,P.MZ)({type:x.apiValues,nonNullable:!0,json:{type:x.jsonValues,read:x.read,write:{writer:x.write,isRequired:!0}}})],w.prototype,"mode",null),(0,E._)([(0,P.MZ)({type:Number,json:{write:!0}})],w.prototype,"offset",void 0),(0,E._)([(0,P.MZ)({type:C.KQ,json:{type:String,read:R.read,write:R.write}})],w.prototype,"unit",null),w=b=(0,E._)([(0,I.$)("esri.symbols.support.ElevationInfo")],w);const K=w},28831:(et,Ae,v)=>{"use strict";v.d(Ae,{i:()=>L,r:()=>C});var J,E=v(8189),D=v(49976),W=v(71065),B=v(45272),P=v(85211),S=(v(3248),v(35150),v(40707),v(15463)),I=v(17221),O=v(76576),U=v(50305),N=v(88135);const Z=(0,D.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let L=J=class extends W.oY{constructor(b){super(b)}readHref(b,x,R){return b?(0,N.f)(b,R):x.dataURI}writeHref(b,x,R,w){b&&((0,B.DB)(b)?x.dataURI=b:(x.href=(0,N.t)(b,w),(0,B.oP)(x.href)&&(x.href=(0,B.S8)(x.href))))}clone(){return new J({href:this.href,primitive:this.primitive})}};(0,E._)([(0,P.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],L.prototype,"href",void 0),(0,E._)([(0,I.w)("href")],L.prototype,"readHref",null),(0,E._)([(0,U.K)("href",{href:{type:String},dataURI:{type:String}})],L.prototype,"writeHref",null),(0,E._)([(0,S.e)(Z)],L.prototype,"primitive",void 0),L=J=(0,E._)([(0,O.$)("esri.symbols.support.IconSymbol3DLayerResource")],L);const C="circle"},15225:(et,Ae,v)=>{"use strict";v.d(Ae,{E:()=>N,r:()=>J});var O,E=v(8189),D=v(49976),W=v(71065),B=v(85211),$=(v(3248),v(35150),v(40707),v(15463)),S=v(76576),I=v(88135);const U=(0,D.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let N=O=class extends W.oY{clone(){return new O({href:this.href,primitive:this.primitive})}};(0,E._)([(0,B.MZ)({type:String,json:{read:I.r,write:I.w}})],N.prototype,"href",void 0),(0,E._)([(0,$.e)(U)],N.prototype,"primitive",void 0),N=O=(0,E._)([(0,S.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],N);const J="sphere"},7295:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(98877),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(73874);let I=S=class extends D.A{constructor(U){super(U),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new S({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,E._)([(0,W.MZ)({type:String})],I.prototype,"name",void 0),(0,E._)([(0,W.MZ)({type:String})],I.prototype,"styleUrl",void 0),(0,E._)([(0,W.MZ)({type:String})],I.prototype,"styleName",void 0),(0,E._)([(0,W.MZ)({type:$.A})],I.prototype,"portal",void 0),I=S=(0,E._)([(0,j.$)("esri.symbols.support.StyleOrigin")],I);const O=I},74760:(et,Ae,v)=>{"use strict";v.d(Ae,{N:()=>I});var S,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(86646);let I=S=class extends D.oY{constructor(O){super(O),this.color=null}clone(){const O={color:null!=this.color?this.color.clone():null};return new S(O)}};(0,E._)([(0,W.MZ)($.E)],I.prototype,"color",void 0),I=S=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DMaterial")],I)},39908:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var S,E=v(8189),D=v(71065),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576)),$=v(86646);let I=S=class extends D.oY{constructor(U){super(U),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new S({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,E._)([(0,W.MZ)($.p)],I.prototype,"screenLength",void 0),(0,E._)([(0,W.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],I.prototype,"minWorldLength",void 0),(0,E._)([(0,W.MZ)({type:Number,json:{write:!0}})],I.prototype,"maxWorldLength",void 0),I=S=(0,E._)([(0,j.$)("esri.symbols.support.Symbol3DVerticalOffset")],I);const O=I},76124:(et,Ae,v)=>{"use strict";v.d(Ae,{V:()=>S});var $,E=v(8189),D=v(98877),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));let S=$=class extends D.A{constructor(){super(...arguments),this.url=""}clone(){return new $({url:this.url})}};(0,E._)([(0,W.MZ)({type:String})],S.prototype,"url",void 0),S=$=(0,E._)([(0,j.$)("esri.symbols.support.Thumbnail")],S)},47146:(et,Ae,v)=>{"use strict";v.d(Ae,{ON:()=>D,U9:()=>P,u7:()=>B});var E=v(68677);const D=new E.A("white"),B=(new E.A("black"),new E.A([255,255,255,0]));function P(H){return 0===H.r&&0===H.g&&0===H.b}},91644:(et,Ae,v)=>{"use strict";v.d(Ae,{A7:()=>$,Cx:()=>S,Hk:()=>I,JJ:()=>J,UK:()=>j,jM:()=>U,x3:()=>N}),v(3248);var D=v(88521),W=v(55417),B=v(46602),P=v(47705),H=v(48254);const j=B.A.fromJSON(H.Cb),$=W.A.fromJSON(H.yM),S=D.A.fromJSON(H.WR),I=P.A.fromJSON(H.JZ),U=B.A.fromJSON(H.nC),N=W.A.fromJSON(H.HW),J=D.A.fromJSON(H.b6)},48254:(et,Ae,v)=>{"use strict";v.d(Ae,{Cb:()=>W,HW:()=>$,JR:()=>D,JZ:()=>H,WR:()=>P,b6:()=>S,fT:()=>E,nC:()=>j,yM:()=>B});const E=[252,146,31,255],D=[153,153,153,255],W={type:"esriSMS",style:"esriSMSCircle",size:6,color:E,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},B={type:"esriSLS",style:"esriSLSSolid",width:.75,color:E},P={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},H={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},j={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},$={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},S={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},80841:(et,Ae,v)=>{"use strict";v.d(Ae,{rS:()=>oe,M9:()=>ye,oO:()=>q});var E=v(47280),D=v(5922),W=v(58443),B=v(32713),P=v(68677),H=v(31178),$=(v(3248),v(67685)),S=v(92262),I=v(18399),O=v(64484),U=v(25613),N=v(27093),J=v(97273),Z=v(91644),L=v(48254),C=v(92200);U.A.fromSimpleMarkerSymbol(Z.UK),I.A.fromSimpleLineSymbol(Z.A7),N.A.fromSimpleFillSymbol(Z.Cx),new O.A({symbolLayers:new H.A([new S.A({material:{color:L.fT},edges:new J.A({size:(0,$.PN)(1),color:new P.A(L.JR)})})])});const K=new I.A({symbolLayers:new H.A([new C.A({material:{color:new P.A([0,0,0])},size:(0,$.PN)(1)})])}),V=new N.A({symbolLayers:new H.A([new S.A({outline:{color:new P.A([0,0,0]),size:(0,$.PN)(1)}})])});var ee=v(75549),te=v(55417),pe=v(46602),ae=v(65824),de=v(88521),ve=v(47705),G=v(6241);const fe={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function ye(le,Se,se,Pe){const Ie=ce(le,{},{context:Pe,isLabelSymbol:!1});null!=Ie&&(Se[se]=Ie)}function q(le,Se,se,Pe){const Ie=ce(le,{},{context:Pe,isLabelSymbol:!0});null!=Ie&&(Se[se]=Ie)}function re(le){return le instanceof B.A||le instanceof ee.A}function ce(le,Se,se){if(null==le)return null;const{context:Pe,isLabelSymbol:Ie}=se,X=Pe?.origin,Ee=Pe?.messages;if("web-scene"===X&&!re(le)){const Le=function ie(le,Se=fe){if(!le)return{symbol:null};const{retainId:se=fe.retainId,ignoreDrivers:Pe=fe.ignoreDrivers,hasLabelingContext:Ie=fe.hasLabelingContext,retainCIM:X=fe.retainCIM,cimFallbackEnabled:Ee=fe.cimFallbackEnabled}=Se;let Le=null;if((0,E.wk)(le)||le instanceof ee.A)Le=le.clone();else if("cim"===le.type){const Oe=le.data?.symbol?.type;switch(Oe){case"CIMPointSymbol":Le=X?le.clone():U.A.fromCIMSymbol(le);break;case"CIMLineSymbol":Ee&&(Le=K.clone(),Se?.logWarning?.("Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":Ee&&(Le=V.clone(),Se?.logWarning?.("Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!Le)return{error:new D.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${Oe||"unknown"}' is unsupported in 3D`,{symbol:le})}}else if(le instanceof te.A)Le=I.A.fromSimpleLineSymbol(le);else if(le instanceof pe.A)Le=U.A.fromSimpleMarkerSymbol(le);else if(le instanceof ae.A)Le=U.A.fromPictureMarkerSymbol(le);else if(le instanceof de.A)Le=Se.geometryType&&"mesh"===Se.geometryType?O.A.fromSimpleFillSymbol(le):N.A.fromSimpleFillSymbol(le);else{if(!(le instanceof ve.A))return{error:new D.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${le.type||le.declaredClass}' is unsupported in 3D`,{symbol:le})};Le=Ie?G.A.fromTextSymbol(le):U.A.fromTextSymbol(le)}return se&&Le&&"cim"!==Le.type&&(Le.id=le.id),Pe&&(0,E.wk)(Le)&&Le.symbolLayers.forEach(Oe=>Oe.ignoreDrivers=!0),{symbol:Le}}(le,{retainCIM:!0,hasLabelingContext:Ie});return null!=Le.symbol?Le.symbol.write(Se,Pe):(Ee?.push(new D.A("symbol:unsupported",`Symbols of type '${le.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:le,context:Pe,error:Le.error})),null)}return("web-map"===X||"portal-item"===X&&!(0,W.TU)(Pe?.layer))&&re(le)?(Ee?.push(new D.A("symbol:unsupported",`Symbols of type '${le.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:le,context:Pe})),null):le.write(Se,Pe)}function oe(le,Se){return(0,E.Bu)(le,null,Se)}},29357:(et,Ae,v)=>{"use strict";v.d(Ae,{x:()=>E,z:()=>D});const E=["begin","end","begin-end"],D=["arrow","circle","square","diamond","cross","x"]},86646:(et,Ae,v)=>{"use strict";v.d(Ae,{E:()=>j,p:()=>$});var E=v(68677),D=v(67685),W=v(55739),B=v(46873);const j={type:E.A,json:{type:[W.jz],default:null,read:{source:["color","transparency"],reader:function P(S,I){const O=null!=I.transparency?(0,B.D)(I.transparency):1,U=I.color;return U&&Array.isArray(U)?new E.A([U[0]||0,U[1]||0,U[2]||0,O]):null}},write:{target:{color:{type:[W.jz]},transparency:{type:W.jz}},writer:function H(S,I){I.color=S.toJSON().slice(0,3);const O=(0,B.p)(S.a);0!==O&&(I.transparency=O)}}}},$={type:Number,cast:D.cr,json:{write:!0}}},90288:(et,Ae,v)=>{"use strict";v.d(Ae,{bo:()=>L,cF:()=>Z,jg:()=>w,o5:()=>C,yA:()=>b});var E=v(10467),D=v(89563),W=v(5922),B=v(56492),P=v(45272),H=v(73874),j=v(12629),$=v(12089);let S={};function O(){return(O=(0,E.A)(function*(K,V){try{return{data:(yield b(K,V)).data,baseUrl:(0,P.nM)(K),styleUrl:K}}catch(ue){return(0,B.QP)(ue),null}})).apply(this,arguments)}function Z(K,V,ue){return null!=K?.styleUrl?function I(K,V){return O.apply(this,arguments)}(K.styleUrl,ue):null!=K?.styleName?function U(K,V,ue){const ee=null!=V.portal?V.portal:H.A.getDefault();let te;const pe=`${ee.url} - ${ee.user?.username} - ${K}`;return S[pe]||(S[pe]=function J(K,V,ue){return V.load(ue).then(()=>{const ee=new j.A({disableExtraQuery:!0,query:`owner:${x} AND type:${R} AND typekeywords:"${K}"`});return V.queryItems(ee,ue)}).then(({results:ee})=>{let te=null;const pe=K.toLowerCase();if(ee&&Array.isArray(ee))for(const ae of ee)if(ae.typeKeywords?.some(ve=>ve.toLowerCase()===pe)&&ae.type===R&&ae.owner===x){te=ae;break}if(!te)throw new W.A("symbolstyleutils:style-not-found",`The style '${K}' could not be found`,{styleName:K});return te.load(ue)})}(K,ee,ue).then(ae=>(te=ae,ae.fetchData())).then(ae=>({data:ae,baseUrl:te.itemUrl??"",styleName:K}))),S[pe]}(K.styleName,V,ue):Promise.reject(new W.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function L(K){return null===K||"CIMSymbolReference"===K.type?K:{type:"CIMSymbolReference",symbol:K}}function C(K,V,ue=["gltf"]){if("cimRef"===V)return K.cimRef;if(K.formatInfos&&!(0,$.Vd)())for(const ee of ue){const te=K.formatInfos.find(pe=>pe.type===ee);if(te)return te.href}return K.webRef}function b(K,V){const ue={responseType:"json",query:{f:"json"},...V};return(0,D.A)((0,P.S8)(K),ue)}const x="esri_en",R="Style",w="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},64439:(et,Ae,v)=>{"use strict";v.d(Ae,{Fq:()=>$,M4:()=>S,Nv:()=>I,e:()=>O}),v(3248),v(25866);var W=v(2296);const P=(0,W.fA)(-.5,-.5,-.5,.5,.5,.5),H=(0,W.fA)(-.5,-.5,0,.5,.5,1),j=(0,W.fA)(-.5,-.5,0,.5,.5,.5);function $(U){switch(U){case"sphere":case"cube":case"diamond":return P;case"cylinder":case"cone":case"inverted-cone":return H;case"tetrahedron":return j;default:return}}const S=["butt","square","round"],I=[...S,"none"],O=["miter","bevel","round"]},68448:(et,Ae,v)=>{"use strict";v.d(Ae,{NM:()=>P,Tb:()=>H,_R:()=>B,h9:()=>W,rM:()=>S,x0:()=>I,y7:()=>O});var E=v(69287),D=v(55739);const W=["none","underline","line-through"],B=["normal","italic","oblique"],P=["normal","lighter","bold","bolder"],H={type:Number,cast:U=>{const N=(0,D.GB)(U);return 0===N?1:(0,E.qE)(N,.1,4)},nonNullable:!0},S={type:["left","right","center"],nonNullable:!0},I={type:["baseline","top","middle","bottom"],nonNullable:!0},O=8},82575:(et,Ae,v)=>{"use strict";v.d(Ae,{Ao:()=>W,KQ:()=>P});var E=v(48716);function W(H){return 1/(E.j[H]||1)}const P=function B(){const H=Object.keys(E.j);return H.sort(),H}()},33264:(et,Ae,v)=>{"use strict";v.d(Ae,{k7:()=>j,ku:()=>H});var E=v(45272),D=v(88135);function B(S,I){if(!(0,E.oP)(S)){const O=function $(S){if(!S)return null;const{origin:I,layer:O}=S;if("service"!==I&&"portal-item"!==I)return null;const U=O?.type;return"feature"===U||"stream"===U?O.parsedUrl?.path:"map-image"===U||"tile"===U?S.url?.path:null}(I);if(O)return(0,E.fj)(O,"images",S)}return(0,D.f)(S,I)}const H={json:{read:{source:["imageData","url"],reader:function W(S,I,O){return I.imageData?(0,E.Hg)({mediaType:I.contentType||"image/png",isBase64:!0,data:I.imageData}):B(I.url,O)}},write:{writer(S,I,O,U){!function P(S,I,O,U){if((0,E.DB)(S)){const N=(0,E.r$)(S);if(!N)return;I.contentType=N.mediaType,I.imageData=N.data,O&&O.imageData===I.imageData&&O.url&&(0,D.w)(O.url,I,"url",U)}else(0,D.w)(S,I,"url",U)}(S,I,this.source,U)}}}},j={readOnly:!0,json:{read:{source:["imageData","url"],reader(S,I,O){const U={};return I.imageData&&(U.imageData=I.imageData),I.contentType&&(U.contentType=I.contentType),I.url&&(U.url=B(I.url,O)),U}}}}},22639:(et,Ae,v)=>{"use strict";v.d(Ae,{ZS:()=>O,hv:()=>Z,qU:()=>W,N5:()=>H,P6:()=>I,L5:()=>B,n$:()=>P});const E=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var D=v(44549);const W="system",B="unknown",P="UTC",H=Intl.DateTimeFormat().resolvedOptions().timeZone,j="shortOffset";function I(C,b=!1){return{json:{read:{source:C,reader:(x,R)=>R[C]?O(R[C]):null},write:!!b&&{allowNull:!0,writer(x,R){R[C]=x?function U(C){return{timeZoneIANA:C}}(x):null}}}}}function O(C,b=W){return C?function $(C){return"timeZoneIANA"in C}(C)?C.timeZoneIANA:function N(C,b=W){if(!C||!E.has(C.timeZone))return b;const x=E.get(C.timeZone);return function S(C){return C.startsWith("UTC")}(C.timeZone)||C.respectsDaylightSaving?x:function J(C){const b=D.c9.local().setZone(C),x=Math.min(b.set({month:1,day:1}).offset,b.set({month:5}).offset);return 0===x?"Etc/UTC":`Etc/GMT${D.mQ.instance(-x).formatOffset(0,"narrow")}`}(x)}(C,b):b}function Z(C,b,x,R,w){if(b&&"date"===w)return{timeZone:P,timeZoneName:void 0};const V=x===B;return{timeZone:V?"timestamp-offset"===w?void 0:C??P:x,timeZoneName:V&&(R.timeStyle||R.hour)?j:void 0}}},30448:(et,Ae,v)=>{"use strict";v.d(Ae,{TA:()=>B,We:()=>$,Z3:()=>P,ZJ:()=>I,w5:()=>U});var E=v(10467),D=v(89563);const B=(0,v(43085).vD)(),P=new Map,H=new Map;function $(N,J,Z){return S.apply(this,arguments)}function S(){return(S=(0,E.A)(function*(N,J,Z){if(!N||!Z)return!1;if(!J)return!0;const L=new URL(N).host;let C=P.get(L);if(!C){const b=N.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");C=(yield(0,D.A)(b,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return C===J})).apply(this,arguments)}function I(N,J){return O.apply(this,arguments)}function O(){return(O=(0,E.A)(function*(N,J,Z=!1){if(!N||!J)return!0;const L=N.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),C=H.get(L)?.entries();if(C)for(const[b,x]of C)if(x.name===J){const R=!x.stack?.hasForwardEdits();if(!R&&Z){const[{deleteForwardEdits:w},{default:K}]=yield Promise.all([v.e(4570).then(v.bind(v,44570)),v.e(5566).then(v.bind(v,55566))]),V=yield w(L,b,new K({sessionId:B,moment:x.moment}));return V.success&&x.stack?.clearForwardEdits(),V.success}return R}return!0})).apply(this,arguments)}function U(N,J){if(!N)return!1;const Z=N.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),L=H.get(Z)?.entries();if(L)for(const[C,b]of L)if(b.name===J)return"edit"===b.lockType;return!1}},97233:(et,Ae,v)=>{"use strict";v.d(Ae,{F:()=>H});var E=v(56595),D=v(28067),W=v(51995),B=v(22772),P=v(74847);class H{constructor($,S){this.key=new P.A(0,0,0,0),this.bounds=(0,W.vt)(),this.objectIds=new Set,this.key.set(S);const I=$.getLODInfoAt(this.key);this.tileInfoView=$,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=I.resolution,this.level=I.level,this.scale=I.scale,this.minScale=$.zoomToScale(I.level-1),this.maxScale=$.zoomToScale(I.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return D.A.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions($){return{$view:{scale:this.scale,timeZone:$}}}createChildTiles(){const $=this.key.getChildKeys(),S=E.A.acquire();for(let I=0;I<$.length;I++)S[I]=new H(this.tileInfoView,$[I]);return S}getQuantizationParameters(){return B.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},60746:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>I});var E=v(8189),D=v(68677),W=v(98877),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576));let S=class extends W.A{constructor(){super(...arguments),this.color=new D.A([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25,this.multiHighlightEnabled=!1}equals(O){return this.color.equals(O.color)&&(this.haloColor||this.color).equals(O.haloColor||O.color)&&this.haloOpacity===O.haloOpacity&&this.fillOpacity===O.fillOpacity&&this.multiHighlightEnabled===O.multiHighlightEnabled}};(0,E._)([(0,B.MZ)({type:D.A})],S.prototype,"color",void 0),(0,E._)([(0,B.MZ)({type:D.A})],S.prototype,"haloColor",void 0),(0,E._)([(0,B.MZ)()],S.prototype,"haloOpacity",void 0),(0,E._)([(0,B.MZ)()],S.prototype,"fillOpacity",void 0),(0,E._)([(0,B.MZ)()],S.prototype,"multiHighlightEnabled",void 0),S=(0,E._)([(0,$.$)("esri.views.2d.support.HighlightOptions")],S);const I=S},56551:(et,Ae,v)=>{"use strict";v.d(Ae,{K:()=>D});class D{constructor(){this._names=new Map}begin(B){this._names.has(B)||(this._names.set(B,!1),B.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${B}.Start`))}end(B){this._names.has(B)&&!this._names.get(B)&&(this._names.set(B,!0),performance.mark(`Esri.${B}.End`))}record(B){this._names.has(B)||(this._names.set(B,!0),performance.mark(`Esri.${B}`))}}},58349:(et,Ae,v)=>{"use strict";v.d(Ae,{O:()=>B,p:()=>W});var E=v(8190);const D=P=>parseFloat(P)/100;function W(P,H,j){const $="string"==typeof P.left?D(P.left)*H:P.left,S="string"==typeof P.right?D(P.right)*H:P.right,I="string"==typeof P.top?D(P.top)*j:P.top,O="string"==typeof P.bottom?D(P.bottom)*j:P.bottom,U=I;return{xmin:$,xmax:Math.max(H-S,$),ymin:U,ymax:Math.max(j-O,I)}}function B(P,H,j,$){switch(H.type){case"rect":{const{width:S,height:I}=P,{xmin:O,xmax:U,ymin:N,ymax:J}=W(H,S,I),{x:Z,y:L}=j;return Z>O&&Z<U&&L>N&&L<J}case"path":return 0===H.path.length||!Array.isArray(H.path[0][0])||(0,E.t1)(H.path,[j.x,j.y]);case"geometry":return null==H.geometry||("polygon"===H.geometry.type?(0,E.m3)(H.geometry,$):(0,E.qz)(H.geometry,$))}}},75324:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>W});var E=v(61591),D=v(74847);class W{constructor(){this.spans=[]}acquire(P){this.lodInfo=P}release(){this.lodInfo=null,this.spans.length=0}*keys(){const P=this.lodInfo;for(const{row:H,colFrom:j,colTo:$}of this.spans)for(let S=j;S<=$;S++){const I=P.getWorldForColumn(S);yield new D.A(P.level,H,P.normalizeCol(S),I)}}forEach(P,H){const{spans:j,lodInfo:$}=this,{level:S}=$;if(0!==j.length)for(const{row:I,colFrom:O,colTo:U}of j)for(let N=O;N<=U;N++)P.call(H,S,I,$.normalizeCol(N),$.getWorldForColumn(N))}}W.pool=new E.A(W)},54290:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>J});var E=v(58701),D=v(74847);function W(Z,L){return[Z,L]}function B(Z,L,C){return Z[0]=L,Z[1]=C,Z}const H=new D.A("0/0/0/0");class j{static create(L,C,b=null){const x=(0,E.Vp)(L.spatialReference),R=C.origin||W(L.origin.x,L.origin.y),w=W(L.size[0]*C.resolution,L.size[1]*C.resolution),K=W(-1/0,-1/0),V=W(1/0,1/0),ue=W(1/0,1/0);null!=b&&(B(K,Math.max(0,Math.floor((b.xmin-R[0])/w[0])),Math.max(0,Math.floor((R[1]-b.ymax)/w[1]))),B(V,Math.max(0,Math.floor((b.xmax-R[0])/w[0])),Math.max(0,Math.floor((R[1]-b.ymin)/w[1]))),B(ue,V[0]-K[0]+1,V[1]-K[1]+1));const{cols:ee,rows:te}=C;let pe,ae,de,ve;return!b&&ee&&te&&(B(K,ee[0],te[0]),B(V,ee[1],te[1]),B(ue,ee[1]-ee[0]+1,te[1]-te[0]+1)),L.isWrappable?(pe=W(Math.ceil(Math.round((x.valid[1]-x.valid[0])/C.resolution)/L.size[0]),ue[1]),ae=W(Math.floor((x.origin[0]-R[0])/w[0]),K[1]),de=W(pe[0]+ae[0]-1,V[1]),ve=!0):(ae=K,de=V,pe=ue,ve=!1),new j(C.level,C.resolution,C.scale,R,K,V,ue,w,ae,de,pe,ve)}constructor(L,C,b,x,R,w,K,V,ue,ee,te,pe){this.level=L,this.resolution=C,this.scale=b,this.origin=x,this.first=R,this.last=w,this.size=K,this.norm=V,this.worldStart=ue,this.worldEnd=ee,this.worldSize=te,this.wrap=pe}normalizeCol(L){if(!this.wrap)return L;const C=this.worldSize[0];return L<0?C-1-Math.abs((L+1)%C):L%C}denormalizeCol(L,C){return this.wrap?this.worldSize[0]*C+L:L}getWorldForColumn(L){return this.wrap?Math.floor(L/this.worldSize[0]):0}getFirstColumnForWorld(L){return L*this.worldSize[0]+this.first[0]}getLastColumnForWorld(L){return L*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(L){return(L-this.origin[0])/this.norm[0]}getXForColumn(L){return this.origin[0]+L*this.norm[0]}getRowForY(L){return(this.origin[1]-L)/this.norm[1]}getYForRow(L){return this.origin[1]-L*this.norm[1]}getTileBounds(L,C,b=!1){H.set(C);const x=b?H.col:this.denormalizeCol(H.col,H.world),R=H.row;return function P(Z,L,C,b,x){Z[0]=L,Z[1]=C,Z[2]=b,Z[3]=x}(L,this.getXForColumn(x),this.getYForRow(R+1),this.getXForColumn(x+1),this.getYForRow(R)),L}getTileCoords(L,C,b=!1){H.set(C);const x=b?H.col:this.denormalizeCol(H.col,H.world);return Array.isArray(L)?B(L,this.getXForColumn(x),this.getYForRow(H.row)):(L.x=this.getXForColumn(x),L.y=this.getYForRow(H.row)),L}}var $=v(75324);class S{constructor(L,C,b){this.row=L,this.colFrom=C,this.colTo=b}}const I=new D.A("0/0/0/0");class O{static create(L,C){L[1]>C[1]&&([L,C]=[C,L]);const[b,x]=L,[R,w]=C,K=R-b,V=w-x,ue=0!==V?K/V:0,ee=(Math.ceil(x)-x)*ue,te=(Math.floor(x)-x)*ue;return new O(b,Math.floor(x),Math.ceil(w),ue,K<0?ee:te,K<0?te:ee,K<0?R:b,K<0?b:R)}constructor(L,C,b,x,R,w,K,V){this.x=L,this.ymin=C,this.ymax=b,this.invM=x,this.leftAdjust=R,this.rightAdjust=w,this.leftBound=K,this.rightBound=V}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const U=[[0,0],[0,0],[0,0],[0,0]];class J{constructor(L,C=null,b=L.lods[0].level,x=L.lods[L.lods.length-1].level){this.tileInfo=L,this.fullExtent=C,this.scales=[],this._infoByScale={},this._infoByLevel={};const R=L.lods.filter(K=>K.level>=b&&K.level<=x);this.minScale=R[0].scale,this.maxScale=R[R.length-1].scale;const w=this._lodInfos=R.map(K=>j.create(L,K,C));R.forEach((K,V)=>{this._infoByLevel[K.level]=w[V],this._infoByScale[K.scale]=w[V],this.scales[V]=K.scale},this),this._wrap=L.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(L){return this._infoByLevel["number"==typeof L?L:L.level]}getTileBounds(L,C,b=!1){I.set(C);const x=this._infoByLevel[I.level];return x?x.getTileBounds(L,I,b):L}getTileCoords(L,C,b=!1){I.set(C);const x=this._infoByLevel[I.level];return x?x.getTileCoords(L,I,b):L}getTileCoverage(L,C=192,b=!0,x="closest"){if(!b&&(L.scale>this.minScale||L.scale<this.maxScale))return null;const R="closest"===x?this.getClosestInfoForScale(L.scale):this.getSmallestInfoForScale(L.scale),w=$.A.pool.acquire(R),K=this._wrap;let V,ue,ee,te=1/0,pe=-1/0;const ae=w.spans;U[0][0]=U[0][1]=U[1][1]=U[3][0]=-C,U[1][0]=U[2][0]=L.size[0]+C,U[2][1]=U[3][1]=L.size[1]+C;for(const fe of U)L.toMap(fe,fe),fe[0]=R.getColumnForX(fe[0]),fe[1]=R.getRowForY(fe[1]);const de=[];let ve=3;for(let fe=0;fe<4;fe++){if(U[fe][1]===U[ve][1]){ve=fe;continue}const ie=O.create(U[fe],U[ve]);te=Math.min(ie.ymin,te),pe=Math.max(ie.ymax,pe),void 0===de[ie.ymin]&&(de[ie.ymin]=[]),de[ie.ymin].push(ie),ve=fe}if(null==te||null==pe||pe-te>100)return null;let G=[];for(V=te;V<pe;){null!=de[V]&&(G=G.concat(de[V])),ue=1/0,ee=-1/0;for(let fe=G.length-1;fe>=0;fe--){const ie=G[fe];ue=Math.min(ue,ie.getLeftCol()),ee=Math.max(ee,ie.getRightCol())}if(ue=Math.floor(ue),ee=Math.floor(ee),V>=R.first[1]&&V<=R.last[1])if(K)if(R.size[0]<R.worldSize[0]){const fe=Math.floor(ee/R.worldSize[0]);for(let ie=Math.floor(ue/R.worldSize[0]);ie<=fe;ie++)ae.push(new S(V,Math.max(R.getFirstColumnForWorld(ie),ue),Math.min(R.getLastColumnForWorld(ie),ee)))}else ae.push(new S(V,ue,ee));else ue>R.last[0]||ee<R.first[0]||(ue=Math.max(ue,R.first[0]),ee=Math.min(ee,R.last[0]),ae.push(new S(V,ue,ee)));V+=1;for(let fe=G.length-1;fe>=0;fe--){const ie=G[fe];ie.ymax>=V?ie.incrRow():G.splice(fe,1)}}return w}getTileParentId(L){I.set(L);const b=this._lodInfos.indexOf(this._infoByLevel[I.level])-1;return b<0?null:(this._getTileIdAtLOD(I,this._lodInfos[b],I),I.id)}getTileResolution(L){const C=this._infoByLevel["object"==typeof L?L.level:L];return C?C.resolution:-1}getTileScale(L){const C=this._infoByLevel[L.level];return C?C.scale:-1}intersects(L,C){I.set(C);const b=this._infoByLevel[I.level],x=L.lodInfo;if(x.resolution>b.resolution){this._getTileIdAtLOD(I,x,I);const w=x.denormalizeCol(I.col,I.world);for(const K of L.spans)if(K.row===I.row&&K.colFrom<=w&&K.colTo>=w)return!0}if(x.resolution<b.resolution){const[w,K,V,ue]=L.spans.reduce((ve,G)=>(ve[0]=Math.min(ve[0],G.row),ve[1]=Math.max(ve[1],G.row),ve[2]=Math.min(ve[2],G.colFrom),ve[3]=Math.max(ve[3],G.colTo),ve),[1/0,-1/0,1/0,-1/0]),ee=b.denormalizeCol(I.col,I.world),te=x.getColumnForX(b.getXForColumn(ee)),pe=x.getRowForY(b.getYForRow(I.row)),ae=x.getColumnForX(b.getXForColumn(ee+1))-1,de=x.getRowForY(b.getYForRow(I.row+1))-1;return!(te>ue||ae<V||pe>K||de<w)}const R=x.denormalizeCol(I.col,I.world);return L.spans.some(w=>w.row===I.row&&w.colFrom<=R&&w.colTo>=R)}normalizeBounds(L,C,b){if(L[0]=C[0],L[1]=C[1],L[2]=C[2],L[3]=C[3],this._wrap){const x=(0,E.Vp)(this.tileInfo.spatialReference),R=-b*(x.valid[1]-x.valid[0]);L[0]+=R,L[2]+=R}return L}getSmallestInfoForScale(L){const C=this.scales;if(this._infoByScale[L])return this._infoByScale[L];if(L>C[0])return this._infoByScale[C[0]];for(let b=1;b<C.length-1;b++)if(L>C[b]+1e-6)return this._infoByScale[C[b-1]];return this._infoByScale[C[C.length-1]]}getClosestInfoForScale(L){const C=this.scales;return this._infoByScale[L]||(L=C.reduce((b,x)=>Math.abs(x-L)<Math.abs(b-L)?x:b,C[0])),this._infoByScale[L]}scaleToLevel(L){const C=this.scales;if(this._infoByScale[L])return this._infoByScale[L].level;for(let b=C.length-1;b>=0;b--)if(L<C[b])return b===C.length-1?this._infoByScale[C[C.length-1]].level:this._infoByScale[C[b]].level+(C[b]-L)/(C[b]-C[b+1]);return this._infoByScale[C[0]].level}scaleToZoom(L){return this.tileInfo.scaleToZoom(L)}zoomToScale(L){return this.tileInfo.zoomToScale(L)}_getTileIdAtLOD(L,C,b){const x=this._infoByLevel[b.level];return L.set(b),C.resolution<x.resolution?null:(C.resolution===x.resolution||(L.level=C.level,L.col=Math.floor(b.col*x.resolution/C.resolution+.01),L.row=Math.floor(b.row*x.resolution/C.resolution+.01)),L)}}},74847:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>D});var E=v(61591);class D{static getId(B,P,H,j){return"object"==typeof B?`${B.level}/${B.row}/${B.col}/${B.world}`:`${B}/${P}/${H}/${j}`}constructor(B,P,H,j){this.set(B,P,H,j)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(B){this.set(B)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(B,P,H,j){this.set(B,P,H,j)}contains(B){const P=B.level-this.level;return P>=0&&this.row===B.row>>P&&this.col===B.col>>P&&this.world===B.world}containsChild(B){const P=B.level-this.level;return P>0&&this.row===B.row>>P&&this.col===B.col>>P&&this.world===B.world}equals(B){return this.level===B.level&&this.row===B.row&&this.col===B.col&&this.world===B.world}clone(){return new D(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(B,P,H,j){if(null==B)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof B)this.level=B.level||0,this.row=B.row||0,this.col=B.col||0,this.world=B.world||0;else if("string"==typeof B){const[$,S,I,O]=B.split("/");this.level=parseFloat($),this.row=parseFloat(S),this.col=parseFloat(I),this.world=parseFloat(O)}else this.level=+B,this.row=+P,this.col=+H,this.world=+j||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new D(this.level-1,this.row>>1,this.col>>1,this.world)}getNeighborId(B,P){return`${this.level}/${this.row+P}/${this.col+B}/${this.world}`}getChildKeys(){const B=this.level+1,P=this.row<<1,H=this.col<<1,j=this.world;return[new D(B,P,H,j),new D(B,P,H+1,j),new D(B,P+1,H,j),new D(B,P+1,H+1,j)]}compareRowMajor(B){return this.row<B.row?-1:this.row>B.row?1:this.col<B.col?-1:this.col>B.col?1:0}}D.pool=new E.A(D,null,null,25,50)},67347:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>C});var E=v(8189),D=v(98877),W=v(11432),B=v(85211),$=(v(3248),v(35150),v(40707),v(76576)),S=v(83953),I=v(56330);const U=new Set,N=[],J=new Map,Z=[0,0];let L=class extends D.A{constructor(b){super(b),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:b,process:x,strategy:R}=this;this._queue=new I.e({concurrency:b,process:(w,K)=>{const V=this._keyToItem.get(w);return x(V,{signal:K})},peeker:"scale-first"===R?w=>this._peekByScaleFirst(w):w=>this._peekByCenterFirst(w)})}destroy(){this.clear(),this._queue=(0,W.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}abort(b){this._queue.abort("string"==typeof b?b:b.id)}clear(){this._queue.clear(),this._keyToItem.clear()}has(b){return this._keyToItem.has("string"==typeof b?b:b.id)}isOngoing(b){const x="string"==typeof b?b:b.id;return this.has(x)&&this._queue.isOngoing(x)}pause(){this._queue.pause()}push(b){const x=b.key.id;if(this._queue.has(x))return this._queue.get(x);const R=this._queue.push(x),w=()=>{this._keyToItem.delete(x)};return this._keyToItem.set(x,b),R.then(w,w),R}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(b){if(!this.state)return b.values().next().value;const x=this.tileInfoView;let R=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY;b.forEach(pe=>{const ae=this._keyToItem.get(pe),de=this.tileInfoView.getTileScale(ae.key);J.has(de)||(J.set(de,[]),R=Math.max(de,R),w=Math.min(de,w)),J.get(de).push(ae.key),U.add(de)});let K=this.state.scale;J.has(K)||(function O(b,x){b.length=0,x.forEach(R=>b.push(R))}(N,U),N.sort((pe,ae)=>pe-ae),K=N.reduce((pe,ae)=>Math.abs(ae-K)<Math.abs(pe-K)?ae:pe,N[0])),K=Math.min(K,R),K=Math.max(K,w);const V=J.get(K),ue=x.getClosestInfoForScale(K),ee=ue.getColumnForX(this.state.center[0]),te=ue.getRowForY(this.state.center[1]);return V.sort((pe,ae)=>{const de=ue.denormalizeCol(pe.col,pe.world),ve=ue.denormalizeCol(ae.col,ae.world);return Math.sqrt((ee-de)*(ee-de)+(te-pe.row)*(te-pe.row))-Math.sqrt((ee-ve)*(ee-ve)+(te-ae.row)*(te-ae.row))}),U.clear(),J.clear(),V[0].id}_peekByCenterFirst(b){if(!this.state)return b.values().next().value;const x=this.tileInfoView,R=this.state.center;let w,K=Number.POSITIVE_INFINITY;return b.forEach(V=>{const ue=this._keyToItem.get(V);x.getTileCoords(Z,ue.key);const ee=(0,S.Io)(Z,R);ee<K&&(K=ee,w=ue.key)}),w.id}};(0,E._)([(0,B.MZ)({constructOnly:!0})],L.prototype,"concurrency",void 0),(0,E._)([(0,B.MZ)({constructOnly:!0})],L.prototype,"process",void 0),(0,E._)([(0,B.MZ)()],L.prototype,"state",void 0),(0,E._)([(0,B.MZ)({constructOnly:!0})],L.prototype,"strategy",void 0),(0,E._)([(0,B.MZ)({constructOnly:!0})],L.prototype,"tileInfoView",void 0),L=(0,E._)([(0,$.$)("esri.views.2d.tiling.TileQueue")],L);const C=L},77031:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>O});var E=v(51995),D=v(83953);class W{constructor(N,J,Z){this.maxSize=N,this._tileInfoView=J,this._removedFunc=Z,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(N){return this._tilePerId.has(N)}get(N){return this._tilePerId.get(N)}pop(N){const J=this._tilePerId.get(N);if(!J)return;const L=this._tileKeysPerLevel[J.key.level];B(this._tilePerId,N);for(let C=0;C<L.length;C++)if(L[C].id===N){L.splice(C,1);break}return J.visible=!0,J}add(N){N.visible=!1;const J=N.key,Z=J.id;if(this._tilePerId.has(Z))return;this._tilePerId.set(Z,N);const L=J.level;this._tileKeysPerLevel[L]||(this._tileKeysPerLevel[L]=[]),this._tileKeysPerLevel[L].push(J)}prune(N,J,Z){let L=this._tilePerId.size;if(L<=this.maxSize)return;let C=this._tileKeysPerLevel.length-1;for(;L>this.maxSize&&C>=0;)C!==N&&(L=this._pruneAroundCenterTile(L,J,Z,C)),C--;L>this.maxSize&&(L=this._pruneAroundCenterTile(L,J,Z,N))}_pruneAroundCenterTile(N,J,Z,L){const C=this._tileKeysPerLevel[L];if(!C||0===C.length)return N;const{size:b,origin:x}=this._tileInfoView.tileInfo,R=Z*b[0],w=Z*b[1],K=[0,0],V=[0,0];for(C.sort((ue,ee)=>(K[0]=x.x+R*(ue.col+.5),K[1]=x.y-w*(ue.row+.5),V[0]=x.x+R*(ee.col+.5),V[1]=x.y-w*(ee.row+.5),(0,D.hG)(K,J)-(0,D.hG)(V,J)));C.length>0;){const ue=C.pop();if(this._removeTile(ue.id),--N===this.maxSize)break}return N}_removeTile(N){const J=this._tilePerId.get(N);this._removedFunc&&J&&this._removedFunc(J),B(this._tilePerId,N)}}function B(U,N){U.delete(N)}var P=v(75324);const j=new(v(74847).A)(0,0,0,0),$=new Map,S=[],I=[];class O{constructor(N){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=N.acquireTile,this.releaseTile=N.releaseTile,this.tileInfoView=N.tileInfoView,null!=N.resampling&&(this.resampling=N.resampling),N.cachePolicy&&(this.cachePolicy=N.cachePolicy),N.coveragePolicy&&(this.coveragePolicy=N.coveragePolicy),null!=N.buffer&&(this.buffer=N.buffer),N.cacheSize&&(this._tileCache=new W(N.cacheSize,this.tileInfoView,J=>{this.releaseTile(J)}))}destroy(){this.tileIndex.clear()}update(N){const{resampling:J,tileIndex:Z}=this,{scale:L,center:C,resolution:b}=N.state,{minScale:x,maxScale:R}=this.tileInfoView,w=!N.stationary&&L>this._previousScale;if(this._previousScale=L,!J&&(L>x||L<R))return this.tiles.length=0,void this.clear();const K=this.tileInfoView.getTileCoverage(N.state,this.buffer,this.resampling,this.coveragePolicy);if(!K)return this.tiles.length=0,void this.clear();const{spans:V,lodInfo:ue}=K,{level:ee}=ue;this.tiles.length=0,Z.forEach(de=>de.visible=!0);let te=0,pe=0;if(V.length>0)for(const{row:de,colFrom:ve,colTo:G}of V)for(let fe=ve;fe<=G;fe++){te++;const ie=j.set(ee,de,ue.normalizeCol(fe),ue.getWorldForColumn(fe)).id;let ye=Z.get(ie);if(ye)ye.isReady?($.set(ie,ye),pe++):w||this._addParentTile(ie,$);else{if(this._tileCache?.has(ie)){if(ye=this._tileCache.pop(ie),this.tileIndex.set(ie,ye),ye.isReady){$.set(ie,ye),pe++;continue}}else ye=this.acquireTile(j),this.tileIndex.set(ie,ye);w||this._addParentTile(ie,$)}}const ae=pe===te;for(const[de,ve]of Z){if($.has(de))continue;j.set(de);const G=this.tileInfoView.intersects(K,j),fe="purge"===this.cachePolicy?j.level!==ee:j.level>ee;!G||!w&&ae?!fe&&G||S.push(ve):ve.isReady?fe&&"purge"===this.cachePolicy&&this._hasReadyAncestor(j,ee)?S.push(ve):I.push(ve):fe&&S.push(ve)}for(const de of I)de.isReady&&$.set(de.key.id,de);for(const de of S)this._tileCache?this._tileCache.add(de):this.releaseTile(de),Z.delete(de.key.id);for(const de of $.values())this.tiles.push(de);for(const de of Z.values())$.has(de.key.id)||(de.visible=!1);this._tileCache?.prune(ee,C,b),P.A.pool.release(K),I.length=0,S.length=0,$.clear()}clear(){const{tileIndex:N}=this;for(const J of N.values())this.releaseTile(J);N.clear()}refresh(N){for(const J of this.tileIndex.values())this.tiles.includes(J)?N(J):S.push(J);for(const J of S)this.releaseTile(J),this.tileIndex.delete(J.key.id);this._tileCache?.clear()}updateCacheSize(N){this._tileCache&&(this._tileCache.maxSize=N)}_addParentTile(N,J){let Z=N,L=null;for(;Z=this.tileInfoView.getTileParentId(Z),Z;)if(this.tileIndex.has(Z)){if(L=this.tileIndex.get(Z),L?.isReady){J.has(L.key.id)||J.set(L.key.id,L);break}}else if(this._tileCache?.has(Z)&&(L=this._tileCache.pop(Z),this.tileIndex.set(Z,L),L?.isReady)){J.has(L.key.id)||J.set(L.key.id,L);break}}_hasReadyAncestor(N,J){const Z=(0,E.vt)();this.tileInfoView.getTileBounds(Z,N,!0);for(const L of this.tileIndex.values())if(L.isReady&&L.key.level>=J&&L.key.level<N.level){const C=(0,E.vt)();if(this.tileInfoView.getTileBounds(C,L.key,!0),(0,E.gR)(C,Z))return!0}return!1}}},47461:(et,Ae,v)=>{"use strict";function E(P,H,j,$){const S=3*P,I=3*(j-P)-S,O=1-S-I,U=3*H,N=3*($-H)-U,J=1-U-N;function Z(x){return((O*x+I)*x+S)*x}function C(x){return(3*O*x+2*I)*x+S}return function(x,R=1e-6){return function L(x){return((J*x+N)*x+U)*x}(function b(x,R){let w,K,V,ue,ee,te;for(V=x,te=0;te<8;te++){if(ue=Z(V)-x,Math.abs(ue)<R)return V;if(ee=C(V),Math.abs(ee)<1e-6)break;V-=ue/ee}if(w=0,K=1,V=x,V<w)return w;if(V>K)return K;for(;w<K;){if(ue=Z(V),Math.abs(ue-x)<R)return V;x>ue?w=V:K=V,V=.5*(K-w)+w}return V}(x,R))}}v.d(Ae,{Z0:()=>W,gb:()=>E,qg:()=>B});const D=/^cubic-bezier\((.*)\)/,W={};function B(P){let H=W[P]||null;if(!H){const j=D.exec(P);if(j){const $=j[1].split(",").map(S=>parseFloat(S.trim()));4!==$.length||$.some(S=>isNaN(S))||(H=E.apply(E,$))}}return H}W.ease=E(.25,.1,.25,1),W.linear=E(0,0,1,1),W.easeIn=W["ease-in"]=E(.42,0,1,1),W.easeOut=W["ease-out"]=E(0,0,.58,1),W.easeInOut=W["ease-in-out"]=E(.42,0,.58,1)},6126:(et,Ae,v)=>{"use strict";v.d(Ae,{$0:()=>De,AU:()=>ue,C:()=>G,FT:()=>Le,GL:()=>Ie,Hn:()=>oe,Ji:()=>ke,RG:()=>X,UR:()=>Ye,WK:()=>rt,XR:()=>Xe,Z7:()=>ie,aA:()=>qe,b:()=>ye,b8:()=>re,cp:()=>Ee,hV:()=>Oe,iB:()=>fe,nr:()=>we,qV:()=>lt,ri:()=>le,s5:()=>_e,tj:()=>Q,vt:()=>de});var E=v(10467),D=v(20351),W=v(31178),B=v(69287),P=v(82663),H=v(85952),j=v(76329),$=v(44999),S=v(83953),I=v(45475),O=v(28067),U=v(68643),N=v(1749),J=v(11817),Z=v(32034),L=v(77098),C=v(58701);const b=96,x=39.37,R=180/Math.PI;function w(xe){return xe.wkid?xe:xe.spatialReference||Z.A.WGS84}function K(xe,Be){return Be.type?(0,S.hZ)(xe,Be.x,Be.y):(0,S.C)(xe,Be)}function V(xe){return(0,P.GA)(xe)}function ue(xe,Be,Ze=0){let Ne=xe.width,He=xe.height;if(0!==Ze){const dt=(0,B.kU)(Ze),Et=Math.abs(Math.cos(dt)),Lt=Math.abs(Math.sin(dt));Ne=xe.width*Et+xe.height*Lt,He=xe.width*Lt+xe.height*Et}const Je=Math.max(1,Be[0]),ut=Math.max(1,Be[1]);return Math.max(Ne/Je,He/ut)*function se(xe){return(0,C.fn)(xe)?V(xe)*x*b:1}(xe.spatialReference)}function ee(xe,Be,Ze,Ne){return te.apply(this,arguments)}function te(){return(te=(0,E.A)(function*(xe,Be,Ze,Ne){let He,Je;if(!xe||Array.isArray(xe)&&!xe.length)return null;if(W.A.isCollection(xe)&&(xe=xe.toArray()),Array.isArray(xe)&&xe.length&&"object"==typeof xe[0]){const dt=xe.every(jt=>"attributes"in jt),Et=xe.some(jt=>!jt.geometry);let Lt=xe;if(dt&&Et&&Be&&Be.allLayerViews){const jt=new Map;for(const an of xe){const mn=an.layer,Kn=jt.get(mn)||[],kn=an.attributes[mn.objectIdField];null!=kn&&Kn.push(kn),jt.set(mn,Kn)}const Kt=[];jt.forEach((an,mn)=>{const Kn=Be.allLayerViews.find(kn=>kn.layer.id===mn.id);if(Kn&&"queryFeatures"in Kn){const kn=mn.createQuery();kn.objectIds=an,kn.returnGeometry=!0,Kt.push(Kn.queryFeatures(kn))}});const Gt=yield Promise.all(Kt),Zt=[];for(const an of Gt)if(an&&an.features&&an.features.length)for(const mn of an.features)null!=mn.geometry&&Zt.push(mn.geometry);Lt=Zt}for(const jt of Lt)Ne=yield ee(jt,Be,Ze,Ne);return Ne}if(Array.isArray(xe)&&2===xe.length&&"number"==typeof xe[0]&&"number"==typeof xe[1])He=new N.A(xe);else if(xe instanceof U.A)He=xe;else if("geometry"in xe)if(xe.geometry)He=xe.geometry;else if(xe.layer){const dt=xe.layer,Et=Be.allLayerViews.find(Lt=>Lt.layer.id===dt.id);if(Et&&"queryFeatures"in Et){const Lt=dt.createQuery();Lt.objectIds=[xe.attributes[dt.objectIdField]],Lt.returnGeometry=!0,He=(yield Et.queryFeatures(Lt))?.features?.[0]?.geometry}}if(null==He)return null;switch(He.type){case"point":Je=new O.A({xmin:He.x,ymin:He.y,xmax:He.x,ymax:He.y,spatialReference:He.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":Je=(0,L.Hr)(He);break;default:Je=He.extent}if(!Je)return null;(0,J.isLoaded)()||(0,J.canProjectWithoutEngine)(Je.spatialReference,Ze)||(yield(0,J.load)());const ut=(0,J.project)(Je,Ze);if(!ut)return null;if(Ne){const dt=ut.center,Et=dt.clone();Et.x=(0,L.O7)(dt.x,Ne.center.x,Ze),Et.x!==dt.x&&ut.centerAt(Et),Ne=Ne.union(ut)}else Ne=ut;return Ne})).apply(this,arguments)}function ae(xe,Be){return(0,C.aI)(w(xe),Be)?xe:(0,J.project)(xe,Be)}function de(xe,Be){return ve.apply(this,arguments)}function ve(){return(ve=(0,E.A)(function*(xe,Be){if(!xe||!Be)return new D.A({targetGeometry:new N.A,scale:0,rotation:0});let Ze=Be.spatialReference;const{constraints:Ne,padding:He,viewpoint:Je,size:ut}=Be,dt=[He?ut[0]-He.left-He.right:ut[0],He?ut[1]-He.top-He.bottom:ut[1]];let Et=null;xe instanceof D.A?Et=xe:xe.viewpoint?Et=xe.viewpoint:xe.target&&"esri.Viewpoint"===xe.target.declaredClass&&(Et=xe.target);let Lt=null;Et?.targetGeometry?Lt=Et.targetGeometry:xe instanceof O.A?Lt=xe:xe instanceof U.A?Lt=yield ee(xe,Be,Ze):xe&&(Lt=(yield ee(xe.center,Be,Ze))||(yield ee(xe.target,Be,Ze))||(yield ee(xe,Be,Ze))),!Lt&&Je?.targetGeometry?Lt=Je.targetGeometry:!Lt&&Be.extent&&(Lt=Be.extent),Ze||(Ze=w(Be.spatialReference||Be.extent||Lt)),(0,J.isLoaded)()||(0,C.aI)(Lt.spatialReference,Ze)||(0,J.canProjectWithoutEngine)(Lt.spatialReference,Ze)||(yield(0,J.load)());const jt=ae(Lt,Ze),Kt="center"in jt?jt.center:jt;!1!==Be.pickClosestTarget&&"point"===Kt.type&&"point"===Je.targetGeometry?.type&&(Kt.x=(0,L.O7)(Kt.x,Je.targetGeometry.x,Kt.spatialReference));let Gt=0;Et?Gt=Et.rotation:xe.hasOwnProperty("rotation")?Gt=xe.rotation:Je&&(Gt=Je.rotation);let Zt=0;Zt=null!=Et?.targetGeometry&&"point"===Et.targetGeometry.type?Et.scale:"scale"in xe&&xe.scale?xe.scale:"zoom"in xe&&-1!==xe.zoom&&Ne&&Ne.effectiveLODs?Ne.zoomToScale(xe.zoom):Array.isArray(Lt)||"point"===Lt.type||"extent"===Lt.type&&0===Lt.width&&0===Lt.height?Je.scale:ue(ae(Lt.extent,Ze),dt,Gt);const an=function pe(xe){if(xe&&(!Array.isArray(xe)||"number"!=typeof xe[0])&&("object"==typeof xe||Array.isArray(xe)&&"object"==typeof xe[0])){if("layer"in xe&&null!=xe.layer?.minScale&&null!=xe.layer.maxScale){const Be=xe.layer;return{min:Be.minScale,max:Be.maxScale}}if(Array.isArray(xe)&&xe.length&&xe.every(Be=>"layer"in Be)){let Be=0,Ze=0;for(const Ne of xe){const He=Ne.layer;He?.minScale&&He.maxScale&&(Be=He.minScale<Be?He.minScale:Be,Ze=He.maxScale>Ze?He.maxScale:Ze)}return Be&&Ze?{min:Be,max:Ze}:null}}}(xe.target??xe);an&&(an.min&&an.min<Zt?Zt=an.min:an.max&&an.max>Zt&&(Zt=an.max));let mn=new D.A({targetGeometry:Kt,scale:Zt,rotation:Gt});return Ne&&(mn=Ne.fit(mn),Ne.constrainByGeometry(mn),Ne.rotationEnabled||(mn.rotation=Je.rotation)),mn})).apply(this,arguments)}function G(xe,Be){const Ze=xe.targetGeometry,Ne=Be.targetGeometry;return Ze.x=Ne.x,Ze.y=Ne.y,Ze.spatialReference=Ne.spatialReference,xe.scale=Be.scale,xe.rotation=Be.rotation,xe}function fe(xe,Be,Ze){return Ze?(0,S.hZ)(xe,.5*(Be[0]-Ze.right+Ze.left),.5*(Be[1]-Ze.bottom+Ze.top)):(0,S.hs)(xe,Be,.5)}const ie=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne){const He=Ze.targetGeometry;K(xe,He);const Je=.5*oe(Ze);return Be.xmin=xe[0]-Je*Ne[0],Be.ymin=xe[1]-Je*Ne[1],Be.xmax=xe[0]+Je*Ne[0],Be.ymax=xe[1]+Je*Ne[1],Be.spatialReference=He.spatialReference,Be}}();function ye(xe,Be,Ze,Ne,He){return ke(xe,Be,Ze.center),xe.scale=ue(Ze,Ne),He?.constraints?.constrain(xe),xe}const re=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne){return(0,S.jb)(Be,function Pe(xe,Be){return(0,S.hs)(xe,Be,.5)}(Be,Ze),fe(xe,Ze,Ne))}}(),ce=function(){const xe=(0,$.vt)(),Be=(0,I.vt)();return function(Ze,Ne,He,Je){const ut=oe(Ne),dt=Se(Ne);return(0,S.hZ)(Be,ut,ut),(0,j.CV)(xe,Be),(0,j.e$)(xe,xe,dt),(0,j.Tl)(xe,xe,re(Be,He,Je)),(0,j.Tl)(xe,xe,[0,Je.top-Je.bottom]),(0,S.hZ)(Ze,xe[4],xe[5])}}();function oe(xe){return xe.scale*le(xe.targetGeometry?.spatialReference)}function le(xe){return null!=xe&&(0,C.fn)(xe)?1/(V(xe)*x*b):1}function Se(xe){return(0,H.DF)(xe.rotation)||0}const Ie=function(){const xe=(0,I.vt)(),Be=(0,I.vt)(),Ze=(0,I.vt)();return function(Ne,He,Je,ut,dt,Et){return(0,S.ze)(xe,He),(0,S.hs)(Be,Je,.5*Et),(0,S.hZ)(Ze,1/ut*Et,-1/ut*Et),(0,j.kN)(Ne,Be),dt&&(0,j.e$)(Ne,Ne,dt),(0,j.hs)(Ne,Ne,Ze),(0,j.Tl)(Ne,Ne,xe),Ne}}(),X=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He){const Je=oe(Ze),ut=Se(Ze);return K(xe,Ze.targetGeometry),Ie(Be,xe,Ne,Je,ut,He)}}(),Ee=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He){const Je=oe(Ze);return K(xe,Ze.targetGeometry),Ie(Be,xe,Ne,Je,0,He)}}();function Le(xe){const Be=(0,C.Vp)(xe);return Be?Be.valid[1]-Be.valid[0]:0}function Oe(xe,Be){return Math.round(Le(xe)/Be)}const _e=function(){const xe=(0,I.vt)(),Be=(0,I.vt)(),Ze=[0,0,0];return function(Ne,He,Je){(0,S.Re)(xe,Ne,He),(0,S.S8)(xe,xe),(0,S.Re)(Be,Ne,Je),(0,S.S8)(Be,Be),(0,S.$A)(Ze,xe,Be);let ut=Math.acos((0,S.Om)(xe,Be)/((0,S.Bw)(xe)*(0,S.Bw)(Be)))*R;return Ze[2]<0&&(ut=-ut),isNaN(ut)&&(ut=0),ut}}(),we=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He){const Je=Be.targetGeometry;return G(Be,Ze),ce(xe,Ze,Ne,He),Je.x+=xe[0],Je.y+=xe[1],Be}}(),ke=function(xe,Be,Ze){G(xe,Be);const Ne=xe.targetGeometry;return Ne.x=Ze.x,Ne.y=Ze.y,Ne.spatialReference=Ze.spatialReference,xe},Xe=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He,Je){Je||(Je="center"),(0,S.jb)(xe,Ne,He),(0,S.hs)(xe,xe,.5);const ut=xe[0],dt=xe[1];switch(Je){case"center":(0,S.hZ)(xe,0,0);break;case"left":(0,S.hZ)(xe,-ut,0);break;case"top":(0,S.hZ)(xe,0,dt);break;case"right":(0,S.hZ)(xe,ut,0);break;case"bottom":(0,S.hZ)(xe,0,-dt);break;case"top-left":(0,S.hZ)(xe,-ut,dt);break;case"bottom-left":(0,S.hZ)(xe,-ut,-dt);break;case"top-right":(0,S.hZ)(xe,ut,dt);break;case"bottom-right":(0,S.hZ)(xe,ut,-dt)}return qe(Be,Ze,xe),Be}}();function Q(xe,Be,Ze){return G(xe,Be),xe.rotation+=Ze,xe}function De(xe,Be,Ze){return G(xe,Be),xe.rotation=Ze,xe}const Ke=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He,Je){return G(Be,Ze),isNaN(Ne)||0===Ne||(_t(xe,He,Ze,Je),Be.scale=Ze.scale*Ne,tt(xe,xe,Be,Je),qe(Be,Be,(0,S.hZ)(xe,xe[0]-He[0],He[1]-xe[1]))),Be}}();function Ye(xe,Be,Ze){return G(xe,Be),xe.scale=Ze,xe}const rt=function(){const xe=(0,I.vt)();return function(Be,Ze,Ne,He,Je,ut){return G(Be,Ze),isNaN(Ne)||0===Ne||(_t(xe,Je,Ze,ut),Be.scale=Ze.scale*Ne,Be.rotation+=He,tt(xe,xe,Be,ut),qe(Be,Be,(0,S.hZ)(xe,xe[0]-Je[0],Je[1]-xe[1]))),Be}}(),lt=function(){const xe=(0,I.vt)(),Be=(0,I.vt)();return function(Ze,Ne,He,Je,ut,dt,Et){return re(Be,dt,Et),(0,S.WQ)(xe,ut,Be),Je?rt(Ze,Ne,He,Je,xe,dt):Ke(Ze,Ne,He,xe,dt)}}(),_t=function(){const xe=(0,$.vt)();return function(Be,Ze,Ne,He){return(0,S.l0)(Be,Ze,function q(xe,Be,Ze,Ne){return X(xe,Be,Ze,Ne),(0,j.B8)(xe,xe)}(xe,Ne,He,1))}}(),tt=function(){const xe=(0,$.vt)();return function(Be,Ze,Ne,He){return(0,S.l0)(Be,Ze,X(xe,Ne,He,1))}}(),qe=function(){const xe=(0,I.vt)(),Be=(0,$.vt)();return function(Ze,Ne,He){G(Ze,Ne);const Je=oe(Ne),ut=Ze.targetGeometry;return(0,j.$0)(Be,Se(Ne)),(0,j.hs)(Be,Be,(0,I.fA)(Je,Je)),(0,S.l0)(xe,He,Be),ut.x+=xe[0],ut.y+=xe[1],Ze}}()},23191:(et,Ae,v)=>{"use strict";var E,B;v.d(Ae,{RT:()=>E}),(B=E||(E={}))[B.Global=1]="Global",B[B.Local=2]="Local"},33171:(et,Ae,v)=>{"use strict";v.d(Ae,{l:()=>B}),v(3248),v(35150);class W{constructor($,S=[]){this.eventType=$,this.keyModifiers=S}matches($){if($.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const S=$.modifiers;for(const I of this.keyModifiers)if(!S.has(I))return!1;return!0}}class B{constructor($){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=$}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const $ in this._incoming){const S=this._incoming[$];for(const I of S)this._incomingEventMatches.push(I.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map($=>$.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall($){this._manager||($.setEventCallback(S=>this._handleEvent(S)),$.setUninstallCallback(()=>this._onUninstall()),this._manager=$)}onUninstall(){}registerIncoming($,S,I){let O;"function"==typeof S?(I=S,O=[]):O=S||[];const U="string"==typeof $?new W($,O):$,N=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},J=C=>{const b=this._incoming[C.match.eventType];if(b){const x=b.indexOf(C);b.splice(x,1),N(),this._manager&&this._manager.updateDependencies()}},Z=new P(U,I,{onPause:J,onRemove:J,onResume:C=>{const b=this._incoming[C.match.eventType];b&&!b.includes(C)&&(b.push(C),N(),this._manager&&this._manager.updateDependencies())}});let L=this._incoming[U.eventType];return L||(L=[],this._incoming[U.eventType]=L),L.push(Z),N(),this._manager&&this._manager.updateDependencies(),Z}registerOutgoing($){if(this._outgoing[$])throw new Error("There is already a callback registered for this outgoing InputEvent: "+$);const S=new H($,{onEmit:(I,O,U,N)=>{this._manager?.emit(I.eventType,O,U,N)},onRemove:I=>{delete this._outgoing[I.eventType],this._manager?.updateDependencies()}});return this._outgoing[$]=S,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),S}startCapturingPointer($){this._manager?.setPointerCapture($,!0)}stopCapturingPointer($){this._manager?.setPointerCapture($,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent($){const S=this._incoming[$.type];if(S)for(const I of S)if(I.match.matches($)&&(I.callback?.($),$.shouldStopPropagation()))break}}class P{constructor($,S,I){this.match=$,this._callback=S,this._handler=I}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class H{constructor($,S){this.eventType=$,this._removed=!1,this._handler=S}emit($,S,I){this._removed||this._handler.onEmit(this,$,S,I)}remove(){this._removed=!0,this._handler.onRemove(this)}}},21765:(et,Ae,v)=>{"use strict";v.d(Ae,{e:()=>x,o:()=>K});var E=v(8189),D=v(98877),W=v(3248),B=v(35150),P=v(82767),H=v(85211),$=(v(40707),v(76576)),S=v(75504),I=v(76410);class O{constructor(te,pe){this._owner=pe,this._properties={},this._afterDispatchHandle=null;for(const ae in te){const ve=new S.P(te[ae],void 0,void 0,2,2);this._properties[ae]={pool:ve,acquired:[]}}this._afterDispatchHandle=(0,I.rs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const te in this._properties){const pe=this._properties[te];for(const ae of pe.acquired)(0,I.Gs)(ae)||pe.pool.release(ae);pe.pool.destroy(),pe.pool=null,pe.acquired=null}this._properties=null,this._owner=null}get(te){const pe=this._owner._get(te),ae=this._properties[te];let de=ae.pool.acquire();for(ae.acquired.push(de);de===pe;)ae.acquired.push(de),de=ae.pool.acquire();return de}_release(){for(const te in this._properties){const pe=this._properties[te];let ae=0;for(const de of pe.acquired)(0,I.Gs)(de)?pe.acquired[ae++]=de:pe.pool.release(de);pe.acquired.length=ae}}}const U=(0,W.A)("mac")?"Meta":"Control",N=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),J=ee=>N.has(ee);var Z=v(33171);class L extends Z.l{constructor(te){super(!0),this._onChange=te,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",pe=>{this._update(pe.data)})}_update(te){const pe="touch"===te.native.pointerType?"touch":"mouse",{x:ae,y:de}=te;pe===this._value&&this._x===ae&&this._y===de||(this._value=pe,this._x=ae,this._y=de,this._onChange(pe,ae,de))}}var C=v(54029);class b extends Z.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,C.v)(!1),this._onPointerAdd=({data:te})=>{"touch"===te.pointerType&&(this._activeTouchPointerIds.add(te.native.pointerId),this._update())},this._onPointerRemove=({data:te})=>{"touch"===te.pointerType&&(this._activeTouchPointerIds.delete(te.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}let x=class extends D.A{constructor(ee){super(ee),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=U,this._latestPointerType="mouse",this._propertiesPool=new O({latestPointerLocation:ue},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const ee=Object.keys(this._nameToGroup);for(const te of ee)this.uninstallHandlers(te);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(ee=>ee.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(ee,te,pe=K.INTERNAL){if(this._nameToGroup[ee]||0===te.length)return;const ae={name:ee,handlers:te.map(de=>({handler:de,active:!0,removed:!1,priorityIndex:0,groupPriority:pe,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[ee]=ae;for(let de=ae.handlers.length-1;de>=0;de--){const ve=ae.handlers[de];this._handlers.push(ve),ve.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(G,fe,ie,ye,q)=>{this._emitInputEvent(ve.priorityIndex+1,G,fe,ie,q,ye)},setPointerCapture:(G,fe)=>{this._setPointerCapture(ae,ve,G,fe)},setEventCallback:G=>{ve.eventCallback=G},setUninstallCallback:G=>{ve.uninstallCallback=G},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(ee){const te=this._nameToGroup[ee];te?(te.handlers.forEach(pe=>{pe.removed=!0,pe.uninstallCallback?.()}),delete this._nameToGroup[ee],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):B.A.getLogger(this).error("There is no InputHandler group registered under the name `"+ee+"`")}hasHandlers(ee){return void 0!==this._nameToGroup[ee]}isModifierKeyDown(ee){return this._activeKeyModifiers&&this._activeKeyModifiers.has(ee)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const ee=new Set,te=new Set;this._handlersPriority=[];for(let pe=this._handlers.length-1;pe>=0;pe--){const ae=this._handlers[pe];ae.priorityIndex=pe,this._handlersPriority.push(ae)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let pe=this._handlersPriority.length-1;pe>=0;pe--){const ae=this._handlersPriority[pe];ae.priorityIndex=pe;let de=ae.handler.hasSideEffects;if(!de)for(const ve of ae.handler.outgoingEventTypes)if(ee.has(ve)){de=!0;break}if(de)for(const ve of ae.handler.incomingEventMatches){ee.add(ve.eventType);for(const G of ve.keyModifiers)J(G)||te.add(G)}ae.active=de}this._sourceEvents=ee,this._keyModifiers=te,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(ee,te,pe){this._latestPointerType=ee;const ae=this._get("latestPointerLocation");if(null==ae||ae.x!==te||ae.y!==pe){const de=this._propertiesPool.get("latestPointerLocation");de.x=te,de.y=pe,this._set("latestPointerLocation",de)}}_onEventReceived(ee,te){"pointer-capture-lost"===ee&&this._pointerCaptures.delete(te.native.pointerId),this._updateKeyModifiers(ee,te),this._emitInputEventFromSource(ee,te,null!=this.test.timestamp?this.test.timestamp:te.native?te.native.timestamp:void 0,te.native?te.native.cancelable:void 0)}_updateKeyModifiers(ee,te){if(!te)return;let pe=!1;const ae=()=>{if(!pe){const G=new Set;this._activeKeyModifiers.forEach(fe=>{G.add(fe)}),this._activeKeyModifiers=G,pe=!0}},de=(G,fe)=>{fe&&!this._activeKeyModifiers.has(G)?(ae(),this._activeKeyModifiers.add(G)):!fe&&this._activeKeyModifiers.has(G)&&(ae(),this._activeKeyModifiers.delete(G))};if("key-down"===ee||"key-up"===ee){const G=te.key;this._keyModifiers.has(G)&&de(G,"key-down"===ee)}const ve=te.native;de("Alt",!(!ve||!ve.altKey)),de("Control",!(!ve||!ve.ctrlKey)),de("Ctrl",!(!ve||!ve.ctrlKey)),de("Shift",!(!ve||!ve.shiftKey)),de("Meta",!(!ve||!ve.metaKey)),de("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new L((ee,te,pe)=>this._setLatestPointer(ee,te,pe)),this._multiTouchHandler=new b,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],K.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,K.INTERNAL)}_setPointerCapture(ee,te,pe,ae){const de=ee.name+"-"+te.priorityIndex,ve=this._pointerCaptures.get(pe.pointerId)||new Set;this._pointerCaptures.set(pe.pointerId,ve),ae?(ve.add(de),1===ve.size&&this.eventSource&&this.eventSource.setPointerCapture(pe,!0)):ve.has(de)&&(ve.delete(de),0===ve.size&&(this._pointerCaptures.delete(pe.pointerId),this.eventSource&&this.eventSource.setPointerCapture(pe,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(ee=>!ee.removed),this.updateDependencies()}_emitInputEventFromSource(ee,te,pe,ae){this._emitInputEvent(0,ee,te,pe,ae)}_emitInputEvent(ee,te,pe,ae,de,ve){const G=void 0!==ae?ae:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),ie={event:new R(te,pe,G,ve||this._activeKeyModifiers,void 0!==de&&de),priorityIndex:ee};this._currentPropagation?this._currentPropagation.events.push(ie):this._doNewPropagation(ie)}_doNewPropagation(ee){this._currentPropagation={events:new P.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:ee.event.timestamp},this._currentPropagation.events.push(ee),this._continuePropagation()}_continuePropagation(){this._paused=!1;const ee=this._currentPropagation;if(ee){for(;ee.events.length>0;){const{event:te,priorityIndex:pe}=ee.events.pop(),ae=te.data?.eventId;if(null==ae||!this._stoppedPropagationEventIds.has(ae))for(ee.currentHandler=this._handlersPriority[pe];ee.currentHandler;){if(ee.currentHandler.removed)ee.needsHandlerGarbageCollect=!0;else{if(ee.currentHandler.active&&!te.shouldStopPropagation()&&ee.currentHandler.eventCallback?.(te),te.shouldStopPropagation()){null!=ae&&this._stoppedPropagationEventIds.add(ae);break}if(te.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:te,priorityIndex:ee.currentHandler.priorityIndex+1})}ee.currentHandler=this._handlersPriority[ee.currentHandler.priorityIndex+1]}}ee.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(ee){const te=new P.A;te.push(ee);const pe=this._currentPropagation;if(pe){for(;pe.events.length;)te.push(pe.events.pop());pe.events=te,pe.currentHandler=null,this._paused=!0}}_compareHandlerPriority(ee,te){if(ee.handler.hasSideEffects!==te.handler.hasSideEffects)return ee.handler.hasSideEffects?1:-1;if(ee.groupPriority!==te.groupPriority)return ee.groupPriority>te.groupPriority?-1:1;for(const pe of ee.handler.incomingEventMatches)for(const ae of te.handler.incomingEventMatches){if(pe.eventType!==ae.eventType)continue;const de=pe.keyModifiers.filter(ve=>ae.keyModifiers.includes(ve));if(de.length===pe.keyModifiers.length!=(de.length===ae.keyModifiers.length))return pe.keyModifiers.length>ae.keyModifiers.length?-1:1}return ee.priorityIndex>te.priorityIndex?-1:1}_sortHandlersPriority(ee){const te=[];for(const pe of ee){let ae=0;for(;ae<te.length&&this._compareHandlerPriority(pe,te[ae])>=0;)ae++;te.splice(ae,0,pe)}return te}get debug(){const ee=te=>{const pe=this._setPointerCapture;this._setPointerCapture=()=>{},te(),this._setPointerCapture=pe};return{injectEvent:(te,pe)=>{ee(()=>{this._onEventReceived(te,pe)})},disablePointerCapture:ee}}};(0,E._)([(0,H.MZ)({readOnly:!0})],x.prototype,"hasPendingInputs",null),(0,E._)([(0,H.MZ)({constructOnly:!0})],x.prototype,"eventSource",void 0),(0,E._)([(0,H.MZ)({constructOnly:!0})],x.prototype,"recognizers",void 0),(0,E._)([(0,H.MZ)()],x.prototype,"_latestPointerType",void 0),(0,E._)([(0,H.MZ)()],x.prototype,"latestPointerType",null),(0,E._)([(0,H.MZ)()],x.prototype,"multiTouchActive",null),(0,E._)([(0,H.MZ)({readOnly:!0})],x.prototype,"latestPointerLocation",void 0),(0,E._)([(0,H.MZ)()],x.prototype,"_paused",void 0),(0,E._)([(0,H.MZ)({readOnly:!0})],x.prototype,"updating",null),x=(0,E._)([(0,$.$)("esri.views.input.InputManager")],x);class R{constructor(te,pe,ae,de,ve){this.type=te,this.data=pe,this.timestamp=ae,this.modifiers=de,this.cancelable=ve,this._propagationState=w.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=w.STOPPED}shouldStopPropagation(){return!!(this._propagationState&w.STOPPED)}async(te){this._propagationState|=w.PAUSED;const pe=(ae,de)=>{this._propagationState&=~w.PAUSED;const ve=this._resumeCallback;if(this._resumeCallback=null,ve&&ve(),de)throw ae;return ae};return("function"==typeof te?te():te).then(ae=>pe(ae,!1),ae=>pe(ae,!0))}shouldPausePropagation(te){return!!(this._propagationState&w.PAUSED)&&(this._resumeCallback=te,!0)}preventDefault(){this.data.native.preventDefault()}}var w,ee;(ee=w||(w={}))[ee.NONE=0]="NONE",ee[ee.STOPPED=1]="STOPPED",ee[ee.PAUSED=2]="PAUSED";const K={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},ue=class V{}},56330:(et,Ae,v)=>{"use strict";v.d(Ae,{e:()=>S}),v(3248);var D=v(11432),W=v(56492),B=v(82767),P=v(12619),H=v(3804),j=v(54029);class ${constructor(O,U){this.item=O,this.controller=U,this.promise=null}}class S{constructor(O){this._schedule=null,this._task=null,this._deferreds=new P.A,this._controllers=new P.A,this._processingItems=new P.A,this._pausedSignal=(0,j.v)(!1),this.concurrency=1,O.concurrency&&(this.concurrency=O.concurrency),this._queue=new B.A(O.peeker),this.process=O.process;const U=O.scheduler;O.priority&&U&&(this._task=U.registerTask(O.priority,this))}destroy(){this.clear(),this._schedule=(0,D.xt)(this._schedule),this._task=(0,D.xt)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(O){const U=this._controllers.get(O);U&&U.abort()}clear(){this._queue.clear();const O=[];this._controllers.forEach(U=>O.push(U)),this._controllers.clear(),O.forEach(U=>U.abort()),this._processingItems.clear(),this._cancelNext()}forEach(O){this._deferreds.forEach((U,N)=>O(N))}get(O){const U=this._deferreds.get(O);return U?U.promise:void 0}isOngoing(O){return this._processingItems.has(O)}has(O){return this._deferreds.has(O)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(O,U){const N=this.get(O);if(N)return N;const J=new AbortController;let Z=null;U&&(Z=(0,W.u7)(U,()=>J.abort()));const C=()=>{b.remove(),Z?.remove(),this._removeItem(O),this._queue.remove(O),this._scheduleNext()},b=(0,W.NY)(J.signal,()=>{const R=this._processingItems.get(O);R&&R.controller.abort(),C(),x.reject((0,W.NK)())}),x=(0,W.Tw)();return this._deferreds.set(O,x),this._controllers.set(O,J),x.promise.then(C,C),this._queue.push(O),this._scheduleNext(),x.promise}last(){return this._queue.last()}lastPromise(){const O=this.last();return O?this.get(O):null}peek(){return this._queue.peek()}popLast(){const O=this._queue.popLast();return O&&(this._deferreds.get(O)?.reject((0,W.NK)("Removed from queue")),this._removeItem(O)),O}reset(){const O=[];this._processingItems.forEach(U=>O.push(U)),this._processingItems.clear();for(const U of O)this._queue.push(U.item),U.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const O=[];for(;this._queue.length;)O.push(this._queue.pop());return this.clear(),O}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(O){for(;!O.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),O.madeProgress()}_removeItem(O){this._deferreds.delete(O),this._controllers.delete(O),this._processingItems.delete(O)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,H._)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(O,U){this._canProcessFulfillment(O)&&(this._scheduleNext(),this._deferreds.get(O.item).resolve(U))}_processError(O,U){this._canProcessFulfillment(O)&&(this._scheduleNext(),this._deferreds.get(O.item).reject(U))}_canProcessFulfillment(O){return!!this._deferreds.get(O.item)&&this._processingItems.get(O.item)===O}_process(O){if(null==O)return;let U;const N=new AbortController,J=new $(O,N);this._processingItems.set(O,J);try{U=this.process(O,N.signal)}catch(Z){this._processError(J,Z)}(0,W.$X)(U)?(J.promise=U,U.then(Z=>this._processResult(J,Z),Z=>this._processError(J,Z))):this._processResult(J,U)}get test(){}}},14989:(et,Ae,v)=>{"use strict";v.d(Ae,{Go:()=>b,Is:()=>L,Rt:()=>I,lF:()=>S,x2:()=>C}),v(3248);var D=v(69287);function S(ie,ye,q){const{ctx:re,canvas:ce}=O(ie,q),oe=re.getImageData(0,0,ie.width,ie.height),le=function Z(ie,ye){return ie.toDataURL(ae[ye.format],ye.quality/100)}(ce,ye);return U(ce),{dataUrl:le,data:oe}}function I(ie,ye){const{ctx:q,canvas:re}=O(ie,ye),ce=q.getImageData(0,0,ie.width,ie.height);return U(re),ce}function O(ie,ye){const q=function N(){return null==J&&(J=document.createElement("canvas")),J}();ye.premultipliedAlpha&&function pe(ie){const ye=ie.data,q=ye.length;for(let re=0;re<q;re+=4){const ce=ye[re+3];if(255!==ce&&ce>0){const oe=255/ce;ye[re]=ye[re]*oe,ye[re+1]=ye[re+1]*oe,ye[re+2]=ye[re+2]*oe}}}(ie),q.width=ie.width,q.height=ie.height;const re=q.getContext("2d",{willReadFrequently:!0});return re.putImageData(ie,0,0),ye.flipY&&function te(ie){ie.save(),ie.globalCompositeOperation="copy",ie.scale(1,-1),ie.translate(0,-ie.canvas.height),ie.drawImage(ie.canvas,0,0),ie.restore()}(re),{ctx:re,canvas:q}}function U(ie){ie.width=0,ie.height=0}v(48116);let J=null;function L(ie,ye){const q=function ee(ie){switch(ie){case"png":case"jpg":case"jpeg":return ie;default:return ve}}(ie);return{format:q,quality:(0,D.qE)(ye??G[q],0,100)}}function C(ie,ye){return ye/Math.max(ie[0],ie[1])}function b(ie,ye,q,re=0,ce=0,oe=ie.width-re,le=ie.height-ce,Se=!1){const{data:se}=ie,{width:Pe,height:Ie,data:X}=ye,Ee=oe/Pe,Le=le/Ie,Oe=Math.ceil(Ee/2),_e=Math.ceil(Le/2),we=ie.width;for(let ke=0;ke<Ie;ke++)for(let Xe=0;Xe<Pe;Xe++){const Q=4*(Xe+(Se?Ie-ke-1:ke)*Pe);let De=0,Ke=0,Ye=0,rt=0,lt=0,_t=0;const tt=(ke+.5)*Le;for(let qe=Math.floor(ke*Le);qe<(ke+1)*Le;qe++){const xe=Math.abs(tt-(qe+.5))/_e,Be=(Xe+.5)*Ee,Ze=xe*xe;for(let Ne=Math.floor(Xe*Ee);Ne<(Xe+1)*Ee;Ne++){const He=Math.abs(Be-(Ne+.5))/Oe,Je=Math.sqrt(Ze+He*He);if(Je>=1)continue;let ut=2*Je*Je*Je-3*Je*Je+1;const dt=4*(re+Ne+(ce+qe)*we);_t+=ut*se[dt+3],Ke+=ut,!q&&se[dt+3]<255&&(ut=ut*se[dt+3]/255),Ye+=ut*se[dt],rt+=ut*se[dt+1],lt+=ut*se[dt+2],De+=ut}}X[Q]=Ye/De,X[Q+1]=rt/De,X[Q+2]=lt/De,X[Q+3]=_t/Ke}return ye}const ae={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},ve="png",G={png:100,jpg:98,jpeg:98}},54551:(et,Ae,v)=>{"use strict";v.d(Ae,{C:()=>W});var E=v(61189);let D;function W(){return D||(D=function H(){const j=new B,$=function P(j){if(typeof WebGL2RenderingContext>"u")return null;const $=document.createElement("canvas");if(!$)return null;let S=(0,E.q)($,{failIfMajorPerformanceCaveat:!0});if(null==S&&(S=(0,E.q)($),null!=S&&(j.majorPerformanceCaveat=!0)),null==S)return S;j.available=!0,j.maxTextureSize=S.getParameter(S.MAX_TEXTURE_SIZE),j.supportsVertexShaderSamplers=S.getParameter(S.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const I=S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_FLOAT);return I&&(j.supportsHighPrecisionFragment=I.precision>0),S}(j);return null==$||(j.supportsColorBufferFloat=null!==$.getExtension("EXT_color_buffer_float"),j.supportsColorBufferFloatBlend=null!==$.getExtension("EXT_float_blend"),j.supportsColorBufferHalfFloat=j.supportsColorBufferFloat||null!==$.getExtension("EXT_color_buffer_half_float")),j}()),D}class B{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1}}},61189:(et,Ae,v)=>{"use strict";function E(D,W={}){return D.getContext("webgl2",W)||null}v.d(Ae,{q:()=>E})},71655:(et,Ae,v)=>{"use strict";var E,D;v.d(Ae,{X:()=>E}),(D=E||(E={}))[D.SAVE=0]="SAVE",D[D.SAVE_AS=1]="SAVE_AS"},46873:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>W,p:()=>D});var E=v(55739);function D(B){const P=(0,E.Vr)(100*(1-B));return Math.max(0,Math.min(P,100))}function W(B){return Math.max(0,Math.min(1-B/100,1))}},85263:(et,Ae,v)=>{"use strict";v.d(Ae,{CJ:()=>Z});var E=v(5922),D=v(77806),W=v(89221),B=v(41556),P=v(58443);const H=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),j=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function N(L,C){"maxScale"in L&&(C.maxScale=(0,B.B)(L.maxScale)??void 0),"minScale"in L&&(C.minScale=(0,B.B)(L.minScale)??void 0)}function Z(L,C,b){if(!L.persistenceEnabled)return null;if(!("write"in L)||!L.write)return b?.messages&&b.messages.push(new E.A("layer:unsupported",`Layers (${L.title}, ${L.id}) of type '${L.declaredClass}' cannot be persisted`,{layer:L})),null;if((0,P.Ov)(L)&&!L.isTable)C=L.resourceInfo;else if(function O(L,C){if(C.restrictedWebMapWriting){const b=function I(L){return"basemap"===L.layerContainerType?H:"operational-layers"===L.layerContainerType?j:null}(C);return null==b||b.has(L.type)&&!(0,P.Ov)(L)}return!0}(L,b)){const x={};return L.write(x,b)?x:null}return null!=C&&function J(L,C){if(function U(L,C){if(C)if((0,P.Ov)(L)){const b=(0,W.wc)("featureCollection.layers",C),x=b?.[0]?.layerDefinition;x&&N(L,x)}else"group"!==L.type&&N(L,C)}(L,C),C&&(C.id=L.id,"blendMode"in L&&(C.blendMode=L.blendMode,"normal"===C.blendMode&&delete C.blendMode),C.opacity=(0,B.B)(L.opacity)??void 0,C.title=L.title||"Layer",C.visibility=L.visible,"legendEnabled"in L&&"wmts"!==L.type))if((0,P.Ov)(L)){const b=C.featureCollection;b&&(b.showLegend=L.legendEnabled)}else C.showLegend=L.legendEnabled}(L,C=(0,D.o8)(C)),C}},2188:(et,Ae,v)=>{"use strict";v.d(Ae,{A:()=>Oe});var E=v(10467),D=v(8189),B=(v(13242),v(23159)),P=v(52827),H=v(42425),j=v(40611),S=(v(3248),v(77806)),I=v(35150),O=v(11432),U=v(64261),N=v(56492),J=v(48900),Z=v(43085),L=v(85211),C=v(48669),b=v(76576),x=v(9700),R=v(90949),w=v(37370);v(76062);const V={handleInterceptedEvent:(_e,we,ke,Xe)=>(_e.scheduleRender(),we.properties[`on${Xe.type}`].apply(we.properties.bind||ke,[Xe]))},ue={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(_e,we,ke)=>{"-"===we.charAt(0)?_e.style.setProperty(we,ke):_e.style[we]=ke}},ae=(_e,we,ke=!1)=>{let Xe=_e;return we.forEach((Q,De)=>{const Ke=Xe?.children?((_e,we)=>_e.find(Ye=>Ye.domNode===Q))(Xe.children):void 0;ke&&!Ke&&De!==we.length-1||(Xe=Ke)}),Xe};var ve=v(98091),G=v(73290),fe=v(16137);const ie=new Set;var Se,re=v(21714),ce=v(60421),oe=v(88996),le=v(45846);let Pe=0;function Ie(_e,we){const ke=Object.prototype.hasOwnProperty;for(const Xe in we)ke.call(we,Xe)&&ke.call(_e,Xe)&&(null!=_e[Xe]&&null!=we[Xe]&&"object"==typeof _e[Xe]&&"object"==typeof we[Xe]?Ie(_e[Xe],we[Xe]):_e[Xe]=we[Xe]);return _e}const X=(_e=>{let we;const ke={...V,..._e},Xe=(_e=>({...ue,..._e}))(ke),Q=Xe.performanceLogger;let De,Ke=!0,Ye=!1;const rt=[],lt=[],_t=(qe,xe,Be)=>{let Ze;Xe.eventHandlerInterceptor=(He,Je,ut,dt)=>function(Et){let Lt;Q("domEvent",Et);const jt=((_e,we)=>{const ke=[];for(;_e&&_e!==we;)ke.push(_e),_e=_e.parentNode;return ke})(Et.currentTarget,Ze.domNode),Kt=jt.some(Zt=>customElements.get(Zt?.tagName?.toLowerCase()));if(Et.eventPhase!==Event.CAPTURING_PHASE&&Kt){const Zt=Et.composedPath(),an=Zt.slice(Zt.indexOf(Et.currentTarget),Zt.indexOf(Ze.domNode)).reverse();Lt=ae(Ze.getLastRender(),an,!0)}else jt.reverse(),Lt=ae(Ze.getLastRender(),jt);let Gt;return Lt&&(Gt=ke.handleInterceptedEvent(we,Lt,this,Et)),Q("domEventProcessed",Et),Gt},ke.postProcessProjectionOptions?.(Xe);const Ne=Be();Ze=qe(xe,Ne,Xe),Xe.eventHandlerInterceptor=void 0,rt.push(Ze),lt.push(Be),ke.afterFirstVNodeRendered&&ke.afterFirstVNodeRendered(Ze,Ne)};let tt=()=>{if(De=void 0,Ke){Ke=!1,Q("renderStart",void 0);for(let qe=0;qe<rt.length;qe++){const xe=lt[qe]();Q("rendered",void 0),rt[qe].update(xe),Q("patched",void 0)}Q("renderDone",void 0),Ke=!0}};return ke.modifyDoRenderImplementation&&(tt=ke.modifyDoRenderImplementation(tt,rt,lt)),we={renderNow:tt,scheduleRender:()=>{De||Ye||(De=requestAnimationFrame(tt))},stop:()=>{De&&(cancelAnimationFrame(De),De=void 0),Ye=!0},resume:()=>{Ye=!1,Ke=!0,we.scheduleRender()},append:(qe,xe)=>{_t(w.t.append,qe,xe)},insertBefore:(qe,xe)=>{_t(w.t.insertBefore,qe,xe)},merge:(qe,xe)=>{_t(w.t.merge,qe,xe)},replace:(qe,xe)=>{_t(w.t.replace,qe,xe)},detach:qe=>{for(let xe=0;xe<lt.length;xe++)if(lt[xe]===qe)return lt.splice(xe,1),rt.splice(xe,1)[0];throw new Error("renderFunction was not found")}},we})({postProcessProjectionOptions(_e){const we=_e.eventHandlerInterceptor,ke=/capture$/i;_e.eventHandlerInterceptor=(Xe,Q,De,Ke)=>{const Ye=we?.(Xe,Q,De,Ke),rt=ke.test(Xe);if(!((Xe=Xe.replace(ke,"")).toLowerCase()in De)||rt){const lt=Xe[2].toLowerCase()+Xe.slice(3),_t=xe=>Ye?.call(De,xe);De.addEventListener(lt,_t,rt);const tt=()=>De.removeEventListener(lt,_t,rt),qe=Ke.afterRemoved;Ke.afterRemoved=xe=>{qe?.(xe),tt()}}return Ye}},handleInterceptedEvent(_e,we,ke,Xe){const{eventPhase:Q,type:De}=Xe,Ke=Q===Event.CAPTURING_PHASE;let Ye=`on${De}${Ke?"capture":""}`;const rt=we.properties;(rt&&Ye in rt||(Ye=`on${De[0].toUpperCase()}${De.slice(1)}${Ke?"Capture":""}`,rt&&Ye in rt))&&((0,re.Sh)(),_e.scheduleRender(),rt[Ye].call(rt.bind||ke,Xe))}});let Ee=!1,Le=class extends((0,U.g)(H.A.EventedAccessor)){constructor(_e,we){var ke;super(_e,we),ke=this,this._attached=!1,this._projector=X,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,N.sg)((0,E.A)(function*(){if(ke._messageBundleProps?.length){const rt=yield Promise.allSettled(ke._messageBundleProps.map(function(){var lt=(0,E.A)(function*({bundlePath:_t,propertyName:tt}){if(ke.destroyed)return;let qe=yield(0,le.ud)(_t);ke.uiStrings&&Object.keys(ke.uiStrings)&&(qe=Ie((0,S.o8)(qe),ke.uiStrings)),ke[tt]=qe});return function(_t){return lt.apply(this,arguments)}}()));if(ke.destroyed)return;for(const lt of rt)"rejected"===lt.status&&I.A.getLogger(ke).error("widget-intl:locale-error",ke.declaredClass,lt.reason)}yield ke.loadLocale()})),(0,ve.V)();const Xe="esri-widget-uid-"+(0,Z.lk)(),Q=this.render.bind(this);this._trackingTarget=new R.r(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const De=()=>({vnodeSelector:"div",properties:{key:`${Xe}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),Ke=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const rt=Q()??De(),lt=rt.properties??={};if(lt.key??=Xe,(0,G.b)(rt.vnodeSelector)){if(!this.visible)return De()}else this.visible?lt.styles||(lt.styles={}):(lt.class="",lt.styles={display:"none"}),lt.styles.display??="";let _t=0;return rt.children?.forEach(tt=>{(0,G.b)(tt.vnodeSelector)||(tt.properties??={},tt.properties.key??=`${this.id}--${_t++}`)}),(0,G.d)(this,rt)};this.render=()=>{if(Ee)return Ke();let rt=(0,re.rE)(this)??null;if(rt)return rt;this._trackingTarget.clear(),Ee=!0;try{rt=(0,x.a)(this._trackingTarget,Ke)}catch(lt){throw I.A.getLogger(this).error(lt),lt}finally{Ee=!1}return rt&&(0,re.$U)(this,rt),rt};const Ye=this.beforeFirstRender();Ye?this._resourcesFetch=Ye.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function ye(_e){ie.add(_e),_e.finally(()=>ie.delete(_e))}(this._resourcesFetch)}normalizeCtorArgs(_e,we){const ke={..._e};return we&&(ke.container=we),ke}postInitialize(){}beforeFirstRender(){const _e=this.loadDependencies();return this._messageBundleProps?.length||_e?Promise.all([_e,this._loadLocale()]).then(()=>{}).catch(N.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,O.pR)(this._trackingTarget),(0,O.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,re.Qw)(this))}set container(_e){this._get("container")||this._set("container",_e)}castContainer(_e){return(0,P.$H)(_e)}get domNode(){return this.container}set domNode(_e){this.container=_e}get icon(){return null}set icon(_e){this._overrideIfSome("icon",_e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+Pe++}set id(_e){_e&&this._set("id",_e)}get label(){return this.declaredClass.split(".").pop()}set label(_e){this._overrideIfSome("label",_e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(_e){this._set("visible",_e)}get[(Se=fe.x,fe.D)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,re.Qw)(this),this._projector.scheduleRender())}own(_e){(0,B.eO)(I.A.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(_e)}classes(..._e){return ce.Ly.apply(this,_e)}renderNow(){(0,re.Qw)(this),this._projector.renderNow()}_postInitialize(){var _e=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,J.wB)(()=>this.viewModel,(ke,Xe)=>{Xe&&this.removeHandles("delegated-events"),ke&&(0,j.wb)(ke)&&this.addHandles(this._delegatedEventNames.map(Q=>(0,j.on)(ke,Q,De=>{this.emit(Q,De)})),"delegated-events")},J.pc)),this.postInitialize();const we=function(){var ke=(0,E.A)(function*(){yield _e._loadLocale().catch(N.jH),_e.scheduleRender()});return function(){return ke.apply(this,arguments)}}();this.addHandles([(0,oe.oQ)(we),(0,J.wB)(()=>this.uiStrings,we),(0,J.z7)(()=>this.container,ke=>{this.destroyed||this._attach(ke)},{initial:!0,once:!0})])}_attach(_e){_e&&(this._projector.merge(_e,this.render),this._attached=!0)}_detach(_e){this._attached&&(this._projector.detach(this.render),this._attached=!1),_e?.parentNode?.removeChild(_e)}};Le[Se]=!0,(0,D._)([(0,L.MZ)()],Le.prototype,"_readyForTrueRender",void 0),(0,D._)([(0,L.MZ)({value:null})],Le.prototype,"container",null),(0,D._)([(0,C.w)("container")],Le.prototype,"castContainer",null),(0,D._)([(0,L.MZ)()],Le.prototype,"icon",null),(0,D._)([(0,L.MZ)()],Le.prototype,"id",null),(0,D._)([(0,L.MZ)()],Le.prototype,"label",null),(0,D._)([(0,L.MZ)()],Le.prototype,"renderable",null),(0,D._)([(0,L.MZ)()],Le.prototype,"uiStrings",void 0),(0,D._)([(0,L.MZ)()],Le.prototype,"viewModel",void 0),(0,D._)([(0,L.MZ)({value:!0})],Le.prototype,"visible",null),(0,D._)([(0,L.MZ)()],Le.prototype,"key",void 0),(0,D._)([(0,L.MZ)()],Le.prototype,"children",void 0),(0,D._)([(0,L.MZ)()],Le.prototype,"afterCreate",void 0),(0,D._)([(0,L.MZ)()],Le.prototype,"afterUpdate",void 0),(0,D._)([(0,L.MZ)()],Le.prototype,"afterRemoved",void 0),Le=(0,D._)([(0,b.$)("esri.widgets.Widget")],Le);const Oe=Le},10361:(et,Ae,v)=>{"use strict";v.d(Ae,{R:()=>$});var E=v(8189),D=v(11432),W=v(85211),j=(v(3248),v(35150),v(40707),v(76576));const $=S=>{let I=class extends S{constructor(...O){super(...O),this.goToOverride=null,this.view=null}callGoTo(O){const{view:U}=this;return(0,D.Lw)(U),this.goToOverride?this.goToOverride(U,O):U.goTo(O.target,O.options)}};return(0,E._)([(0,W.MZ)()],I.prototype,"goToOverride",void 0),(0,E._)([(0,W.MZ)()],I.prototype,"view",void 0),I=(0,E._)([(0,j.$)("esri.widgets.support.GoTo")],I),I}},53158:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>P});var E=v(69287),D=v(92190),W=v(60421),B=v(56295);function P({level:$,class:S,...I},O){const U=function H($){return(0,E.qE)(Math.ceil($),1,6)}($);return(0,B.K)(`h${U}`,{...I,"aria-level":String(U),class:(0,W.Ly)(D.D.heading,S),role:"heading"},O)}},98091:(et,Ae,v)=>{"use strict";v.d(Ae,{V:()=>I,W:()=>O});var E=v(96700),D=v(58560);function W(){const{classList:U}=document.body,N=window.matchMedia("(prefers-color-scheme: dark)").matches,J=()=>U.contains(E.d)||U.contains(E.a)&&N?"dark":"light",Z=b=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:b}})),L=b=>{C!==b&&Z(b),C=b};let C=J();Z(C),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",b=>L(b.matches?"dark":"light")),new MutationObserver(()=>L(J())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}!function B(){typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document&&("interactive"===document.readyState?W():document.addEventListener("DOMContentLoaded",()=>W(),{once:!0}))}();var H=v(90261),$=(v(3248),v(45272));let S;function I(){try{(0,D.OX)(".")}catch{(0,D.Qu)((0,$.s2)((0,H.s)(S)))}}function O(U){const N=[];for(const J of Object.keys(U))customElements.get(`calcite-${J}`)||N.push(U[J]?.());return N.length>0?Promise.all(N):null}S="components/assets"},77105:(et,Ae,v)=>{"use strict";function E(W){return"number"==typeof W}function D(W){return"string"==typeof W||W instanceof String}v.d(Ae,{E:()=>E,K:()=>D})},77365:(et,Ae,v)=>{"use strict";v.d(Ae,{UE:()=>oe,Xi:()=>ce,gz:()=>le}),v(13242),v(3248),v(5922),v(69287);var P=v(11432),$=(v(48266),v(22639),v(77105)),S=v(44549);v(88996);const J="yyyy-MM-dd";var L,se;(se=L||(L={})).HM="HH:mm",se.HMS="HH:mm:ss",se.HMS_MS="HH:mm:ss.SSS";const C=[L.HMS_MS,L.HMS,L.HM,"TT"];function ce(se){if(!se||!(0,$.K)(se))return null;const Pe=S.c9.fromFormat(se,J);return Pe.isValid?Pe:null}function oe(se){return se&&(0,$.K)(se)?(0,P.Pb)(C,Pe=>{const Ie=S.c9.fromFormat(se,Pe);return Ie.isValid?Ie:null})??null:null}function le(se){if(!se||!(0,$.K)(se))return null;const Pe=S.c9.fromISO(se);return Pe.isValid?Pe:null}},54737:(et,Ae,v)=>{"use strict";v.d(Ae,{$:()=>D});var E=v(60421);function D(){return function(P,H){if(!P[H])throw new TypeError(`Cannot auto bind undefined function '${String(H)}'`);return{value:B(P[H])}}}function B(P){return function(H,...j){!function W(P){const H=P?.type;return P instanceof KeyboardEvent||"keyup"===H||"keydown"===H||"keypress"===H}(H)?P.call(this,H,...j):(0,E.OU)(H.key)&&(H.preventDefault(),H.stopPropagation(),H.target.click())}}},5668:(et,Ae,v)=>{"use strict";function E(D){return(W,B)=>{W.hasOwnProperty("_messageBundleProps")||(W._messageBundleProps=W._messageBundleProps?W._messageBundleProps.slice():[]),W._messageBundleProps.push({bundlePath:D,propertyName:B})}}v.d(Ae,{G:()=>E})},24092:(et,Ae,v)=>{"use strict";function E(W){return B=>{B.hasOwnProperty("_delegatedEventNames")||(B._delegatedEventNames=B._delegatedEventNames?B._delegatedEventNames.slice():[]);const P=B._delegatedEventNames,H=Array.isArray(W)?W:function D(W){return W.split(",").map(B=>B.trim())}(W);P.push(...H)}}v.d(Ae,{U:()=>E})},92190:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>E});const E={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},56295:(et,Ae,v)=>{"use strict";v.d(Ae,{K:()=>P,w:()=>H});var E=v(73290),D=function(j){return{vnodeSelector:"",properties:void 0,children:void 0,text:j.toString(),domNode:null}},W=function(j,$){for(var S=0,I=j.length;S<I;S++){var O=j[S];Array.isArray(O)?W(O,$):null!=O&&!1!==O&&(O.hasOwnProperty("vnodeSelector")||(O=D(O)),$.push(O))}},B=function(j,$){for(var S=[],I=2;I<arguments.length;I++)S[I-2]=arguments[I];if(1===S.length&&"string"==typeof S[0])return{vnodeSelector:j,properties:$||void 0,children:void 0,text:S[0],domNode:null};var O=[];return W(S,O),{vnodeSelector:j,properties:$||void 0,children:O,text:void 0,domNode:null}};function P(j,$,...S){return"function"!=typeof j||(0,E.b)(j)?B(j,$,...S):j($,...S)}function H(...j){return j}},73290:(et,Ae,v)=>{"use strict";v.d(Ae,{b:()=>I,d:()=>H});var E=v(17715),D=v(16137);const W=[],B={},P=new WeakMap;function H(O,U){let N=U.children;if(N?.length)for(let Z=0;Z<N.length;++Z)N[Z]=H(O,N[Z]);else N=W;const J=U.vnodeSelector;if(I(J)){const Z=U.properties||B,L=Z.key||J;return{vnodeSelector:"div",properties:{key:L,afterCreate:j,afterUpdate:$,afterRemoved:S,parentWidget:O,widgetConstructor:J,widgetProperties:{...Z,key:L,children:N}},children:void 0,text:void 0,domNode:null}}return U}function j(O,U,N,{parentWidget:J,widgetConstructor:Z,widgetProperties:L}){const C=new Z(L);C.container=O,P.set(O,C),C.afterCreate?.(C,O),J.addHandles((0,E.hA)(()=>S(O))),queueMicrotask(()=>{C[D.D].projector.renderNow()})}function $(O,U,N,{widgetProperties:J}){const Z=P.get(O);Z&&(Z.set(J),Z.afterUpdate?.(Z,O))}function S(O){const U=P.get(O);U&&(U.afterRemoved?.(U,O),U.destroy(),P.delete(O))}function I(O){return"function"==typeof O&&O[D.x]}},16137:(et,Ae,v)=>{"use strict";v.d(Ae,{D:()=>D,x:()=>E});const E=Symbol("widget"),D=Symbol("widget-test-data")},21714:(et,Ae,v)=>{"use strict";v.d(Ae,{$U:()=>B,Qw:()=>P,Sh:()=>D,rE:()=>W});const E=new Map;function D(){E.clear()}function W(H){return E.get(H)}function B(H,j){E.set(H,j)}function P(H){E.delete(H)}},44182:(et,Ae,v)=>{"use strict";function B(H){return H&&"function"==typeof H.render}function P(H){return H&&"function"==typeof H.postMixInProperties&&"function"==typeof H.buildRendering&&"function"==typeof H.postCreate&&"function"==typeof H.startup}v.d(Ae,{p4:()=>B,xk:()=>P}),v(54737),v(56295),v(60421)},60421:(et,Ae,v)=>{"use strict";v.d(Ae,{Ly:()=>on,N_:()=>gt,OU:()=>Cr,V8:()=>En,W5:()=>ln,cA:()=>je});var E=function(){return E=Object.assign||function(At){for(var Ct,ot=1,pt=arguments.length;ot<pt;ot++)for(var Pt in Ct=arguments[ot])Object.prototype.hasOwnProperty.call(Ct,Pt)&&(At[Pt]=Ct[Pt]);return At},E.apply(this,arguments)},D={exports:{}},W={},B={exports:{}},P={};function H(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var S=/javascript\s*\:/gim;P.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},P.getDefaultWhiteList=H,P.onAttr=function j(Fe,At,Ct){},P.onIgnoreAttr=function $(Fe,At,Ct){},P.safeAttrValue=function I(Fe,At){return S.test(At)?"":At};var U_trim=function(Fe){return String.prototype.trim?Fe.trim():Fe.replace(/(^\s*)|(\s*$)/g,"")},U_trimRight=function(Fe){return String.prototype.trimRight?Fe.trimRight():Fe.replace(/(\s*$)/g,"")},Z=P;function C(Fe){return null==Fe}function x(Fe){(Fe=function b(Fe){var At={};for(var Ct in Fe)At[Ct]=Fe[Ct];return At}(Fe||{})).whiteList=Fe.whiteList||Z.whiteList,Fe.onAttr=Fe.onAttr||Z.onAttr,Fe.onIgnoreAttr=Fe.onIgnoreAttr||Z.onIgnoreAttr,Fe.safeAttrValue=Fe.safeAttrValue||Z.safeAttrValue,this.options=Fe}x.prototype.process=function(Fe){if(!(Fe=(Fe=Fe||"").toString()))return"";var Ct=this.options,ot=Ct.whiteList,pt=Ct.onAttr,Pt=Ct.onIgnoreAttr,zt=Ct.safeAttrValue;return function N(Fe,At){";"!==(Fe=U_trimRight(Fe))[Fe.length-1]&&(Fe+=";");var Ct=Fe.length,ot=!1,pt=0,Pt=0,zt="";function gn(){if(!ot){var Or=U_trim(Fe.slice(pt,Pt)),_n=Or.indexOf(":");if(-1!==_n){var as=U_trim(Or.slice(0,_n)),Lr=U_trim(Or.slice(_n+1));if(as){var Zs=At(pt,zt.length,as,Lr,Or);Zs&&(zt+=Zs+"; ")}}}pt=Pt+1}for(;Pt<Ct;Pt++){var yn=Fe[Pt];if("/"===yn&&"*"===Fe[Pt+1]){var Tr=Fe.indexOf("*/",Pt+2);if(-1===Tr)break;pt=(Pt=Tr+1)+1,ot=!1}else"("===yn?ot=!0:")"===yn?ot=!1:";"===yn?ot||gn():"\n"===yn&&gn()}return U_trim(zt)}(Fe,function(yn,Tr,Or,_n,as){var Lr=ot[Or],Zs=!1;if(!0===Lr?Zs=Lr:"function"==typeof Lr?Zs=Lr(_n):Lr instanceof RegExp&&(Zs=Lr.test(_n)),!0!==Zs&&(Zs=!1),_n=zt(Or,_n)){var _s,lo={position:Tr,sourcePosition:yn,source:as,isWhite:Zs};if(Zs)return C(_s=pt(Or,_n,lo))?Or+":"+_n:_s;if(!C(_s=Pt(Or,_n,lo)))return _s}})};var R=x;!function(Fe,At){var Ct=P,ot=R;for(var Pt in(At=Fe.exports=function pt(zt,gn){return new ot(gn).process(zt)}).FilterCSS=ot,Ct)At[Pt]=Ct[Pt]}(B,B.exports);var w=B.exports,K={indexOf:function(Fe,At){var Ct,ot;if(Array.prototype.indexOf)return Fe.indexOf(At);for(Ct=0,ot=Fe.length;Ct<ot;Ct++)if(Fe[Ct]===At)return Ct;return-1},forEach:function(Fe,At,Ct){var ot,pt;if(Array.prototype.forEach)return Fe.forEach(At,Ct);for(ot=0,pt=Fe.length;ot<pt;ot++)At.call(Ct,Fe[ot],ot,Fe)},trim:function(Fe){return String.prototype.trim?Fe.trim():Fe.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(Fe){var Ct=/\s|\n|\t/.exec(Fe);return Ct?Ct.index:-1}},ue=w.getDefaultWhiteList,ee=K;var pe=new(0,w.FilterCSS);function fe(Fe){return Fe.replace(ye,"&lt;").replace(q,"&gt;")}var ye=/</g,q=/>/g,re=/"/g,ce=/&quot;/g,oe=/&#([a-zA-Z0-9]*);?/gim,le=/&colon;?/gim,Se=/&newline;?/gim,se=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Pe=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ie=/u\s*r\s*l\s*\(.*/gi;function X(Fe){return Fe.replace(re,"&quot;")}function Ee(Fe){return Fe.replace(ce,'"')}function Le(Fe){return Fe.replace(oe,function(Ct,ot){return String.fromCharCode("x"===ot[0]||"X"===ot[0]?parseInt(ot.substr(1),16):parseInt(ot,10))})}function Oe(Fe){return Fe.replace(le,":").replace(Se," ")}function _e(Fe){for(var At="",Ct=0,ot=Fe.length;Ct<ot;Ct++)At+=Fe.charCodeAt(Ct)<32?" ":Fe.charAt(Ct);return ee.trim(At)}function we(Fe){return _e(Fe=Oe(Fe=Le(Fe=Ee(Fe))))}function ke(Fe){return fe(Fe=X(Fe))}W.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},W.getDefaultWhiteList=function te(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},W.onTag=function ae(Fe,At,Ct){},W.onIgnoreTag=function de(Fe,At,Ct){},W.onTagAttr=function ve(Fe,At,Ct){},W.onIgnoreTagAttr=function G(Fe,At,Ct){},W.safeAttrValue=function ie(Fe,At,Ct,ot){if(Ct=we(Ct),"href"===At||"src"===At){if("#"===(Ct=ee.trim(Ct)))return"#";if("http://"!==Ct.substr(0,7)&&"https://"!==Ct.substr(0,8)&&"mailto:"!==Ct.substr(0,7)&&"tel:"!==Ct.substr(0,4)&&"data:image/"!==Ct.substr(0,11)&&"ftp://"!==Ct.substr(0,6)&&"./"!==Ct.substr(0,2)&&"../"!==Ct.substr(0,3)&&"#"!==Ct[0]&&"/"!==Ct[0])return""}else if("background"===At){if(se.lastIndex=0,se.test(Ct))return""}else if("style"===At){if(Pe.lastIndex=0,Pe.test(Ct)||(Ie.lastIndex=0,Ie.test(Ct)&&(se.lastIndex=0,se.test(Ct))))return"";!1!==ot&&(Ct=(ot=ot||pe).process(Ct))}return ke(Ct)},W.escapeHtml=fe,W.escapeQuote=X,W.unescapeQuote=Ee,W.escapeHtmlEntities=Le,W.escapeDangerHtml5Entities=Oe,W.clearNonPrintableCharacter=_e,W.friendlyAttrValue=we,W.escapeAttrValue=ke,W.onIgnoreTagStripAll=function Xe(){return""},W.StripTagBody=function Q(Fe,At){"function"!=typeof At&&(At=function(){});var Ct=!Array.isArray(Fe),pt=[],Pt=!1;return{onIgnoreTag:function(zt,gn,yn){if(function ot(zt){return!!Ct||-1!==ee.indexOf(Fe,zt)}(zt)){if(yn.isClosing){return pt.push([!1!==Pt?Pt:yn.position,yn.position+10]),Pt=!1,"[/removed]"}return Pt||(Pt=yn.position),"[removed]"}return At(zt,gn,yn)},remove:function(zt){var gn="",yn=0;return ee.forEach(pt,function(Tr){gn+=zt.slice(yn,Tr[0]),yn=Tr[1]}),gn+=zt.slice(yn)}}},W.stripCommentTag=function De(Fe){for(var At="",Ct=0;Ct<Fe.length;){var ot=Fe.indexOf("\x3c!--",Ct);if(-1===ot){At+=Fe.slice(Ct);break}At+=Fe.slice(Ct,ot);var pt=Fe.indexOf("--\x3e",ot);if(-1===pt)break;Ct=pt+3}return At},W.stripBlankChar=function Ke(Fe){var At=Fe.split("");return(At=At.filter(function(Ct){var ot=Ct.charCodeAt(0);return!(127===ot||ot<=31&&10!==ot&&13!==ot)})).join("")},W.cssFilter=pe,W.getDefaultCSSWhiteList=ue;var Ye={},rt=K;function lt(Fe){var Ct,At=rt.spaceIndex(Fe);return Ct=Fe.slice(1,-1===At?-1:At+1),"/"===(Ct=rt.trim(Ct).toLowerCase()).slice(0,1)&&(Ct=Ct.slice(1)),"/"===Ct.slice(-1)&&(Ct=Ct.slice(0,-1)),Ct}function _t(Fe){return"</"===Fe.slice(0,2)}var qe=/[^a-zA-Z0-9\\_:.-]/gim;function Be(Fe,At){for(;At<Fe.length;At++){var Ct=Fe[At];if(" "!==Ct)return"="===Ct?At:-1}}function Ze(Fe,At){for(;At<Fe.length;At++){var Ct=Fe[At];if(" "!==Ct)return"'"===Ct||'"'===Ct?At:-1}}function Ne(Fe,At){for(;At>0;At--){var Ct=Fe[At];if(" "!==Ct)return"="===Ct?At:-1}}function Je(Fe){return function He(Fe){return'"'===Fe[0]&&'"'===Fe[Fe.length-1]||"'"===Fe[0]&&"'"===Fe[Fe.length-1]}(Fe)?Fe.substr(1,Fe.length-2):Fe}Ye.parseTag=function tt(Fe,At,Ct){var ot="",pt=0,Pt=!1,zt=!1,gn=0,yn=Fe.length,Tr="",Or="";e:for(gn=0;gn<yn;gn++){var _n=Fe.charAt(gn);if(!1===Pt){if("<"===_n){Pt=gn;continue}}else if(!1===zt){if("<"===_n){ot+=Ct(Fe.slice(pt,gn)),Pt=gn,pt=gn;continue}if(">"===_n){ot+=Ct(Fe.slice(pt,Pt)),Tr=lt(Or=Fe.slice(Pt,gn+1)),ot+=At(Pt,ot.length,Tr,Or,_t(Or)),pt=gn+1,Pt=!1;continue}if('"'===_n||"'"===_n)for(var as=1,Lr=Fe.charAt(gn-as);""===Lr.trim()||"="===Lr;){if("="===Lr){zt=_n;continue e}Lr=Fe.charAt(gn-++as)}}else if(_n===zt){zt=!1;continue}}return pt<Fe.length&&(ot+=Ct(Fe.substr(pt))),ot},Ye.parseAttr=function xe(Fe,At){var Ct=0,ot=0,pt=[],Pt=!1,zt=Fe.length;function gn(as,Lr){if(!((as=(as=rt.trim(as)).replace(qe,"").toLowerCase()).length<1)){var Zs=At(as,Lr||"");Zs&&pt.push(Zs)}}for(var yn=0;yn<zt;yn++){var _n,Tr=Fe.charAt(yn);if(!1!==Pt||"="!==Tr)if(!1===Pt||yn!==ot){if(/\s|\n|\t/.test(Tr)){if(Fe=Fe.replace(/\s|\n|\t/g," "),!1===Pt){if(-1===(_n=Be(Fe,yn))){gn(rt.trim(Fe.slice(Ct,yn))),Pt=!1,Ct=yn+1;continue}yn=_n-1;continue}if(-1===(_n=Ne(Fe,yn-1))){gn(Pt,Je(rt.trim(Fe.slice(Ct,yn)))),Pt=!1,Ct=yn+1;continue}}}else{if(-1===(_n=Fe.indexOf(Tr,yn+1)))break;gn(Pt,rt.trim(Fe.slice(ot+1,_n))),Pt=!1,Ct=(yn=_n)+1}else Pt=Fe.slice(Ct,yn),ot='"'===Fe.charAt(Ct=yn+1)||"'"===Fe.charAt(Ct)?Ct:Ze(Fe,yn+1)}return Ct<Fe.length&&(!1===Pt?gn(Fe.slice(Ct)):gn(Pt,Je(rt.trim(Fe.slice(Ct))))),rt.trim(pt.join(" "))};var ut=w.FilterCSS,dt=W,Lt=Ye.parseTag,jt=Ye.parseAttr,Kt=K;function Gt(Fe){return null==Fe}function Kn(Fe){(Fe=function an(Fe){var At={};for(var Ct in Fe)At[Ct]=Fe[Ct];return At}(Fe||{})).stripIgnoreTag&&(Fe.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),Fe.onIgnoreTag=dt.onIgnoreTagStripAll),Fe.whiteList=Fe.whiteList||Fe.allowList?function mn(Fe){var At={};for(var Ct in Fe)Array.isArray(Fe[Ct])?At[Ct.toLowerCase()]=Fe[Ct].map(function(ot){return ot.toLowerCase()}):At[Ct.toLowerCase()]=Fe[Ct];return At}(Fe.whiteList||Fe.allowList):dt.whiteList,Fe.onTag=Fe.onTag||dt.onTag,Fe.onTagAttr=Fe.onTagAttr||dt.onTagAttr,Fe.onIgnoreTag=Fe.onIgnoreTag||dt.onIgnoreTag,Fe.onIgnoreTagAttr=Fe.onIgnoreTagAttr||dt.onIgnoreTagAttr,Fe.safeAttrValue=Fe.safeAttrValue||dt.safeAttrValue,Fe.escapeHtml=Fe.escapeHtml||dt.escapeHtml,this.options=Fe,!1===Fe.css?this.cssFilter=!1:(Fe.css=Fe.css||{},this.cssFilter=new ut(Fe.css))}Kn.prototype.process=function(Fe){if(!(Fe=(Fe=Fe||"").toString()))return"";var Ct=this.options,ot=Ct.whiteList,pt=Ct.onTag,Pt=Ct.onIgnoreTag,zt=Ct.onTagAttr,gn=Ct.onIgnoreTagAttr,yn=Ct.safeAttrValue,Tr=Ct.escapeHtml,Or=this.cssFilter;Ct.stripBlankChar&&(Fe=dt.stripBlankChar(Fe)),Ct.allowCommentTag||(Fe=dt.stripCommentTag(Fe));var _n=!1;Ct.stripIgnoreTagBody&&(_n=dt.StripTagBody(Ct.stripIgnoreTagBody,Pt),Pt=_n.onIgnoreTag);var as=Lt(Fe,function(Lr,Zs,lo,_s,eo){var kt={sourcePosition:Lr,position:Zs,isClosing:eo,isWhite:Object.prototype.hasOwnProperty.call(ot,lo)},kr=pt(lo,_s,kt);if(!Gt(kr))return kr;if(kt.isWhite){if(kt.isClosing)return"</"+lo+">";var ui=function Zt(Fe){var At=Kt.spaceIndex(Fe);if(-1===At)return{html:"",closing:"/"===Fe[Fe.length-2]};var Ct="/"===(Fe=Kt.trim(Fe.slice(At+1,-1)))[Fe.length-1];return Ct&&(Fe=Kt.trim(Fe.slice(0,-1))),{html:Fe,closing:Ct}}(_s),Yn=ot[lo],oa=jt(ui.html,function(bn,zo){var Ss=-1!==Kt.indexOf(Yn,bn),hs=zt(lo,bn,zo,Ss);return Gt(hs)?Ss?(zo=yn(lo,bn,zo,Or))?bn+'="'+zo+'"':bn:Gt(hs=gn(lo,bn,zo,Ss))?void 0:hs:hs});return _s="<"+lo,oa&&(_s+=" "+oa),ui.closing&&(_s+=" /"),_s+">"}return Gt(kr=Pt(lo,_s,kt))?Tr(_s):kr},Tr);return _n&&(as=_n.remove(as)),as};var kn=Kn;!function(Fe,At){var Ct=W,ot=Ye,pt=kn;function Pt(gn,yn){return new pt(yn).process(gn)}(At=Fe.exports=Pt).filterXSS=Pt,At.FilterXSS=pt,function(){for(var gn in Ct)At[gn]=Ct[gn];for(var yn in ot)At[yn]=ot[yn]}(),function zt(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=Fe.exports)}(D,D.exports);var Cn=D.exports,er=function(){function Fe(At,Ct){var pt,ot=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],details:["style"],div:["align","style","aria-label","aria-hidden"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=E(E({},Cn.getDefaultCSSWhiteList()),{flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Pt,zt,gn,yn){return"a"===Pt&&"href"===zt||("img"===Pt||"source"===Pt)&&"src"===zt?ot.sanitizeUrl(gn):Cn.safeAttrValue(Pt,zt,gn,yn)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},At&&!Ct?pt=At:At&&Ct?((pt=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(At).forEach(function(Pt){if("whiteList"===Pt)pt.whiteList=ot._extendObjectOfArrays([ot.arcgisWhiteList,At.whiteList||{}]);else if("css"===Pt){var zt=At.css.whiteList;null!=zt&&At.css instanceof Object&&Object.keys(zt).forEach(function(gn){return pt.css.whiteList[gn]=zt[gn]})}else pt[Pt]=At[Pt]})):((pt=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,pt.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=pt,this._xssFilter=new Cn.FilterXSS(pt)}return Fe.prototype.sanitize=function(At,Ct){switch(void 0===Ct&&(Ct={}),typeof At){case"number":return isNaN(At)||!isFinite(At)?null:At;case"boolean":return At;case"string":return this._xssFilter.process(At);case"object":return this._iterateOverObject(At,Ct);default:return Ct.allowUndefined&&typeof At>"u"?void 0:null}},Fe.prototype.sanitizeUrl=function(At,Ct){var ot=(Ct??{}).isProtocolRequired,pt=void 0===ot||ot,Pt=this._trim(At.substring(0,At.indexOf(":"))),zt="/"===At,gn=/^#/.test(At),yn=Pt&&this.allowedProtocols.indexOf(Pt.toLowerCase())>-1;return zt||gn||yn?Cn.escapeAttrValue(At):Pt||pt?"":Cn.escapeAttrValue("https://".concat(At))},Fe.prototype.sanitizeHTMLAttribute=function(At,Ct,ot,pt){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(At,Ct,ot,pt):Cn.safeAttrValue(At,Ct,ot,pt)},Fe.prototype.validate=function(At,Ct){void 0===Ct&&(Ct={});var ot=this.sanitize(At,Ct);return{isValid:At===ot,sanitized:ot}},Fe.prototype.encodeHTML=function(At){var Ct=this;return String(At).replace(/[&<>"'\/]/g,function(ot){return Ct._entityMap[ot]})},Fe.prototype.encodeAttrValue=function(At){var Ct=/^[a-zA-Z0-9]$/;return String(At).replace(/[\x00-\xFF]/g,function(ot,pt){return Ct.test(ot)?ot:"&#x".concat(Number(At.charCodeAt(pt)).toString(16),";")})},Fe.prototype._extendObjectOfArrays=function(At){var Ct={};return At.forEach(function(ot){Object.keys(ot).forEach(function(pt){Ct[pt]=Array.isArray(ot[pt])&&Array.isArray(Ct[pt])?Ct[pt].concat(ot[pt]):ot[pt]})}),Ct},Fe.prototype._iterateOverObject=function(At,Ct){var ot=this;void 0===Ct&&(Ct={});try{var pt=!1,Pt=void 0;if(Array.isArray(At))Pt=At.reduce(function(gn,yn){var Tr=ot.validate(yn,Ct);return Tr.isValid?gn.concat([yn]):(pt=!0,gn.concat([Tr.sanitized]))},[]);else{if(!function(Fe){if("object"!=typeof Fe||null===Fe||"[object Object]"!==Object.prototype.toString.call(Fe))return!1;var At=Object.getPrototypeOf(Fe);if(null===At)return!0;for(;null!==Object.getPrototypeOf(At);)At=Object.getPrototypeOf(At);return Object.getPrototypeOf(Fe)===At}(At))return Ct.allowUndefined&&typeof At>"u"?void 0:null;Pt=Object.keys(At).reduce(function(gn,yn){var Tr=At[yn],Or=ot.validate(Tr,Ct);return Or.isValid?gn[yn]=Tr:(pt=!0,gn[yn]=Or.sanitized),gn},{})}return pt?Pt:At}catch{return null}},Fe.prototype._trim=function(At){return String.prototype.trim?At.trim():At.replace(/(^\s*)|(\s*$)/g,"")},Fe}(),Un=v(56595),Er=(v(17715),v(3248),v(35150),v(48900),v(21714));function on(...Fe){const At=Un.A.acquire();for(let ot=0;ot<Fe.length;ot++){const pt=Fe[ot],Pt=typeof pt;if("string"===Pt)At.push(pt);else if(Array.isArray(pt))At.push.apply(At,pt);else if("object"===Pt)for(const zt in pt)pt[zt]&&At.push(zt)}const Ct=At.join(" ");return Un.A.release(At),Ct}function En(Fe){const At=Fe?.closest("[dir]");return null!==At&&At instanceof HTMLElement&&"rtl"===At.dir||"rtl"===document.dir}function gt(Fe){this[Fe.getAttribute("data-node-ref")]=null}function je(Fe){this[Fe.getAttribute("data-node-ref")]=Fe}(()=>{const Fe=new Map;new ResizeObserver(ot=>{(0,Er.Sh)();for(const pt of ot)Fe.get(pt.target)?.(pt)})})();const vt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((Fe,At)=>(Fe[At]=[],Fe),{}),$t=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ln=new er({whiteList:vt,onTagAttr:(Fe,At,Ct)=>{const ot=`${At}="${Ct}"`;if($t.includes(At))return ot},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Cr(Fe){return"Enter"===Fe||" "===Fe}},96700:(et,Ae,v)=>{"use strict";v.d(Ae,{C:()=>B,a:()=>E,d:()=>D});const E="calcite-mode-auto",D="calcite-mode-dark",B={autoMode:E,darkMode:D,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"}},44549:(et,Ae,v)=>{"use strict";v.d(Ae,{c9:()=>_r,mQ:()=>dt,oh:()=>Ie,bo:()=>ye});class E extends Error{}class D extends E{constructor(me){super(`Invalid DateTime: ${me.toMessage()}`)}}class W extends E{constructor(me){super(`Invalid Interval: ${me.toMessage()}`)}}class B extends E{constructor(me){super(`Invalid Duration: ${me.toMessage()}`)}}class P extends E{}class H extends E{constructor(me){super(`Invalid unit ${me}`)}}class j extends E{}class $ extends E{constructor(){super("Zone is an abstract class")}}const S="numeric",I="short",O="long",U={year:S,month:S,day:S},N={year:S,month:I,day:S},J={year:S,month:I,day:S,weekday:I},Z={year:S,month:O,day:S},L={year:S,month:O,day:S,weekday:O},C={hour:S,minute:S},b={hour:S,minute:S,second:S},x={hour:S,minute:S,second:S,timeZoneName:I},R={hour:S,minute:S,second:S,timeZoneName:O},w={hour:S,minute:S,hourCycle:"h23"},K={hour:S,minute:S,second:S,hourCycle:"h23"},V={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:I},ue={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:O},ee={year:S,month:S,day:S,hour:S,minute:S},te={year:S,month:S,day:S,hour:S,minute:S,second:S},pe={year:S,month:I,day:S,hour:S,minute:S},ae={year:S,month:I,day:S,hour:S,minute:S,second:S},de={year:S,month:I,day:S,weekday:I,hour:S,minute:S},ve={year:S,month:O,day:S,hour:S,minute:S,timeZoneName:I},G={year:S,month:O,day:S,hour:S,minute:S,second:S,timeZoneName:I},fe={year:S,month:O,day:S,weekday:O,hour:S,minute:S,timeZoneName:O},ie={year:S,month:O,day:S,weekday:O,hour:S,minute:S,second:S,timeZoneName:O};class ye{get type(){throw new $}get name(){throw new $}get ianaName(){return this.name}get isUniversal(){throw new $}offsetName(me,We){throw new $}formatOffset(me,We){throw new $}offset(me){throw new $}equals(me){throw new $}get isValid(){throw new $}}let q=null;class re extends ye{static get instance(){return null===q&&(q=new re),q}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(me,{format:We,locale:Qe}){return lo(me,We,Qe)}formatOffset(me,We){return kr(this.offset(me),We)}offset(me){return-new Date(me).getTimezoneOffset()}equals(me){return"system"===me.type}get isValid(){return!0}}let ce={};const le={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Pe={};class Ie extends ye{static create(me){return Pe[me]||(Pe[me]=new Ie(me)),Pe[me]}static resetCache(){Pe={},ce={}}static isValidSpecifier(me){return this.isValidZone(me)}static isValidZone(me){if(!me)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:me}).format(),!0}catch{return!1}}constructor(me){super(),this.zoneName=me,this.valid=Ie.isValidZone(me)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(me,{format:We,locale:Qe}){return lo(me,We,Qe,this.name)}formatOffset(me,We){return kr(this.offset(me),We)}offset(me){const We=new Date(me);if(isNaN(We))return NaN;const Qe=function oe($e){return ce[$e]||(ce[$e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:$e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ce[$e]}(this.name);let[ht,bt,wt,Wt,Qt,cn,Xn]=Qe.formatToParts?function se($e,me){const We=$e.formatToParts(me),Qe=[];for(let ht=0;ht<We.length;ht++){const{type:bt,value:wt}=We[ht],Wt=le[bt];"era"===bt?Qe[Wt]=wt:zn(Wt)||(Qe[Wt]=parseInt(wt,10))}return Qe}(Qe,We):function Se($e,me){const We=$e.format(me).replace(/\u200E/g,""),Qe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(We),[,ht,bt,wt,Wt,Qt,cn,Xn]=Qe;return[wt,ht,bt,Wt,Qt,cn,Xn]}(Qe,We);"BC"===Wt&&(ht=1-Math.abs(ht));let rr=+We;const Qs=rr%1e3;return rr-=Qs>=0?Qs:1e3+Qs,(_n({year:ht,month:bt,day:wt,hour:24===Qt?0:Qt,minute:cn,second:Xn,millisecond:0})-rr)/6e4}equals(me){return"iana"===me.type&&me.name===this.name}get isValid(){return this.valid}}let X={},Le={};function Oe($e,me={}){const We=JSON.stringify([$e,me]);let Qe=Le[We];return Qe||(Qe=new Intl.DateTimeFormat($e,me),Le[We]=Qe),Qe}let _e={},ke={},Q=null,Ke={};function qe($e,me,We,Qe){const ht=$e.listingMode();return"error"===ht?null:"en"===ht?We(me):Qe(me)}class Be{constructor(me,We,Qe){this.padTo=Qe.padTo||0,this.floor=Qe.floor||!1;const{padTo:ht,floor:bt,...wt}=Qe;if(!We||Object.keys(wt).length>0){const Wt={useGrouping:!1,...Qe};Qe.padTo>0&&(Wt.minimumIntegerDigits=Qe.padTo),this.inf=function we($e,me={}){const We=JSON.stringify([$e,me]);let Qe=_e[We];return Qe||(Qe=new Intl.NumberFormat($e,me),_e[We]=Qe),Qe}(me,Wt)}}format(me){if(this.inf){const We=this.floor?Math.floor(me):me;return this.inf.format(We)}return ot(this.floor?Math.floor(me):gn(me,3),this.padTo)}}class Ze{constructor(me,We,Qe){let ht;if(this.opts=Qe,this.originalZone=void 0,this.opts.timeZone)this.dt=me;else if("fixed"===me.zone.type){const wt=me.offset/60*-1,Wt=wt>=0?`Etc/GMT+${wt}`:`Etc/GMT${wt}`;0!==me.offset&&Ie.create(Wt).valid?(ht=Wt,this.dt=me):(ht="UTC",this.dt=0===me.offset?me:me.setZone("UTC").plus({minutes:me.offset}),this.originalZone=me.zone)}else"system"===me.zone.type?this.dt=me:"iana"===me.zone.type?(this.dt=me,ht=me.zone.name):(ht="UTC",this.dt=me.setZone("UTC").plus({minutes:me.offset}),this.originalZone=me.zone);const bt={...this.opts};bt.timeZone=bt.timeZone||ht,this.dtf=Oe(We,bt)}format(){return this.originalZone?this.formatToParts().map(({value:me})=>me).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const me=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?me.map(We=>{if("timeZoneName"===We.type){const Qe=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...We,value:Qe}}return We}):me}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ne{constructor(me,We,Qe){this.opts={style:"long",...Qe},!We&&vt()&&(this.rtf=function Xe($e,me={}){const{base:We,...Qe}=me,ht=JSON.stringify([$e,Qe]);let bt=ke[ht];return bt||(bt=new Intl.RelativeTimeFormat($e,me),ke[ht]=bt),bt}(me,Qe))}format(me,We){return this.rtf?this.rtf.format(me,We):function Hs($e,me,We="always",Qe=!1){const ht={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},bt=-1===["hours","minutes","seconds"].indexOf($e);if("auto"===We&&bt){const ar="days"===$e;switch(me){case 1:return ar?"tomorrow":`next ${ht[$e][0]}`;case-1:return ar?"yesterday":`last ${ht[$e][0]}`;case 0:return ar?"today":`this ${ht[$e][0]}`}}const wt=Object.is(me,-0)||me<0,Wt=Math.abs(me),Qt=1===Wt,cn=ht[$e],Xn=Qe?Qt?cn[1]:cn[2]||cn[1]:Qt?ht[$e][0]:$e;return wt?`${Wt} ${Xn} ago`:`in ${Wt} ${Xn}`}(We,me,this.opts.numeric,"long"!==this.opts.style)}formatToParts(me,We){return this.rtf?this.rtf.formatToParts(me,We):[]}}const He={firstDay:1,minimalDays:4,weekend:[6,7]};class Je{static fromOpts(me){return Je.create(me.locale,me.numberingSystem,me.outputCalendar,me.weekSettings,me.defaultToEN)}static create(me,We,Qe,ht,bt=!1){const wt=me||Cn.defaultLocale,Wt=wt||(bt?"en-US":function De(){return Q||(Q=(new Intl.DateTimeFormat).resolvedOptions().locale,Q)}()),Qt=We||Cn.defaultNumberingSystem,cn=Qe||Cn.defaultOutputCalendar,Xn=Fe(ht)||Cn.defaultWeekSettings;return new Je(Wt,Qt,cn,Xn,wt)}static resetCache(){Q=null,Le={},_e={},ke={}}static fromObject({locale:me,numberingSystem:We,outputCalendar:Qe,weekSettings:ht}={}){return Je.create(me,We,Qe,ht)}constructor(me,We,Qe,ht,bt){const[wt,Wt,Qt]=function rt($e){const me=$e.indexOf("-x-");-1!==me&&($e=$e.substring(0,me));const We=$e.indexOf("-u-");if(-1===We)return[$e];{let Qe,ht;try{Qe=Oe($e).resolvedOptions(),ht=$e}catch{const Qt=$e.substring(0,We);Qe=Oe(Qt).resolvedOptions(),ht=Qt}const{numberingSystem:bt,calendar:wt}=Qe;return[ht,bt,wt]}}(me);this.locale=wt,this.numberingSystem=We||Wt||null,this.outputCalendar=Qe||Qt||null,this.weekSettings=ht,this.intl=function lt($e,me,We){return(We||me)&&($e.includes("-u-")||($e+="-u"),We&&($e+=`-ca-${We}`),me&&($e+=`-nu-${me}`)),$e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=bt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function xe($e){return(!$e.numberingSystem||"latn"===$e.numberingSystem)&&("latn"===$e.numberingSystem||!$e.locale||$e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat($e.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(me){return me&&0!==Object.getOwnPropertyNames(me).length?Je.create(me.locale||this.specifiedLocale,me.numberingSystem||this.numberingSystem,me.outputCalendar||this.outputCalendar,Fe(me.weekSettings)||this.weekSettings,me.defaultToEN||!1):this}redefaultToEN(me={}){return this.clone({...me,defaultToEN:!0})}redefaultToSystem(me={}){return this.clone({...me,defaultToEN:!1})}months(me,We=!1){return qe(this,me,Ss,()=>{const Qe=We?{month:me,day:"numeric"}:{month:me},ht=We?"format":"standalone";return this.monthsCache[ht][me]||(this.monthsCache[ht][me]=function _t($e){const me=[];for(let We=1;We<=12;We++){const Qe=_r.utc(2009,We,1);me.push($e(Qe))}return me}(bt=>this.extract(bt,Qe,"month"))),this.monthsCache[ht][me]})}weekdays(me,We=!1){return qe(this,me,Wc,()=>{const Qe=We?{weekday:me,year:"numeric",month:"long",day:"numeric"}:{weekday:me},ht=We?"format":"standalone";return this.weekdaysCache[ht][me]||(this.weekdaysCache[ht][me]=function tt($e){const me=[];for(let We=1;We<=7;We++){const Qe=_r.utc(2016,11,13+We);me.push($e(Qe))}return me}(bt=>this.extract(bt,Qe,"weekday"))),this.weekdaysCache[ht][me]})}meridiems(){return qe(this,void 0,()=>Uu,()=>{if(!this.meridiemCache){const me={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_r.utc(2016,11,13,9),_r.utc(2016,11,13,19)].map(We=>this.extract(We,me,"dayperiod"))}return this.meridiemCache})}eras(me){return qe(this,me,Vc,()=>{const We={era:me};return this.eraCache[me]||(this.eraCache[me]=[_r.utc(-40,1,1),_r.utc(2017,1,1)].map(Qe=>this.extract(Qe,We,"era"))),this.eraCache[me]})}extract(me,We,Qe){const wt=this.dtFormatter(me,We).formatToParts().find(Wt=>Wt.type.toLowerCase()===Qe);return wt?wt.value:null}numberFormatter(me={}){return new Be(this.intl,me.forceSimple||this.fastNumbers,me)}dtFormatter(me,We={}){return new Ze(me,this.intl,We)}relFormatter(me={}){return new Ne(this.intl,this.isEnglish(),me)}listFormatter(me={}){return function Ee($e,me={}){const We=JSON.stringify([$e,me]);let Qe=X[We];return Qe||(Qe=new Intl.ListFormat($e,me),X[We]=Qe),Qe}(this.intl,me)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:$t()?function Ye($e){let me=Ke[$e];if(!me){const We=new Intl.Locale($e);me="getWeekInfo"in We?We.getWeekInfo():We.weekInfo,Ke[$e]=me}return me}(this.locale):He}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(me){return this.locale===me.locale&&this.numberingSystem===me.numberingSystem&&this.outputCalendar===me.outputCalendar}}let ut=null;class dt extends ye{static get utcInstance(){return null===ut&&(ut=new dt(0)),ut}static instance(me){return 0===me?dt.utcInstance:new dt(me)}static parseSpecifier(me){if(me){const We=me.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(We)return new dt(_s(We[1],We[2]))}return null}constructor(me){super(),this.fixed=me}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${kr(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${kr(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(me,We){return kr(this.fixed,We)}get isUniversal(){return!0}offset(){return this.fixed}equals(me){return"fixed"===me.type&&me.fixed===this.fixed}get isValid(){return!0}}class Et extends ye{constructor(me){super(),this.zoneName=me}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Lt($e,me){if(zn($e)||null===$e)return me;if($e instanceof ye)return $e;if(function mt($e){return"string"==typeof $e}($e)){const Qe=$e.toLowerCase();return"default"===Qe?me:"local"===Qe||"system"===Qe?re.instance:"utc"===Qe||"gmt"===Qe?dt.utcInstance:dt.parseSpecifier(Qe)||Ie.create($e)}return gt($e)?dt.instance($e):"object"==typeof $e&&"offset"in $e&&"function"==typeof $e.offset?$e:new Et($e)}let Kn,jt=()=>Date.now(),Kt="system",Gt=null,Zt=null,an=null,mn=60,kn=null;class Cn{static get now(){return jt}static set now(me){jt=me}static set defaultZone(me){Kt=me}static get defaultZone(){return Lt(Kt,re.instance)}static get defaultLocale(){return Gt}static set defaultLocale(me){Gt=me}static get defaultNumberingSystem(){return Zt}static set defaultNumberingSystem(me){Zt=me}static get defaultOutputCalendar(){return an}static set defaultOutputCalendar(me){an=me}static get defaultWeekSettings(){return kn}static set defaultWeekSettings(me){kn=Fe(me)}static get twoDigitCutoffYear(){return mn}static set twoDigitCutoffYear(me){mn=me%100}static get throwOnInvalid(){return Kn}static set throwOnInvalid(me){Kn=me}static resetCaches(){Je.resetCache(),Ie.resetCache()}}class Nn{constructor(me,We){this.reason=me,this.explanation=We}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const er=[0,31,59,90,120,151,181,212,243,273,304,334],Un=[0,31,60,91,121,152,182,213,244,274,305,335];function ur($e,me){return new Nn("unit out of range",`you specified ${me} (of type ${typeof me}) as a ${$e}, which is invalid`)}function fr($e,me,We){const Qe=new Date(Date.UTC($e,me-1,We));$e<100&&$e>=0&&Qe.setUTCFullYear(Qe.getUTCFullYear()-1900);const ht=Qe.getUTCDay();return 0===ht?7:ht}function ir($e,me,We){return We+(yn($e)?Un:er)[me-1]}function wn($e,me){const We=yn($e)?Un:er,Qe=We.findIndex(bt=>bt<me);return{month:Qe+1,day:me-We[Qe]}}function Er($e,me){return($e-me+7)%7+1}function tr($e,me=4,We=1){const{year:Qe,month:ht,day:bt}=$e,wt=ir(Qe,ht,bt),Wt=Er(fr(Qe,ht,bt),We);let cn,Qt=Math.floor((wt-Wt+14-me)/7);return Qt<1?(cn=Qe-1,Qt=Lr(cn,me,We)):Qt>Lr(Qe,me,We)?(cn=Qe+1,Qt=1):cn=Qe,{weekYear:cn,weekNumber:Qt,weekday:Wt,...ui($e)}}function jn($e,me=4,We=1){const{weekYear:Qe,weekNumber:ht,weekday:bt}=$e,wt=Er(fr(Qe,1,me),We),Wt=Tr(Qe);let cn,Qt=7*ht+bt-wt-7+me;Qt<1?(cn=Qe-1,Qt+=Tr(cn)):Qt>Wt?(cn=Qe+1,Qt-=Tr(Qe)):cn=Qe;const{month:Xn,day:ar}=wn(cn,Qt);return{year:cn,month:Xn,day:ar,...ui($e)}}function xs($e){const{year:me,month:We,day:Qe}=$e;return{year:me,ordinal:ir(me,We,Qe),...ui($e)}}function Hn($e){const{year:me,ordinal:We}=$e,{month:Qe,day:ht}=wn(me,We);return{year:me,month:Qe,day:ht,...ui($e)}}function gs($e,me){if(zn($e.localWeekday)&&zn($e.localWeekNumber)&&zn($e.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!zn($e.weekday)||!zn($e.weekNumber)||!zn($e.weekYear))throw new P("Cannot mix locale-based week fields with ISO-based week fields");return zn($e.localWeekday)||($e.weekday=$e.localWeekday),zn($e.localWeekNumber)||($e.weekNumber=$e.localWeekNumber),zn($e.localWeekYear)||($e.weekYear=$e.localWeekYear),delete $e.localWeekday,delete $e.localWeekNumber,delete $e.localWeekYear,{minDaysInFirstWeek:me.getMinDaysInFirstWeek(),startOfWeek:me.getStartOfWeek()}}function zr($e){const me=je($e.year),We=At($e.month,1,12),Qe=At($e.day,1,Or($e.year,$e.month));return me?We?!Qe&&ur("day",$e.day):ur("month",$e.month):ur("year",$e.year)}function En($e){const{hour:me,minute:We,second:Qe,millisecond:ht}=$e,bt=At(me,0,23)||24===me&&0===We&&0===Qe&&0===ht,wt=At(We,0,59),Wt=At(Qe,0,59),Qt=At(ht,0,999);return bt?wt?Wt?!Qt&&ur("millisecond",ht):ur("second",Qe):ur("minute",We):ur("hour",me)}function zn($e){return typeof $e>"u"}function gt($e){return"number"==typeof $e}function je($e){return"number"==typeof $e&&$e%1==0}function vt(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function $t(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Rn($e,me,We){if(0!==$e.length)return $e.reduce((Qe,ht)=>{const bt=[me(ht),ht];return Qe&&We(Qe[0],bt[0])===Qe[0]?Qe:bt},null)[1]}function yr($e,me){return Object.prototype.hasOwnProperty.call($e,me)}function Fe($e){if(null==$e)return null;if("object"!=typeof $e)throw new j("Week settings must be an object");if(!At($e.firstDay,1,7)||!At($e.minimalDays,1,7)||!Array.isArray($e.weekend)||$e.weekend.some(me=>!At(me,1,7)))throw new j("Invalid week settings");return{firstDay:$e.firstDay,minimalDays:$e.minimalDays,weekend:Array.from($e.weekend)}}function At($e,me,We){return je($e)&&$e>=me&&$e<=We}function ot($e,me=2){let Qe;return Qe=$e<0?"-"+(""+-$e).padStart(me,"0"):(""+$e).padStart(me,"0"),Qe}function pt($e){if(!zn($e)&&null!==$e&&""!==$e)return parseInt($e,10)}function Pt($e){if(!zn($e)&&null!==$e&&""!==$e)return parseFloat($e)}function zt($e){if(!zn($e)&&null!==$e&&""!==$e){const me=1e3*parseFloat("0."+$e);return Math.floor(me)}}function gn($e,me,We=!1){const Qe=10**me;return(We?Math.trunc:Math.round)($e*Qe)/Qe}function yn($e){return $e%4==0&&($e%100!=0||$e%400==0)}function Tr($e){return yn($e)?366:365}function Or($e,me){const We=function Ct($e,me){return $e-me*Math.floor($e/me)}(me-1,12)+1;return 2===We?yn($e+(me-We)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][We-1]}function _n($e){let me=Date.UTC($e.year,$e.month-1,$e.day,$e.hour,$e.minute,$e.second,$e.millisecond);return $e.year<100&&$e.year>=0&&(me=new Date(me),me.setUTCFullYear($e.year,$e.month-1,$e.day)),+me}function as($e,me,We){return-Er(fr($e,1,me),We)+me-1}function Lr($e,me=4,We=1){const Qe=as($e,me,We),ht=as($e+1,me,We);return(Tr($e)-Qe+ht)/7}function Zs($e){return $e>99?$e:$e>Cn.twoDigitCutoffYear?1900+$e:2e3+$e}function lo($e,me,We,Qe=null){const ht=new Date($e),bt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Qe&&(bt.timeZone=Qe);const wt={timeZoneName:me,...bt},Wt=new Intl.DateTimeFormat(We,wt).formatToParts(ht).find(Qt=>"timezonename"===Qt.type.toLowerCase());return Wt?Wt.value:null}function _s($e,me){let We=parseInt($e,10);Number.isNaN(We)&&(We=0);const Qe=parseInt(me,10)||0;return 60*We+(We<0||Object.is(We,-0)?-Qe:Qe)}function eo($e){const me=Number($e);if("boolean"==typeof $e||""===$e||Number.isNaN(me))throw new j(`Invalid unit value ${$e}`);return me}function kt($e,me){const We={};for(const Qe in $e)if(yr($e,Qe)){const ht=$e[Qe];if(null==ht)continue;We[me(Qe)]=eo(ht)}return We}function kr($e,me){const We=Math.trunc(Math.abs($e/60)),Qe=Math.trunc(Math.abs($e%60)),ht=$e>=0?"+":"-";switch(me){case"short":return`${ht}${ot(We,2)}:${ot(Qe,2)}`;case"narrow":return`${ht}${We}${Qe>0?`:${Qe}`:""}`;case"techie":return`${ht}${ot(We,2)}${ot(Qe,2)}`;default:throw new RangeError(`Value format ${me} is out of range for property format`)}}function ui($e){return function Cr($e,me){return me.reduce((We,Qe)=>(We[Qe]=$e[Qe],We),{})}($e,["hour","minute","second","millisecond"])}const oa=["January","February","March","April","May","June","July","August","September","October","November","December"],bn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zo=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ss($e){switch($e){case"narrow":return[...zo];case"short":return[...bn];case"long":return[...oa];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const hs=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],nr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Zi=["M","T","W","T","F","S","S"];function Wc($e){switch($e){case"narrow":return[...Zi];case"short":return[...nr];case"long":return[...hs];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Uu=["AM","PM"],mr=["Before Christ","Anno Domini"],$c=["BC","AD"],Jn=["B","A"];function Vc($e){switch($e){case"narrow":return[...Jn];case"short":return[...$c];case"long":return[...mr];default:return null}}function Hi($e,me){let We="";for(const Qe of $e)We+=Qe.literal?Qe.val:me(Qe.val);return We}const il={D:U,DD:N,DDD:Z,DDDD:L,t:C,tt:b,ttt:x,tttt:R,T:w,TT:K,TTT:V,TTTT:ue,f:ee,ff:pe,fff:ve,ffff:fe,F:te,FF:ae,FFF:G,FFFF:ie};class to{static create(me,We={}){return new to(me,We)}static parseFormat(me){let We=null,Qe="",ht=!1;const bt=[];for(let wt=0;wt<me.length;wt++){const Wt=me.charAt(wt);"'"===Wt?(Qe.length>0&&bt.push({literal:ht||/^\s+$/.test(Qe),val:Qe}),We=null,Qe="",ht=!ht):ht||Wt===We?Qe+=Wt:(Qe.length>0&&bt.push({literal:/^\s+$/.test(Qe),val:Qe}),Qe=Wt,We=Wt)}return Qe.length>0&&bt.push({literal:ht||/^\s+$/.test(Qe),val:Qe}),bt}static macroTokenToFormatOpts(me){return il[me]}constructor(me,We){this.opts=We,this.loc=me,this.systemLoc=null}formatWithSystemDefault(me,We){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(me,{...this.opts,...We}).format()}dtFormatter(me,We={}){return this.loc.dtFormatter(me,{...this.opts,...We})}formatDateTime(me,We){return this.dtFormatter(me,We).format()}formatDateTimeParts(me,We){return this.dtFormatter(me,We).formatToParts()}formatInterval(me,We){return this.dtFormatter(me.start,We).dtf.formatRange(me.start.toJSDate(),me.end.toJSDate())}resolvedOptions(me,We){return this.dtFormatter(me,We).resolvedOptions()}num(me,We=0){if(this.opts.forceSimple)return ot(me,We);const Qe={...this.opts};return We>0&&(Qe.padTo=We),this.loc.numberFormatter(Qe).format(me)}formatDateTimeFromString(me,We){const Qe="en"===this.loc.listingMode(),ht=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,bt=(rr,Qs)=>this.loc.extract(me,rr,Qs),wt=rr=>me.isOffsetFixed&&0===me.offset&&rr.allowZ?"Z":me.isValid?me.zone.formatOffset(me.ts,rr.format):"",Qt=(rr,Qs)=>Qe?function Zc($e,me){return Ss(me)[$e.month-1]}(me,rr):bt(Qs?{month:rr}:{month:rr,day:"numeric"},"month"),cn=(rr,Qs)=>Qe?function Ki($e,me){return Wc(me)[$e.weekday-1]}(me,rr):bt(Qs?{weekday:rr}:{weekday:rr,month:"long",day:"numeric"},"weekday"),Xn=rr=>{const Qs=to.macroTokenToFormatOpts(rr);return Qs?this.formatWithSystemDefault(me,Qs):rr},ar=rr=>Qe?function sl($e,me){return Vc(me)[$e.year<0?0:1]}(me,rr):bt({era:rr},"era");return Hi(to.parseFormat(We),rr=>{switch(rr){case"S":return this.num(me.millisecond);case"u":case"SSS":return this.num(me.millisecond,3);case"s":return this.num(me.second);case"ss":return this.num(me.second,2);case"uu":return this.num(Math.floor(me.millisecond/10),2);case"uuu":return this.num(Math.floor(me.millisecond/100));case"m":return this.num(me.minute);case"mm":return this.num(me.minute,2);case"h":return this.num(me.hour%12==0?12:me.hour%12);case"hh":return this.num(me.hour%12==0?12:me.hour%12,2);case"H":return this.num(me.hour);case"HH":return this.num(me.hour,2);case"Z":return wt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return wt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return wt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return me.zone.offsetName(me.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return me.zone.offsetName(me.ts,{format:"long",locale:this.loc.locale});case"z":return me.zoneName;case"a":return Qe?function Hl($e){return Uu[$e.hour<12?0:1]}(me):bt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return ht?bt({day:"numeric"},"day"):this.num(me.day);case"dd":return ht?bt({day:"2-digit"},"day"):this.num(me.day,2);case"c":case"E":return this.num(me.weekday);case"ccc":return cn("short",!0);case"cccc":return cn("long",!0);case"ccccc":return cn("narrow",!0);case"EEE":return cn("short",!1);case"EEEE":return cn("long",!1);case"EEEEE":return cn("narrow",!1);case"L":return ht?bt({month:"numeric",day:"numeric"},"month"):this.num(me.month);case"LL":return ht?bt({month:"2-digit",day:"numeric"},"month"):this.num(me.month,2);case"LLL":return Qt("short",!0);case"LLLL":return Qt("long",!0);case"LLLLL":return Qt("narrow",!0);case"M":return ht?bt({month:"numeric"},"month"):this.num(me.month);case"MM":return ht?bt({month:"2-digit"},"month"):this.num(me.month,2);case"MMM":return Qt("short",!1);case"MMMM":return Qt("long",!1);case"MMMMM":return Qt("narrow",!1);case"y":return ht?bt({year:"numeric"},"year"):this.num(me.year);case"yy":return ht?bt({year:"2-digit"},"year"):this.num(me.year.toString().slice(-2),2);case"yyyy":return ht?bt({year:"numeric"},"year"):this.num(me.year,4);case"yyyyyy":return ht?bt({year:"numeric"},"year"):this.num(me.year,6);case"G":return ar("short");case"GG":return ar("long");case"GGGGG":return ar("narrow");case"kk":return this.num(me.weekYear.toString().slice(-2),2);case"kkkk":return this.num(me.weekYear,4);case"W":return this.num(me.weekNumber);case"WW":return this.num(me.weekNumber,2);case"n":return this.num(me.localWeekNumber);case"nn":return this.num(me.localWeekNumber,2);case"ii":return this.num(me.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(me.localWeekYear,4);case"o":return this.num(me.ordinal);case"ooo":return this.num(me.ordinal,3);case"q":return this.num(me.quarter);case"qq":return this.num(me.quarter,2);case"X":return this.num(Math.floor(me.ts/1e3));case"x":return this.num(me.ts);default:return Xn(rr)}})}formatDurationFromString(me,We){const Qe=Qt=>{switch(Qt[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},bt=to.parseFormat(We),wt=bt.reduce((Qt,{literal:cn,val:Xn})=>cn?Qt:Qt.concat(Xn),[]);return Hi(bt,(Qt=>cn=>{const Xn=Qe(cn);return Xn?this.num(Qt.get(Xn),cn.length):cn})(me.shiftTo(...wt.map(Qe).filter(Qt=>Qt))))}}const ju=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xn(...$e){const me=$e.reduce((We,Qe)=>We+Qe.source,"");return RegExp(`^${me}$`)}function Vo(...$e){return me=>$e.reduce(([We,Qe,ht],bt)=>{const[wt,Wt,Qt]=bt(me,ht);return[{...We,...wt},Wt||Qe,Qt]},[{},null,1]).slice(0,2)}function Ns($e,...me){if(null==$e)return[null,null];for(const[We,Qe]of me){const ht=We.exec($e);if(ht)return Qe(ht)}return[null,null]}function Gl(...$e){return(me,We)=>{const Qe={};let ht;for(ht=0;ht<$e.length;ht++)Qe[$e[ht]]=pt(me[We+ht]);return[Qe,null,We+ht]}}const zl=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Xt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,dn=RegExp(`${Xt.source}(?:${zl.source}?(?:\\[(${ju.source})\\])?)?`),cr=RegExp(`(?:T${dn.source})?`),Si=Gl("weekYear","weekNumber","weekDay"),Yl=Gl("year","ordinal"),wa=RegExp(`${Xt.source} ?(?:${zl.source}|(${ju.source}))?`),Gi=RegExp(`(?: ${wa.source})?`);function Ii($e,me,We){const Qe=$e[me];return zn(Qe)?We:pt(Qe)}function lr($e,me){return[{hours:Ii($e,me,0),minutes:Ii($e,me+1,0),seconds:Ii($e,me+2,0),milliseconds:zt($e[me+3])},null,me+4]}function Wr($e,me){const We=!$e[me]&&!$e[me+1],Qe=_s($e[me+1],$e[me+2]);return[{},We?null:dt.instance(Qe),me+3]}function Jl($e,me){return[{},$e[me]?Ie.create($e[me]):null,me+1]}const tf=RegExp(`^T?${Xt.source}$`),nf=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function am($e){const[me,We,Qe,ht,bt,wt,Wt,Qt,cn]=$e,Xn="-"===me[0],ar=Qt&&"-"===Qt[0],ss=(rr,Qs=!1)=>void 0!==rr&&(Qs||rr&&Xn)?-rr:rr;return[{years:ss(Pt(We)),months:ss(Pt(Qe)),weeks:ss(Pt(ht)),days:ss(Pt(bt)),hours:ss(Pt(wt)),minutes:ss(Pt(Wt)),seconds:ss(Pt(Qt),"-0"===Qt),milliseconds:ss(zt(cn),ar)}]}const Kc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function al($e,me,We,Qe,ht,bt,wt){const Wt={year:2===me.length?Zs(pt(me)):pt(me),month:bn.indexOf(We)+1,day:pt(Qe),hour:pt(ht),minute:pt(bt)};return wt&&(Wt.second=pt(wt)),$e&&(Wt.weekday=$e.length>3?hs.indexOf($e)+1:nr.indexOf($e)+1),Wt}const xr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ql($e){const[,me,We,Qe,ht,bt,wt,Wt,Qt,cn,Xn,ar]=$e,ss=al(me,ht,Qe,We,bt,wt,Wt);let rr;return rr=Qt?Kc[Qt]:cn?0:_s(Xn,ar),[ss,new dt(rr)]}const Zo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,nh=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,lm=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function rf($e){const[,me,We,Qe,ht,bt,wt,Wt]=$e;return[al(me,ht,Qe,We,bt,wt,Wt),dt.utcInstance]}function Ko($e){const[,me,We,Qe,ht,bt,wt,Wt]=$e;return[al(me,Wt,We,Qe,ht,bt,wt),dt.utcInstance]}const Gc=xn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,cr),$u=xn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,cr),sf=xn(/(\d{4})-?(\d{3})/,cr),rh=xn(dn),zc=Vo(function Wu($e,me){return[{year:Ii($e,me),month:Ii($e,me+1,1),day:Ii($e,me+2,1)},null,me+3]},lr,Wr,Jl),Yc=Vo(Si,lr,Wr,Jl),ia=Vo(Yl,lr,Wr,Jl),Vu=Vo(lr,Wr,Jl),fn=Vo(lr),Xl=xn(/(\d{4})-(\d\d)-(\d\d)/,Gi),Oi=xn(wa),sh=Vo(lr,Wr,Jl),oh="Invalid Duration",Xc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},qc={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Xc},ni=365.2425,aa=30.436875,ed={years:{quarters:4,months:12,weeks:ni/7,days:ni,hours:24*ni,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:ni/28,days:ni/4,hours:24*ni/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:aa/7,days:aa,hours:24*aa,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Xc},Lo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ih=Lo.slice(0).reverse();function zs($e,me,We=!1){const Qe={values:We?me.values:{...$e.values,...me.values||{}},loc:$e.loc.clone(me.loc),conversionAccuracy:me.conversionAccuracy||$e.conversionAccuracy,matrix:me.matrix||$e.matrix};return new jr(Qe)}function ul($e,me){let We=me.milliseconds??0;for(const Qe of ih.slice(1))me[Qe]&&(We+=me[Qe]*$e[Qe].milliseconds);return We}function td($e,me){const We=ul($e,me)<0?-1:1;Lo.reduceRight((Qe,ht)=>{if(zn(me[ht]))return Qe;if(Qe){const wt=$e[ht][Qe],Wt=Math.floor(me[Qe]*We/wt);me[ht]+=Wt*We,me[Qe]-=Wt*wt*We}return ht},null),Lo.reduce((Qe,ht)=>{if(zn(me[ht]))return Qe;if(Qe){const bt=me[Qe]%1;me[Qe]-=bt,me[ht]+=bt*$e[Qe][ht]}return ht},null)}class jr{constructor(me){const We="longterm"===me.conversionAccuracy||!1;let Qe=We?ed:qc;me.matrix&&(Qe=me.matrix),this.values=me.values,this.loc=me.loc||Je.create(),this.conversionAccuracy=We?"longterm":"casual",this.invalid=me.invalid||null,this.matrix=Qe,this.isLuxonDuration=!0}static fromMillis(me,We){return jr.fromObject({milliseconds:me},We)}static fromObject(me,We={}){if(null==me||"object"!=typeof me)throw new j("Duration.fromObject: argument expected to be an object, got "+(null===me?"null":typeof me));return new jr({values:kt(me,jr.normalizeUnit),loc:Je.fromObject(We),conversionAccuracy:We.conversionAccuracy,matrix:We.matrix})}static fromDurationLike(me){if(gt(me))return jr.fromMillis(me);if(jr.isDuration(me))return me;if("object"==typeof me)return jr.fromObject(me);throw new j(`Unknown duration argument ${me} of type ${typeof me}`)}static fromISO(me,We){const[Qe]=function Jc($e){return Ns($e,[nf,am])}(me);return Qe?jr.fromObject(Qe,We):jr.invalid("unparsable",`the input "${me}" can't be parsed as ISO 8601`)}static fromISOTime(me,We){const[Qe]=function Zu($e){return Ns($e,[tf,fn])}(me);return Qe?jr.fromObject(Qe,We):jr.invalid("unparsable",`the input "${me}" can't be parsed as ISO 8601`)}static invalid(me,We=null){if(!me)throw new j("need to specify a reason the Duration is invalid");const Qe=me instanceof Nn?me:new Nn(me,We);if(Cn.throwOnInvalid)throw new B(Qe);return new jr({invalid:Qe})}static normalizeUnit(me){const We={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[me&&me.toLowerCase()];if(!We)throw new H(me);return We}static isDuration(me){return me&&me.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(me,We={}){const Qe={...We,floor:!1!==We.round&&!1!==We.floor};return this.isValid?to.create(this.loc,Qe).formatDurationFromString(this,me):oh}toHuman(me={}){if(!this.isValid)return oh;const We=Lo.map(Qe=>{const ht=this.values[Qe];return zn(ht)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...me,unit:Qe.slice(0,-1)}).format(ht)}).filter(Qe=>Qe);return this.loc.listFormatter({type:"conjunction",style:me.listStyle||"narrow",...me}).format(We)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let me="P";return 0!==this.years&&(me+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(me+=this.months+3*this.quarters+"M"),0!==this.weeks&&(me+=this.weeks+"W"),0!==this.days&&(me+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(me+="T"),0!==this.hours&&(me+=this.hours+"H"),0!==this.minutes&&(me+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(me+=gn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===me&&(me+="T0S"),me}toISOTime(me={}){if(!this.isValid)return null;const We=this.toMillis();return We<0||We>=864e5?null:(me={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...me,includeOffset:!1},_r.fromMillis(We,{zone:"UTC"}).toISOTime(me))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ul(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(me){if(!this.isValid)return this;const We=jr.fromDurationLike(me),Qe={};for(const ht of Lo)(yr(We.values,ht)||yr(this.values,ht))&&(Qe[ht]=We.get(ht)+this.get(ht));return zs(this,{values:Qe},!0)}minus(me){if(!this.isValid)return this;const We=jr.fromDurationLike(me);return this.plus(We.negate())}mapUnits(me){if(!this.isValid)return this;const We={};for(const Qe of Object.keys(this.values))We[Qe]=eo(me(this.values[Qe],Qe));return zs(this,{values:We},!0)}get(me){return this[jr.normalizeUnit(me)]}set(me){return this.isValid?zs(this,{values:{...this.values,...kt(me,jr.normalizeUnit)}}):this}reconfigure({locale:me,numberingSystem:We,conversionAccuracy:Qe,matrix:ht}={}){return zs(this,{loc:this.loc.clone({locale:me,numberingSystem:We}),matrix:ht,conversionAccuracy:Qe})}as(me){return this.isValid?this.shiftTo(me).get(me):NaN}normalize(){if(!this.isValid)return this;const me=this.toObject();return td(this.matrix,me),zs(this,{values:me},!0)}rescale(){return this.isValid?zs(this,{values:function Ku($e){const me={};for(const[We,Qe]of Object.entries($e))0!==Qe&&(me[We]=Qe);return me}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...me){if(!this.isValid)return this;if(0===me.length)return this;me=me.map(wt=>jr.normalizeUnit(wt));const We={},Qe={},ht=this.toObject();let bt;for(const wt of Lo)if(me.indexOf(wt)>=0){bt=wt;let Wt=0;for(const cn in Qe)Wt+=this.matrix[cn][wt]*Qe[cn],Qe[cn]=0;gt(ht[wt])&&(Wt+=ht[wt]);const Qt=Math.trunc(Wt);We[wt]=Qt,Qe[wt]=(1e3*Wt-1e3*Qt)/1e3}else gt(ht[wt])&&(Qe[wt]=ht[wt]);for(const wt in Qe)0!==Qe[wt]&&(We[bt]+=wt===bt?Qe[wt]:Qe[wt]/this.matrix[bt][wt]);return td(this.matrix,We),zs(this,{values:We},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const me={};for(const We of Object.keys(this.values))me[We]=0===this.values[We]?0:-this.values[We];return zs(this,{values:me},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(me){if(!this.isValid||!me.isValid||!this.loc.equals(me.loc))return!1;function We(Qe,ht){return void 0===Qe||0===Qe?void 0===ht||0===ht:Qe===ht}for(const Qe of Lo)if(!We(this.values[Qe],me.values[Qe]))return!1;return!0}}const bi="Invalid Interval";class vs{constructor(me){this.s=me.start,this.e=me.end,this.invalid=me.invalid||null,this.isLuxonInterval=!0}static invalid(me,We=null){if(!me)throw new j("need to specify a reason the Interval is invalid");const Qe=me instanceof Nn?me:new Nn(me,We);if(Cn.throwOnInvalid)throw new W(Qe);return new vs({invalid:Qe})}static fromDateTimes(me,We){const Qe=ml(me),ht=ml(We),bt=function af($e,me){return $e&&$e.isValid?me&&me.isValid?me<$e?vs.invalid("end before start",`The end of an interval must be after its start, but you had start=${$e.toISO()} and end=${me.toISO()}`):null:vs.invalid("missing or invalid end"):vs.invalid("missing or invalid start")}(Qe,ht);return bt??new vs({start:Qe,end:ht})}static after(me,We){const Qe=jr.fromDurationLike(We),ht=ml(me);return vs.fromDateTimes(ht,ht.plus(Qe))}static before(me,We){const Qe=jr.fromDurationLike(We),ht=ml(me);return vs.fromDateTimes(ht.minus(Qe),ht)}static fromISO(me,We){const[Qe,ht]=(me||"").split("/",2);if(Qe&&ht){let bt,wt,Wt,Qt;try{bt=_r.fromISO(Qe,We),wt=bt.isValid}catch{wt=!1}try{Wt=_r.fromISO(ht,We),Qt=Wt.isValid}catch{Qt=!1}if(wt&&Qt)return vs.fromDateTimes(bt,Wt);if(wt){const cn=jr.fromISO(ht,We);if(cn.isValid)return vs.after(bt,cn)}else if(Qt){const cn=jr.fromISO(Qe,We);if(cn.isValid)return vs.before(Wt,cn)}}return vs.invalid("unparsable",`the input "${me}" can't be parsed as ISO 8601`)}static isInterval(me){return me&&me.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(me="milliseconds"){return this.isValid?this.toDuration(me).get(me):NaN}count(me="milliseconds",We){if(!this.isValid)return NaN;const Qe=this.start.startOf(me,We);let ht;return ht=We?.useLocaleWeeks?this.end.reconfigure({locale:Qe.locale}):this.end,ht=ht.startOf(me,We),Math.floor(ht.diff(Qe,me).get(me))+(ht.valueOf()!==this.end.valueOf())}hasSame(me){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,me))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(me){return!!this.isValid&&this.s>me}isBefore(me){return!!this.isValid&&this.e<=me}contains(me){return!!this.isValid&&this.s<=me&&this.e>me}set({start:me,end:We}={}){return this.isValid?vs.fromDateTimes(me||this.s,We||this.e):this}splitAt(...me){if(!this.isValid)return[];const We=me.map(ml).filter(wt=>this.contains(wt)).sort((wt,Wt)=>wt.toMillis()-Wt.toMillis()),Qe=[];let{s:ht}=this,bt=0;for(;ht<this.e;){const wt=We[bt]||this.e,Wt=+wt>+this.e?this.e:wt;Qe.push(vs.fromDateTimes(ht,Wt)),ht=Wt,bt+=1}return Qe}splitBy(me){const We=jr.fromDurationLike(me);if(!this.isValid||!We.isValid||0===We.as("milliseconds"))return[];let bt,{s:Qe}=this,ht=1;const wt=[];for(;Qe<this.e;){const Wt=this.start.plus(We.mapUnits(Qt=>Qt*ht));bt=+Wt>+this.e?this.e:Wt,wt.push(vs.fromDateTimes(Qe,bt)),Qe=bt,ht+=1}return wt}divideEqually(me){return this.isValid?this.splitBy(this.length()/me).slice(0,me):[]}overlaps(me){return this.e>me.s&&this.s<me.e}abutsStart(me){return!!this.isValid&&+this.e==+me.s}abutsEnd(me){return!!this.isValid&&+me.e==+this.s}engulfs(me){return!!this.isValid&&this.s<=me.s&&this.e>=me.e}equals(me){return!(!this.isValid||!me.isValid)&&this.s.equals(me.s)&&this.e.equals(me.e)}intersection(me){if(!this.isValid)return this;const We=this.s>me.s?this.s:me.s,Qe=this.e<me.e?this.e:me.e;return We>=Qe?null:vs.fromDateTimes(We,Qe)}union(me){return this.isValid?vs.fromDateTimes(this.s<me.s?this.s:me.s,this.e>me.e?this.e:me.e):this}static merge(me){const[We,Qe]=me.sort((ht,bt)=>ht.s-bt.s).reduce(([ht,bt],wt)=>bt?bt.overlaps(wt)||bt.abutsStart(wt)?[ht,bt.union(wt)]:[ht.concat([bt]),wt]:[ht,wt],[[],null]);return Qe&&We.push(Qe),We}static xor(me){let We=null,Qe=0;const ht=[],bt=me.map(Qt=>[{time:Qt.s,type:"s"},{time:Qt.e,type:"e"}]),Wt=Array.prototype.concat(...bt).sort((Qt,cn)=>Qt.time-cn.time);for(const Qt of Wt)Qe+="s"===Qt.type?1:-1,1===Qe?We=Qt.time:(We&&+We!=+Qt.time&&ht.push(vs.fromDateTimes(We,Qt.time)),We=null);return vs.merge(ht)}difference(...me){return vs.xor([this].concat(me)).map(We=>this.intersection(We)).filter(We=>We&&!We.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:bi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(me=U,We={}){return this.isValid?to.create(this.s.loc.clone(We),me).formatInterval(this):bi}toISO(me){return this.isValid?`${this.s.toISO(me)}/${this.e.toISO(me)}`:bi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:bi}toISOTime(me){return this.isValid?`${this.s.toISOTime(me)}/${this.e.toISOTime(me)}`:bi}toFormat(me,{separator:We=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(me)}${We}${this.e.toFormat(me)}`:bi}toDuration(me,We){return this.isValid?this.e.diff(this.s,me,We):jr.invalid(this.invalidReason)}mapEndpoints(me){return vs.fromDateTimes(me(this.s),me(this.e))}}class ql{static hasDST(me=Cn.defaultZone){const We=_r.now().setZone(me).set({month:12});return!me.isUniversal&&We.offset!==We.set({month:6}).offset}static isValidIANAZone(me){return Ie.isValidZone(me)}static normalizeZone(me){return Lt(me,Cn.defaultZone)}static getStartOfWeek({locale:me=null,locObj:We=null}={}){return(We||Je.create(me)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:me=null,locObj:We=null}={}){return(We||Je.create(me)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:me=null,locObj:We=null}={}){return(We||Je.create(me)).getWeekendDays().slice()}static months(me="long",{locale:We=null,numberingSystem:Qe=null,locObj:ht=null,outputCalendar:bt="gregory"}={}){return(ht||Je.create(We,Qe,bt)).months(me)}static monthsFormat(me="long",{locale:We=null,numberingSystem:Qe=null,locObj:ht=null,outputCalendar:bt="gregory"}={}){return(ht||Je.create(We,Qe,bt)).months(me,!0)}static weekdays(me="long",{locale:We=null,numberingSystem:Qe=null,locObj:ht=null}={}){return(ht||Je.create(We,Qe,null)).weekdays(me)}static weekdaysFormat(me="long",{locale:We=null,numberingSystem:Qe=null,locObj:ht=null}={}){return(ht||Je.create(We,Qe,null)).weekdays(me,!0)}static meridiems({locale:me=null}={}){return Je.create(me).meridiems()}static eras(me="short",{locale:We=null}={}){return Je.create(We,null,"gregory").eras(me)}static features(){return{relative:vt(),localeWeek:$t()}}}function xo($e,me){const We=ht=>ht.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Qe=We(me)-We($e);return Math.floor(jr.fromMillis(Qe).as("days"))}const nd={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},rd={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},di=nd.hanidec.replace(/[\[|\]]/g,"").split("");function Ys({numberingSystem:$e},me=""){return new RegExp(`${nd[$e||"latn"]}${me}`)}function Zr($e,me=(We=>We)){return{regex:$e,deser:([We])=>me(function Vr($e){let me=parseInt($e,10);if(isNaN(me)){me="";for(let We=0;We<$e.length;We++){const Qe=$e.charCodeAt(We);if(-1!==$e[We].search(nd.hanidec))me+=di.indexOf($e[We]);else for(const ht in rd){const[bt,wt]=rd[ht];Qe>=bt&&Qe<=wt&&(me+=Qe-bt)}}return parseInt(me,10)}return me}(We))}}const Ra="[ \xa0]",Js=new RegExp(Ra,"g");function ua($e){return $e.replace(/\./g,"\\.?").replace(Js,Ra)}function tu($e){return $e.replace(/\./g,"").replace(Js," ").toLowerCase()}function So($e,me){return null===$e?null:{regex:RegExp($e.map(ua).join("|")),deser:([We])=>$e.findIndex(Qe=>tu(We)===tu(Qe))+me}}function No($e,me){return{regex:$e,deser:([,We,Qe])=>_s(We,Qe),groups:me}}function ca($e){return{regex:$e,deser:([me])=>me}}function dl($e){return $e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const od={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ho=null;function Pi($e,me){return Array.prototype.concat(...$e.map(We=>function nu($e,me){if($e.literal)return $e;const Qe=ud(to.macroTokenToFormatOpts($e.val),me);return null==Qe||Qe.includes(void 0)?$e:Qe}(We,me)))}function ld($e,me,We){const Qe=Pi(to.parseFormat(We),$e),ht=Qe.map(wt=>function hl($e,me){const We=Ys(me),Qe=Ys(me,"{2}"),ht=Ys(me,"{3}"),bt=Ys(me,"{4}"),wt=Ys(me,"{6}"),Wt=Ys(me,"{1,2}"),Qt=Ys(me,"{1,3}"),cn=Ys(me,"{1,6}"),Xn=Ys(me,"{1,9}"),ar=Ys(me,"{2,4}"),ss=Ys(me,"{4,6}"),rr=ri=>({regex:RegExp(dl(ri.val)),deser:([wi])=>wi,literal:!0}),au=(ri=>{if($e.literal)return rr(ri);switch(ri.val){case"G":return So(me.eras("short"),0);case"GG":return So(me.eras("long"),0);case"y":return Zr(cn);case"yy":case"kk":return Zr(ar,Zs);case"yyyy":case"kkkk":return Zr(bt);case"yyyyy":return Zr(ss);case"yyyyyy":return Zr(wt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Zr(Wt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Zr(Qe);case"MMM":return So(me.months("short",!0),1);case"MMMM":return So(me.months("long",!0),1);case"LLL":return So(me.months("short",!1),1);case"LLLL":return So(me.months("long",!1),1);case"o":case"S":return Zr(Qt);case"ooo":case"SSS":return Zr(ht);case"u":return ca(Xn);case"uu":return ca(Wt);case"uuu":case"E":case"c":return Zr(We);case"a":return So(me.meridiems(),0);case"EEE":return So(me.weekdays("short",!1),1);case"EEEE":return So(me.weekdays("long",!1),1);case"ccc":return So(me.weekdays("short",!0),1);case"cccc":return So(me.weekdays("long",!0),1);case"Z":case"ZZ":return No(new RegExp(`([+-]${Wt.source})(?::(${Qe.source}))?`),2);case"ZZZ":return No(new RegExp(`([+-]${Wt.source})(${Qe.source})?`),2);case"z":return ca(/[a-z_+-/]{1,256}?/i);case" ":return ca(/[^\S\n\r]/);default:return rr(ri)}})($e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return au.token=$e,au}(wt,$e)),bt=ht.find(wt=>wt.invalidReason);if(bt)return{input:me,tokens:Qe,invalidReason:bt.invalidReason};{const[wt,Wt]=function id($e){return[`^${$e.map(We=>We.regex).reduce((We,Qe)=>`${We}(${Qe.source})`,"")}$`,$e]}(ht),Qt=RegExp(wt,"i"),[cn,Xn]=function Hu($e,me,We){const Qe=$e.match(me);if(Qe){const ht={};let bt=1;for(const wt in We)if(yr(We,wt)){const Wt=We[wt],Qt=Wt.groups?Wt.groups+1:1;!Wt.literal&&Wt.token&&(ht[Wt.token.val[0]]=Wt.deser(Qe.slice(bt,bt+Qt))),bt+=Qt}return[Qe,ht]}return[Qe,{}]}(me,Qt,Wt),[ar,ss,rr]=Xn?function ad($e){let Qe,We=null;return zn($e.z)||(We=Ie.create($e.z)),zn($e.Z)||(We||(We=new dt($e.Z)),Qe=$e.Z),zn($e.q)||($e.M=3*($e.q-1)+1),zn($e.h)||($e.h<12&&1===$e.a?$e.h+=12:12===$e.h&&0===$e.a&&($e.h=0)),0===$e.G&&$e.y&&($e.y=-$e.y),zn($e.u)||($e.S=zt($e.u)),[Object.keys($e).reduce((bt,wt)=>{const Wt=(bt=>{switch(bt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(wt);return Wt&&(bt[Wt]=$e[wt]),bt},{}),We,Qe]}(Xn):[null,null,void 0];if(yr(Xn,"a")&&yr(Xn,"H"))throw new P("Can't include meridiem when specifying 24-hour format");return{input:me,tokens:Qe,regex:Qt,rawMatches:cn,matches:Xn,result:ar,zone:ss,specificOffset:rr}}}function ud($e,me){if(!$e)return null;const Qe=to.create(me,$e).dtFormatter(function pl(){return Ho||(Ho=_r.fromMillis(1555555555555)),Ho}()),ht=Qe.formatToParts(),bt=Qe.resolvedOptions();return ht.map(wt=>function ah($e,me,We){const{type:Qe,value:ht}=$e;if("literal"===Qe){const Qt=/^\s+$/.test(ht);return{literal:!Qt,val:Qt?" ":ht}}let wt=Qe;"hour"===Qe&&(wt=null!=me.hour12?me.hour12?"hour12":"hour24":null!=me.hourCycle?"h11"===me.hourCycle||"h12"===me.hourCycle?"hour12":"hour24":We.hour12?"hour12":"hour24");let Wt=od[wt];if("object"==typeof Wt&&(Wt=Wt[me[Qe]]),Wt)return{literal:!1,val:Wt}}(wt,$e,bt))}const ru="Invalid DateTime",uh=864e13;function Gu($e){return new Nn("unsupported zone",`the zone "${$e.name}" is not supported`)}function zu($e){return null===$e.weekData&&($e.weekData=tr($e.c)),$e.weekData}function da($e){return null===$e.localWeekData&&($e.localWeekData=tr($e.c,$e.loc.getMinDaysInFirstWeek(),$e.loc.getStartOfWeek())),$e.localWeekData}function La($e,me){const We={ts:$e.ts,zone:$e.zone,c:$e.c,o:$e.o,loc:$e.loc,invalid:$e.invalid};return new _r({...We,...me,old:We})}function cd($e,me,We){let Qe=$e-60*me*1e3;const ht=We.offset(Qe);if(me===ht)return[Qe,me];Qe-=60*(ht-me)*1e3;const bt=We.offset(Qe);return ht===bt?[Qe,ht]:[$e-60*Math.min(ht,bt)*1e3,Math.max(ht,bt)]}function su($e,me){const We=new Date($e+=60*me*1e3);return{year:We.getUTCFullYear(),month:We.getUTCMonth()+1,day:We.getUTCDate(),hour:We.getUTCHours(),minute:We.getUTCMinutes(),second:We.getUTCSeconds(),millisecond:We.getUTCMilliseconds()}}function ou($e,me,We){return cd(_n($e),me,We)}function uo($e,me){const We=$e.o,Qe=$e.c.year+Math.trunc(me.years),ht=$e.c.month+Math.trunc(me.months)+3*Math.trunc(me.quarters),bt={...$e.c,year:Qe,month:ht,day:Math.min($e.c.day,Or(Qe,ht))+Math.trunc(me.days)+7*Math.trunc(me.weeks)},wt=jr.fromObject({years:me.years-Math.trunc(me.years),quarters:me.quarters-Math.trunc(me.quarters),months:me.months-Math.trunc(me.months),weeks:me.weeks-Math.trunc(me.weeks),days:me.days-Math.trunc(me.days),hours:me.hours,minutes:me.minutes,seconds:me.seconds,milliseconds:me.milliseconds}).as("milliseconds"),Wt=_n(bt);let[Qt,cn]=cd(Wt,We,$e.zone);return 0!==wt&&(Qt+=wt,cn=$e.zone.offset(Qt)),{ts:Qt,o:cn}}function no($e,me,We,Qe,ht,bt){const{setZone:wt,zone:Wt}=We;if($e&&0!==Object.keys($e).length||me){const Qt=me||Wt,cn=_r.fromObject($e,{...We,zone:Qt,specificOffset:bt});return wt?cn:cn.setZone(Wt)}return _r.invalid(new Nn("unparsable",`the input "${ht}" can't be parsed as ${Qe}`))}function Sr($e,me,We=!0){return $e.isValid?to.create(Je.create("en-US"),{allowZ:We,forceSimple:!0}).formatDateTimeFromString($e,me):null}function Bs($e,me){const We=$e.c.year>9999||$e.c.year<0;let Qe="";return We&&$e.c.year>=0&&(Qe+="+"),Qe+=ot($e.c.year,We?6:4),me?(Qe+="-",Qe+=ot($e.c.month),Qe+="-",Qe+=ot($e.c.day)):(Qe+=ot($e.c.month),Qe+=ot($e.c.day)),Qe}function ro($e,me,We,Qe,ht,bt){let wt=ot($e.c.hour);return me?(wt+=":",wt+=ot($e.c.minute),(0!==$e.c.millisecond||0!==$e.c.second||!We)&&(wt+=":")):wt+=ot($e.c.minute),(0!==$e.c.millisecond||0!==$e.c.second||!We)&&(wt+=ot($e.c.second),(0!==$e.c.millisecond||!Qe)&&(wt+=".",wt+=ot($e.c.millisecond,3))),ht&&($e.isOffsetFixed&&0===$e.offset&&!bt?wt+="Z":$e.o<0?(wt+="-",wt+=ot(Math.trunc(-$e.o/60)),wt+=":",wt+=ot(Math.trunc(-$e.o%60))):(wt+="+",wt+=ot(Math.trunc($e.o/60)),wt+=":",wt+=ot(Math.trunc($e.o%60)))),bt&&(wt+="["+$e.zone.ianaName+"]"),wt}const hi={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Es={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},xa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Yu=["year","month","day","hour","minute","second","millisecond"],iu=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lf=["year","ordinal","hour","minute","second","millisecond"];function ha($e){switch($e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function uf($e){const me={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[$e.toLowerCase()];if(!me)throw new H($e);return me}($e)}}function Ju($e,me){const We=Lt(me.zone,Cn.defaultZone),Qe=Je.fromObject(me),ht=Cn.now();let bt,wt;if(zn($e.year))bt=ht;else{for(const cn of Yu)zn($e[cn])&&($e[cn]=hi[cn]);const Wt=zr($e)||En($e);if(Wt)return _r.invalid(Wt);const Qt=We.offset(ht);[bt,wt]=ou($e,Qt,We)}return new _r({ts:bt,zone:We,loc:Qe,o:wt})}function fl($e,me,We){const Qe=!!zn(We.round)||We.round,ht=(wt,Wt)=>(wt=gn(wt,Qe||We.calendary?0:2,!0),me.loc.clone(We).relFormatter(We).format(wt,Wt)),bt=wt=>We.calendary?me.hasSame($e,wt)?0:me.startOf(wt).diff($e.startOf(wt),wt).get(wt):me.diff($e,wt).get(wt);if(We.unit)return ht(bt(We.unit),We.unit);for(const wt of We.units){const Wt=bt(wt);if(Math.abs(Wt)>=1)return ht(Wt,wt)}return ht($e>me?-0:0,We.units[We.units.length-1])}function Qu($e){let We,me={};return $e.length>0&&"object"==typeof $e[$e.length-1]?(me=$e[$e.length-1],We=Array.from($e).slice(0,$e.length-1)):We=Array.from($e),[me,We]}class _r{constructor(me){const We=me.zone||Cn.defaultZone;let Qe=me.invalid||(Number.isNaN(me.ts)?new Nn("invalid input"):null)||(We.isValid?null:Gu(We));this.ts=zn(me.ts)?Cn.now():me.ts;let ht=null,bt=null;if(!Qe)if(me.old&&me.old.ts===this.ts&&me.old.zone.equals(We))[ht,bt]=[me.old.c,me.old.o];else{const Wt=We.offset(this.ts);ht=su(this.ts,Wt),Qe=Number.isNaN(ht.year)?new Nn("invalid input"):null,ht=Qe?null:ht,bt=Qe?null:Wt}this._zone=We,this.loc=me.loc||Je.create(),this.invalid=Qe,this.weekData=null,this.localWeekData=null,this.c=ht,this.o=bt,this.isLuxonDateTime=!0}static now(){return new _r({})}static local(){const[me,We]=Qu(arguments),[Qe,ht,bt,wt,Wt,Qt,cn]=We;return Ju({year:Qe,month:ht,day:bt,hour:wt,minute:Wt,second:Qt,millisecond:cn},me)}static utc(){const[me,We]=Qu(arguments),[Qe,ht,bt,wt,Wt,Qt,cn]=We;return me.zone=dt.utcInstance,Ju({year:Qe,month:ht,day:bt,hour:wt,minute:Wt,second:Qt,millisecond:cn},me)}static fromJSDate(me,We={}){const Qe=function st($e){return"[object Date]"===Object.prototype.toString.call($e)}(me)?me.valueOf():NaN;if(Number.isNaN(Qe))return _r.invalid("invalid input");const ht=Lt(We.zone,Cn.defaultZone);return ht.isValid?new _r({ts:Qe,zone:ht,loc:Je.fromObject(We)}):_r.invalid(Gu(ht))}static fromMillis(me,We={}){if(gt(me))return me<-uh||me>uh?_r.invalid("Timestamp out of range"):new _r({ts:me,zone:Lt(We.zone,Cn.defaultZone),loc:Je.fromObject(We)});throw new j(`fromMillis requires a numerical input, but received a ${typeof me} with value ${me}`)}static fromSeconds(me,We={}){if(gt(me))return new _r({ts:1e3*me,zone:Lt(We.zone,Cn.defaultZone),loc:Je.fromObject(We)});throw new j("fromSeconds requires a numerical input")}static fromObject(me,We={}){me=me||{};const Qe=Lt(We.zone,Cn.defaultZone);if(!Qe.isValid)return _r.invalid(Gu(Qe));const ht=Je.fromObject(We),bt=kt(me,ha),{minDaysInFirstWeek:wt,startOfWeek:Wt}=gs(bt,ht),Qt=Cn.now(),cn=zn(We.specificOffset)?Qe.offset(Qt):We.specificOffset,Xn=!zn(bt.ordinal),ar=!zn(bt.year),ss=!zn(bt.month)||!zn(bt.day),rr=ar||ss,Qs=bt.weekYear||bt.weekNumber;if((rr||Xn)&&Qs)throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ss&&Xn)throw new P("Can't mix ordinal dates with month/day");const au=Qs||bt.weekday&&!rr;let ri,wi,lu=su(Qt,cn);au?(ri=iu,wi=Es,lu=tr(lu,wt,Wt)):Xn?(ri=lf,wi=xa,lu=xs(lu)):(ri=Yu,wi=hi);let cf=!1;for(const qu of ri)zn(bt[qu])?bt[qu]=cf?wi[qu]:lu[qu]:cf=!0;const df=au?function ys($e,me=4,We=1){const Qe=je($e.weekYear),ht=At($e.weekNumber,1,Lr($e.weekYear,me,We)),bt=At($e.weekday,1,7);return Qe?ht?!bt&&ur("weekday",$e.weekday):ur("week",$e.weekNumber):ur("weekYear",$e.weekYear)}(bt,wt,Wt):Xn?function on($e){const me=je($e.year),We=At($e.ordinal,1,Tr($e.year));return me?!We&&ur("ordinal",$e.ordinal):ur("year",$e.year)}(bt):zr(bt),gl=df||En(bt);if(gl)return _r.invalid(gl);const Ri=au?jn(bt,wt,Wt):Xn?Hn(bt):bt,[ch,Xu]=ou(Ri,cn,Qe),Na=new _r({ts:ch,zone:Qe,o:Xu,loc:ht});return bt.weekday&&rr&&me.weekday!==Na.weekday?_r.invalid("mismatched weekday",`you can't specify both a weekday of ${bt.weekday} and a date of ${Na.toISO()}`):Na}static fromISO(me,We={}){const[Qe,ht]=function ci($e){return Ns($e,[Gc,zc],[$u,Yc],[sf,ia],[rh,Vu])}(me);return no(Qe,ht,We,"ISO 8601",me)}static fromRFC2822(me,We={}){const[Qe,ht]=function ll($e){return Ns(function Hc($e){return $e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}($e),[xr,Ql])}(me);return no(Qe,ht,We,"RFC 2822",me)}static fromHTTP(me,We={}){const[Qe,ht]=function br($e){return Ns($e,[Zo,rf],[nh,rf],[lm,Ko])}(me);return no(Qe,ht,We,"HTTP",We)}static fromFormat(me,We,Qe={}){if(zn(me)||zn(We))throw new j("fromFormat requires an input string and a format");const{locale:ht=null,numberingSystem:bt=null}=Qe,wt=Je.fromOpts({locale:ht,numberingSystem:bt,defaultToEN:!0}),[Wt,Qt,cn,Xn]=function lh($e,me,We){const{result:Qe,zone:ht,specificOffset:bt,invalidReason:wt}=ld($e,me,We);return[Qe,ht,bt,wt]}(wt,me,We);return Xn?_r.invalid(Xn):no(Wt,Qt,Qe,`format ${We}`,me,cn)}static fromString(me,We,Qe={}){return _r.fromFormat(me,We,Qe)}static fromSQL(me,We={}){const[Qe,ht]=function Qc($e){return Ns($e,[Xl,zc],[Oi,sh])}(me);return no(Qe,ht,We,"SQL",me)}static invalid(me,We=null){if(!me)throw new j("need to specify a reason the DateTime is invalid");const Qe=me instanceof Nn?me:new Nn(me,We);if(Cn.throwOnInvalid)throw new D(Qe);return new _r({invalid:Qe})}static isDateTime(me){return me&&me.isLuxonDateTime||!1}static parseFormatForOpts(me,We={}){const Qe=ud(me,Je.fromObject(We));return Qe?Qe.map(ht=>ht?ht.val:null).join(""):null}static expandFormat(me,We={}){return Pi(to.parseFormat(me),Je.fromObject(We)).map(ht=>ht.val).join("")}get(me){return this[me]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zu(this).weekYear:NaN}get weekNumber(){return this.isValid?zu(this).weekNumber:NaN}get weekday(){return this.isValid?zu(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?da(this).weekday:NaN}get localWeekNumber(){return this.isValid?da(this).weekNumber:NaN}get localWeekYear(){return this.isValid?da(this).weekYear:NaN}get ordinal(){return this.isValid?xs(this.c).ordinal:NaN}get monthShort(){return this.isValid?ql.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ql.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ql.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ql.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const We=6e4,Qe=_n(this.c),ht=this.zone.offset(Qe-864e5),bt=this.zone.offset(Qe+864e5),wt=this.zone.offset(Qe-ht*We),Wt=this.zone.offset(Qe-bt*We);if(wt===Wt)return[this];const Qt=Qe-wt*We,cn=Qe-Wt*We,Xn=su(Qt,wt),ar=su(cn,Wt);return Xn.hour===ar.hour&&Xn.minute===ar.minute&&Xn.second===ar.second&&Xn.millisecond===ar.millisecond?[La(this,{ts:Qt}),La(this,{ts:cn})]:[this]}get isInLeapYear(){return yn(this.year)}get daysInMonth(){return Or(this.year,this.month)}get daysInYear(){return this.isValid?Tr(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lr(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Lr(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(me={}){const{locale:We,numberingSystem:Qe,calendar:ht}=to.create(this.loc.clone(me),me).resolvedOptions(this);return{locale:We,numberingSystem:Qe,outputCalendar:ht}}toUTC(me=0,We={}){return this.setZone(dt.instance(me),We)}toLocal(){return this.setZone(Cn.defaultZone)}setZone(me,{keepLocalTime:We=!1,keepCalendarTime:Qe=!1}={}){if((me=Lt(me,Cn.defaultZone)).equals(this.zone))return this;if(me.isValid){let ht=this.ts;if(We||Qe){const bt=me.offset(this.ts),wt=this.toObject();[ht]=ou(wt,bt,me)}return La(this,{ts:ht,zone:me})}return _r.invalid(Gu(me))}reconfigure({locale:me,numberingSystem:We,outputCalendar:Qe}={}){return La(this,{loc:this.loc.clone({locale:me,numberingSystem:We,outputCalendar:Qe})})}setLocale(me){return this.reconfigure({locale:me})}set(me){if(!this.isValid)return this;const We=kt(me,ha),{minDaysInFirstWeek:Qe,startOfWeek:ht}=gs(We,this.loc),bt=!zn(We.weekYear)||!zn(We.weekNumber)||!zn(We.weekday),wt=!zn(We.ordinal),Wt=!zn(We.year),Qt=!zn(We.month)||!zn(We.day);if((Wt||Qt||wt)&&(We.weekYear||We.weekNumber))throw new P("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Qt&&wt)throw new P("Can't mix ordinal dates with month/day");let ar;bt?ar=jn({...tr(this.c,Qe,ht),...We},Qe,ht):zn(We.ordinal)?(ar={...this.toObject(),...We},zn(We.day)&&(ar.day=Math.min(Or(ar.year,ar.month),ar.day))):ar=Hn({...xs(this.c),...We});const[ss,rr]=ou(ar,this.o,this.zone);return La(this,{ts:ss,o:rr})}plus(me){return this.isValid?La(this,uo(this,jr.fromDurationLike(me))):this}minus(me){return this.isValid?La(this,uo(this,jr.fromDurationLike(me).negate())):this}startOf(me,{useLocaleWeeks:We=!1}={}){if(!this.isValid)return this;const Qe={},ht=jr.normalizeUnit(me);switch(ht){case"years":Qe.month=1;case"quarters":case"months":Qe.day=1;case"weeks":case"days":Qe.hour=0;case"hours":Qe.minute=0;case"minutes":Qe.second=0;case"seconds":Qe.millisecond=0}if("weeks"===ht)if(We){const bt=this.loc.getStartOfWeek(),{weekday:wt}=this;wt<bt&&(Qe.weekNumber=this.weekNumber-1),Qe.weekday=bt}else Qe.weekday=1;if("quarters"===ht){const bt=Math.ceil(this.month/3);Qe.month=3*(bt-1)+1}return this.set(Qe)}endOf(me,We){return this.isValid?this.plus({[me]:1}).startOf(me,We).minus(1):this}toFormat(me,We={}){return this.isValid?to.create(this.loc.redefaultToEN(We)).formatDateTimeFromString(this,me):ru}toLocaleString(me=U,We={}){return this.isValid?to.create(this.loc.clone(We),me).formatDateTime(this):ru}toLocaleParts(me={}){return this.isValid?to.create(this.loc.clone(me),me).formatDateTimeParts(this):[]}toISO({format:me="extended",suppressSeconds:We=!1,suppressMilliseconds:Qe=!1,includeOffset:ht=!0,extendedZone:bt=!1}={}){if(!this.isValid)return null;const wt="extended"===me;let Wt=Bs(this,wt);return Wt+="T",Wt+=ro(this,wt,We,Qe,ht,bt),Wt}toISODate({format:me="extended"}={}){return this.isValid?Bs(this,"extended"===me):null}toISOWeekDate(){return Sr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:me=!1,suppressSeconds:We=!1,includeOffset:Qe=!0,includePrefix:ht=!1,extendedZone:bt=!1,format:wt="extended"}={}){return this.isValid?(ht?"T":"")+ro(this,"extended"===wt,We,me,Qe,bt):null}toRFC2822(){return Sr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Sr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Bs(this,!0):null}toSQLTime({includeOffset:me=!0,includeZone:We=!1,includeOffsetSpace:Qe=!0}={}){let ht="HH:mm:ss.SSS";return(We||me)&&(Qe&&(ht+=" "),We?ht+="z":me&&(ht+="ZZ")),Sr(this,ht,!0)}toSQL(me={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(me)}`:null}toString(){return this.isValid?this.toISO():ru}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(me={}){if(!this.isValid)return{};const We={...this.c};return me.includeConfig&&(We.outputCalendar=this.outputCalendar,We.numberingSystem=this.loc.numberingSystem,We.locale=this.loc.locale),We}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(me,We="milliseconds",Qe={}){if(!this.isValid||!me.isValid)return jr.invalid("created by diffing an invalid DateTime");const ht={locale:this.locale,numberingSystem:this.numberingSystem,...Qe},bt=function ln($e){return Array.isArray($e)?$e:[$e]}(We).map(jr.normalizeUnit),wt=me.valueOf()>this.valueOf(),cn=function cl($e,me,We,Qe){let[ht,bt,wt,Wt]=function eu($e,me,We){const Qe=[["years",(Qt,cn)=>cn.year-Qt.year],["quarters",(Qt,cn)=>cn.quarter-Qt.quarter+4*(cn.year-Qt.year)],["months",(Qt,cn)=>cn.month-Qt.month+12*(cn.year-Qt.year)],["weeks",(Qt,cn)=>{const Xn=xo(Qt,cn);return(Xn-Xn%7)/7}],["days",xo]],ht={},bt=$e;let wt,Wt;for(const[Qt,cn]of Qe)We.indexOf(Qt)>=0&&(wt=Qt,ht[Qt]=cn($e,me),Wt=bt.plus(ht),Wt>me?(ht[Qt]--,($e=bt.plus(ht))>me&&(Wt=$e,ht[Qt]--,$e=bt.plus(ht))):$e=Wt);return[$e,ht,Wt,wt]}($e,me,We);const Qt=me-ht,cn=We.filter(ar=>["hours","minutes","seconds","milliseconds"].indexOf(ar)>=0);0===cn.length&&(wt<me&&(wt=ht.plus({[Wt]:1})),wt!==ht&&(bt[Wt]=(bt[Wt]||0)+Qt/(wt-ht)));const Xn=jr.fromObject(bt,Qe);return cn.length>0?jr.fromMillis(Qt,Qe).shiftTo(...cn).plus(Xn):Xn}(wt?this:me,wt?me:this,bt,ht);return wt?cn.negate():cn}diffNow(me="milliseconds",We={}){return this.diff(_r.now(),me,We)}until(me){return this.isValid?vs.fromDateTimes(this,me):this}hasSame(me,We,Qe){if(!this.isValid)return!1;const ht=me.valueOf(),bt=this.setZone(me.zone,{keepLocalTime:!0});return bt.startOf(We,Qe)<=ht&&ht<=bt.endOf(We,Qe)}equals(me){return this.isValid&&me.isValid&&this.valueOf()===me.valueOf()&&this.zone.equals(me.zone)&&this.loc.equals(me.loc)}toRelative(me={}){if(!this.isValid)return null;const We=me.base||_r.fromObject({},{zone:this.zone}),Qe=me.padding?this<We?-me.padding:me.padding:0;let ht=["years","months","days","hours","minutes","seconds"],bt=me.unit;return Array.isArray(me.unit)&&(ht=me.unit,bt=void 0),fl(We,this.plus(Qe),{...me,numeric:"always",units:ht,unit:bt})}toRelativeCalendar(me={}){return this.isValid?fl(me.base||_r.fromObject({},{zone:this.zone}),this,{...me,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...me){if(!me.every(_r.isDateTime))throw new j("min requires all arguments be DateTimes");return Rn(me,We=>We.valueOf(),Math.min)}static max(...me){if(!me.every(_r.isDateTime))throw new j("max requires all arguments be DateTimes");return Rn(me,We=>We.valueOf(),Math.max)}static fromFormatExplain(me,We,Qe={}){const{locale:ht=null,numberingSystem:bt=null}=Qe;return ld(Je.fromOpts({locale:ht,numberingSystem:bt,defaultToEN:!0}),me,We)}static fromStringExplain(me,We,Qe={}){return _r.fromFormatExplain(me,We,Qe)}static get DATE_SHORT(){return U}static get DATE_MED(){return N}static get DATE_MED_WITH_WEEKDAY(){return J}static get DATE_FULL(){return Z}static get DATE_HUGE(){return L}static get TIME_SIMPLE(){return C}static get TIME_WITH_SECONDS(){return b}static get TIME_WITH_SHORT_OFFSET(){return x}static get TIME_WITH_LONG_OFFSET(){return R}static get TIME_24_SIMPLE(){return w}static get TIME_24_WITH_SECONDS(){return K}static get TIME_24_WITH_SHORT_OFFSET(){return V}static get TIME_24_WITH_LONG_OFFSET(){return ue}static get DATETIME_SHORT(){return ee}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return pe}static get DATETIME_MED_WITH_SECONDS(){return ae}static get DATETIME_MED_WITH_WEEKDAY(){return de}static get DATETIME_FULL(){return ve}static get DATETIME_FULL_WITH_SECONDS(){return G}static get DATETIME_HUGE(){return fe}static get DATETIME_HUGE_WITH_SECONDS(){return ie}}function ml($e){if(_r.isDateTime($e))return $e;if($e&&$e.valueOf&&gt($e.valueOf()))return _r.fromJSDate($e);if($e&&"object"==typeof $e)return _r.fromObject($e);throw new j(`Unknown datetime argument: ${$e}, of type ${typeof $e}`)}},10467:(et,Ae,v)=>{"use strict";function E(W,B,P,H,j,$,S){try{var I=W[$](S),O=I.value}catch(U){return void P(U)}I.done?B(O):Promise.resolve(O).then(H,j)}function D(W){return function(){var B=this,P=arguments;return new Promise(function(H,j){var $=W.apply(B,P);function S(O){E($,H,j,S,I,"next",O)}function I(O){E($,H,j,S,I,"throw",O)}S(void 0)})}}v.d(Ae,{A:()=>D})}},et=>{et(et.s=81158)}]);