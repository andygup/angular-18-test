"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[429],{17559:(nt,tt,i)=>{i.d(tt,{a:()=>H,b:()=>J,n:()=>et,s:()=>w,t:()=>z}),i(3248);var Z=i(35150);function H(r,_,o){z(r.typedBuffer,_.typedBuffer,o,r.typedBufferStride,_.typedBufferStride)}function z(r,_,o,M=4,l=M){if(r.length/M!=_.length/l)return;const d=r.length/M,v=o[0],O=o[1],y=o[2],g=o[3],C=o[4],D=o[5],L=o[6],I=o[7],F=o[8];let N=0,K=0;for(let G=0;G<d;G++){const X=_[N],Y=_[N+1],u=_[N+2],p=_[N+3];r[K]=v*X+g*Y+L*u,r[K+1]=O*X+C*Y+I*u,r[K+2]=y*X+D*Y+F*u,r[K+3]=p,N+=l,K+=M}}function et(r,_){const o=Math.min(r.count,_.count),M=r.typedBuffer,l=r.typedBufferStride,d=_.typedBuffer,v=_.typedBufferStride;for(let O=0;O<o;O++){const y=O*l,g=O*v,C=d[g],D=d[g+1],L=d[g+2],I=C*C+D*D+L*L;if(I>0){const F=1/Math.sqrt(I);M[y]=F*C,M[y+1]=F*D,M[y+2]=F*L}}}function J(r,_,o){w(r.typedBuffer,_,o,r.typedBufferStride)}function w(r,_,o,M=4){const l=Math.min(r.length/M,_.count),d=_.typedBuffer,v=_.typedBufferStride;let O=0,y=0;for(let g=0;g<l;g++)r[y]=o*d[O],r[y+1]=o*d[O+1],r[y+2]=o*d[O+2],r[y+3]=o*d[O+3],O+=v,y+=M}Object.freeze(Object.defineProperty({__proto__:null,normalize:et,scale:w,scaleView:J,transformMat3:z,transformMat3View:H,transformMat4:function Q(r,_,o,M=4,l=M){if(r.length/M!=_.length/l)return void Z.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const d=r.length/M,v=o[0],O=o[1],y=o[2],g=o[3],C=o[4],D=o[5],L=o[6],I=o[7],F=o[8],N=o[9],K=o[10],G=o[11],X=o[12],Y=o[13],u=o[14],p=o[15];let j=0,R=0;for(let $=0;$<d;$++){const U=_[j],S=_[j+1],W=_[j+2],B=_[j+3];r[R]=v*U+C*S+F*W+X*B,r[R+1]=O*U+D*S+N*W+Y*B,r[R+2]=y*U+L*S+K*W+u*B,r[R+3]=g*U+I*S+G*W+p*B,j+=l,R+=M}},transformMat4View:function k(r,_,o){if(r.count!==_.count)return;const M=r.count,l=o[0],d=o[1],v=o[2],O=o[3],y=o[4],g=o[5],C=o[6],D=o[7],L=o[8],I=o[9],F=o[10],N=o[11],K=o[12],G=o[13],X=o[14],Y=o[15],u=r.typedBuffer,p=r.typedBufferStride,j=_.typedBuffer,R=_.typedBufferStride;for(let $=0;$<M;$++){const U=$*p,S=$*R,W=j[S],B=j[S+1],A=j[S+2],h=j[S+3];u[U]=l*W+y*B+L*A+K*h,u[U+1]=d*W+g*B+I*A+G*h,u[U+2]=v*W+C*B+F*A+X*h,u[U+3]=O*W+D*B+N*A+Y*h}}},Symbol.toStringTag,{value:"Module"}))},30429:(nt,tt,i)=>{i.r(tt),i.d(tt,{VectorType:()=>u,loadProjectErrorMessage:()=>O,logProjectionError:()=>y,project:()=>$,projectFromPCPF:()=>L,projectNormalFromPCPF:()=>C,projectNormalToPCPF:()=>g,projectTangentFromPCPF:()=>Y,projectTangentToPCPF:()=>X,projectToPCPF:()=>D,transformNormal:()=>I,transformTangent:()=>F,transformVectorENUPlateCarree:()=>N,transformVectorWMPlateCarree:()=>K});var ot=i(69287),Z=i(31610),rt=i(32954),k=i(92771),Q=i(62789),H=i(28714),z=i(25866),et=i(11817),J=i(65580),w=i(37605),q=i(23234),r=i(23653),_=i(47258),o=i(58701),M=i(55039),l=i(45434),d=i(10442),v=i(17559);const O="Projection may be possible after calling projection.load().";function y(t,e,n,f){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${n.wkid}).${f?" ":""}${f}`)}function g(t,e,n,f,s){return R(p.TO_PCPF,l.xs.fromTypedArray(t),u.NORMAL,l.Xm.fromTypedArray(e),l.Xm.fromTypedArray(n),f,l.xs.fromTypedArray(s))?s:null}function C(t,e,n,f,s){return R(p.FROM_PCPF,l.xs.fromTypedArray(t),u.NORMAL,l.Xm.fromTypedArray(e),l.Xm.fromTypedArray(n),f,l.xs.fromTypedArray(s))?s:null}function D(t,e,n){return(0,q.projectBuffer)(t,e,0,n,(0,J.lO)(e),0,t.length/3)?n:null}function L(t,e,n){return(0,q.projectBuffer)(t,(0,J.lO)(n),0,e,n,0,t.length/3)?e:null}function I(t,e,n){return(0,Z.Ge)(E,n),(0,d.t)(e,t,E),(0,ot.or)(E)&&(0,d.n)(e,e),e}function F(t,e,n){return(0,Z.z0)(E,n),(0,v.t)(e,t,E),(0,ot.or)(E)&&(0,d.n)(e,e,4),e}function N(t,e,n,f){const s=e===u.NORMAL;return G(t,e,n,(P,T)=>{const a=Math.cos((0,ot.kU)(P));T[0]=s?a:1/a,T[1]=1},f)}function K(t,e,n,f){const s=e===u.NORMAL;return G(t,e,n,(P,T)=>{const a=Math.cosh(-P/_.$O.radius);T[0]=1,T[1]=s?a:1/a},f)}function G(t,e,n,f,s){const P=e===u.NORMAL?3:4,T=[0,0];for(let a=0,x=1;a<t.length;a+=P,x+=3){f(n[x],T);const m=t[a]*T[0],V=t[a+1]*T[1],c=t[a+2],b=1/Math.sqrt(m*m+V*V+c*c);s[a]=m*b,s[a+1]=V*b,s[a+2]=c*b,4===P&&(s[a+3]=t[a+3])}return s}function X(t,e,n,f,s){if(!R(p.TO_PCPF,l.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),u.TANGENT,l.Xm.fromTypedArray(e),l.Xm.fromTypedArray(n),f,l.xs.fromTypedArray(s,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let P=3;P<t.length;P+=4)s[P]=t[P];return s}function Y(t,e,n,f,s){if(!R(p.FROM_PCPF,l.xs.fromTypedArray(t,16),u.TANGENT,l.Xm.fromTypedArray(e),l.Xm.fromTypedArray(n),f,l.xs.fromTypedArray(s,16)))return null;for(let P=3;P<t.length;P+=4)s[P]=t[P];return s}var u,p,t;function j(t,e,n,f,s){switch((0,w.l)(f,n,h,f),t===p.FROM_PCPF&&(0,k.B8)(h,h),e){case u.NORMAL:return(0,Z.Ge)(s,h);case u.TANGENT:return(0,Z.z0)(s,h)}}function R(t,e,n,f,s,P,T){if(!e)return;const a=f.count,x=(0,J.lO)(P);if(function W(t){return t.isWGS84||(0,o.x1)(t)||(0,o.q8)(t)||(0,o.KQ)(t)}(P))for(let m=0;m<a;m++)s.getVec(m,B),e.getVec(m,A),(0,H.t)(A,A,j(t,n,B,x,E)),T.setVec(m,A);else for(let m=0;m<a;m++){s.getVec(m,B),e.getVec(m,A);const V=(0,M.jg)(f.get(m,1));let c=Math.cos(V);n===u.TANGENT!=(t===p.TO_PCPF)&&(c=1/c),j(t,n,B,x,E),t===p.TO_PCPF?(E[0]*=c,E[1]*=c,E[2]*=c,E[3]*=c,E[4]*=c,E[5]*=c):(E[0]*=c,E[3]*=c,E[6]*=c,E[1]*=c,E[4]*=c,E[7]*=c),(0,H.t)(A,A,E),(0,H.n)(A,A),T.setVec(m,A)}return T}function $(t){return"local"===t.vertexSpace.type?function U({vertexSpace:t,transform:e,inSpatialReference:n,outSpatialReference:f,localMode:s,outPositions:P,positions:T}){const a=t.origin??z.uY,x=null!=t.origin?e?.localMatrix??Q.zK:Q.zK,m=(0,J.lO)(n),V=f.isWebMercator&&s||!(0,et.canProjectWithoutEngine)(n,m)?n:m;(0,w.l)(n,a,h,V),(0,k.lw)(h,h,x);const c=P??(0,r.jh)(T.length);return(0,d.a)(c,T,h),(0,q.projectBuffer)(c,V,0,c,f,0,c.length/3),c}(t):function S({vertexSpace:t,transform:e,outPositions:n,positions:f,inSpatialReference:s,outSpatialReference:P}){const T=null!=t.origin?e?.localMatrix??Q.zK:Q.zK,a=n??(0,r.jh)(f.length);(0,k.aI)(T,Q.zK)?(0,r.s)(a,f):(0,d.a)(a,f,T);const x=t.origin??z.uY;if(!(0,H.e)(x,z.uY)){const[m,V,c]=x;for(let b=0;b<a.length;b+=3)a[b]+=m,a[b+1]+=V,a[b+2]+=c}return(0,q.projectBuffer)(a,s,0,a,P,0,a.length/3)?a:null}(t)}(t=u||(u={}))[t.NORMAL=0]="NORMAL",t[t.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(p||(p={}));const B=(0,z.vt)(),A=(0,z.vt)(),h=(0,Q.vt)(),E=(0,rt.vt)()}}]);