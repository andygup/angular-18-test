"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[1399,9063],{23506:(v,i,e)=>{e.d(i,{v:()=>t});var _=e(99305);function t(s){s?.writtenProperties&&s.writtenProperties.forEach(({target:o,propName:l,newOrigin:m})=>{(0,_.H)(o)&&m&&o.originOf(l)!==m&&o.updateOrigin(l,m)})}},99305:(v,i,e)=>{function _(t){return t&&"getAtOrigin"in t&&"originOf"in t}e.d(i,{H:()=>_})},4069:(v,i,e)=>{e.r(i),e.d(i,{save:()=>E,saveAs:()=>y});var _=e(10467),t=e(17994),s=e(69927);const o="Stream Service",l="Feed",m="stream-layer-save",d="stream-layer-save-as";function c(n){return{isValid:"stream"===n.type&&!!n.url&&!n.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function p(n){const r=n.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function a(n,r){return u.apply(this,arguments)}function u(){return(u=(0,_.A)(function*(n,r){const{parsedUrl:g,title:h,fullExtent:P}=n;r.url=g.path,r.title||=h,r.extent=null,null!=P&&(r.extent=yield(0,s.sQ)(P)),(0,s.OM)(r,s.mm.METADATA),(0,s.LG)(r,s.mm.SINGLE_LAYER)})).apply(this,arguments)}function E(n,r){return f.apply(this,arguments)}function f(){return(f=(0,_.A)(function*(n,r){return(0,t.UN)({layer:n,itemType:o,additionalItemType:l,validateLayer:c,createItemData:p,errorNamePrefix:m},r)})).apply(this,arguments)}function y(n,r,g){return O.apply(this,arguments)}function O(){return(O=(0,_.A)(function*(n,r,g){return(0,t.Uh)({layer:n,itemType:o,validateLayer:c,createItemData:p,errorNamePrefix:d,newItem:r,setItemProperties:a},g)})).apply(this,arguments)}},96904:(v,i,e)=>{e.d(i,{X:()=>o});var _=e(23098),t=e(5922),s=e(2174);function o(l){if(_.A.apiKey&&(0,s.Q)(l.portal.url))throw new t.A("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${l.portal.url} when using an api key`)}},95945:(v,i,e)=>{e.d(i,{c:()=>m,d:()=>s});var _=e(10467),t=e(5922);function s(d){return o.apply(this,arguments)}function o(){return(o=(0,_.A)(function*(d){const c=[];for(const p of d.allLayers)if("beforeSave"in p&&"function"==typeof p.beforeSave){const a=p.beforeSave();a&&c.push(a)}yield Promise.allSettled(c)})).apply(this,arguments)}const l=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function m(d,c,p){let a=(d.messages??[]).filter(({type:u})=>"error"===u).map(({name:u,message:E,details:f})=>new t.A(u,E,f));if(d.blockedRelativeUrls&&(a=a.concat(d.blockedRelativeUrls.map(u=>new t.A("url:unsupported",`Relative url '${u}' is not supported`)))),p){const{ignoreUnsupported:u,supplementalUnsupportedErrors:E=[],requiredPropertyChecksDisabled:f}=p;u&&(a=a.filter(({name:y})=>!(l.has(y)||E.includes(y)))),f&&(a=a.filter(y=>"web-document-write:property-required"!==y.name))}if(a.length>0)throw new t.A(c.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a})}}}]);