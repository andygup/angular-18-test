"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[3236,9063],{23506:(E,_,r)=>{r.d(_,{v:()=>a});var i=r(99305);function a(s){s?.writtenProperties&&s.writtenProperties.forEach(({target:o,propName:u,newOrigin:c})=>{(0,i.H)(o)&&c&&o.originOf(u)!==c&&o.updateOrigin(u,c)})}},99305:(E,_,r)=>{function i(a){return a&&"getAtOrigin"in a&&"originOf"in a}r.d(_,{H:()=>i})},23518:(E,_,r)=>{r.r(_),r.d(_,{save:()=>v,saveAs:()=>P});var i=r(10467),a=r(17994),s=r(69927);const o="Image Service",u="imagery-layer-save",c="imagery-layer-save-as",d="imagery-tile-layer-save",g="imagery-tile-layer-save-as";function p(t){if("imagery"===t.type)return{isValid:!0};const{raster:e}=t,l="Function"===e?.datasetFormat?e.primaryRasters?.rasters[0]:e;return{isValid:"RasterTileServer"===l?.datasetFormat&&("Raster"===l.tileType||"Map"===l.tileType),errorMessage:"imagery tile layer should be created from a tiled image service."}}function n(t){const e=t.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function m(t,e){return f.apply(this,arguments)}function f(){return(f=(0,i.A)(function*(t,e){const{parsedUrl:l,title:h,fullExtent:A}=t;e.url=l.path,e.title||=h;try{e.extent=yield(0,s.sQ)(A)}catch{e.extent=void 0}(0,s.OM)(e,s.mm.METADATA),"imagery-tile"===t.type&&(0,s.LG)(e,s.mm.TILED_IMAGERY)})).apply(this,arguments)}function v(t,e){return y.apply(this,arguments)}function y(){return(y=(0,i.A)(function*(t,e){return(0,a.UN)({layer:t,itemType:o,validateLayer:p,createItemData:n,errorNamePrefix:"imagery"===t.type?u:d},e)})).apply(this,arguments)}function P(t,e,l){return O.apply(this,arguments)}function O(){return(O=(0,i.A)(function*(t,e,l){return(0,a.Uh)({layer:t,itemType:o,validateLayer:p,createItemData:n,errorNamePrefix:"imagery"===t.type?c:g,newItem:e,setItemProperties:m},l)})).apply(this,arguments)}},96904:(E,_,r)=>{r.d(_,{X:()=>o});var i=r(23098),a=r(5922),s=r(2174);function o(u){if(i.A.apiKey&&(0,s.Q)(u.portal.url))throw new a.A("save-api-key-utils:api-key-not-supported",`Saving is not supported on ${u.portal.url} when using an api key`)}},95945:(E,_,r)=>{r.d(_,{c:()=>c,d:()=>s});var i=r(10467),a=r(5922);function s(d){return o.apply(this,arguments)}function o(){return(o=(0,i.A)(function*(d){const g=[];for(const p of d.allLayers)if("beforeSave"in p&&"function"==typeof p.beforeSave){const n=p.beforeSave();n&&g.push(n)}yield Promise.allSettled(g)})).apply(this,arguments)}const u=new Set(["layer:unsupported","property:unsupported","symbol:unsupported","symbol-layer:unsupported","url:unsupported"]);function c(d,g,p){let n=(d.messages??[]).filter(({type:m})=>"error"===m).map(({name:m,message:f,details:v})=>new a.A(m,f,v));if(d.blockedRelativeUrls&&(n=n.concat(d.blockedRelativeUrls.map(m=>new a.A("url:unsupported",`Relative url '${m}' is not supported`)))),p){const{ignoreUnsupported:m,supplementalUnsupportedErrors:f=[],requiredPropertyChecksDisabled:v}=p;m&&(n=n.filter(({name:y})=>!(u.has(y)||f.includes(y)))),v&&(n=n.filter(y=>"web-document-write:property-required"!==y.name))}if(n.length>0)throw new a.A(g.errorName,"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:n})}}}]);