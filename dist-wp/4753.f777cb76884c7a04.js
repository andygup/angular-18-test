"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[4753],{44753:(y,p,t)=>{t.r(p),t.d(p,{registerFunctions:()=>Y});var r=t(10467),c=t(23098),d=(t(21152),t(45369)),h=t(53787),E=t(55279),s=t(42686),a=t(32832),P=t(68643),n=t(11817),D=t(55039),O=t(73874),Z=t(46577),$=t(66456),N=t(36775),Q=t(74490),J=t(49238),X=t(36303),F=t(97870),z=t(77436),B=t(32034);let j=null;function m(){return(m=(0,r.A)(function*(_){const o=c.A.geometryServiceUrl??"";if(!o){(0,n.isLoaded)()||(yield(0,n.load)());for(const e of _)e.container[e.indexer]=(0,n.project)(e.container[e.indexer],B.A.WGS84);return}const l=_.map(e=>e.container[e.indexer]),u=new z.A({geometries:l,outSpatialReference:B.A.WGS84}),v=yield(0,$.C)(o,u);for(let e=0;e<v.length;e++){const i=_[e];i.container[i.indexer]=v[e]}})).apply(this,arguments)}function G(_,o){return I.apply(this,arguments)}function I(){return(I=(0,r.A)(function*(_,o){const l=new Z.default({portal:_,id:o});return yield l.load(),null===j&&(j=yield t.e(328).then(t.bind(t,328))),yield j.fetchKnowledgeGraph(l.url)})).apply(this,arguments)}function W(_,o,l,u,v){if(null===_)return null;if((0,s.c)(_)||(0,s.b)(_))return _;if((0,s.k)(_)||(0,s.k)(_))return _.toJSDate();if((0,s.m)(_))return _.toStorageFormat();if((0,s.n)(_))return _.toStorageString();if((0,s.v)(_)){const e={};for(const i of _.keys())e[i]=W(_.field(i),o,l,u,v),e[i]instanceof P.A&&v.push({container:e,indexer:i});return e}if((0,s.o)(_)){const e=_.map(i=>W(i,o,l,u,v));for(let i=0;i<e.length;i++)e[i]instanceof P.A&&v.push({container:e,indexer:i});return e}return(0,s.p)(_)?_.spatialReference.isWGS84?_:_.spatialReference.isWebMercator&&o?(0,D.ci)(_):_:void 0}function U(_,o){if(!_)return null;const l={};for(const u in _)l[u]=f(_[u],o);return l}function f(_,o){return null===_?null:(0,s.o)(_)?_.map(l=>f(l,o)):_ instanceof N.A?{graphTypeName:_.typeName,id:_.id,graphType:"entity",properties:U(_.properties,o)}:_ instanceof J.A?{graphType:"object",properties:U(_.properties,o)}:_ instanceof F.A?{graphTypeName:_.typeName,id:_.id,graphType:"relationship",originId:_.originId??null,destinationId:_.destinationId??null,properties:U(_.properties,o)}:_ instanceof X.A?{graphType:"path",path:_.path?_.path.map(l=>f(l,o)):null}:(0,s.p)(_)?function H(_,o){if(!_)return _;if(_.spatialReference.isWGS84&&o.spatialReference.isWebMercator)return(0,D.Gh)(_);if(_.spatialReference.equals(o.spatialReference))return _;throw new E.D$(o,E.TX.WrongSpatialReference,null)}(_,o):(0,s.c)(_)||(0,s.b)(_)||(0,s.a5)(_)?_:null}function Y(_){"async"===_.mode&&(_.functions.knowledgegraphbyportalitem=function(o,l){return _.standardFunctionAsync(o,l,(u,v,e)=>{if((0,s.H)(e,2,2,o,l),null===e[0])throw new E.D$(o,E.TX.PortalRequired,l);if(e[0]instanceof d.A){const g=(0,s.j)(e[1]);let L;return L=o.services?.portal?o.services.portal:O.A.getDefault(),G((0,a.R)(e[0],L),g)}if(!1===(0,s.c)(e[0]))throw new E.D$(o,E.TX.InvalidParameter,l);const i=(0,s.j)(e[0]);return G(o.services?.portal??O.A.getDefault(),i)})},_.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),_.functions.querygraph=function(o,l){return _.standardFunctionAsync(o,l,function(){var u=(0,r.A)(function*(v,e,i){(0,s.H)(i,2,4,o,l);const g=i[0];if(!(0,s.w)(g))throw new E.D$(o,E.TX.InvalidParameter,l);const L=i[1];if(!(0,s.c)(L))throw new E.D$(o,E.TX.InvalidParameter,l);null===j&&(j=yield t.e(328).then(t.bind(t,328)));let S=null;const C=(0,s.K)(i[2],null);if(!(C instanceof h.A||null===C))throw new E.D$(o,E.TX.InvalidParameter,l);if(C){let A=[];S=W(C,!0,!1,o,A),A=A.filter(R=>!R.container[R.indexer].spatialReference.isWGS84),A.length>0&&(yield function V(_){return m.apply(this,arguments)}(A))}const x=new Q.A({openCypherQuery:L,bindParameters:S});(g?.serviceDefinition?.currentVersion??11.3)>11.2&&(x.outputSpatialReference=o.spatialReference);const w=(yield j.executeQueryStreaming(g,x)).resultRowsStream.getReader(),K=[];try{for(;;){const{done:A,value:R}=yield w.read();if(A)break;if((0,s.o)(R))for(const T of R)K.push(f(T,o));else{const T=[];for(const b of R)T.push(f(R[b],o));K.push(T)}}}catch(A){throw A}return h.A.convertJsonToArcade(K,(0,s.N)(o),!1,!0)});return function(v,e,i){return u.apply(this,arguments)}}())},_.signatures.push({name:"querygraph",min:2,max:4}))}},32832:(y,p,t)=>{t.d(p,{R:()=>c});var r=t(73874);function c(M,d){return null===M?d:new r.A({url:M.field("url")})}},36775:(y,p,t)=>{t.d(p,{A:()=>D});var r=t(8189),M=(t(21152),t(85211)),s=(t(3248),t(35150),t(40707),t(76576)),a=t(14430),P=t(1749);let n=class extends a.A{constructor(O){super(O),this.layoutGeometry=null}};(0,r._)([(0,M.MZ)({type:P.A,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,r._)([(0,s.$)("esri.rest.knowledgeGraph.Entity")],n);const D=n},14430:(y,p,t)=>{t.d(p,{A:()=>P});var r=t(8189),c=t(85211),E=(t(3248),t(35150),t(40707),t(76576)),s=t(53805);let a=class extends s.A{constructor(n){super(n),this.typeName=null,this.id=null}};(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],a.prototype,"typeName",void 0),(0,r._)([(0,c.MZ)({type:String,json:{write:!0}})],a.prototype,"id",void 0),a=(0,r._)([(0,E.$)("esri.rest.knowledgeGraph.GraphNamedObject")],a);const P=a},53805:(y,p,t)=>{t.d(p,{A:()=>P});var r=t(8189),c=t(71065),M=t(85211),s=(t(3248),t(35150),t(40707),t(76576));let a=class extends c.oY{constructor(n){super(n),this.properties=null}};(0,r._)([(0,M.MZ)({json:{write:!0}})],a.prototype,"properties",void 0),a=(0,r._)([(0,s.$)("esri.rest.knowledgeGraph.GraphObject")],a);const P=a},74490:(y,p,t)=>{t.d(p,{A:()=>D});var r=t(8189),c=t(85211),E=(t(3248),t(35150),t(40707),t(76576)),s=t(98877);let a=class extends s.A{constructor(O){super(O),this.openCypherQuery=""}};(0,r._)([(0,c.MZ)()],a.prototype,"openCypherQuery",void 0),a=(0,r._)([(0,E.$)("esri.rest.knowledgeGraph.GraphQuery")],a);const P=a;let n=class extends P{constructor(O){super(O),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,r._)([(0,c.MZ)()],n.prototype,"bindParameters",void 0),(0,r._)([(0,c.MZ)()],n.prototype,"bindGeometryQuantizationParameters",void 0),(0,r._)([(0,c.MZ)()],n.prototype,"outputQuantizationParameters",void 0),(0,r._)([(0,c.MZ)()],n.prototype,"outputSpatialReference",void 0),(0,r._)([(0,c.MZ)()],n.prototype,"provenanceBehavior",void 0),n=(0,r._)([(0,E.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],n);const D=n},49238:(y,p,t)=>{t.d(p,{A:()=>P});var r=t(8189),E=(t(35150),t(3248),t(40707),t(5922),t(76576)),s=t(53805);let a=class extends s.A{constructor(n){super(n)}};a=(0,r._)([(0,E.$)("esri.rest.knowledgeGraph.ObjectValue")],a);const P=a},36303:(y,p,t)=>{t.d(p,{A:()=>n});var r=t(8189),c=t(71065),M=t(85211),s=(t(3248),t(35150),t(40707),t(76576)),a=t(53805);let P=class extends c.oY{constructor(D){super(D),this.path=null}};(0,r._)([(0,M.MZ)({type:[a.A],json:{write:!0}})],P.prototype,"path",void 0),P=(0,r._)([(0,s.$)("esri.rest.knowledgeGraph.Path")],P);const n=P},97870:(y,p,t)=>{t.d(p,{A:()=>D});var r=t(8189),M=(t(21152),t(85211)),s=(t(3248),t(35150),t(40707),t(76576)),a=t(14430),P=t(93615);let n=class extends a.A{constructor(O){super(O),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,r._)([(0,M.MZ)({type:String,json:{write:!0}})],n.prototype,"originId",void 0),(0,r._)([(0,M.MZ)({type:String,json:{write:!0}})],n.prototype,"destinationId",void 0),(0,r._)([(0,M.MZ)({type:P.A,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,r._)([(0,s.$)("esri.rest.knowledgeGraph.Relationship")],n);const D=n}}]);