"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[2996],{3723:(T,v,t)=>{t.r(v),t.d(v,{default:()=>Se});var u=t(10467),r=t(8189),l=(t(21152),t(92165)),C=(t(79122),t(70176),t(92089),t(9826),t(15317),t(38582),t(96128),t(13318),t(85718),t(36156)),D=t(39693),j=t(89221),_=t(45272),o=t(85211),E=t(55739),ee=(t(40707),t(3248)),H=t(76576),te=t(50305),U=t(6434),re=t(95478),se=t(5922),oe=t(55098),ie=t(35150),B=t(56492),ne=t(19284),X=t(89962),A=t(73650),ae=t(93327),G=t(22639),$=t(28067);let F=class extends oe.A{constructor(){var e;super(...arguments),e=this,this._connection=null,this._workerHandler=null,this.capabilities=(0,X.f)(!1,!1),this.type="wfs",this.refresh=(0,B.sg)((0,u.A)(function*(){yield e.load();const s={customParameters:e.layer.customParameters,maxRecordCount:e.layer.maxRecordCount,maxTotalRecordCount:e.layer.maxTotalRecordCount,maxPageCount:e.layer.maxPageCount},{extent:n}=yield e._workerHandler.refresh(s);return n&&(e.sourceJSON.extent=n),{dataChanged:!0,updates:{extent:e.sourceJSON.extent}}}))}load(e){return this.addResolvingPromise(this._startWorker({signal:null!=e?e.signal:null})),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null,this._workerHandler=null}openPorts(){var e=this;return(0,u.A)(function*(){return yield e.load(),e._connection.openPorts()})()}queryFeatures(e,s={}){var n=this;return(0,u.A)(function*(){const y=yield n.queryFeaturesJSON(e,s);return ae.A.fromJSON(y)})()}queryFeaturesJSON(e,s={}){var n=this;return(0,u.A)(function*(){return yield n.load(s),n._workerHandler.queryFeatures(e?e.toJSON():void 0,s)})()}queryFeatureCount(e,s={}){var n=this;return(0,u.A)(function*(){return yield n.load(s),n._workerHandler.queryFeatureCount(e?e.toJSON():void 0,s)})()}queryObjectIds(e,s={}){var n=this;return(0,u.A)(function*(){return yield n.load(s),n._workerHandler.queryObjectIds(e?e.toJSON():void 0,s)})()}queryExtent(e,s={}){var n=this;return(0,u.A)(function*(){yield n.load(s);const y=yield n._workerHandler.queryExtent(e?e.toJSON():void 0,s);return{count:y.count,extent:$.A.fromJSON(y.extent)}})()}querySnapping(e,s={}){var n=this;return(0,u.A)(function*(){return yield n.load(s),n._workerHandler.querySnapping(e,s)})()}_createLoadOptions(e){var s=this;return(0,u.A)(function*(){const{url:n,customParameters:y,name:f,namespaceUri:x,fields:g,geometryType:I,maxRecordCount:P,maxPageCount:J,maxTotalRecordCount:b,swapXY:W}=s.layer,q="defaults"===s.layer.originOf("spatialReference")?void 0:s.layer.spatialReference;if(!n)throw new se.A("wfs-layer:missing-url","WFSLayer must be created with a url");s.wfsCapabilities||(s.wfsCapabilities=yield(0,A.Fu)(n,{customParameters:y,...e}));const R=["fields","geometryType","name","namespaceUri","swapXY"].some(Q=>null==s.layer[Q])?yield(0,A.O8)(s.wfsCapabilities,f,x,{spatialReference:q,customParameters:y,signal:e?.signal}):{...(0,A.YW)(g??[]),geometryType:I,name:f,namespaceUri:x,spatialReference:q,swapXY:W},xe=(0,A.mG)(s.wfsCapabilities.readFeatureTypes(),R.name,R.namespaceUri),Ce=U.g.toJSON(R.geometryType),{operations:k}=s.wfsCapabilities,Ie=k.GetFeature.url,Pe=k.GetFeature.outputFormat;return{customParameters:y,featureType:xe,fields:R.fields?.map(Q=>Q.toJSON())??[],geometryField:R.geometryField,geometryType:Ce,getFeatureUrl:Ie,getFeatureOutputFormat:Pe,maxRecordCount:P,maxPageCount:J,maxTotalRecordCount:b,objectIdField:R.objectIdField,spatialReference:R.spatialReference?.toJSON(),swapXY:!!R.swapXY}})()}_startWorker(e){var s=this;return(0,u.A)(function*(){const[n,y]=yield(0,B.Lx)([s._createLoadOptions(e),(0,ne.ho)("WFSSourceWorker",{...e,strategy:(0,ee.A)("feature-layers-workers")?"dedicated":"local",registryTarget:s})]),f=n.error||y.error||null,x=y.value||null;if(f)throw x&&x.close(),f;const g=n.value;s._connection=y.value,s._workerHandler=s._connection.createInvokeProxy();const I=yield s._workerHandler.load(g,e);for(const P of I.warnings)ie.A.getLogger(s.layer).warn("#load()",`${P.message} (title: '${s.layer.title||"no title"}', id: '${s.layer.id??"no id"}')`,{warning:P});s.sourceJSON={dateFieldsTimeReference:{timeZoneIANA:G.n$},extent:I.extent,fields:g.fields,geometryType:g.geometryType,objectIdField:g.objectIdField,geometryField:g.geometryField,drawingInfo:(0,X.F0)(g.geometryType),name:g.featureType.title,wfsInfo:{name:g.featureType.name,featureUrl:g.getFeatureUrl,maxFeatures:g.maxRecordCount,swapXY:g.swapXY,supportedSpatialReferences:g.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:g.featureType.namespaceUri}}})()}};(0,r._)([(0,o.MZ)()],F.prototype,"capabilities",void 0),(0,r._)([(0,o.MZ)({constructOnly:!0})],F.prototype,"layer",void 0),(0,r._)([(0,o.MZ)()],F.prototype,"sourceJSON",void 0),(0,r._)([(0,o.MZ)()],F.prototype,"type",void 0),(0,r._)([(0,o.MZ)()],F.prototype,"wfsCapabilities",void 0),F=(0,r._)([(0,H.$)("esri.layers.graphics.sources.WFSSource")],F);var N,le=t(93410),pe=t(23e3),de=t(31446),ue=t(25263),ye=t(17049),ce=t(43124),he=t(85551),me=t(1151),ge=t(33036),fe=t(84311),M=t(22329),z=t(29141),ve=t(3404),L=t(86300),Oe=t(20329),Fe=t(73975),w=t(87086),Re=t(41843),V=t(32034);const K=(0,ve.p)();let i=N=class extends((0,ce.f)((0,pe.d)((0,ue.J)((0,de.F)((0,le.dM)((0,fe.e)((0,me.J)((0,ge.j)((0,ye.q)((0,he.A)((0,D.P)(re.A)))))))))))){static fromWFSLayerInfo(e){const{customParameters:s,fields:n,geometryField:y,geometryType:f,name:x,namespaceUri:g,objectIdField:I,spatialReference:P,swapXY:J,url:b,wfsCapabilities:W}=e;return new N({customParameters:s,fields:n,geometryField:y,geometryType:f,name:x,namespaceUri:g,objectIdField:I,spatialReference:P,swapXY:J,url:b,wfsCapabilities:W})}constructor(e){super(e),this.copyright=null,this.customParameters=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.elevationInfo=null,this.featureUrl=void 0,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="WFS",this.maxRecordCount=3e3,this.maxPageCount=10,this.maxTotalRecordCount=2e5,this.mode=0,this.name=null,this.namespaceUri=null,this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new F({layer:this}),this.spatialReference=V.A.WGS84,this.spatialReferences=[4326],this.swapXY=void 0,this.title="WFS",this.type="wfs",this.url=null,this.version=void 0}destroy(){this.source?.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then(()=>this.source.load(e)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),(0,L.yp)(this.renderer,this.fieldsIndex),(0,L.sv)(this.timeInfo,this.fieldsIndex)})),Promise.resolve(this)}get capabilities(){return this.source?.capabilities}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}writeFields(e,s,n){const y=e.filter(f=>f.name!==A.i5);this.geometryField&&y.unshift(new z.A({name:this.geometryField,alias:this.geometryField,type:"geometry"})),(0,j.sM)(n,y.map(f=>f.toJSON()),s)}get parsedUrl(){return(0,_.An)(this.url)}set renderer(e){(0,L.yp)(e,this.fieldsIndex),this._set("renderer",e)}get wfsCapabilities(){return this.source?.wfsCapabilities}set wfsCapabilities(e){this.source&&(this.source.wfsCapabilities=e)}createPopupTemplate(e){return(0,Re.tn)(this,e)}createQuery(){const e=new w.A({returnGeometry:!0,outFields:["*"],where:this.definitionExpression||"1=1"}),{timeOffset:s,timeExtent:n}=this;return e.timeExtent=null!=s&&null!=n?n.offset(-s.value,s.unit):n||null,e}getFieldDomain(e,s){return this.getField(e)?.domain}getField(e){return this.fieldsIndex?.get(e)}queryFeatures(e,s){return this.load().then(()=>this.source.queryFeatures(w.A.from(e)||this.createQuery(),s)).then(n=>{if(n?.features)for(const y of n.features)y.layer=y.sourceLayer=this;return n})}queryObjectIds(e,s){return this.load().then(()=>this.source.queryObjectIds(w.A.from(e)||this.createQuery(),s))}queryFeatureCount(e,s){return this.load().then(()=>this.source.queryFeatureCount(w.A.from(e)||this.createQuery(),s))}queryExtent(e,s){return this.load().then(()=>this.source.queryExtent(w.A.from(e)||this.createQuery(),s))}hasDataChanged(){var e=this;return(0,u.A)(function*(){try{const{dataChanged:s,updates:n}=yield e.source.refresh();return null!=n&&e.read(n,{origin:"service",url:e.parsedUrl,ignoreDefaults:!0}),s}catch{}return!1})()}};(0,r._)([(0,o.MZ)({readOnly:!0})],i.prototype,"capabilities",null),(0,r._)([(0,o.MZ)({type:String})],i.prototype,"copyright",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],i.prototype,"createQueryVersion",null),(0,r._)([(0,o.MZ)({json:{name:"wfsInfo.customParameters",write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0),ignoreOrigin:!0})}}})],i.prototype,"customParameters",void 0),(0,r._)([(0,o.MZ)((0,G.P6)("dateFieldsTimeReference"))],i.prototype,"dateFieldsTimeZone",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],i.prototype,"defaultPopupTemplate",null),(0,r._)([(0,o.MZ)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],i.prototype,"definitionExpression",void 0),(0,r._)([(0,o.MZ)({type:String})],i.prototype,"displayField",void 0),(0,r._)([(0,o.MZ)(M.Yj)],i.prototype,"elevationInfo",void 0),(0,r._)([(0,o.MZ)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"featureUrl",void 0),(0,r._)([(0,o.MZ)({type:[z.A],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],i.prototype,"fields",void 0),(0,r._)([(0,te.K)("fields")],i.prototype,"writeFields",null),(0,r._)([(0,o.MZ)(K.fieldsIndex)],i.prototype,"fieldsIndex",void 0),(0,r._)([(0,o.MZ)({type:$.A,json:{name:"extent"}})],i.prototype,"fullExtent",void 0),(0,r._)([(0,o.MZ)()],i.prototype,"geometryField",void 0),(0,r._)([(0,o.MZ)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:U.g.read},write:{target:"layerDefinition.geometryType",writer:U.g.write,ignoreOrigin:!0},origins:{service:{read:U.g.read}}}})],i.prototype,"geometryType",void 0),(0,r._)([(0,o.MZ)({type:String})],i.prototype,"id",void 0),(0,r._)([(0,o.MZ)(M.kF)],i.prototype,"labelsVisible",void 0),(0,r._)([(0,o.MZ)({type:[Oe.A],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:Fe.w},write:!0}})],i.prototype,"labelingInfo",void 0),(0,r._)([(0,o.MZ)(M.fV)],i.prototype,"legendEnabled",void 0),(0,r._)([(0,o.MZ)({type:["show","hide"]})],i.prototype,"listMode",void 0),(0,r._)([(0,o.MZ)({type:String})],i.prototype,"objectIdField",void 0),(0,r._)([(0,o.MZ)({type:["WFS"]})],i.prototype,"operationalLayerType",void 0),(0,r._)([(0,o.MZ)({type:E.jz,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"maxRecordCount",void 0),(0,r._)([(0,o.MZ)({type:E.jz})],i.prototype,"maxPageCount",void 0),(0,r._)([(0,o.MZ)({type:E.jz})],i.prototype,"maxTotalRecordCount",void 0),(0,r._)([(0,o.MZ)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],i.prototype,"mode",void 0),(0,r._)([(0,o.MZ)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"name",void 0),(0,r._)([(0,o.MZ)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"namespaceUri",void 0),(0,r._)([(0,o.MZ)(M.Ih)],i.prototype,"opacity",void 0),(0,r._)([(0,o.MZ)(K.outFields)],i.prototype,"outFields",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],i.prototype,"parsedUrl",null),(0,r._)([(0,o.MZ)(M.M6)],i.prototype,"popupEnabled",void 0),(0,r._)([(0,o.MZ)({type:l.A,json:{name:"popupInfo",write:!0}})],i.prototype,"popupTemplate",void 0),(0,r._)([(0,o.MZ)({types:C.H,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:C.X,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],i.prototype,"renderer",null),(0,r._)([(0,o.MZ)(M.PY)],i.prototype,"screenSizePerspectiveEnabled",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],i.prototype,"source",void 0),(0,r._)([(0,o.MZ)({type:V.A,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],i.prototype,"spatialReference",void 0),(0,r._)([(0,o.MZ)({readOnly:!0,type:[E.jz],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"spatialReferences",void 0),(0,r._)([(0,o.MZ)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"swapXY",void 0),(0,r._)([(0,o.MZ)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],i.prototype,"title",void 0),(0,r._)([(0,o.MZ)({json:{read:!1},readOnly:!0})],i.prototype,"type",void 0),(0,r._)([(0,o.MZ)(M.OZ)],i.prototype,"url",void 0),(0,r._)([(0,o.MZ)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],i.prototype,"version",void 0),(0,r._)([(0,o.MZ)()],i.prototype,"wfsCapabilities",null),i=N=(0,r._)([(0,H.$)("esri.layers.WFSLayer")],i);const Se=i},42086:(T,v,t)=>{t.d(v,{N3:()=>Z,Om:()=>r});var u=t(13682);class r{constructor(a=null,p={},c,h){this.geometry=a,this.attributes=p,this.centroid=c,this.objectId=h,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(a,p){const c=a.geometry?u.A.fromJSON(a.geometry):null,h=a.centroid?u.A.fromJSON(a.centroid):null;return new r(c,a.attributes,h,a.attributes[p])}weakClone(){const a=new r(this.geometry,this.attributes,this.centroid,this.objectId);return a.displayId=this.displayId,a.geohashX=this.geohashX,a.geohashY=this.geohashY,a}clone(){const a=this.geometry?.clone(),p=new r(a,{...this.attributes},this.centroid?.clone(),this.objectId);return p.displayId=this.displayId,p.geohashX=this.geohashX,p.geohashY=this.geohashY,p}}function Z(d){return!!d.geometry?.coords?.length}},13682:(T,v,t)=>{t.d(v,{A:()=>r});class r{constructor(l=[],d=[],a=!1){this.lengths=l??[],this.coords=d??[],this.hasIndeterminateRingOrder=a}static fromJSON(l){return new r(l.lengths,l.coords,l.hasIndeterminateRingOrder)}static fromRect(l){const[d,a,p,c]=l,h=p-d,S=c-a;return new r([5],[d,a,h,0,0,S,-h,0,0,-S])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((l,d)=>l+d)}forEachVertex(l){let d=0;this.lengths.length||l(this.coords[0],this.coords[1]);for(let a=0;a<this.lengths.length;a++){const p=this.lengths[a];for(let c=0;c<p;c++)l(this.coords[2*(c+d)],this.coords[2*(c+d)+1]);d+=p}}deltaDecode(){const l=this.clone(),{coords:d,lengths:a}=l;let p=0;for(const c of a){for(let h=1;h<c;h++)d[2*(p+h)]+=d[2*(p+h)-2],d[2*(p+h)+1]+=d[2*(p+h)-1];p+=c}return l}clone(l){if(0===this.lengths.length)return new r([],[this.coords[0],this.coords[1]]);const d=2*(0===this.lengths.length?1:this.lengths.reduce((p,c)=>p+c)),a=this.coords.slice(0,d);return l?(l.set(a),new r(this.lengths,l,this.hasIndeterminateRingOrder)):new r(Array.from(this.lengths),Array.from(a),this.hasIndeterminateRingOrder)}}},78200:(T,v,t)=>{t.d(v,{F:()=>u});const u={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},89962:(T,v,t)=>{t.d(v,{F0:()=>d,Vx:()=>c,e2:()=>S,f:()=>Y});var u=t(3248),r=t(77806),Z=t(78200),l=t(48254);function d(m){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===m||"esriGeometryMultipoint"===m?l.Cb:"esriGeometryPolyline"===m?l.yM:l.WR}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let p=1;function c(m,O){if((0,u.A)("esri-csp-restrictions"))return()=>({[O]:null,...m});try{let C=`this${h(O)} = null;`;for(const j in m)C+=`this${h(j)} = ${JSON.stringify(m[j])};`;const D=new Function(`\n      return class AttributesClass$${p++} {\n        constructor() {\n          ${C};\n        }\n      }\n    `)();return()=>new D}catch{return()=>({[O]:null,...m})}}function h(m){return a.test(m)?`.${m}`:`["${m}"]`}function S(m={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,r.o8)(m)}}]}function Y(m,O){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:m},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:O,supportsDelete:O,supportsEditing:O,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:O,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:Z.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:O,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}}}]);