"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[4966],{64966:(T,C,o)=>{o.r(C),o.d(C,{CalciteTableRow:()=>D,defineCustomElement:()=>y});var n=o(58560),h=o(32597),R=o(58158),a=o(9089),r=o(58182),E=o(31032),g=o(69182),p=o(17431);const m_lastVisibleRow="last-visible-row",b=(0,n.w$)(class extends n.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteTableRowSelect=(0,n.lh)(this,"calciteTableRowSelect",6),this.calciteInternalTableRowFocusRequest=(0,n.lh)(this,"calciteInternalTableRowFocusRequest",6),this.rowCells=[],this.keyDownHandler=t=>{if("interactive"!==this.interactionMode)return;const i=t.target,c=t.key,s=t.ctrlKey,e=this.rowCells;if(i.matches("calcite-table-cell")||i.matches("calcite-table-header"))switch(c){case"ArrowUp":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"previous"),t.preventDefault();break;case"ArrowDown":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"next"),t.preventDefault();break;case"PageUp":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"first"),t.preventDefault();break;case"PageDown":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"last"),t.preventDefault();break;case"ArrowLeft":(0,h.v)(e,i,"previous",!1),t.preventDefault();break;case"ArrowRight":(0,h.v)(e,i,"next",!1),t.preventDefault();break;case"Home":s?(this.emitTableRowFocusRequest(1,this.positionAll,"first"),t.preventDefault()):((0,h.v)(e,i,"first",!1),t.preventDefault());break;case"End":s?(this.emitTableRowFocusRequest(this.rowCells?.length,this.positionAll,"last",!0),t.preventDefault()):((0,h.v)(e,i,"last",!1),t.preventDefault())}},this.emitTableRowFocusRequest=(t,i,c,s)=>{this.calciteInternalTableRowFocusRequest.emit({cellPosition:t,rowPosition:i,destination:c,lastCell:s})},this.updateCells=()=>{const t=this.alignment?this.alignment:"head"!==this.rowType?"center":"start",i=this.tableRowSlotEl?.assignedElements({flatten:!0})?.filter(e=>e.matches("calcite-table-cell")||e.matches("calcite-table-header")),c=Array.from(this.tableRowEl?.querySelectorAll("calcite-table-header, calcite-table-cell"))?.filter(e=>e.numberCell||e.selectionCell),s=c?c.concat(i):i;s.length>0&&s?.forEach((e,l)=>{e.interactionMode=this.interactionMode,e.lastCell=l===s.length-1,e.parentRowAlignment=t,e.parentRowIsSelected=this.selected,e.parentRowType=this.rowType,e.positionInRow=l+1,e.scale=this.scale,"CALCITE-TABLE-CELL"===e.nodeName&&(e.readCellContentsToAT=this.readCellContentsToAT,e.disabled=this.disabled)}),this.rowCells=s||[],this.cellCount=s?.length},this.handleSelectionOfRow=()=>{this.calciteTableRowSelect.emit()},this.handleKeyboardSelection=t=>{(0,R.i)(t.key)&&(" "===t.key&&t.preventDefault(),this.handleSelectionOfRow())},this.alignment=void 0,this.disabled=!1,this.selected=!1,this.cellCount=void 0,this.interactionMode="interactive",this.lastVisibleRow=void 0,this.rowType=void 0,this.numbered=!1,this.positionSection=void 0,this.positionSectionLocalized=void 0,this.positionAll=void 0,this.readCellContentsToAT=void 0,this.scale=void 0,this.selectionMode="none",this.selectedRowCount=void 0,this.selectedRowCountLocalized=void 0,this.bodyRowCount=void 0,this.effectiveLocale=""}handleCellChanges(){this.tableRowEl&&this.rowCells.length>0&&this.updateCells()}handleDelayedCellChanges(){this.tableRowEl&&this.rowCells.length>0&&requestAnimationFrame(()=>this.updateCells())}componentDidLoad(){this.tableRowEl&&this.rowCells.length>0&&this.updateCells()}connectedCallback(){(0,a.c)(this)}componentDidRender(){(0,a.u)(this)}disconnectedCallback(){(0,a.d)(this)}calciteInternalTableRowFocusChangeHandler(t){if(t.target.contains(this.el)){const i=t.detail.cellPosition,s=t.detail.destination,e=t.detail.lastCell;if(t.detail.rowPosition===this.positionAll){if(this.disabled)return void this.emitTableRowFocusRequest(i,this.positionAll,"last"===s?"previous":"first"===s?"next":s);const l=e?this.rowCells[this.rowCells.length-1]:this.rowCells?.find((d,k)=>k+1===i);l&&l.setFocus()}}}renderSelectionIcon(){return(0,n.h)("calcite-icon",{icon:"multiple"===this.selectionMode&&this.selected?"check-square-f":"multiple"===this.selectionMode?"square":this.selected?"circle-f":"circle",scale:(0,r.g)(this.scale)})}renderSelectableCell(){return"head"===this.rowType?(0,n.h)("calcite-table-header",{alignment:"center",bodyRowCount:this.bodyRowCount,key:"selection-head",onClick:"multiple"===this.selectionMode&&this.handleSelectionOfRow,onKeyDown:"multiple"===this.selectionMode&&this.handleKeyboardSelection,parentRowAlignment:this.alignment,selectedRowCount:this.selectedRowCount,selectedRowCountLocalized:this.selectedRowCountLocalized,selectionCell:!0,selectionMode:this.selectionMode}):"body"===this.rowType?(0,n.h)("calcite-table-cell",{alignment:"center",key:"selection-body",onClick:this.handleSelectionOfRow,onKeyDown:this.handleKeyboardSelection,parentRowAlignment:this.alignment,parentRowIsSelected:this.selected,parentRowPositionLocalized:this.positionSectionLocalized,selectionCell:!0},this.renderSelectionIcon()):(0,n.h)("calcite-table-cell",{alignment:"center",key:"selection-foot",parentRowAlignment:this.alignment,selectionCell:!0})}renderNumberedCell(){return"head"===this.rowType?(0,n.h)("calcite-table-header",{alignment:"center",key:"numbered-head",numberCell:!0,parentRowAlignment:this.alignment}):"body"===this.rowType?(0,n.h)("calcite-table-cell",{alignment:"center",key:"numbered-body",numberCell:!0,parentRowAlignment:this.alignment},this.positionSectionLocalized):(0,n.h)("calcite-table-cell",{alignment:"center",key:"numbered-foot",numberCell:!0,parentRowAlignment:this.alignment})}render(){return(0,n.h)(n.xr,{key:"1d51f5351ce604d34d7b5a8c6ff241d1f1bb7121"},(0,n.h)(a.I,{key:"67d835df1a6a91ebddd1742f76bdf45407bce5e5",disabled:this.disabled},(0,n.h)("tr",{key:"b490313209717e71bb18e277d6795895e7f60a25","aria-disabled":this.disabled,"aria-rowindex":this.positionAll+1,"aria-selected":this.selected,class:{[m_lastVisibleRow]:this.lastVisibleRow},onKeyDown:this.keyDownHandler,ref:t=>this.tableRowEl=t},this.numbered&&this.renderNumberedCell(),"none"!==this.selectionMode&&this.renderSelectableCell(),(0,n.h)("slot",{key:"ca447805a4b4a807ee113fd438fca4fe95a6b6c6",onSlotchange:this.updateCells,ref:t=>this.tableRowSlotEl=t}))))}get el(){return this}static get watchers(){return{bodyRowCount:["handleCellChanges"],scale:["handleCellChanges"],selected:["handleCellChanges"],selectedRowCount:["handleCellChanges"],interactionMode:["handleCellChanges"],numbered:["handleDelayedCellChanges"],selectionMode:["handleDelayedCellChanges"]}}static get style(){return":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{--calcite-internal-table-row-background:var(--calcite-table-row-background, var(--calcite-color-foreground-1));--calcite-internal-table-row-border-color:var(--calcite-table-row-border-color, transparent);display:contents}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) tr{pointer-events:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}tr{border-block-end:1px solid var(--calcite-internal-table-row-border-color);background-color:var(--calcite-internal-table-row-background)}tr.last-visible-row{border-block-end:0}"}},[1,"calcite-table-row",{alignment:[513],disabled:[516],selected:[516],cellCount:[1026,"cell-count"],interactionMode:[1,"interaction-mode"],lastVisibleRow:[4,"last-visible-row"],rowType:[1,"row-type"],numbered:[4],positionSection:[2,"position-section"],positionSectionLocalized:[1,"position-section-localized"],positionAll:[2,"position-all"],readCellContentsToAT:[4,"read-cell-contents-to-a-t"],scale:[1],selectionMode:[1,"selection-mode"],selectedRowCount:[2,"selected-row-count"],selectedRowCountLocalized:[1,"selected-row-count-localized"],bodyRowCount:[2,"body-row-count"],effectiveLocale:[32]},[[4,"calciteInternalTableRowFocusChange","calciteInternalTableRowFocusChangeHandler"]],{bodyRowCount:["handleCellChanges"],scale:["handleCellChanges"],selected:["handleCellChanges"],selectedRowCount:["handleCellChanges"],interactionMode:["handleCellChanges"],numbered:["handleDelayedCellChanges"],selectionMode:["handleDelayedCellChanges"]}]);function f(){typeof customElements>"u"||["calcite-table-row","calcite-icon","calcite-table-cell","calcite-table-header"].forEach(t=>{switch(t){case"calcite-table-row":customElements.get(t)||customElements.define(t,b);break;case"calcite-icon":customElements.get(t)||(0,E.d)();break;case"calcite-table-cell":customElements.get(t)||(0,g.d)();break;case"calcite-table-header":customElements.get(t)||(0,p.d)()}})}f();const D=b,y=f},9089:(T,C,o)=>{o.d(C,{I:()=>s,c:()=>t,d:()=>i,g:()=>R,u:()=>_});var n=o(58560);function R(){if(!n.L2.isBrowser)return"";const e=function h(){return navigator.userAgentData}();return e?.brands?e.brands.map(({brand:l,version:d})=>`${l}/${d}`).join(" "):navigator.userAgent}const a=/firefox/i.test(R()),r=a?new WeakMap:null;function E(){const{disabled:e}=this;e||HTMLElement.prototype.click.call(this)}function g(e){const l=e.target;if(a&&!r.get(l))return;const{disabled:d}=l;d&&e.preventDefault()}const p=["mousedown","mouseup","click"];function m(e){const l=e.target;a&&!r.get(l)||l.disabled&&(e.stopImmediatePropagation(),e.preventDefault())}const u={capture:!0};function _(e){if(e.disabled)return e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),void b(e);y(e),e.el.removeAttribute("aria-disabled")}function b(e){if(e.el.click=E,a){const l=function D(e){return e.el.parentElement||e.el}(e),d=r.get(e.el);return d!==l&&(w(d),r.set(e.el,l)),void f(r.get(e.el))}f(e.el)}function f(e){e&&(e.addEventListener("pointerdown",g,u),p.forEach(l=>e.addEventListener(l,m,u)))}function y(e){if(delete e.el.click,a)return w(r.get(e.el)),void r.delete(e.el);w(e.el)}function w(e){e&&(e.removeEventListener("pointerdown",g,u),p.forEach(l=>e.removeEventListener(l,m,u)))}function t(e){!e.disabled||!a||b(e)}function i(e){a&&y(e)}const c={container:"interaction-container"};function s({disabled:e},l){return(0,n.h)("div",{class:c.container,inert:e},...l)}}}]);