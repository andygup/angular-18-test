"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[2767],{92405:(Ut,ht,r)=>{r.d(ht,{e:()=>$});var H,X,D=r(93293),et={exports:{}};H=et,void 0!==(X=function(){function w(e,c,_){_=_||2;var h,i,d,x,O,B,q,ot=c&&c.length,tt=ot?c[0]*_:e.length,vt=L(e,0,tt,_,!0),nt=[];if(!vt||vt.next===vt.prev)return nt;if(ot&&(vt=function R(e,c,_,h){var i,d,x,O=[];for(i=0,d=c.length;i<d;i++)(x=L(e,c[i]*h,i<d-1?c[i+1]*h:e.length,h,!1))===x.next&&(x.steiner=!0),O.push(at(x));for(O.sort(S),i=0;i<O.length;i++)_=C(_=ct(O[i],_),_.next);return _}(e,c,vt,_)),e.length>80*_){h=d=e[0],i=x=e[1];for(var it=_;it<tt;it+=_)(O=e[it])<h&&(h=O),(B=e[it+1])<i&&(i=B),O>d&&(d=O),B>x&&(x=B);q=0!==(q=Math.max(d-h,x-i))?1/q:0}return W(vt,nt,_,h,i,q),nt}function L(e,c,_,h,i){var d,x;if(i===jt(e,c,_,h)>0)for(d=c;d<_;d+=h)x=Pt(d,e[d],e[d+1],x);else for(d=_-h;d>=c;d-=h)x=Pt(d,e[d],e[d+1],x);if(x&&xt(x,x.next)){var O=x.next;Ft(x),x=O}return x}function C(e,c){if(!e)return e;c||(c=e);var _,h=e;do{if(_=!1,h.steiner||!xt(h,h.next)&&0!==pt(h.prev,h,h.next))h=h.next;else{var i=h.prev;if(Ft(h),(h=c=i)===h.next)break;_=!0}}while(_||h!==c);return c}function W(e,c,_,h,i,d,x){if(e){!x&&d&&function T(e,c,_,h){var i=e;do{null===i.z&&(i.z=J(i.x,i.y,c,_,h)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function F(e){var c,_,h,i,d,x,O,B,q=1;do{for(_=e,e=null,d=null,x=0;_;){for(x++,h=_,O=0,c=0;c<q&&(O++,h=h.nextZ);c++);for(B=q;O>0||B>0&&h;)0!==O&&(0===B||!h||_.z<=h.z)?(i=_,_=_.nextZ,O--):(i=h,h=h.nextZ,B--),d?d.nextZ=i:e=i,i.prevZ=d,d=i;_=h}d.nextZ=null,q*=2}while(x>1)}(i)}(e,h,i,d);for(var O,B,q=e;e.prev!==e.next;)if(O=e.prev,B=e.next,d?U(e,h,i,d):G(e))c.push(O.i/_),c.push(e.i/_),c.push(B.i/_),Ft(e),e=B.next,q=B.next;else if((e=B)===q){x?1===x?W(e=k(C(e),c,_),c,_,h,i,d,2):2===x&&M(e,c,_,h,i,d):W(C(e),c,_,h,i,d,1);break}}}function G(e){var c=e.prev,_=e,h=e.next;if(pt(c,_,h)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(At(c.x,c.y,_.x,_.y,h.x,h.y,i.x,i.y)&&pt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function U(e,c,_,h){var i=e.prev,d=e,x=e.next;if(pt(i,d,x)>=0)return!1;for(var q=i.x>d.x?i.x>x.x?i.x:x.x:d.x>x.x?d.x:x.x,ot=i.y>d.y?i.y>x.y?i.y:x.y:d.y>x.y?d.y:x.y,tt=J(i.x<d.x?i.x<x.x?i.x:x.x:d.x<x.x?d.x:x.x,i.y<d.y?i.y<x.y?i.y:x.y:d.y<x.y?d.y:x.y,c,_,h),vt=J(q,ot,c,_,h),nt=e.prevZ,it=e.nextZ;nt&&nt.z>=tt&&it&&it.z<=vt;){if(nt!==e.prev&&nt!==e.next&&At(i.x,i.y,d.x,d.y,x.x,x.y,nt.x,nt.y)&&pt(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,it!==e.prev&&it!==e.next&&At(i.x,i.y,d.x,d.y,x.x,x.y,it.x,it.y)&&pt(it.prev,it,it.next)>=0))return!1;it=it.nextZ}for(;nt&&nt.z>=tt;){if(nt!==e.prev&&nt!==e.next&&At(i.x,i.y,d.x,d.y,x.x,x.y,nt.x,nt.y)&&pt(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;it&&it.z<=vt;){if(it!==e.prev&&it!==e.next&&At(i.x,i.y,d.x,d.y,x.x,x.y,it.x,it.y)&&pt(it.prev,it,it.next)>=0)return!1;it=it.nextZ}return!0}function k(e,c,_){var h=e;do{var i=h.prev,d=h.next.next;!xt(i,d)&&Y(i,h,h.next,d)&&Et(i,d)&&Et(d,i)&&(c.push(i.i/_),c.push(h.i/_),c.push(d.i/_),Ft(h),Ft(h.next),h=e=d),h=h.next}while(h!==e);return C(h)}function M(e,c,_,h,i,d){var x=e;do{for(var O=x.next.next;O!==x.prev;){if(x.i!==O.i&&Tt(x,O)){var B=Rt(x,O);return x=C(x,x.next),B=C(B,B.next),W(x,c,_,h,i,d),void W(B,c,_,h,i,d)}O=O.next}x=x.next}while(x!==e)}function S(e,c){return e.x-c.x}function z(e){if(e.next.prev===e)return e;let c=e;for(;;){const _=c.next;if(_.prev===c||_===c||_===e)break;c=_}return c}function ct(e,c){var _=function ft(e,c){var _,h=c,i=e.x,d=e.y,x=-1/0;do{if(d<=h.y&&d>=h.next.y&&h.next.y!==h.y){var O=h.x+(d-h.y)*(h.next.x-h.x)/(h.next.y-h.y);if(O<=i&&O>x){if(x=O,O===i){if(d===h.y)return h;if(d===h.next.y)return h.next}_=h.x<h.next.x?h:h.next}}h=h.next}while(h!==c);if(!_)return null;if(i===x)return _;var B,q=_,ot=_.x,tt=_.y,vt=1/0;h=_;do{i>=h.x&&h.x>=ot&&i!==h.x&&At(d<tt?i:x,d,ot,tt,d<tt?x:i,d,h.x,h.y)&&(B=Math.abs(d-h.y)/(i-h.x),Et(h,e)&&(B<vt||B===vt&&(h.x>_.x||h.x===_.x&&P(_,h)))&&(_=h,vt=B)),h=h.next}while(h!==q);return _}(e,c);if(!_)return c;var h=Rt(_,e),i=C(_,_.next);let d=z(h);return C(d,d.next),i=z(i),z(c===_?i:c)}function P(e,c){return pt(e.prev,e,c.prev)<0&&pt(c.next,e,e.next)<0}function J(e,c,_,h,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-_)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-h)*i)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function at(e){var c=e,_=e;do{(c.x<_.x||c.x===_.x&&c.y<_.y)&&(_=c),c=c.next}while(c!==e);return _}function At(e,c,_,h,i,d,x,O){return(i-x)*(c-O)-(e-x)*(d-O)>=0&&(e-x)*(h-O)-(_-x)*(c-O)>=0&&(_-x)*(d-O)-(i-x)*(h-O)>=0}function Tt(e,c){return e.next.i!==c.i&&e.prev.i!==c.i&&!function gt(e,c){var _=e;do{if(_.i!==e.i&&_.next.i!==e.i&&_.i!==c.i&&_.next.i!==c.i&&Y(_,_.next,e,c))return!0;_=_.next}while(_!==e);return!1}(e,c)&&(Et(e,c)&&Et(c,e)&&function dt(e,c){var _=e,h=!1,i=(e.x+c.x)/2,d=(e.y+c.y)/2;do{_.y>d!=_.next.y>d&&_.next.y!==_.y&&i<(_.next.x-_.x)*(d-_.y)/(_.next.y-_.y)+_.x&&(h=!h),_=_.next}while(_!==e);return h}(e,c)&&(pt(e.prev,e,c.prev)||pt(e,c.prev,c))||xt(e,c)&&pt(e.prev,e,e.next)>0&&pt(c.prev,c,c.next)>0)}function pt(e,c,_){return(c.y-e.y)*(_.x-c.x)-(c.x-e.x)*(_.y-c.y)}function xt(e,c){return e.x===c.x&&e.y===c.y}function Y(e,c,_,h){var i=ut(pt(e,c,_)),d=ut(pt(e,c,h)),x=ut(pt(_,h,e)),O=ut(pt(_,h,c));return i!==d&&x!==O||!(0!==i||!Z(e,_,c))||!(0!==d||!Z(e,h,c))||!(0!==x||!Z(_,e,h))||!(0!==O||!Z(_,c,h))}function Z(e,c,_){return c.x<=Math.max(e.x,_.x)&&c.x>=Math.min(e.x,_.x)&&c.y<=Math.max(e.y,_.y)&&c.y>=Math.min(e.y,_.y)}function ut(e){return e>0?1:e<0?-1:0}function Et(e,c){return pt(e.prev,e,e.next)<0?pt(e,c,e.next)>=0&&pt(e,e.prev,c)>=0:pt(e,c,e.prev)<0||pt(e,e.next,c)<0}function Rt(e,c){var _=new wt(e.i,e.x,e.y),h=new wt(c.i,c.x,c.y),i=e.next,d=c.prev;return e.next=c,c.prev=e,_.next=i,i.prev=_,h.next=_,_.prev=h,d.next=h,h.prev=d,h}function Pt(e,c,_,h){var i=new wt(e,c,_);return h?(i.next=h.next,i.prev=h,h.next.prev=i,h.next=i):(i.prev=i,i.next=i),i}function Ft(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wt(e,c,_){this.i=e,this.x=c,this.y=_,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jt(e,c,_,h){for(var i=0,d=c,x=_-h;d<_;d+=h)i+=(e[x]-e[d])*(e[d+1]+e[x+1]),x=d;return i}return w.deviation=function(e,c,_,h){var i=c&&c.length,x=Math.abs(jt(e,0,i?c[0]*_:e.length,_));if(i)for(var O=0,B=c.length;O<B;O++)x-=Math.abs(jt(e,c[O]*_,O<B-1?c[O+1]*_:e.length,_));var tt=0;for(O=0;O<h.length;O+=3){var vt=h[O]*_,nt=h[O+1]*_,it=h[O+2]*_;tt+=Math.abs((e[vt]-e[it])*(e[nt+1]-e[vt+1])-(e[vt]-e[nt])*(e[it+1]-e[vt+1]))}return 0===x&&0===tt?0:Math.abs((tt-x)/x)},w.flatten=function(e){for(var c=e[0][0].length,_={vertices:[],holes:[],dimensions:c},h=0,i=0;i<e.length;i++){for(var d=0;d<e[i].length;d++)for(var x=0;x<c;x++)_.vertices.push(e[i][d][x]);i>0&&_.holes.push(h+=e[i-1].length)}return _},w}())&&(H.exports=X);const $=(0,D.g)(et.exports)},62767:(Ut,ht,r)=>{r.d(ht,{A:()=>jr});var D=r(10467),H=r(8189),V=r(23159),X=r(5922),et=r(55098),$=r(35150),w=r(64261),L=r(56492),C=r(48900),W=r(85211),k=(r(3248),r(40707),r(76576)),M=r(25866),R=r(28067),S=r(68643),z=r(1749),ct=r(55861),ft=r(63842),P=r(86507);const at="Expected location to be a Point instance";class At extends X.A{constructor(){super("invalid-input:location",at)}}var Tt=r(38352),pt=r(58315),xt=r(36812),Y=r(39465),Z=r(78559),ut=r(92405),gt=r(41510),Et=r(15268),dt=r(23653),Rt=r(83034),Pt=r(38118),wt=(r(21152),r(69287)),jt=r(82663),e=r(28714),c=r(22515);r(83346),r(98176),r(45584),r(40972);const B=(0,c.vt)();function se(t,u,E,v,y,A,I){y*=3;for(let K=0;K<A;++K){const Q=t[u];v[y++]=Q[0],v[y++]=Q[1],v[y++]=I?Q[2]:0,u+=E}return y/3}function Ze(t,u,E){if(!u)return!(0,Et.$3)(t);switch(function O(t,u,E){const v=function x(t,u,E,v){const y=Array.isArray(u[0])?(I,K)=>u[I][K]:(I,K)=>u[3*I+K],A=v?(0,jt.GA)(v)/(0,jt.G9)(v):1;return(0,c.lU)(t,(I,K)=>(0,e.s)(I,y(K,0)*A,y(K,1)*A,y(K,2)),E)}(B,t,u,E)?(0,c.Qj)(B):[0,0,1];return Math.abs(v[2])>Math.cos((0,wt.kU)(80))?gt._.Z:Math.abs(v[1])>Math.abs(v[0])?gt._.Y:gt._.X}(t,t.length-1,E)){case gt._.X:return!(0,Et.$3)(t,gt._.Y,gt._.Z);case gt._.Y:return!(0,Et.$3)(t,gt._.X,gt._.Z);case gt._.Z:return!(0,Et.$3)(t,gt._.X,gt._.Y)}}var ae,t;(t=ae||(ae={}))[t.NONE=0]="NONE",t[t.CCW_IS_HOLE=1]="CCW_IS_HOLE";var ue=r(2296),mt=r(30429);let de=null;function Ee(t){if(0===t.length)return ue.v_;const u=(0,ue.vt)([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY]);return(0,ue.Hq)(u,t),u}function ye(t,u){const[E,v,y,A,I,K]=Ee(t);return new R.A({xmin:E,ymin:v,zmin:y,xmax:A,ymax:I,zmax:K,spatialReference:u})}var bt=r(16590),_e=r(1490),Yt=r(12738);const ne=()=>$.A.getLogger("esri.geometry.support.meshUtils.centerAt");const xe=(0,M.vt)(),Me=(0,M.vt)(),Xe=(0,M.vt)();var Ae=r(45272);function fe(){return fe=(0,D.A)(function*(t,u,E){const{source:v}=u,{loadGLTFMesh:y}=yield(0,L.qr)(Promise.all([r.e(109),r.e(7080)]).then(r.bind(r,7080)),E),A=yield function ke(t,u){return pe.apply(this,arguments)}(v,E);(0,L.Te)(E);const I=y(new z.A({x:0,y:0,z:0,spatialReference:t.spatialReference}),A.url,{resolveFile:Qe(A),signal:E?.signal,expectedType:A.type});I.then(()=>A.dispose(),()=>A.dispose());const{vertexAttributes:K,components:Q}=yield I;t.vertexAttributes=K,t.components=Q}),fe.apply(this,arguments)}function Qe(t){const u=(0,Ae.nM)(t.url);return E=>{const v=(0,Ae.V1)(E,u,u),y=v?v.replace(/^ *\.\//,""):null;return(y?t.files.get(y):null)??E}}function pe(){return pe=(0,D.A)(function*(t,u){if(Array.isArray(t)){if(!t.length)throw new X.A("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?function tr(t){return De(t.map(u=>({name:u.name,mimeType:u.type,source:Pe(u)})))}(t):function er(t,u){return ge.apply(this,arguments)}(t,u)}return Pe(t)}),pe.apply(this,arguments)}function he(){return he=(0,D.A)(function*(t,u){const{parts:E,assetMimeType:v,assetName:y}=t;if(1===E.length)return new Xt(E[0].partUrl);const A=yield t.toBlob(u);return(0,L.Te)(u),Xt.fromBlob(A,Re(y,v))}),he.apply(this,arguments)}function Pe(t){return Xt.fromBlob(t,Re(t.name,t.type))}function ge(){return ge=(0,D.A)(function*(t,u){const E=yield(0,L.nA)(t.map(function(){var v=(0,D.A)(function*(y){const A=yield function qe(t,u){return he.apply(this,arguments)}(y);return(0,L.Te)(u),{name:y.assetName,mimeType:y.assetMimeType,source:A}});return function(y){return v.apply(this,arguments)}}()));if((0,L.G4)(u))throw E.forEach(v=>v.source.dispose()),(0,L.NK)();return De(E)}),ge.apply(this,arguments)}const Oe=/^model\/gltf\+json$/,Te=/^model\/gltf-binary$/,me=/\.gltf$/i,rr=/\.glb$/i;function De(t){const u=new Map;let E,v=null;for(const{name:y,mimeType:A,source:I}of t)null===v&&(Oe.test(A)||me.test(y)?(v=I.url,E="gltf"):(Te.test(A)||rr.test(y))&&(v=I.url,E="glb")),u.set(y,I.url),I.files.forEach((K,Q)=>u.set(Q,K));if(null==v)throw new X.A("mesh-load-external:missing-files","Missing files to load external mesh source");return new Xt(v,()=>t.forEach(({source:y})=>y.dispose()),u,E)}class Xt{constructor(u,E=(()=>{}),v=new Map,y){this.url=u,this.dispose=E,this.files=v,this.type=y}static fromBlob(u,E){const v=URL.createObjectURL(u);return new Xt(v,()=>URL.revokeObjectURL(v),void 0,E)}}function Re(t,u){return Oe.test(u)||me.test(t)?"gltf":Te.test(u)||me.test(t)?"glb":void 0}var nr=r(90660),or=r(31178),ie=r(33019);let zt=class extends nr.P{constructor(t){super(t),this.externalSources=new or.A,this._explicitDisplaySource=null,this.addHandles((0,C.on)(()=>this.externalSources,"after-remove",({item:u})=>{u===this._explicitDisplaySource&&(this._explicitDisplaySource=null)},{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(null!=t&&!(0,ie.yr)(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&this.externalSources.every(u=>!(0,ie.in)(u,t))&&this.externalSources.add(t)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(t){return this.externalSources.items.filter(u=>(0,ie.eN)(u,t))}get _implicitDisplaySource(){return this.externalSources.find(ie.yr)}};(0,H._)([(0,W.MZ)()],zt.prototype,"externalSources",void 0),(0,H._)([(0,W.MZ)()],zt.prototype,"displaySource",null),(0,H._)([(0,W.MZ)()],zt.prototype,"_implicitDisplaySource",null),(0,H._)([(0,W.MZ)()],zt.prototype,"_explicitDisplaySource",void 0),zt=(0,H._)([(0,k.$)("esri.geometry.support.meshUtils.Metadata")],zt);var je=r(32954);const oe={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function le(t,u,E){t.isPlane||function _r(t){for(let u=0;u<t.position.length;u+=3)t.position[u+2]+=.5}(t),function pr(t,u){if(null!=u){Vt[0]=u[0],Vt[4]=u[1],Vt[8]=u[2];for(let E=0;E<t.position.length;E+=3){for(let v=0;v<3;v++)Ct[v]=t.position[E+v];(0,e.t)(Ct,Ct,Vt);for(let v=0;v<3;v++)t.position[E+v]=Ct[v]}if(u[0]!==u[1]||u[1]!==u[2]){Vt[0]=1/u[0],Vt[4]=1/u[1],Vt[8]=1/u[2];for(let E=0;E<t.normal.length;E+=3){for(let v=0;v<3;v++)Ct[v]=t.normal[E+v];(0,e.t)(Ct,Ct,Vt),(0,e.n)(Ct,Ct);for(let v=0;v<3;v++)t.normal[E+v]=Ct[v]}}}}(t,function fr(t,u,E){const v=(0,Yt.xK)(u,E);if(null==t&&1===v)return null;if(null==t)return[v,v,v];if("number"==typeof t){const y=t*v;return[y,y,y]}return[null!=t.width?t.width*v:v,null!=t.depth?t.depth*v:v,null!=t.height?t.height*v:v]}(E?.size,E?.unit,u.spatialReference));const v=(0,Z.TE)(u,E),y=u.spatialReference.isGeographic?(0,Z.TE)(u):v,A=(0,Yt.UR)({vertexAttributes:t,vertexSpace:y,spatialReference:u.spatialReference},v,{allowBufferReuse:!0});return{vertexAttributes:new Y.H({...A,uv:t.uv}),vertexSpace:v,components:[new P.A({faces:t.faces,material:E?.material||null})],spatialReference:u.spatialReference}}const hr={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},gr={south:0,east:1,north:2,west:3,up:4,down:5},Ct=(0,M.vt)(),Vt=(0,je.vt)();var mr=r(31610),Nt=r(92771),ve=r(62789),vr=r(19890),Ce=r(14214),Ue=r(65580),dr=r(37605);const Ht=()=>$.A.getLogger("esri.geometry.support.meshUtils.rotate");function qt(t,u,E,v=M.uY){if(null!=t){(0,Nt.$0)(ce,(0,ft.$I)(u),(0,ft.yo)(u));for(let y=0;y<t.length;y+=E){for(let A=0;A<3;A++)te[A]=t[y+A]-v[A];(0,e.h)(te,te,ce);for(let A=0;A<3;A++)t[y+A]=te[A]+v[A]}}}const te=(0,M.vt)(),Le=(0,ve.vt)(),Ie=(0,ft.vt)(),ce=(0,ve.vt)(),Be=(0,je.vt)(),Se=(0,M.vt)(),We=(0,Ce.vt)(),$t=()=>$.A.getLogger("esri.geometry.support.meshUtils.scale");function Ke(t,u,E=M.uY){if(t)for(let v=0;v<t.length;v+=3){for(let y=0;y<3;y++)ee[y]=t[v+y]-E[y];(0,e.j)(ee,ee,u);for(let y=0;y<3;y++)t[v+y]=ee[y]+E[y]}}const ee=(0,M.vt)(),Dr=(0,M.vt)(),Fe=(0,ve.vt)(),Ne=(0,M.vt)();var Kt;const we="esri.geometry.Mesh";function Zt(){return $.A.getLogger(we)}const Rr={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:Tt.A,local:pt.A}};let It=Kt=class extends(et.A.LoadableMixin((0,w.g)(S.A))){constructor(t){super(t),this.components=null,this.vertexSpace=new Tt.A,this.transform=null,this.metadata=new zt,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new Y.H,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.addHandles((0,C.wB)(()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map(t=>t.clone())}),()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{components:t,spatialReference:u,vertexAttributes:E,vertexSpace:v}=this,y=E.position;if(0===y.length||t&&0===t.length)return new R.A({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:u});if((0,Z.Hq)(v)){const{_untransformedBounds:A,transform:I}=this;return function Ge([t,u,E,v,y,A],I,K,Q){de??=new Float64Array(24);const N=de;return N[0]=t,N[1]=u,N[2]=E,N[3]=t,N[4]=y,N[5]=E,N[6]=v,N[7]=y,N[8]=E,N[9]=v,N[10]=u,N[11]=E,N[12]=t,N[13]=u,N[14]=A,N[15]=t,N[16]=y,N[17]=A,N[18]=v,N[19]=y,N[20]=A,N[21]=v,N[22]=u,N[23]=A,(0,mt.project)({positions:N,transform:I,vertexSpace:K,inSpatialReference:Q,outSpatialReference:Q,outPositions:N}),ye(N,Q)}(A,I,v,u)}return ye(y,u)}get _untransformedBounds(){return Ee(this.vertexAttributes.position)}get anchor(){const t=(0,Z.MW)(this.vertexSpace,this.spatialReference);if(null!=t)return t;const{center:u,zmin:E}=this._transformedExtent;return new z.A({x:u.x,y:u.y,z:E,spatialReference:this.spatialReference})}get origin(){return(0,Z.MW)(this.vertexSpace,this.spatialReference)??this._transformedExtent.center}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(t){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(P.A.from(t)),this.notifyChange("components"))}removeComponent(t){if(this._checkIfLoaded("removeComponent()")){if(this.components){const u=this.components.indexOf(t);if(-1!==u)return this.components.splice(u,1),void this.notifyChange("components")}Zt().error("removeComponent()","Provided component is not part of the list of components")}}rotate(t,u,E,v){return(0,ft.AU)(t,u,E,be),function Er(t,u,E){if(!t.vertexAttributes?.position||0===u[3])return;const{spatialReference:v,vertexSpace:y}=t,A=E?.origin??t.anchor,I=E?.geographic,K=(0,_e.c)(Ht,y,v,I);(0,Z.CK)(t)?function yr(t,u,E){t.transform??=new xt.A;const{vertexSpace:v,transform:y,spatialReference:A}=t,[I,K,Q]=v.origin,N=new z.A({x:I,y:K,z:Q,spatialReference:A}),st=te;if(N.equals(E))(0,e.s)(st,0,0,0);else if(!(0,Yt.p5)(st,E,t))return void(0,mt.logProjectionError)(Ht(),E.spatialReference,A,mt.loadProjectErrorMessage);(0,vr.x8)(We,(0,ft.yo)(u),(0,ft.$I)(u));const _t=(0,Nt.O7)(Le,We,M.uY,M.Un,st),{localMatrix:lt}=y,rt=(0,Nt.lw)(Le,_t,lt);y.scale=(0,Nt.IL)((0,M.vt)(),rt),(0,Nt.hs)(rt,rt,(0,e.i)(te,y.scale));const Mt=y.rotationAxis;y.rotation=(0,ft.ui)(rt),0===y.rotationAngle&&(y.rotationAxis=Mt),y.translation=(0,Nt.sC)((0,M.vt)(),rt)}(t,u,A):K?function xr(t,u,E){const v=t.spatialReference,y=(0,Ue.lO)(v),A=Se;if(!(0,bt.g)(E,A,y)&&((0,mt.logProjectionError)(Ht(),E.spatialReference,y,"Falling back to mesh origin"),!(0,bt.g)(t.origin,A,y)))return void(0,mt.logProjectionError)(Ht(),t.origin.spatialReference,y);const I=t.vertexAttributes.position,K=t.vertexAttributes.normal,Q=t.vertexAttributes.tangent,N=new Float64Array(I.length),st=null!=K?new Float32Array(K.length):null,_t=null!=Q?new Float32Array(Q.length):null;(0,dr.l)(y,A,ce,y),(0,mr.z0)(Be,ce);const lt=Ie;(0,e.t)((0,ft.yo)(Ie),(0,ft.yo)(u),Be),lt[3]=u[3],!(0,mt.projectToPCPF)(I,v,N)||null!=K&&null!=st&&!(0,mt.projectNormalToPCPF)(K,I,N,v,st)||null!=Q&&null!=_t&&!(0,mt.projectTangentToPCPF)(Q,I,N,v,_t)?(0,mt.logProjectionError)(Ht(),v,y):(qt(N,lt,3,A),!(0,mt.projectFromPCPF)(N,I,v)||null!=K&&null!=st&&(qt(st,lt,3),!(0,mt.projectNormalFromPCPF)(st,I,N,v,K))||null!=Q&&null!=_t&&(qt(_t,lt,4),!(0,mt.projectTangentFromPCPF)(_t,I,N,v,Q))?(0,mt.logProjectionError)(Ht(),y,v):t.vertexAttributesChanged())}(t,u,A):function Mr(t,u,E){const v=Se;if(!(0,bt.g)(E,v,t.spatialReference)){const y=t.origin;return v[0]=y.x,v[1]=y.y,v[2]=y.z,void(0,mt.logProjectionError)(Ht(),E.spatialReference,t.spatialReference,mt.loadProjectErrorMessage)}qt(t.vertexAttributes.position,u,3,v),qt(t.vertexAttributes.normal,u,3),qt(t.vertexAttributes.tangent,u,4),t.vertexAttributesChanged()}(t,u,A)}(this,be,v),this}offset(t,u,E){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:v,vertexAttributes:y}=this,A=y?.position;if(!A)return this;if((0,Z.Hq)(v)){const[I,K,Q]=v.origin;v.origin=(0,M.fA)(I+t,K+u,Q+E)}else{for(let I=0;I<A.length;I+=3)A[I]+=t,A[I+1]+=u,A[I+2]+=E;this.vertexAttributesChanged()}return this}scale(t,u){return this._checkIfLoaded("scale()")?(function Ar(t,u,E){if(!t.vertexAttributes?.position)return;const{vertexSpace:v,spatialReference:y}=t,A=E?.origin??t.anchor,I=E?.geographic,K=(0,_e.c)($t,v,y,I);(0,Z.CK)(t)?function Pr(t,u,E){t.transform??=new xt.A;const{vertexSpace:v,transform:y,spatialReference:A}=t,[I,K,Q]=v.origin,N=new z.A({x:I,y:K,z:Q,spatialReference:A}),st=ee;if(N.equals(E))(0,e.s)(st,0,0,0);else if(!(0,Yt.p5)(st,E,t))return void(0,mt.logProjectionError)($t(),E.spatialReference,A,mt.loadProjectErrorMessage);const _t=(0,e.s)(Dr,u,u,u),lt=(0,Nt.O7)(Fe,Ce.zK,M.uY,_t,st),{localMatrix:rt}=y,Mt=(0,Nt.lw)(Fe,lt,rt);y.scale=(0,Nt.IL)((0,M.vt)(),Mt),(0,Nt.hs)(Mt,Mt,(0,e.i)(ee,y.scale));const Ot=y.rotationAxis;y.rotation=(0,ft.ui)(Mt),0===y.rotationAngle&&(y.rotationAxis=Ot),y.translation=(0,Nt.sC)((0,M.vt)(),Mt)}(t,u,A):K?function Or(t,u,E){const v=t.spatialReference,y=(0,Ue.lO)(v),A=Ne;if(!(0,bt.g)(E,A,y)&&((0,mt.logProjectionError)($t(),E.spatialReference,y,"Falling back to mesh origin"),!(0,bt.g)(t.origin,A,y)))return void(0,mt.logProjectionError)($t(),t.origin.spatialReference,y);const I=t.vertexAttributes.position,K=t.vertexAttributes.normal,Q=t.vertexAttributes.tangent,N=new Float64Array(I.length),st=null!=K?new Float32Array(K.length):null,_t=null!=Q?new Float32Array(Q.length):null;!(0,mt.projectToPCPF)(I,v,N)||null!=K&&null!=st&&!(0,mt.projectNormalToPCPF)(K,I,N,v,st)||null!=Q&&null!=_t&&!(0,mt.projectTangentToPCPF)(Q,I,N,v,_t)?(0,mt.logProjectionError)($t(),v,y):(Ke(N,u,A),!(0,mt.projectFromPCPF)(N,I,v)||null!=K&&null!=st&&!(0,mt.projectNormalFromPCPF)(st,I,N,v,K)||null!=Q&&null!=_t&&!(0,mt.projectTangentFromPCPF)(_t,I,N,v,Q)?(0,mt.logProjectionError)($t(),y,v):t.vertexAttributesChanged())}(t,u,A):function Tr(t,u,E){const v=Ne;if(!(0,bt.g)(E,v,t.spatialReference)){const y=t.origin;return v[0]=y.x,v[1]=y.y,v[2]=y.z,void(0,mt.logProjectionError)($t(),E.spatialReference,t.spatialReference,mt.loadProjectErrorMessage)}Ke(t.vertexAttributes.position,u,v),t.vertexAttributesChanged()}(t,u,A)}(this,t,u),this):this}centerAt(t,u){return this._checkIfLoaded("centerAt()")?(function ze(t,u,E){if(!t.vertexAttributes?.position)return;const{vertexSpace:v}=t,y=E?.origin??t.anchor,A=(0,_e.c)(ne,v,y.spatialReference,E?.geographic);(0,Z.Hq)(v)?function Ve(t,u,E){const{vertexSpace:v}=t;if(!(0,Z.Hq)(v))return;const y=Me,A=xe;if(!(0,bt.g)(u,A,t.spatialReference))return void(0,mt.logProjectionError)(ne(),u.spatialReference,t.spatialReference,mt.loadProjectErrorMessage);if(!(0,bt.g)(E,y,t.spatialReference)){const K=t.origin;return y[0]=K.x,y[1]=K.y,y[2]=K.z,void(0,mt.logProjectionError)(ne(),E.spatialReference,t.spatialReference,mt.loadProjectErrorMessage)}const I=(0,e.f)(Xe,A,y);v.origin=(0,e.g)((0,M.vt)(),v.origin,I)}(t,u,y):A?function He(t,u,E){const v=(0,M.fA)(E.x,E.y,E.z??0),y=(0,Yt.UR)(t,new pt.A({origin:v}));if(!y)return;const A=(0,M.fA)(u.x,u.y,u.z??0),I=(0,Yt.UR)({vertexAttributes:y,spatialReference:t.spatialReference,vertexSpace:new pt.A({origin:A})},new Tt.A);if(!I)return;const{position:K,normal:Q,tangent:N}=I;t.vertexAttributes.position=K,t.vertexAttributes.normal=Q,t.vertexAttributes.tangent=N,t.vertexAttributesChanged()}(t,u,y):function $e(t,u,E){const v=Me,y=xe;if((0,bt.g)(u,y,t.spatialReference)){if(!(0,bt.g)(E,v,t.spatialReference)){const A=t.origin;return v[0]=A.x,v[1]=A.y,v[2]=A.z,void(0,mt.logProjectionError)(ne(),E.spatialReference,t.spatialReference,mt.loadProjectErrorMessage)}(function Ye(t,u,E){if(t)for(let v=0;v<t.length;v+=3)for(let y=0;y<3;y++)t[v+y]+=u[y]-E[y]})(t.vertexAttributes.position,y,v),t.vertexAttributesChanged()}else(0,mt.logProjectionError)(ne(),u.spatialReference,t.spatialReference,mt.loadProjectErrorMessage)}(t,u,y)}(this,t,u),this):this}load(t){const{metadata:{displaySource:u}}=this;return u&&this.addResolvingPromise(function Je(t,u,E){return fe.apply(this,arguments)}(this,u,t)),Promise.resolve(this)}addExternalSources(t){this.metadata.externalSources.addMany(t)}updateDisplaySource(t){this.metadata.displaySource=t}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone())}cloneAndModifyVertexAttributes(t,u){let E=null;if(this.components){const y=new Map,A=new Map;E=this.components.map(I=>I.cloneWithDeduplication(y,A))}const v={components:E,spatialReference:this.spatialReference,vertexAttributes:t,vertexSpace:u,transform:this.transform?.clone()??null,metadata:this.metadata.clone()};return new Kt(v)}cloneShallow(){return new Kt({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}toBinaryGLTF(t){var u=this;return(0,D.A)(function*(){const[{toBinaryGLTF:E}]=yield Promise.all([Promise.all([r.e(2076),r.e(2109)]).then(r.bind(r,62109)),u.load(t)]);return(0,L.Te)(t),yield E(u,t)})()}get memoryUsage(){let t=0;if(t+=this.vertexAttributes.memoryUsage,null!=this.components)for(const u of this.components)t+=u.memoryUsage;return t}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(t){return!!this.loaded||(Zt().error(t,"Mesh must be loaded before applying operations"),!1)}static createBox(t,u){if(!(t instanceof z.A))return Zt().error(".createBox()",at),null;const E=new Kt(le(function sr(){const{faceDescriptions:t,faceVertexOffsets:u,uvScales:E}=hr,v=4*t.length,y=new Float64Array(3*v),A=new Float32Array(3*v),I=new Float32Array(2*v),K=new Uint32Array(2*t.length*3);let Q=0,N=0,st=0,_t=0;for(let lt=0;lt<t.length;lt++){const rt=t[lt],Mt=Q/3;for(const Bt of u)K[_t++]=Mt+Bt;const Ot=rt.corners;for(let Bt=0;Bt<4;Bt++){const Gt=Ot[Bt];let Lt=0;I[st++]=.25*E[Bt][0]+rt.uvOrigin[0],I[st++]=rt.uvOrigin[1]-.25*E[Bt][1];for(let Dt=0;Dt<3;Dt++)0!==rt.axis[Dt]?(y[Q++]=.5*rt.axis[Dt],A[N++]=rt.axis[Dt]):(y[Q++]=.5*Gt[Lt++],A[N++]=0)}}return{position:y,normal:A,uv:I,faces:K}}(),t,u));return u?.imageFace&&"all"!==u.imageFace?function ar(t,u){const E=t.components[0],v=E.faces,y=gr[u],A=6*y,I=new Array(6),K=new Array(v.length-6);let Q=0,N=0;for(let st=0;st<v.length;st++)st>=A&&st<A+6?I[Q++]=v[st]:K[N++]=v[st];if(null!=t.vertexAttributes.uv){const st=new Float32Array(t.vertexAttributes.uv),_t=4*y*2,lt=[0,1,1,1,1,0,0,0];for(let rt=0;rt<lt.length;rt++)st[_t+rt]=lt[rt];t.vertexAttributes.uv=st}return t.components=[new P.A({faces:I,material:E.material}),new P.A({faces:K})],t}(E,u.imageFace):E}static createSphere(t,u){return t instanceof z.A?new Kt(le(function ir(t=0){const u=Math.round(8*2**t),E=2*u,v=(u-1)*(E+1)+2*E,y=new Float64Array(3*v),A=new Float32Array(3*v),I=new Float32Array(2*v),K=new Uint32Array((u-1)*E*2*3);let Q=0,N=0,st=0,_t=0;for(let lt=0;lt<=u;lt++){const rt=lt/u*Math.PI+.5*Math.PI,Mt=Math.cos(rt),Ot=Math.sin(rt);Ct[2]=Ot;const Bt=0===lt||lt===u,Gt=Bt?E-1:E;for(let Lt=0;Lt<=Gt;Lt++){const Dt=Lt/Gt*2*Math.PI;Ct[0]=-Math.sin(Dt)*Mt,Ct[1]=Math.cos(Dt)*Mt;for(let Wt=0;Wt<3;Wt++)y[Q]=.5*Ct[Wt],A[Q]=Ct[Wt],++Q;I[N++]=(Lt+(Bt?.5:0))/E,I[N++]=lt/u,0!==lt&&Lt!==E&&(lt!==u&&(K[st++]=_t,K[st++]=_t+1,K[st++]=_t-E),1!==lt&&(K[st++]=_t,K[st++]=_t-E,K[st++]=_t-E-1)),_t++}}return{position:y,normal:A,uv:I,faces:K}}(u?.densificationFactor||0),t,u)):(Zt().error(".createSphere()",at),null)}static createCylinder(t,u){return t instanceof z.A?new Kt(le(function lr(t=0){const E=Math.round(16*2**t),v=4*(E+1)+2*E,y=new Float64Array(3*v),A=new Float32Array(3*v),I=new Float32Array(2*v),K=new Uint32Array(4*E*3);let Q=0,N=0,st=0,_t=0,lt=0;for(let rt=0;rt<=5;rt++){const Mt=0===rt||5===rt,Ot=rt<=1||rt>=4,Bt=2===rt||4===rt,Gt=Mt?E-1:E;for(let Lt=0;Lt<=Gt;Lt++){const Dt=Lt/Gt*2*Math.PI,Wt=Mt?0:.5;Ct[0]=Wt*Math.sin(Dt),Ct[1]=Wt*-Math.cos(Dt),Ct[2]=rt<=2?.5:-.5;for(let re=0;re<3;re++)y[Q++]=Ct[re],A[N++]=Ot?2===re?rt<=1?1:-1:0:2===re?0:Ct[re]/Wt;I[st++]=(Lt+(Mt?.5:0))/E,I[st++]=rt<=1?1*rt/3:rt<=3?1*(rt-2)/3+1/3:1*(rt-4)/3+2/3,Bt||0===rt||Lt===E||(5!==rt&&(K[_t++]=lt,K[_t++]=lt+1,K[_t++]=lt-E),1!==rt&&(K[_t++]=lt,K[_t++]=lt-E,K[_t++]=lt-E-1)),lt++}}return{position:y,normal:A,uv:I,faces:K}}(u?.densificationFactor||0),t,u)):(Zt().error(".createCylinder()",at),null)}static createPlane(t,u){if(!(t instanceof z.A))return Zt().error(".createPlane()",at),null;const E=u?.facing??"up",v=function cr(t,u){const E="number"==typeof u?u:null!=u?u.width:1,v="number"==typeof u?u:null!=u?u.height:1;switch(t){case"up":case"down":return{width:E,depth:v};case"north":case"south":return{width:E,height:v};case"east":case"west":return{depth:E,height:v}}}(E,u?.size);return new Kt(le(function ur(t){const u=oe.facingAxisOrderSwap[t],E=oe.position,v=oe.normal,y=new Float64Array(E.length),A=new Float32Array(v.length);let I=0;for(let K=0;K<4;K++){const Q=I;for(let N=0;N<3;N++){const st=u[N],_t=Math.abs(st)-1,lt=st>=0?1:-1;y[I]=E[Q+_t]*lt,A[I]=v[Q+_t]*lt,I++}}return{position:y,normal:A,uv:new Float32Array(oe.uv),faces:new Uint32Array(oe.faces),isPlane:!0}}(E),t,{...u,size:v}))}static createFromPolygon(t,u){if(!(t instanceof ct.A))return Zt().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;const E=function it(t){const u=function St(t,u,E,v){const y=t.length,A=new Array(y),I=new Array(y),K=new Array(y);let Q=0;for(let Mt=0;Mt<y;++Mt)Q+=t[Mt].length;let N=0,st=0,_t=0;const lt=(0,dt.jh)(3*Q);let rt=0;for(let Mt=y-1;Mt>=0;Mt--){const Ot=t[Mt],Bt=E===ae.CCW_IS_HOLE&&Ze(Ot,u,v);if(Bt&&1!==y)A[N++]=Ot;else{let Gt=Ot.length;for(let Dt=0;Dt<N;++Dt)Gt+=A[Dt].length;const Lt={index:rt,pathLengths:new Array(N+1),count:Gt,holeIndices:new Array(N)};Lt.pathLengths[0]=Ot.length,Ot.length>0&&(K[_t++]={index:rt,count:Ot.length}),rt=Bt?se(Ot,Ot.length-1,-1,lt,rt,Ot.length,u):se(Ot,0,1,lt,rt,Ot.length,u);for(let Dt=0;Dt<N;++Dt){const Wt=A[Dt];Lt.holeIndices[Dt]=rt,Lt.pathLengths[Dt+1]=Wt.length,Wt.length>0&&(K[_t++]={index:rt,count:Wt.length}),rt=se(Wt,0,1,lt,rt,Wt.length,u)}N=0,Lt.count>0&&(I[st++]=Lt)}}for(let Mt=0;Mt<N;++Mt){const Ot=A[Mt];Ot.length>0&&(K[_t++]={index:rt,count:Ot.length}),rt=se(Ot,0,1,lt,rt,Ot.length,u)}return I.length=st,K.length=_t,{position:lt,polygons:I,outlines:K}}(t.rings,t.hasZ,ae.CCW_IS_HOLE,t.spatialReference),E=new Array;let v=0,y=0;for(const K of u.polygons){const N=K.index,st=(0,dt.l5)(u.position,3*N,3*K.count),_t=K.holeIndices.map(rt=>rt-N),lt=(0,Rt.Dg)((0,ut.e)(st,_t,3));E.push({position:st,faces:lt}),v+=st.length,y+=lt.length}const A=function yt(t,u,E){if(1===t.length)return t[0];const v=(0,dt.jh)(u),y=new Array(E);let A=0,I=0,K=0;for(const Q of t){for(let N=0;N<Q.position.length;N++)v[A++]=Q.position[N];for(const N of Q.faces)y[I++]=N+K;K=A/3}return{position:v,faces:(0,Rt.Dg)(y)}}(E,v,y),I=Array.isArray(A.position)?(0,Pt.b)(A.position,3,{originalIndices:A.faces}):(0,Pt.b)(A.position.buffer,6,{originalIndices:A.faces});return A.position=(0,dt.xm)(new Float64Array(I.buffer)),A.faces=I.indices,A}(t);return new Kt({vertexAttributes:new Y.H({position:E.position}),components:[new P.A({faces:E.faces,shading:"flat",material:u?.material??null})],spatialReference:t.spatialReference,vertexSpace:new Tt.A})}static createFromGLTF(t,u,E){return(0,D.A)(function*(){if(!(t instanceof z.A)){const y=new At;throw Zt().error(".createfromGLTF()",y.message),y}const{loadGLTFMesh:v}=yield(0,L.qr)(Promise.all([r.e(109),r.e(7080)]).then(r.bind(r,7080)),E);return new Kt(yield v(t,u,E))})()}static createFromFiles(t,u,E){return(0,D.A)(function*(){if((0,V.eO)(Zt(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"}),!(t instanceof z.A)){const y=new At;throw(y=>{Zt().error(".createFromFiles()",y.message)})(y),y}if(!E?.layer)throw new X.A("invalid:no-layer","SceneLayer required for file to mesh conversion.");return E.layer.convertMesh(u,{location:t,...E})})()}static createWithExternalSource(t,u,E){const v=E?.extent??null,{spatialReference:y}=t,A=E?.transform?.clone()??new xt.A,I=(0,Z.TE)(t,E),K={source:u,extent:v},Q=new zt;return Q.externalSources.push(K),new Kt({metadata:Q,transform:A,vertexSpace:I,spatialReference:y})}static createIncomplete(t,u){const{spatialReference:E}=t,v=u?.transform?.clone()??new xt.A,y=(0,Z.TE)(t,u),A=new Kt({transform:v,vertexSpace:y,spatialReference:E});return A.addResolvingPromise(Promise.reject(new X.A("mesh-incomplete","Mesh resources are not complete"))),A}};(0,H._)([(0,W.MZ)({type:[P.A],json:{write:!0}})],It.prototype,"components",void 0),(0,H._)([(0,W.MZ)({nonNullable:!0,types:Rr,constructOnly:!0,json:{write:!0}})],It.prototype,"vertexSpace",void 0),(0,H._)([(0,W.MZ)({type:xt.A,json:{write:!0}})],It.prototype,"transform",void 0),(0,H._)([(0,W.MZ)({constructOnly:!0})],It.prototype,"metadata",void 0),(0,H._)([(0,W.MZ)()],It.prototype,"hasExtent",null),(0,H._)([(0,W.MZ)()],It.prototype,"_transformedExtent",null),(0,H._)([(0,W.MZ)()],It.prototype,"_untransformedBounds",null),(0,H._)([(0,W.MZ)()],It.prototype,"anchor",null),(0,H._)([(0,W.MZ)()],It.prototype,"origin",null),(0,H._)([(0,W.MZ)({readOnly:!0,json:{read:!1}})],It.prototype,"extent",null),(0,H._)([(0,W.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],It.prototype,"hasZ",void 0),(0,H._)([(0,W.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],It.prototype,"hasM",void 0),(0,H._)([(0,W.MZ)({type:Y.H,nonNullable:!0,json:{write:!0}})],It.prototype,"vertexAttributes",void 0),It=Kt=(0,H._)([(0,k.$)(we)],It);const be=(0,ft.vt)(),jr=It},16590:(Ut,ht,r)=>{r.d(ht,{g:()=>X});var D=r(25866),H=r(11817),V=r(23234);function X(L,C,W,G){if((0,H.canProjectWithoutEngine)(L.spatialReference,W))return w[0]=L.x,w[1]=L.y,w[2]=L.z??G??0,(0,V.projectBuffer)(w,L.spatialReference,0,C,W,0,1);const U=(0,H.tryProjectWithZConversion)(L,W);return!!U&&(C[0]=U?.x,C[1]=U?.y,C[2]=U?.z??G??0,!0)}const w=(0,D.vt)()},23653:(Ut,ht,r)=>{r.d(ht,{Ns:()=>$,jh:()=>H,l5:()=>X,s:()=>et,xm:()=>V});var D=r(79139);function H(w,L=!1){return w<=D.y9?L?new Array(w).fill(0):new Array(w):new Float64Array(w)}function V(w){return((0,D.cy)(w)?w.length:w.byteLength/8)<=D.y9?Array.from(w):new Float64Array(w)}function X(w,L,C){return Array.isArray(w)?w.slice(L,L+C):w.subarray(L,L+C)}function et(w,L){for(let C=0;C<L.length;++C)w[C]=L[C];return w}function $(w){return Array.isArray(w)?new Float64Array(w):w}},86507:(Ut,ht,r)=>{r.d(ht,{A:()=>M});var U,D=r(8189),H=r(71065),V=r(77806),X=r(35150),et=r(85211),$=r(48669),w=r(76576),L=r(55739),C=r(14891),W=r(73490),G=r(39465);let k=U=class extends H.oY{static from(R){return(0,L.PZ)(U,R)}constructor(R){super(R),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(R){return(0,G.b)(R,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},X.A.getLogger(this))}castMaterial(R){return(0,L.PZ)(R&&"object"==typeof R&&("metallic"in R||"roughness"in R||"metallicRoughnessTexture"in R)?W.A:C.A,R)}clone(){return new U({faces:(0,V.o8)(this.faces),shading:this.shading,material:(0,V.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(R,S){const z={faces:(0,V.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(R,S):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new U(z)}get memoryUsage(){let R=0;return null!=this.faces&&(R+=this.faces.byteLength),null!=this.material&&(R+=this.material.memoryUsage),R}};(0,D._)([(0,et.MZ)({json:{write:!0}})],k.prototype,"faces",void 0),(0,D._)([(0,$.w)("faces")],k.prototype,"castFaces",null),(0,D._)([(0,et.MZ)({type:C.A,json:{write:!0}})],k.prototype,"material",void 0),(0,D._)([(0,$.w)("material")],k.prototype,"castMaterial",null),(0,D._)([(0,et.MZ)()],k.prototype,"name",void 0),(0,D._)([(0,et.MZ)({type:String,json:{write:!0}})],k.prototype,"shading",void 0),(0,D._)([(0,et.MZ)({type:Boolean})],k.prototype,"trustSourceNormals",void 0),k=U=(0,D._)([(0,w.$)("esri.geometry.support.MeshComponent")],k);const M=k},38352:(Ut,ht,r)=>{r.d(ht,{A:()=>G});var D=r(8189),H=r(90660),V=r(71065),X=r(85211),L=(r(3248),r(35150),r(40707),r(15463)),C=r(76576);let W=class extends((0,H.O)(V.oY)){constructor(U){super(U),this.type="georeferenced",this.origin=null}};(0,D._)([(0,L.e)({georeferenced:"georeferenced"},{readOnly:!0})],W.prototype,"type",void 0),(0,D._)([(0,X.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],W.prototype,"origin",void 0),W=(0,D._)([(0,C.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],W);const G=W},58315:(Ut,ht,r)=>{r.d(ht,{A:()=>U});var D=r(8189),H=r(90660),V=r(71065),X=r(85211),L=(r(3248),r(35150),r(40707),r(15463)),C=r(76576),W=r(25866);let G=class extends((0,H.O)(V.oY)){constructor(k){super(k),this.type="local",this.origin=(0,W.vt)()}};(0,D._)([(0,L.e)({local:"local"},{readOnly:!0})],G.prototype,"type",void 0),(0,D._)([(0,X.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],G.prototype,"origin",void 0),G=(0,D._)([(0,C.$)("esri.geometry.support.MeshLocalVertexSpace")],G);const U=G},14891:(Ut,ht,r)=>{r.d(ht,{A:()=>k});var G,D=r(8189),H=r(68677),V=r(71065),X=r(85211),L=(r(3248),r(35150),r(40707),r(76576)),C=r(33495),W=r(59723);let U=G=class extends V.oY{constructor(M){super(M),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(M,R){const S=null!=M?M.get(this):null;if(S)return S;const z=new G(this.clonePropertiesWithDeduplication(R));return M?.set(this,z),z}clonePropertiesWithDeduplication(M){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(M),normalTexture:this.normalTexture?.cloneWithDeduplication(M),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let M=0;return M+=null!=this.color?16:0,null!=this.colorTexture&&(M+=this.colorTexture.memoryUsage),M+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(M+=this.normalTexture.memoryUsage),M+=null!=this.normalTextureTransform?20:0,M}};(0,D._)([(0,X.MZ)({type:H.A,json:{write:!0}})],U.prototype,"color",void 0),(0,D._)([(0,X.MZ)({type:C.A,json:{write:!0}})],U.prototype,"colorTexture",void 0),(0,D._)([(0,X.MZ)({type:W.A,json:{write:!0}})],U.prototype,"colorTextureTransform",void 0),(0,D._)([(0,X.MZ)({type:C.A,json:{write:!0}})],U.prototype,"normalTexture",void 0),(0,D._)([(0,X.MZ)({type:W.A,json:{write:!0}})],U.prototype,"normalTextureTransform",void 0),(0,D._)([(0,X.MZ)({nonNullable:!0,json:{write:!0}})],U.prototype,"alphaMode",void 0),(0,D._)([(0,X.MZ)({nonNullable:!0,json:{write:!0}})],U.prototype,"alphaCutoff",void 0),(0,D._)([(0,X.MZ)({nonNullable:!0,json:{write:!0}})],U.prototype,"doubleSided",void 0),U=G=(0,D._)([(0,L.$)("esri.geometry.support.MeshMaterial")],U);const k=U},73490:(Ut,ht,r)=>{r.d(ht,{A:()=>k});var G,D=r(8189),H=r(68677),V=r(85211),w=(r(3248),r(35150),r(40707),r(76576)),L=r(14891),C=r(33495),W=r(59723);let U=G=class extends L.A{constructor(M){super(M),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(M,R){const S=null!=M?M.get(this):null;if(S)return S;const z=new G(this.clonePropertiesWithDeduplication(R));return M?.set(this,z),z}getMemoryUsage(){let M=super.getMemoryUsage();return M+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(M+=this.emissiveTexture.memoryUsage),M+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(M+=this.occlusionTexture.memoryUsage),M+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(M+=this.metallicRoughnessTexture.memoryUsage),M+=null!=this.metallicRoughnessTextureTransform?20:0,M}clonePropertiesWithDeduplication(M){return{...super.clonePropertiesWithDeduplication(M),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(M),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(M),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(M),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,D._)([(0,V.MZ)({type:H.A,json:{write:!0}})],U.prototype,"emissiveColor",void 0),(0,D._)([(0,V.MZ)({type:C.A,json:{write:!0}})],U.prototype,"emissiveTexture",void 0),(0,D._)([(0,V.MZ)({type:W.A,json:{write:!0}})],U.prototype,"emissiveTextureTransform",void 0),(0,D._)([(0,V.MZ)({type:C.A,json:{write:!0}})],U.prototype,"occlusionTexture",void 0),(0,D._)([(0,V.MZ)({type:W.A,json:{write:!0}})],U.prototype,"occlusionTextureTransform",void 0),(0,D._)([(0,V.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],U.prototype,"metallic",void 0),(0,D._)([(0,V.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],U.prototype,"roughness",void 0),(0,D._)([(0,V.MZ)({type:C.A,json:{write:!0}})],U.prototype,"metallicRoughnessTexture",void 0),(0,D._)([(0,V.MZ)({type:W.A,json:{write:!0}})],U.prototype,"metallicRoughnessTextureTransform",void 0),U=G=(0,D._)([(0,w.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],U);const k=U},33495:(Ut,ht,r)=>{r.d(ht,{A:()=>ft});var U,D=r(8189),V=(r(3248),r(48116)),X=r(71065),et=r(85211),$=r(55739),L=(r(40707),r(17221)),C=r(76576),W=r(50305),G=r(88135);const k=new WeakMap;let M=0,R=U=class extends X.oY{constructor(P){super(P),this.wrap="repeat"}get url(){return this._get("url")||null}set url(P){this._set("url",P),P&&this._set("data",null)}get data(){return this._get("data")||null}set data(P){this._set("data",P),P&&this._set("url",null)}writeData(P,T,F,J){if(P instanceof HTMLImageElement){const at={type:"image-element",src:(0,G.t)(P.src,J),crossOrigin:P.crossOrigin};T[F]=at}else if(P instanceof HTMLCanvasElement){const at={type:"canvas-element",imageData:S(P.getContext("2d").getImageData(0,0,P.width,P.height))};T[F]=at}else if(P instanceof HTMLVideoElement){const at={type:"video-element",src:(0,G.t)(P.src,J),autoplay:P.autoplay,loop:P.loop,muted:P.muted,crossOrigin:P.crossOrigin,preload:P.preload};T[F]=at}else if(P instanceof ImageData){const at={type:"image-data",imageData:S(P)};T[F]=at}}readData(P){switch(P.type){case"image-element":{const T=new Image;return T.src=P.src,T.crossOrigin=P.crossOrigin,T}case"canvas-element":{const T=z(P.imageData),F=document.createElement("canvas");return F.width=T.width,F.height=T.height,F.getContext("2d").putImageData(T,0,0),F}case"image-data":return z(P.imageData);case"video-element":{const T=document.createElement("video");return T.src=P.src,T.crossOrigin=P.crossOrigin,T.autoplay=P.autoplay,T.loop=P.loop,T.muted=P.muted,T.preload=P.preload,T}default:return}}get transparent(){const P=this.data,T=this.url;if(P instanceof HTMLCanvasElement)return ct(P.getContext("2d").getImageData(0,0,P.width,P.height));if(P instanceof ImageData)return ct(P);if(T){const F=T.substr(T.length-4,4).toLowerCase(),J=T.substr(0,15).toLocaleLowerCase();if(".png"===F||"data:image/png;"===J)return!0}return!1}set transparent(P){this._overrideIfSome("transparent",P)}get contentHash(){const P="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",T=(F="")=>`d:${F},t:${this.transparent},w:${P}`;return null!=this.url?T(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?T(this.data.src):(k.has(this.data)||k.set(this.data,++M),T(k.get(this.data))):T()}get memoryUsage(){let P=0;if(P+=null!=this.url?this.url.length:0,null!=this.data){const T=this.data;"data"in T?P+=T.data.byteLength:T instanceof HTMLImageElement?P+=T.naturalWidth*T.naturalHeight*3:T instanceof HTMLCanvasElement&&(P+=T.width*T.height*3)}return P}clone(){const P={url:this.url,data:this.data,wrap:this._cloneWrap()};return new U(P)}cloneWithDeduplication(P){const T=P.get(this);if(T)return T;const F=this.clone();return P.set(this,F),F}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(P){return"string"==typeof P?new U({url:P}):P instanceof HTMLImageElement||P instanceof HTMLCanvasElement||P instanceof ImageData||P instanceof HTMLVideoElement?new U({data:P}):(0,$.PZ)(U,P)}};function S(P){let T="";for(let F=0;F<P.data.length;F++)T+=String.fromCharCode(P.data[F]);return{data:btoa(T),width:P.width,height:P.height}}function z(P){const T=atob(P.data),F=new Uint8ClampedArray(T.length);for(let J=0;J<T.length;J++)F[J]=T.charCodeAt(J);return(0,V.eV)(F,P.width,P.height)}function ct(P){for(let T=3;T<P.data.length;T+=4)if(255!==P.data[T])return!0;return!1}(0,D._)([(0,et.MZ)({type:String,json:{write:G.w}})],R.prototype,"url",null),(0,D._)([(0,et.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,et.MZ)()],R.prototype,"data",null),(0,D._)([(0,W.K)("data")],R.prototype,"writeData",null),(0,D._)([(0,L.w)("data")],R.prototype,"readData",null),(0,D._)([(0,et.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],R.prototype,"transparent",null),(0,D._)([(0,et.MZ)({json:{write:!0}})],R.prototype,"wrap",void 0),(0,D._)([(0,et.MZ)({readOnly:!0})],R.prototype,"contentHash",null),R=U=(0,D._)([(0,C.$)("esri.geometry.support.MeshTexture")],R);const ft=R},59723:(Ut,ht,r)=>{r.d(ht,{A:()=>W});var D=r(8189),H=r(90660),V=r(71065),X=r(85211),L=(r(3248),r(35150),r(40707),r(76576));let C=class extends((0,H.O)(V.oY)){constructor(G){super(G),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,D._)([(0,X.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],C.prototype,"offset",void 0),(0,D._)([(0,X.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],C.prototype,"rotation",void 0),(0,D._)([(0,X.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],C.prototype,"scale",void 0),C=(0,D._)([(0,L.$)("esri.geometry.support.MeshTextureTransform")],C);const W=C},36812:(Ut,ht,r)=>{r.d(ht,{A:()=>z});var M,D=r(8189),H=r(71065),V=r(85211),w=(r(3248),r(35150),r(40707),r(76576)),L=r(92771),C=r(62789),W=r(19890),G=r(14214),U=r(25866),k=r(63842);let R=M=class extends H.oY{constructor(ct){super(ct),this.translation=(0,U.vt)(),this.rotationAxis=(0,U.ci)(k.up),this.rotationAngle=0,this.scale=(0,U.fA)(1,1,1)}get rotation(){return(0,k.i4)(this.rotationAxis,this.rotationAngle)}set rotation(ct){this.rotationAxis=(0,U.o8)((0,k.yo)(ct)),this.rotationAngle=(0,k.g7)(ct)}get localMatrix(){const ct=(0,C.vt)();return(0,W.x8)(S,(0,k.yo)(this.rotation),(0,k.$I)(this.rotation)),(0,L.o1)(ct,S,this.translation,this.scale),ct}get localMatrixInverse(){return(0,L.B8)((0,C.vt)(),this.localMatrix)}equals(ct){return this===ct||null!=ct&&(0,L.t2)(this.localMatrix,ct.localMatrix)}clone(){const ct={translation:(0,U.o8)(this.translation),rotationAxis:(0,U.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,U.o8)(this.scale)};return new M(ct)}};(0,D._)([(0,V.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],R.prototype,"translation",void 0),(0,D._)([(0,V.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],R.prototype,"rotationAxis",void 0),(0,D._)([(0,V.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],R.prototype,"rotationAngle",void 0),(0,D._)([(0,V.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],R.prototype,"scale",void 0),(0,D._)([(0,V.MZ)()],R.prototype,"rotation",null),(0,D._)([(0,V.MZ)()],R.prototype,"localMatrix",null),(0,D._)([(0,V.MZ)()],R.prototype,"localMatrixInverse",null),R=M=(0,D._)([(0,w.$)("esri.geometry.support.MeshTransform")],R);const S=(0,G.vt)(),z=R},39465:(Ut,ht,r)=>{r.d(ht,{H:()=>C,b:()=>G});var L,D=r(8189),H=r(71065),V=r(77806),X=r(35150),et=r(85211),$=r(48669),w=r(76576);let C=L=class extends H.oY{constructor(M){super(M),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(M){return G(M,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},X.A.getLogger(this))}castPosition(M){return M&&M instanceof Float32Array&&X.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),G(M,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},X.A.getLogger(this))}castUv(M){return G(M,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},X.A.getLogger(this))}castNormal(M){return G(M,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},X.A.getLogger(this))}castTangent(M){return G(M,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},X.A.getLogger(this))}clone(){const M={position:(0,V.o8)(this.position),uv:(0,V.o8)(this.uv),normal:(0,V.o8)(this.normal),tangent:(0,V.o8)(this.tangent),color:(0,V.o8)(this.color)};return new L(M)}clonePositional(){const M={position:(0,V.o8)(this.position),normal:(0,V.o8)(this.normal),tangent:(0,V.o8)(this.tangent),uv:this.uv,color:this.color};return new L(M)}get memoryUsage(){let M=0;return M+=this.position.byteLength,null!=this.uv&&(M+=this.uv.byteLength),null!=this.normal&&(M+=this.normal.byteLength),null!=this.tangent&&(M+=this.tangent.byteLength),null!=this.color&&(M+=this.color.byteLength),M}};function W(M,R,S,z){const{loggerTag:ct,stride:ft}=R;return M.length%ft!=0?(z.error(ct,`Invalid array length, expected a multiple of ${ft}`),new S([])):M}function G(M,R,S,z,ct){if(!M)return M;if(M instanceof R)return W(M,z,R,ct);for(const ft of S)if(M instanceof ft)return W(new R(M),z,R,ct);if(Array.isArray(M))return W(new R(M),z,R,ct);{const ft=S.map(P=>`'${P.name}'`);return ct.error(`Failed to set property, expected one of ${ft}, but got ${M.constructor.name}`),new R([])}}function U(M,R,S){R[S]=function k(M){const R=new Array(M.length);for(let S=0;S<M.length;S++)R[S]=M[S];return R}(M)}(0,D._)([(0,et.MZ)({json:{write:U}})],C.prototype,"color",void 0),(0,D._)([(0,$.w)("color")],C.prototype,"castColor",null),(0,D._)([(0,et.MZ)({nonNullable:!0,json:{write:U}})],C.prototype,"position",void 0),(0,D._)([(0,$.w)("position")],C.prototype,"castPosition",null),(0,D._)([(0,et.MZ)({json:{write:U}})],C.prototype,"uv",void 0),(0,D._)([(0,$.w)("uv")],C.prototype,"castUv",null),(0,D._)([(0,et.MZ)({json:{write:U}})],C.prototype,"normal",void 0),(0,D._)([(0,$.w)("normal")],C.prototype,"castNormal",null),(0,D._)([(0,et.MZ)({json:{write:U}})],C.prototype,"tangent",void 0),(0,D._)([(0,$.w)("tangent")],C.prototype,"castTangent",null),C=L=(0,D._)([(0,w.$)("esri.geometry.support.MeshVertexAttributes")],C)},63842:(Ut,ht,r)=>{r.d(ht,{$I:()=>P,AU:()=>z,g7:()=>ft,i4:()=>k,ui:()=>R,up:()=>F,vt:()=>L,yo:()=>ct});var D=r(69287),H=r(92771),V=r(19890),X=r(14214),et=r(28714),$=r(25866);function L(Y=F){return[Y[0],Y[1],Y[2],Y[3]]}function k(Y,Z,ut=L()){return(0,et.c)(ut,Y),ut[3]=Z,ut}function R(Y,Z=L()){const ut=(0,H.l)(J,Y);return T(Z,(0,D.KJ)((0,V.Xd)(Z,ut))),Z}function S(Y,Z,ut=L()){return(0,V.x8)(J,Y,P(Y)),(0,V.x8)(at,Z,P(Z)),(0,V.lw)(J,at,J),T(ut,(0,D.KJ)((0,V.Xd)(ut,J)))}function z(Y,Z,ut,gt=L()){return k($.Cw,Y,Tt),k($.JP,Z,pt),k($.Cb,ut,xt),S(Tt,pt,Tt),S(Tt,xt,gt),gt}function ct(Y){return Y}function ft(Y){return Y[3]}function P(Y){return(0,D.kU)(Y[3])}function T(Y,Z){return Y[3]=Z,Y}r(89141);const F=[0,0,1,0],J=(0,X.vt)(),at=(0,X.vt)(),Tt=(L(),L()),pt=L(),xt=L()},33019:(Ut,ht,r)=>{r.d(ht,{Bq:()=>w,Qp:()=>$,WN:()=>ft,dK:()=>P,eN:()=>M,fH:()=>ct,in:()=>R,yr:()=>L});var D=r(10467),H=r(89563),V=r(89952),X=r(56492),et=r(6829);class ${constructor(F,J,at){this.assetName=F,this.assetMimeType=J,this.parts=at}equals(F){return this===F||this.assetName===F.assetName&&this.assetMimeType===F.assetMimeType&&(0,V.aI)(this.parts,F.parts,(J,at)=>J.equals(at))}isOnService(F){return this.parts.every(J=>J.isOnService(F))}makeHash(){let F="";for(const J of this.parts)F+=J.partHash;return F}toBlob(F){var J=this;return(0,D.A)(function*(){const{parts:at}=J;if(1===at.length)return at[0].toBlob(F);const At=yield Promise.all(at.map(Tt=>Tt.toBlob(F)));return(0,X.Te)(F),new Blob(At)})()}}class w{constructor(F,J){this.partUrl=F,this.partHash=J}equals(F){return this===F||this.partUrl===F.partUrl&&this.partHash===F.partHash}isOnService(F){return this.partUrl.startsWith(`${F.path}/assets/`)}toBlob(F){var J=this;return(0,D.A)(function*(){const{data:at}=yield(0,H.A)(J.partUrl,{responseType:"blob"});return(0,X.Te)(F),at})()}}function L(T){return function U(T){return!!T&&(Array.isArray(T)?T.some(k):k(T))}(T?.source)}function C(T){return!!Array.isArray(T)&&T.every(F=>F instanceof $)}const W=/^(model\/gltf\+json)|(model\/gltf-binary)$/,G=/\.(gltf|glb)/i;function k(T){if(T instanceof File){const{type:F,name:J}=T;return W.test(F)||G.test(J)}return W.test(T.assetMimeType)||G.test(T.assetName)}function M(T,F){if(!T)return!1;const{source:J}=T;return function S(T,F){return Array.isArray(T)?T.length>0&&T.every(at=>z(at,F)):z(T,F)}(J,F)}function R(T,F){if(T===F)return!0;const{source:J}=T,{source:at}=F;if(J===at)return!0;if(C(J)&&C(at)){if(J.length!==at.length)return!1;const At=(xt,Y)=>xt.assetName<Y.assetName?-1:xt.assetName>Y.assetName?1:0,Tt=[...J].sort(At),pt=[...at].sort(At);for(let xt=0;xt<Tt.length;++xt)if(!Tt[xt].equals(pt[xt]))return!1;return!0}return!1}function z(T,F){return T instanceof $&&T.isOnService(F)}function ct(T,F){return T instanceof File?(0,et.rq)(T,F):(0,et.R_)(T.assetMimeType,F)??(0,et.E1)(T.assetName,F)}function ft(T){return Array.isArray(T)?T:[T]}function P(T){return!!T.original}},38118:(Ut,ht,r)=>{r.d(ht,{b:()=>V});var D=r(69287),H=r(83034);function V(L,C,W){const G=Array.isArray(L),U=G?L.length/C:L.byteLength/(4*C),k=G?L:new Uint32Array(L,0,U*C),M=W?.minReduction??0,R=W?.originalIndices||null,S=R?R.length:0,z=W?.componentOffsets||null;let ct=0;if(z)for(let Z=0;Z<z.length-1;Z++){const ut=z[Z+1]-z[Z];ut>ct&&(ct=ut)}else ct=U;const ft=Math.floor(1.1*ct)+1;(null==w||w.length<2*ft)&&(w=new Uint32Array((0,D.cU)(2*ft)));for(let Z=0;Z<2*ft;Z++)w[Z]=0;let P=0;const T=!!z&&!!R,F=T?S:U;let J=(0,H.my)(U);const at=new Uint32Array(S);let Tt=0!==M?Math.ceil(7.84*1.96/(M*M)*M*(1-M)):F,pt=1,xt=z?z[1]:F;for(let Z=0;Z<F;Z++){if(Z===Tt){const Pt=1-P/Z;if(Pt+1.96*Math.sqrt(Pt*(1-Pt)/Z)<M)return null;Tt*=2}if(Z===xt){for(let Pt=0;Pt<2*ft;Pt++)w[Pt]=0;if(R)for(let Pt=z[pt-1];Pt<z[pt];Pt++)at[Pt]=J[R[Pt]];xt=z[++pt]}const ut=T?R[Z]:Z,gt=ut*C,Et=$(k,gt,C);let dt=Et%ft,Rt=P;for(;0!==w[2*dt+1];){if(w[2*dt]===Et){const Pt=w[2*dt+1]-1;if(X(k,gt,Pt*C,C)){Rt=J[Pt];break}}dt++,dt>=ft&&(dt-=ft)}Rt===P&&(w[2*dt]=Et,w[2*dt+1]=ut+1,P++),J[ut]=Rt}if(0!==M&&1-P/U<M)return null;if(T){for(let Z=z[pt-1];Z<at.length;Z++)at[Z]=J[R[Z]];J=(0,H.Dg)(at)}const Y=G?new Array(P):new Uint32Array(P*C);P=0;for(let Z=0;Z<F;Z++)J[Z]===P&&(et(k,(T?R[Z]:Z)*C,Y,P*C,C),P++);if(R&&!T){const Z=new Uint32Array(S);for(let ut=0;ut<Z.length;ut++)Z[ut]=J[R[ut]];J=(0,H.Dg)(Z)}return{buffer:Array.isArray(Y)?Y:Y.buffer,indices:J,uniqueCount:P}}function X(L,C,W,G){for(let U=0;U<G;U++)if(L[C+U]!==L[W+U])return!1;return!0}function et(L,C,W,G,U){for(let k=0;k<U;k++)W[G+k]=L[C+k]}function $(L,C,W){let G=0;for(let U=0;U<W;U++)G=L[C+U]+G|0,G=G+(G<<11)+(G>>>2)|0;return G>>>0}let w=null},1490:(Ut,ht,r)=>{r.d(ht,{c:()=>X});var D=r(23159),H=r(78559);function X(et,$,w,L){if(void 0!==L){(0,D.io)(et(),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const C="local"===$.type;if(!(0,H.Hq)($)||L===C)return w.isGeographic||w.isWebMercator&&L;et().warnOnce(`Specifying the 'geographic' parameter (${L}) for a Mesh vertex space of type "${$.type}" is not supported. This parameter will be ignored.`)}switch($.type){case"georeferenced":return w.isGeographic;case"local":return w.isGeographic||w.isWebMercator}}},30429:(Ut,ht,r)=>{r.r(ht),r.d(ht,{VectorType:()=>gt,loadProjectErrorMessage:()=>ft,logProjectionError:()=>P,project:()=>Pt,projectFromPCPF:()=>at,projectNormalFromPCPF:()=>F,projectNormalToPCPF:()=>T,projectTangentFromPCPF:()=>ut,projectTangentToPCPF:()=>Z,projectToPCPF:()=>J,transformNormal:()=>At,transformTangent:()=>Tt,transformVectorENUPlateCarree:()=>pt,transformVectorWMPlateCarree:()=>xt});var D=r(69287),H=r(31610),V=r(32954),X=r(92771),et=r(62789),$=r(28714),w=r(25866),L=r(11817),C=r(65580),W=r(37605),G=r(23234),U=r(23653),k=r(47258),M=r(58701),R=r(55039),S=r(45434),z=r(10442),ct=r(17559);const ft="Projection may be possible after calling projection.load().";function P(i,d,x,O){i.error(`Failed to project from (wkid:${d.wkid}) to (wkid:${x.wkid}).${O?" ":""}${O}`)}function T(i,d,x,O,B){return Rt(Et.TO_PCPF,S.xs.fromTypedArray(i),gt.NORMAL,S.Xm.fromTypedArray(d),S.Xm.fromTypedArray(x),O,S.xs.fromTypedArray(B))?B:null}function F(i,d,x,O,B){return Rt(Et.FROM_PCPF,S.xs.fromTypedArray(i),gt.NORMAL,S.Xm.fromTypedArray(d),S.Xm.fromTypedArray(x),O,S.xs.fromTypedArray(B))?B:null}function J(i,d,x){return(0,G.projectBuffer)(i,d,0,x,(0,C.lO)(d),0,i.length/3)?x:null}function at(i,d,x){return(0,G.projectBuffer)(i,(0,C.lO)(x),0,d,x,0,i.length/3)?d:null}function At(i,d,x){return(0,H.Ge)(h,x),(0,z.t)(d,i,h),(0,D.or)(h)&&(0,z.n)(d,d),d}function Tt(i,d,x){return(0,H.z0)(h,x),(0,ct.t)(d,i,h),(0,D.or)(h)&&(0,z.n)(d,d,4),d}function pt(i,d,x,O){const B=d===gt.NORMAL;return Y(i,d,x,(q,ot)=>{const tt=Math.cos((0,D.kU)(q));ot[0]=B?tt:1/tt,ot[1]=1},O)}function xt(i,d,x,O){const B=d===gt.NORMAL;return Y(i,d,x,(q,ot)=>{const tt=Math.cosh(-q/k.$O.radius);ot[0]=1,ot[1]=B?tt:1/tt},O)}function Y(i,d,x,O,B){const q=d===gt.NORMAL?3:4,ot=[0,0];for(let tt=0,vt=1;tt<i.length;tt+=q,vt+=3){O(x[vt],ot);const nt=i[tt]*ot[0],it=i[tt+1]*ot[1],yt=i[tt+2],St=1/Math.sqrt(nt*nt+it*it+yt*yt);B[tt]=nt*St,B[tt+1]=it*St,B[tt+2]=yt*St,4===q&&(B[tt+3]=i[tt+3])}return B}function Z(i,d,x,O,B){if(!Rt(Et.TO_PCPF,S.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT),gt.TANGENT,S.Xm.fromTypedArray(d),S.Xm.fromTypedArray(x),O,S.xs.fromTypedArray(B,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let q=3;q<i.length;q+=4)B[q]=i[q];return B}function ut(i,d,x,O,B){if(!Rt(Et.FROM_PCPF,S.xs.fromTypedArray(i,16),gt.TANGENT,S.Xm.fromTypedArray(d),S.Xm.fromTypedArray(x),O,S.xs.fromTypedArray(B,16)))return null;for(let q=3;q<i.length;q+=4)B[q]=i[q];return B}var gt,Et,i;function dt(i,d,x,O,B){switch((0,W.l)(O,x,_,O),i===Et.FROM_PCPF&&(0,X.B8)(_,_),d){case gt.NORMAL:return(0,H.Ge)(B,_);case gt.TANGENT:return(0,H.z0)(B,_)}}function Rt(i,d,x,O,B,q,ot){if(!d)return;const tt=O.count,vt=(0,C.lO)(q);if(function jt(i){return i.isWGS84||(0,M.x1)(i)||(0,M.q8)(i)||(0,M.KQ)(i)}(q))for(let nt=0;nt<tt;nt++)B.getVec(nt,e),d.getVec(nt,c),(0,$.t)(c,c,dt(i,x,e,vt,h)),ot.setVec(nt,c);else for(let nt=0;nt<tt;nt++){B.getVec(nt,e),d.getVec(nt,c);const it=(0,R.jg)(O.get(nt,1));let yt=Math.cos(it);x===gt.TANGENT!=(i===Et.TO_PCPF)&&(yt=1/yt),dt(i,x,e,vt,h),i===Et.TO_PCPF?(h[0]*=yt,h[1]*=yt,h[2]*=yt,h[3]*=yt,h[4]*=yt,h[5]*=yt):(h[0]*=yt,h[3]*=yt,h[6]*=yt,h[1]*=yt,h[4]*=yt,h[7]*=yt),(0,$.t)(c,c,h),(0,$.n)(c,c),ot.setVec(nt,c)}return ot}function Pt(i){return"local"===i.vertexSpace.type?function Ft({vertexSpace:i,transform:d,inSpatialReference:x,outSpatialReference:O,localMode:B,outPositions:q,positions:ot}){const tt=i.origin??w.uY,vt=null!=i.origin?d?.localMatrix??et.zK:et.zK,nt=(0,C.lO)(x),it=O.isWebMercator&&B||!(0,L.canProjectWithoutEngine)(x,nt)?x:nt;(0,W.l)(x,tt,_,it),(0,X.lw)(_,_,vt);const yt=q??(0,U.jh)(ot.length);return(0,z.a)(yt,ot,_),(0,G.projectBuffer)(yt,it,0,yt,O,0,yt.length/3),yt}(i):function wt({vertexSpace:i,transform:d,outPositions:x,positions:O,inSpatialReference:B,outSpatialReference:q}){const ot=null!=i.origin?d?.localMatrix??et.zK:et.zK,tt=x??(0,U.jh)(O.length);(0,X.aI)(ot,et.zK)?(0,U.s)(tt,O):(0,z.a)(tt,O,ot);const vt=i.origin??w.uY;if(!(0,$.e)(vt,w.uY)){const[nt,it,yt]=vt;for(let St=0;St<tt.length;St+=3)tt[St]+=nt,tt[St+1]+=it,tt[St+2]+=yt}return(0,G.projectBuffer)(tt,B,0,tt,q,0,tt.length/3)?tt:null}(i)}(i=gt||(gt={}))[i.NORMAL=0]="NORMAL",i[i.TANGENT=1]="TANGENT",function(i){i[i.TO_PCPF=0]="TO_PCPF",i[i.FROM_PCPF=1]="FROM_PCPF"}(Et||(Et={}));const e=(0,w.vt)(),c=(0,w.vt)(),_=(0,et.vt)(),h=(0,V.vt)()},12738:(Ut,ht,r)=>{r.d(ht,{UR:()=>ct,p5:()=>z,xK:()=>Et});var D=r(35150),H=r(69287),V=r(82663),X=r(31610),et=r(32954),$=r(92771),w=r(62789),L=r(28714),C=r(25866),W=r(65580),G=r(37605),U=r(16590),k=r(78559),M=r(10442),R=r(30429);const S=()=>D.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function z(e,c,{vertexSpace:_,spatialReference:h}){if("georeferenced"===_.type){const q=e;if(!(0,U.g)(c,q,h))return!1;const{origin:ot}=_;return(0,L.f)(e,q,ot),!0}const i=(0,W.lO)(h),d=e;if(!(0,U.g)(c,d,i))return!1;const{origin:x}=_,O=wt;if(!(0,G.l)(h,x,O,i))return!1;const B=(0,$.B8)(wt,O);return null!=B&&((0,L.h)(e,d,B),!0)}function ct(e,c,_){const{vertexSpace:h,transform:i,vertexAttributes:d}=e,x=Y(e.spatialReference,_,jt.SOURCE|jt.TARGET);if((0,k.yJ)(h,c)&&(!i||(0,$.t2)(i.localMatrix,w.zK))&&(0,H.Io)(x,1)){const{position:O,normal:B,tangent:q}=d,ot=_?.allowBufferReuse;return{position:ot?O:O.slice(),normal:ot?B:B?.slice(),tangent:ot?q:q?.slice()}}switch(e.vertexSpace.type){case"local":return"local"===c.type?function J({vertexAttributes:e,spatialReference:c,transform:_},{origin:h},i,d){const x=(0,W.lO)(c);if(!(0,G.l)(c,h,dt,x))return(0,R.logProjectionError)(S(),c,x),null;if(_&&(0,$.lw)(dt,dt,_.localMatrix),!(0,G.l)(c,i,Rt,x))return(0,R.logProjectionError)(S(),x,c),null;(0,$.B8)(Rt,Rt);const O=(0,$.lw)(dt,Rt,dt);return xt(O,c,d,jt.SOURCE|jt.TARGET),at(e,O)}(e,e.vertexSpace,c.origin,_):function P({spatialReference:e,vertexAttributes:c,transform:_},{origin:h},i,d){const x=(0,W.lO)(e);if(!(0,G.l)(e,h,dt,x))return(0,R.logProjectionError)(S(),e,x),null;_&&(0,$.lw)(dt,dt,_.localMatrix),xt(dt,e,d,jt.SOURCE);const O=new Float64Array(c.position.length),B=function At(e,c,_,h){(0,M.a)(h,e,c);const i=new Float64Array(e.length);return(0,R.projectFromPCPF)(h,i,_)?i:((0,R.logProjectionError)(S(),(0,W.lO)(_),_),null)}(c.position,dt,e,O);if(!B)return null;const q=function Tt(e,c,_,h,i){if(null==_)return null;const d=new Float32Array(_.length);return(0,R.transformNormal)(_,d,h),(0,R.projectNormalFromPCPF)(d,e,c,i,d)?d:((0,R.logProjectionError)(S(),(0,W.lO)(i),i),null)}(B,O,c.normal,dt,e);if(c.normal&&!q)return null;const ot=function pt(e,c,_,h,i){if(null==_)return null;const d=new Float32Array(_.length);return(0,R.transformTangent)(_,d,h),(0,R.projectTangentFromPCPF)(d,e,c,i,d)?d:((0,R.logProjectionError)(S(),(0,W.lO)(i),i),null)}(B,O,c.tangent,dt,e);if(c.tangent&&!ot)return null;if(i){const tt=(0,L.k)(Ft,i);(0,M.b)(B,B,tt)}return{position:B,normal:q,tangent:ot}}(e,e.vertexSpace,c.origin,_);case"georeferenced":return"local"===c.type?function T({vertexAttributes:e,spatialReference:c,transform:_},{origin:h},i,d){const x=(0,W.lO)(c);if(!(0,G.l)(c,i,dt,x))return(0,R.logProjectionError)(S(),c,x),null;const O=1/Y(c,d,jt.TARGET);(0,$.hs)(dt,dt,[O,O,O]);const B=(0,$.B8)(Rt,dt),{position:q,normal:ot,tangent:tt}=function F(e,c,_){if(!c)return e;if(!_){const{position:i,normal:d,tangent:x}=e;return{position:(0,M.b)(new Float64Array(i.length),i,c),tangent:x,normal:d}}const h=at(e,_.localMatrix);return(0,M.b)(h.position,h.position,c),h}(e,h,_),vt=new Float64Array(q.length),nt=function Z(e,c,_,h){const i=(0,R.projectToPCPF)(e,c,h);if(!i)return(0,R.logProjectionError)(S(),c,(0,W.lO)(c)),null;const d=new Float64Array(i.length);return(0,M.a)(d,i,_),d}(q,c,B,vt);if(!nt)return null;const it=(0,X.Ge)(Pt,B),yt=function ut(e,c,_,h,i,d){if(null==e)return null;const x=d??new Float32Array(e.length);return(0,R.projectNormalToPCPF)(e,c,_,h,x)?((0,M.t)(x,x,i),x):((0,R.logProjectionError)(S(),h,(0,W.lO)(h)),null)}(ot,q,vt,c,it,ot!==e.normal?ot:void 0);if(!yt&&ot)return null;const St=function gt(e,c,_,h,i,d){if(null==e)return null;const x=d??new Float32Array(e.length);return(0,R.projectTangentToPCPF)(e,c,_,h,x)?((0,M.t)(x,x,i,4),x):((0,R.logProjectionError)(S(),h,(0,W.lO)(h)),null)}(tt,q,vt,c,it,tt!==e.tangent?tt:void 0);return!St&&tt?null:{position:nt,normal:yt,tangent:St}}(e,e.vertexSpace,c.origin,_):function ft({vertexAttributes:e,transform:c,spatialReference:_},{origin:h},i,d){const{position:x,normal:O,tangent:B}=c?at(e,c.localMatrix):e,q=new Float64Array(x.length);let ot=x;if(h&&(ot=(0,M.b)(q,ot,h)),i){const vt=(0,L.k)(Ft,i);ot=(0,M.b)(q,ot,vt)}Y(_,d,jt.NONE);const tt=d?.allowBufferReuse;return{position:ot!==e.position||tt?ot:ot.slice(),normal:O!==e.normal||tt?O:O?.slice(),tangent:B!==e.tangent||tt?B:B?.slice()}}(e,e.vertexSpace,c.origin,_)}}function at(e,c){const _=new Float64Array(e.position.length);(0,M.a)(_,e.position,c);const h=e.normal?new Float32Array(e.normal.length):null,i=e.tangent?new Float32Array(e.tangent.length):null;return h&&e.normal&&(0,R.transformNormal)(e.normal,h,c),i&&e.tangent&&(0,R.transformTangent)(e.tangent,i,c),{position:_,normal:h,tangent:i}}function xt(e,c,_,h){const i=Y(c,_,h);1!==i&&(0,$.hs)(e,e,[i,i,i])}function Y(e,c,_){const h=!!(_&jt.SOURCE),i=!!(_&jt.TARGET),d=c?.sourceUnit,x=c?.targetUnit;if(!d&&!x)return 1;let O=Et(d,e);!h&&d&&1!==O&&(S().warn("source unit conversion not supported"),O=1);let B=1/Et(x,e);return!i&&x&&1!==B&&(S().warn("target unit conversion not supported"),B=1),O*B}function Et(e,c){if(null==e)return 1;const _=(0,V.KX)(c);return 1/(0,V.oU)(_,"meters",e)}const dt=(0,w.vt)(),Rt=(0,w.vt)(),Pt=(0,et.vt)(),Ft=(0,C.vt)(),wt=(0,w.vt)();var jt,e;(e=jt||(jt={}))[e.NONE=0]="NONE",e[e.SOURCE=1]="SOURCE",e[e.TARGET=2]="TARGET"},78559:(Ut,ht,r)=>{r.d(ht,{CK:()=>W,Hq:()=>C,MW:()=>G,TE:()=>U,yJ:()=>R});var D=r(23159),H=r(35150),V=r(28714),X=r(1749),et=r(38352),$=r(58315);function w(){return H.A.getLogger("esri.geometry.Mesh")}function C(S){return null!=S.origin}function W(S){return C(S.vertexSpace)}function G(S,z){if(!C(S))return null;const[ct,ft,P]=S.origin;return new X.A({x:ct,y:ft,z:P,spatialReference:z})}function U(S,z){const{x:ct,y:ft,z:P,spatialReference:T}=S,F=[ct,ft,P??0];return void 0!==z?.geographic&&((0,D.io)(w(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),z.vertexSpace&&w().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(z?.vertexSpace??function M(S){return null==S?void 0:S?"local":"georeferenced"}(z?.geographic)??function k(S){return S.isGeographic||S.isWebMercator?"local":"georeferenced"}(T))?new $.A({origin:F}):new et.A({origin:F})}function R(S,z){return S.type===z.type&&(S.origin===z.origin||null!=S.origin&&null!=z.origin&&(0,V.e)(S.origin,z.origin))}}}]);