"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[1816],{92405:(Qt,Gt,j)=>{j.d(Gt,{e:()=>xt});var Ot,Y,tt=j(93293),k={exports:{}};Ot=k,void 0!==(Y=function(){function At(h,d,E){E=E||2;var _,I,N,O,H,W,yt,_t=d&&d.length,It=_t?d[0]*E:h.length,lt=ot(h,0,It,E,!0),Q=[];if(!lt||lt.next===lt.prev)return Q;if(_t&&(lt=function m(h,d,E,_){var I,N,O,H=[];for(I=0,N=d.length;I<N;I++)(O=ot(h,d[I]*_,I<N-1?d[I+1]*_:h.length,_,!1))===O.next&&(O.steiner=!0),H.push(Dt(O));for(H.sort(q),I=0;I<H.length;I++)E=S(E=Et(H[I],E),E.next);return E}(h,d,lt,E)),h.length>80*E){_=N=h[0],I=O=h[1];for(var K=E;K<It;K+=E)(H=h[K])<_&&(_=H),(W=h[K+1])<I&&(I=W),H>N&&(N=H),W>O&&(O=W);yt=0!==(yt=Math.max(N-_,O-I))?1/yt:0}return G(lt,Q,E,_,I,yt),Q}function ot(h,d,E,_,I){var N,O;if(I===kt(h,d,E,_)>0)for(N=d;N<E;N+=_)O=nt(N,h[N],h[N+1],O);else for(N=E-_;N>=d;N-=_)O=nt(N,h[N],h[N+1],O);if(O&&ct(O,O.next)){var H=O.next;ht(O),O=H}return O}function S(h,d){if(!h)return h;d||(d=h);var E,_=h;do{if(E=!1,_.steiner||!ct(_,_.next)&&0!==Z(_.prev,_,_.next))_=_.next;else{var I=_.prev;if(ht(_),(_=d=I)===_.next)break;E=!0}}while(E||_!==d);return d}function G(h,d,E,_,I,N,O){if(h){!O&&N&&function Ut(h,d,E,_){var I=h;do{null===I.z&&(I.z=Mt(I.x,I.y,d,E,_)),I.prevZ=I.prev,I.nextZ=I.next,I=I.next}while(I!==h);I.prevZ.nextZ=null,I.prevZ=null,function Rt(h){var d,E,_,I,N,O,H,W,yt=1;do{for(E=h,h=null,N=null,O=0;E;){for(O++,_=E,H=0,d=0;d<yt&&(H++,_=_.nextZ);d++);for(W=yt;H>0||W>0&&_;)0!==H&&(0===W||!_||E.z<=_.z)?(I=E,E=E.nextZ,H--):(I=_,_=_.nextZ,W--),N?N.nextZ=I:h=I,I.prevZ=N,N=I;E=_}N.nextZ=null,yt*=2}while(O>1)}(I)}(h,_,I,N);for(var H,W,yt=h;h.prev!==h.next;)if(H=h.prev,W=h.next,N?P(h,_,I,N):v(h))d.push(H.i/E),d.push(h.i/E),d.push(W.i/E),ht(h),h=W.next,yt=W.next;else if((h=W)===yt){O?1===O?G(h=$(S(h),d,E),d,E,_,I,N,2):2===O&&w(h,d,E,_,I,N):G(S(h),d,E,_,I,N,1);break}}}function v(h){var d=h.prev,E=h,_=h.next;if(Z(d,E,_)>=0)return!1;for(var I=h.next.next;I!==h.prev;){if(St(d.x,d.y,E.x,E.y,_.x,_.y,I.x,I.y)&&Z(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function P(h,d,E,_){var I=h.prev,N=h,O=h.next;if(Z(I,N,O)>=0)return!1;for(var yt=I.x>N.x?I.x>O.x?I.x:O.x:N.x>O.x?N.x:O.x,_t=I.y>N.y?I.y>O.y?I.y:O.y:N.y>O.y?N.y:O.y,It=Mt(I.x<N.x?I.x<O.x?I.x:O.x:N.x<O.x?N.x:O.x,I.y<N.y?I.y<O.y?I.y:O.y:N.y<O.y?N.y:O.y,d,E,_),lt=Mt(yt,_t,d,E,_),Q=h.prevZ,K=h.nextZ;Q&&Q.z>=It&&K&&K.z<=lt;){if(Q!==h.prev&&Q!==h.next&&St(I.x,I.y,N.x,N.y,O.x,O.y,Q.x,Q.y)&&Z(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,K!==h.prev&&K!==h.next&&St(I.x,I.y,N.x,N.y,O.x,O.y,K.x,K.y)&&Z(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Q&&Q.z>=It;){if(Q!==h.prev&&Q!==h.next&&St(I.x,I.y,N.x,N.y,O.x,O.y,Q.x,Q.y)&&Z(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;K&&K.z<=lt;){if(K!==h.prev&&K!==h.next&&St(I.x,I.y,N.x,N.y,O.x,O.y,K.x,K.y)&&Z(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function $(h,d,E){var _=h;do{var I=_.prev,N=_.next.next;!ct(I,N)&&J(I,_,_.next,N)&&t(I,N)&&t(N,I)&&(d.push(I.i/E),d.push(_.i/E),d.push(N.i/E),ht(_),ht(_.next),_=h=N),_=_.next}while(_!==h);return S(_)}function w(h,d,E,_,I,N){var O=h;do{for(var H=O.next.next;H!==O.prev;){if(O.i!==H.i&&gt(O,H)){var W=Ft(O,H);return O=S(O,O.next),W=S(W,W.next),G(O,d,E,_,I,N),void G(W,d,E,_,I,N)}H=H.next}O=O.next}while(O!==h)}function q(h,d){return h.x-d.x}function ft(h){if(h.next.prev===h)return h;let d=h;for(;;){const E=d.next;if(E.prev===d||E===d||E===h)break;d=E}return d}function Et(h,d){var E=function pt(h,d){var E,_=d,I=h.x,N=h.y,O=-1/0;do{if(N<=_.y&&N>=_.next.y&&_.next.y!==_.y){var H=_.x+(N-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(H<=I&&H>O){if(O=H,H===I){if(N===_.y)return _;if(N===_.next.y)return _.next}E=_.x<_.next.x?_:_.next}}_=_.next}while(_!==d);if(!E)return null;if(I===O)return E;var W,yt=E,_t=E.x,It=E.y,lt=1/0;_=E;do{I>=_.x&&_.x>=_t&&I!==_.x&&St(N<It?I:O,N,_t,It,N<It?O:I,N,_.x,_.y)&&(W=Math.abs(N-_.y)/(I-_.x),t(_,h)&&(W<lt||W===lt&&(_.x>E.x||_.x===E.x&&Bt(E,_)))&&(E=_,lt=W)),_=_.next}while(_!==yt);return E}(h,d);if(!E)return d;var _=Ft(E,h),I=S(E,E.next);let N=ft(_);return S(N,N.next),I=ft(I),ft(d===E?I:d)}function Bt(h,d){return Z(h.prev,h,d.prev)<0&&Z(d.next,h,h.next)<0}function Mt(h,d,E,_,I){return(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=32767*(h-E)*I)|h<<8))|h<<4))|h<<2))|h<<1))|(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=32767*(d-_)*I)|d<<8))|d<<4))|d<<2))|d<<1))<<1}function Dt(h){var d=h,E=h;do{(d.x<E.x||d.x===E.x&&d.y<E.y)&&(E=d),d=d.next}while(d!==h);return E}function St(h,d,E,_,I,N,O,H){return(I-O)*(d-H)-(h-O)*(N-H)>=0&&(h-O)*(_-H)-(E-O)*(d-H)>=0&&(E-O)*(N-H)-(I-O)*(_-H)>=0}function gt(h,d){return h.next.i!==d.i&&h.prev.i!==d.i&&!function B(h,d){var E=h;do{if(E.i!==h.i&&E.next.i!==h.i&&E.i!==d.i&&E.next.i!==d.i&&J(E,E.next,h,d))return!0;E=E.next}while(E!==h);return!1}(h,d)&&(t(h,d)&&t(d,h)&&function Ht(h,d){var E=h,_=!1,I=(h.x+d.x)/2,N=(h.y+d.y)/2;do{E.y>N!=E.next.y>N&&E.next.y!==E.y&&I<(E.next.x-E.x)*(N-E.y)/(E.next.y-E.y)+E.x&&(_=!_),E=E.next}while(E!==h);return _}(h,d)&&(Z(h.prev,h,d.prev)||Z(h,d.prev,d))||ct(h,d)&&Z(h.prev,h,h.next)>0&&Z(d.prev,d,d.next)>0)}function Z(h,d,E){return(d.y-h.y)*(E.x-d.x)-(d.x-h.x)*(E.y-d.y)}function ct(h,d){return h.x===d.x&&h.y===d.y}function J(h,d,E,_){var I=Pt(Z(h,d,E)),N=Pt(Z(h,d,_)),O=Pt(Z(E,_,h)),H=Pt(Z(E,_,d));return I!==N&&O!==H||!(0!==I||!et(h,E,d))||!(0!==N||!et(h,_,d))||!(0!==O||!et(E,h,_))||!(0!==H||!et(E,d,_))}function et(h,d,E){return d.x<=Math.max(h.x,E.x)&&d.x>=Math.min(h.x,E.x)&&d.y<=Math.max(h.y,E.y)&&d.y>=Math.min(h.y,E.y)}function Pt(h){return h>0?1:h<0?-1:0}function t(h,d){return Z(h.prev,h,h.next)<0?Z(h,d,h.next)>=0&&Z(h,h.prev,d)>=0:Z(h,d,h.prev)<0||Z(h,h.next,d)<0}function Ft(h,d){var E=new at(h.i,h.x,h.y),_=new at(d.i,d.x,d.y),I=h.next,N=d.prev;return h.next=d,d.prev=h,E.next=I,I.prev=E,_.next=E,E.prev=_,N.next=_,_.prev=N,_}function nt(h,d,E,_){var I=new at(h,d,E);return _?(I.next=_.next,I.prev=_,_.next.prev=I,_.next=I):(I.prev=I,I.next=I),I}function ht(h){h.next.prev=h.prev,h.prev.next=h.next,h.prevZ&&(h.prevZ.nextZ=h.nextZ),h.nextZ&&(h.nextZ.prevZ=h.prevZ)}function at(h,d,E){this.i=h,this.x=d,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function kt(h,d,E,_){for(var I=0,N=d,O=E-_;N<E;N+=_)I+=(h[O]-h[N])*(h[N+1]+h[O+1]),O=N;return I}return At.deviation=function(h,d,E,_){var I=d&&d.length,O=Math.abs(kt(h,0,I?d[0]*E:h.length,E));if(I)for(var H=0,W=d.length;H<W;H++)O-=Math.abs(kt(h,d[H]*E,H<W-1?d[H+1]*E:h.length,E));var It=0;for(H=0;H<_.length;H+=3){var lt=_[H]*E,Q=_[H+1]*E,K=_[H+2]*E;It+=Math.abs((h[lt]-h[K])*(h[Q+1]-h[lt+1])-(h[lt]-h[Q])*(h[K+1]-h[lt+1]))}return 0===O&&0===It?0:Math.abs((It-O)/O)},At.flatten=function(h){for(var d=h[0][0].length,E={vertices:[],holes:[],dimensions:d},_=0,I=0;I<h.length;I++){for(var N=0;N<h[I].length;N++)for(var O=0;O<d;O++)E.vertices.push(h[I][N][O]);I>0&&E.holes.push(_+=h[I-1].length)}return E},At}())&&(Ot.exports=Y);const xt=(0,tt.g)(k.exports)},55912:(Qt,Gt,j)=>{j.d(Gt,{A:()=>At});var st,ot,tt=j(3248),Ot=j(61591);(ot=st||(st={}))[ot.varint=0]="varint",ot[ot.fixed64=1]="fixed64",ot[ot.delimited=2]="delimited",ot[ot.fixed32=5]="fixed32",ot[ot.unknown=99]="unknown";const Y=4294967296,k=new TextDecoder("utf-8"),xt=(0,tt.A)("safari")||(0,tt.A)("ios")?6:(0,tt.A)("ff")?12:32;class At{constructor(S,G,v=0,P=(S?S.byteLength:0)){this._tag=0,this._dataType=st.unknown,this._init(S,G,v,P)}_init(S,G,v,P){this._data=S,this._dataView=G,this._pos=v,this._end=P}asUnsafe(){return this}clone(){return new At(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(S){this._pos=S}nextTag(S){for(;;){if(this._pos===this._end)return!1;const G=this._decodeVarint();if(this._tag=G>>3,this._dataType=7&G,!S||S===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const S=this._decodeVarint();return this._tag=S>>3,this._dataType=7&S,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let S=4294967295;if(S=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(S=(S|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(S=(S|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(S=(S|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(S=(S|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return S;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const S=this.getUInt32();return S>>>1^-(1&S)}getSInt64(){return this._decodeSVarint()}getBool(){const S=0!==this._data[this._pos];return this._skip(1),S}getEnum(){return this._decodeVarint()}getFixed64(){const S=this._dataView,G=this._pos,v=S.getUint32(G,!0)+S.getUint32(G+4,!0)*Y;return this._skip(8),v}getSFixed64(){const S=this._dataView,G=this._pos,v=S.getUint32(G,!0)+S.getInt32(G+4,!0)*Y;return this._skip(8),v}getDouble(){const S=this._dataView.getFloat64(this._pos,!0);return this._skip(8),S}getFixed32(){const S=this._dataView.getUint32(this._pos,!0);return this._skip(4),S}getSFixed32(){const S=this._dataView.getInt32(this._pos,!0);return this._skip(4),S}getFloat(){const S=this._dataView.getFloat32(this._pos,!0);return this._skip(4),S}getString(){const S=this._getLength(),G=this._pos,v=this._toString(this._data,G,G+S);return this._skip(S),v}getBytes(){const S=this._getLength(),G=this._pos,v=this._toBytes(this._data,G,G+S);return this._skip(S),v}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(S,G,v,P){const $=this.getMessage(),w=S($,G,v,P);return $.release(),w}processMessage(S){const G=this.getMessage(),v=S(G);return G.release(),v}getMessage(){const S=this._getLength(),G=At.pool.acquire();return G._init(this._data,this._dataView,this._pos,this._pos+S),this._skip(S),G}release(){At.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case st.varint:this._decodeVarint();break;case st.fixed64:this._skip(8);break;case st.delimited:this._skip(this._getLength());break;case st.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(S){this._skip(S)}_skip(S){if(this._pos+S>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=S}_decodeVarint(){const S=this._data;let G=this._pos,v=0,P=0;if(this._end-G>=10)do{if(P=S[G++],v|=127&P,!(128&P&&(P=S[G++],v|=(127&P)<<7,128&P)&&(P=S[G++],v|=(127&P)<<14,128&P)&&(P=S[G++],v|=(127&P)<<21,128&P)&&(P=S[G++],v+=268435456*(127&P),128&P)&&(P=S[G++],v+=34359738368*(127&P),128&P)&&(P=S[G++],v+=4398046511104*(127&P),128&P)&&(P=S[G++],v+=562949953421312*(127&P),128&P)&&(P=S[G++],v+=72057594037927940*(127&P),128&P)&&(P=S[G++],v+=0x8000000000000000*(127&P),128&P)))break;throw new Error("Varint too long!")}while(0);else{let $=1;for(;G!==this._end&&(P=S[G],128&P);)++G,v+=(127&P)*$,$*=128;if(G===this._end)throw new Error("Varint overrun!");++G,v+=P*$}return this._pos=G,v}_decodeSVarint(){const S=this._data;let G,v=0,P=0;const $=1&S[this._pos];if(P=S[this._pos++],v|=127&P,!(128&P&&(P=S[this._pos++],v|=(127&P)<<7,128&P)&&(P=S[this._pos++],v|=(127&P)<<14,128&P)&&(P=S[this._pos++],v|=(127&P)<<21,128&P)&&(P=S[this._pos++],v+=268435456*(127&P),128&P)&&(P=S[this._pos++],v+=34359738368*(127&P),128&P)&&(P=S[this._pos++],v+=4398046511104*(127&P),128&P)))return $?-(v+1)/2:v/2;if(G=BigInt(v),P=S[this._pos++],G+=0x2000000000000n*BigInt(127&P),!(128&P&&(P=S[this._pos++],G+=0x100000000000000n*BigInt(127&P),128&P)&&(P=S[this._pos++],G+=0x8000000000000000n*BigInt(127&P),128&P)))return Number($?-(G+1n)/2n:G/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==st.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(S,G,v){if((v=Math.min(this._end,v))-G>xt){const w=S.subarray(G,v);return k.decode(w)}let P="",$="";for(let w=G;w<v;++w){const m=S[w];128&m?$+="%"+m.toString(16):(P+=decodeURIComponent($)+String.fromCharCode(m),$="")}return $.length&&(P+=decodeURIComponent($)),P}_toBytes(S,G,v){return v=Math.min(this._end,v),new Uint8Array(S.buffer,G,v-G)}}At.pool=new Ot.A(At,void 0,ot=>{ot._data=null,ot._dataView=null})},8897:(Qt,Gt,j)=>{j.d(Gt,{F:()=>At,l:()=>v});var tt=j(10467),Ot=j(90261),st=j(3248);const Y=128e3;let k=null,xt=null;function At(){return ot.apply(this,arguments)}function ot(){return ot=(0,tt.A)(function*(){return k||(k=function S(){return G.apply(this,arguments)}()),k}),ot.apply(this,arguments)}function G(){return(G=(0,tt.A)(function*(){xt=yield((0,st.A)("esri-csp-restrictions")?yield j.e(4049).then(j.bind(j,34049)).then($=>$.l):yield j.e(787).then(j.bind(j,50787)).then($=>$.l)).default({locateFile:$=>(0,Ot.s)(`esri/core/libs/libtess/${$}`)})})).apply(this,arguments)}function v(P,$){const w=Math.max(P.length,Y);return xt.triangulate(P,$,w)}},80996:(Qt,Gt,j)=>{j.r(Gt),j.d(Gt,{default:()=>zt});var tt=j(10467),Ot=j(56492),st=j(20904),Y=j(91766),k=j(4139);function At(x){return!(x<11904)&&(x>=12704&&x<=12735||x>=12544&&x<=12591||x>=65072&&x<=65103||x>=63744&&x<=64255||x>=13056&&x<=13311||x>=11904&&x<=12031||x>=12736&&x<=12783||x>=12288&&x<=12351||x>=13312&&x<=19903||x>=19968&&x<=40959||x>=12800&&x<=13055||x>=65280&&x<=65519||x>=12352&&x<=12447||x>=12272&&x<=12287||x>=12032&&x<=12255||x>=12784&&x<=12799||x>=12448&&x<=12543||x>=65040&&x<=65055||x>=42128&&x<=42191||x>=40960&&x<=42127)}function ot(x){switch(x){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1}function S(x){switch(x){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1}var G=j(68973);const v=24;class ${constructor(i,e,n,s,a,o,r){this._glyphItems=i,this._maxWidth=e,this._lineHeight=n,this._letterSpacing=s,this._hAnchor=a,this._vAnchor=o,this._justify=r}getShaping(i,e,n){const s=this._letterSpacing,a=this._lineHeight,o=this._justify,r=this._maxWidth,l=[];let c=0,y=0;for(const R of i){const D=R.codePointAt(0);if(null==D)continue;const b=n&&(746===(x=D)||747===x||!(x<4352)&&(x>=12704&&x<=12735||x>=12544&&x<=12591||x>=65072&&x<=65103&&!(x>=65097&&x<=65103)||x>=63744&&x<=64255||x>=13056&&x<=13311||x>=11904&&x<=12031||x>=12736&&x<=12783||x>=12288&&x<=12351&&!(x>=12296&&x<=12305||x>=12308&&x<=12319||12336===x)||x>=13312&&x<=19903||x>=19968&&x<=40959||x>=12800&&x<=13055||x>=12592&&x<=12687||x>=43360&&x<=43391||x>=55216&&x<=55295||x>=4352&&x<=4607||x>=44032&&x<=55215||x>=12352&&x<=12447||x>=12272&&x<=12287||x>=12688&&x<=12703||x>=12032&&x<=12255||x>=12784&&x<=12799||x>=12448&&x<=12543&&12540!==x||x>=65280&&x<=65519&&!(65288===x||65289===x||65293===x||x>=65306&&x<=65310||65339===x||65341===x||65343===x||x>=65371&&x<=65503||65507===x||x>=65512&&x<=65519)||x>=65104&&x<=65135&&!(x>=65112&&x<=65118||x>=65123&&x<=65126)||x>=5120&&x<=5759||x>=6320&&x<=6399||x>=65040&&x<=65055||x>=19904&&x<=19967||x>=40960&&x<=42127||x>=42128&&x<=42191));let C;for(const U of this._glyphItems)if(C=U[D],C)break;l.push({codePoint:D,x:c,y,vertical:b,glyphMosaicItem:C}),C&&(c+=C.metrics.advance+s)}var x;let f=c;r>0&&(f=c/Math.max(1,Math.ceil(c/r)));const T=i.includes("\u200b"),u=[],p=l.length;for(let R=0;R<p-1;R++){const D=l[R].codePoint,b=At(D);if(ot(D)||b){let C=0;if(10===D)C-=1e4;else if(b&&T)C+=150;else{40!==D&&65288!==D||(C+=50);const U=l[R+1].codePoint;41!==U&&65289!==U||(C+=50)}u.push(this._buildBreak(R+1,l[R].x,f,u,C,!1))}}const g=this._optimalBreaks(this._buildBreak(p,c,f,u,0,!0));let L=0;const A=e?-a:a;let M=0;for(let R=0;R<g.length;R++){const D=g[R];let b=M;for(;b<D&&S(l[b].codePoint);)l[b].glyphMosaicItem=null,++b;let C=D-1;for(;C>b&&S(l[C].codePoint);)l[C].glyphMosaicItem=null,--C;if(b<=C){const U=l[b].x;for(let V=b;V<=C;V++)l[V].x-=U,l[V].y=y;let z=l[C].x;l[C].glyphMosaicItem&&(z+=l[C].glyphMosaicItem.metrics.advance),L=Math.max(z,L),o&&this._applyJustification(l,b,C)}M=D,y+=A}if(l.length>0){const R=g.length-1,D=(o-this._hAnchor)*L;let b=(-this._vAnchor*(R+1)+.5)*a;e&&R&&(b+=R*a);for(const C of l)C.x+=D,C.y+=b}return l.filter(R=>R.glyphMosaicItem)}static getTextBox(i,e){if(!i.length)return null;let n=1/0,s=1/0,a=0,o=0;for(const r of i){const c=r.x,y=r.y-17,f=c+r.glyphMosaicItem.metrics.advance,T=y+e;n=Math.min(n,c),a=Math.max(a,f),s=Math.min(s,y),o=Math.max(o,T)}return{x:n,y:s,width:a-n,height:o-s}}static getBox(i){if(!i.length)return null;let e=1/0,n=1/0,s=0,a=0;for(const o of i){const{height:r,left:l,top:c,width:y}=o.glyphMosaicItem.metrics,f=o.x,T=o.y-(r-Math.abs(c)),u=f+y+l,p=T+r;e=Math.min(e,f),s=Math.max(s,u),n=Math.min(n,T),a=Math.max(a,p)}return{x:e,y:n,width:s-e,height:a-n}}static addDecoration(i,e){const n=i.length;if(0===n)return;let a=i[0].x+i[0].glyphMosaicItem.metrics.left,o=i[0].y;for(let l=1;l<n;l++){const c=i[l];if(c.y!==o){const y=i[l-1].x+i[l-1].glyphMosaicItem.metrics.left+i[l-1].glyphMosaicItem.metrics.width;i.push({codePoint:0,x:a,y:o+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.A(4,0,4,8),metrics:{width:y-a,height:8,left:0,top:0,advance:0},page:0,code:0}}),o=c.y,a=c.x+c.glyphMosaicItem.metrics.left}}const r=i[n-1].x+i[n-1].glyphMosaicItem.metrics.left+i[n-1].glyphMosaicItem.metrics.width;i.push({codePoint:0,x:a,y:o+e-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new G.A(4,0,4,8),metrics:{width:r-a,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(i,e,n,s){const a=(i-e)*(i-e);return s?i<e?a/2:2*a:a+Math.abs(n)*n}_buildBreak(i,e,n,s,a,o){let r=null,l=this._breakScore(e,n,a,o);for(const c of s){const f=this._breakScore(e-c.x,n,a,o)+c.score;f<=l&&(r=c,l=f)}return{index:i,x:e,score:l,previousBreak:r}}_optimalBreaks(i){return i?this._optimalBreaks(i.previousBreak).concat(i.index):[]}_applyJustification(i,e,n){const s=i[n],o=(s.x+(s.vertical?v:s.glyphMosaicItem?s.glyphMosaicItem.metrics.advance:0))*this._justify;for(let r=e;r<=n;r++)i[r].x-=o}}var w=j(24505),m=j(54e3);class Ut{constructor(i,e,n=0,s=-1,a=.5){this.x=i,this.y=e,this.angle=n,this.segment=s,this.minzoom=a}}class Rt{constructor(i,e,n,s,a,o=.5,r=k.MG){this.anchor=i,this.labelAngle=e,this.glyphAngle=n,this.page=s,this.alternateVerticalGlyph=a,this.minzoom=o,this.maxzoom=r}}class Mt{constructor(i,e,n,s,a,o,r,l,c,y,f,T){this.tl=i,this.tr=e,this.bl=n,this.br=s,this.mosaicRect=a,this.labelAngle=o,this.minAngle=r,this.maxAngle=l,this.anchor=c,this.minzoom=y,this.maxzoom=f,this.page=T}}class Dt{constructor(i){this.shapes=i}}class St{getIconPlacement(i,e,n){const s=new Y.bR(i.x,i.y),a=n.rotationAlignment===m.I5.MAP,o=n.keepUpright;let r=n.rotate*k.os;a&&(r+=i.angle);const l=new Dt([]);return n.allowOverlap&&n.ignorePlacement||!w.IT||(l.iconColliders=[]),this._addIconPlacement(l,s,e,n,r),a&&o&&this._addIconPlacement(l,s,e,n,r+k.Jo),l}_addIconPlacement(i,e,n,s,a){const o=n.rasterizationScale,r=n.width/o,l=n.height/o,c=s.offset;let y=c[0],f=c[1];switch(s.anchor){case m.KI.CENTER:y-=r/2,f-=l/2;break;case m.KI.LEFT:f-=l/2;break;case m.KI.RIGHT:y-=r,f-=l/2;break;case m.KI.TOP:y-=r/2;break;case m.KI.BOTTOM:y-=r/2,f-=l;break;case m.KI.TOP_LEFT:break;case m.KI.BOTTOM_LEFT:f-=l;break;case m.KI.TOP_RIGHT:y-=r;break;case m.KI.BOTTOM_RIGHT:y-=r,f-=l}const T=n.rect,u=2/o,p=y-u,g=f-u,L=p+T.width/o,A=g+T.height/o,M=new Y.bR(p,g),R=new Y.bR(L,A),D=new Y.bR(p,A),b=new Y.bR(L,g);if(0!==a){const U=Math.cos(a),z=Math.sin(a);M.rotate(U,z),R.rotate(U,z),D.rotate(U,z),b.rotate(U,z)}const C=new Mt(M,b,D,R,T,a,0,256,e,.5,k.MG,0);if(i.shapes.push(C),(!s.allowOverlap||!s.ignorePlacement)&&w.IT){const U=s.size,z=s.padding;i.iconColliders.push({xTile:e.x,yTile:e.y,dxPixels:y*U-z,dyPixels:f*U-z,hard:!s.optional,partIndex:0,width:r*U+2*z,height:l*U+2*z,angle:a,minLod:.5,maxLod:k.MG})}}getTextPlacement(i,e,n,s){const a=new Y.bR(i.x,i.y),o=s.rotate*k.os,r=s.rotationAlignment===m.I5.MAP,l=s.keepUpright,c=s.padding;let y=.5;const f=r?i.angle:0,T=i.segment>=0&&r,u=s.allowOverlap&&s.ignorePlacement?null:[],p=[],L=!T;let A=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,R=A,D=M;const b=(T||r)&&l,C=s.size/v;let U=!1;for(const F of e)if(F.vertical){U=!0;break}let z,V=0,X=0;if(!T&&U){const F=$.getTextBox(e,s.lineHeight*v);switch(s.anchor){case m.KI.LEFT:V=F.height/2,X=-F.width/2;break;case m.KI.RIGHT:V=-F.height/2,X=F.width/2;break;case m.KI.TOP:V=F.height/2,X=F.width/2;break;case m.KI.BOTTOM:V=-F.height/2,X=-F.width/2;break;case m.KI.TOP_LEFT:V=F.height;break;case m.KI.BOTTOM_LEFT:X=-F.width;break;case m.KI.TOP_RIGHT:X=F.width;break;case m.KI.BOTTOM_RIGHT:V=-F.height}}V+=s.offset[0]*v,X+=s.offset[1]*v;for(const F of e){const Tt=F.glyphMosaicItem;if(!Tt||Tt.rect.isEmpty)continue;const ut=Tt.rect,dt=Tt.metrics,vt=Tt.page;if(u&&L){if(void 0!==z&&z!==F.y){let Ct,Vt,Wt,Xt;U?(Ct=-D+V,Vt=A+X,Wt=D-R,Xt=M-A):(Ct=A+V,Vt=R+X,Wt=M-A,Xt=D-R),u.push({xTile:i.x,yTile:i.y,dxPixels:Ct*C-c,dyPixels:Vt*C-c,hard:!s.optional,partIndex:1,width:Wt*C+2*c,height:Xt*C+2*c,angle:o,minLod:.5,maxLod:k.MG}),A=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,R=A,D=M}z=F.y}const $t=[];if(T){const Vt=(F.x+dt.left-4+.5*Tt.metrics.width)*C*8;if(y=this._placeGlyph(i,y,Vt,n,i.segment,1,F.vertical,vt,$t),l&&(y=this._placeGlyph(i,y,Vt,n,i.segment,-1,F.vertical,vt,$t)),y>=2)break}else $t.push(new Rt(a,f,f,vt,!1)),r&&l&&$t.push(new Rt(a,f+k.Jo,f+k.Jo,vt,!1));const Yt=F.x+dt.left,jt=F.y-17-dt.top,qt=Yt+dt.width,he=jt+dt.height;let bt,Kt,se,ne,te,re,ue,xe;!T&&U?F.vertical?(bt=new Y.bR(-((jt+he)/2+dt.width/2)-4+V,(Yt+qt)/2-dt.height/2-4+X),Kt=new Y.bR(bt.x+ut.width,bt.y+ut.height),se=new Y.bR(bt.x,Kt.y),ne=new Y.bR(Kt.x,bt.y)):(bt=new Y.bR(4-jt+V,Yt-4+X),Kt=new Y.bR(bt.x-ut.height,bt.y+ut.width),se=new Y.bR(Kt.x,bt.y),ne=new Y.bR(bt.x,Kt.y)):(bt=new Y.bR(Yt-4+V,jt-4+X),Kt=new Y.bR(bt.x+ut.width,bt.y+ut.height),se=new Y.bR(bt.x,Kt.y),ne=new Y.bR(Kt.x,bt.y));for(const Ct of $t){let Vt,Wt,Xt,Zt;Ct.alternateVerticalGlyph?(te||(te=new Y.bR((Yt+qt)/2+V-dt.height/2-4,(jt+he)/2+X+dt.width/2+4),re=new Y.bR(te.x+ut.height,te.y-ut.width),ue=new Y.bR(re.x,te.y),xe=new Y.bR(te.x,re.y)),Vt=te,Wt=ue,Xt=xe,Zt=re):(Vt=bt,Wt=se,Xt=ne,Zt=Kt);const oe=jt,ce=he,ae=Ct.glyphAngle+o;if(0!==ae){const Jt=Math.cos(ae),le=Math.sin(ae);Vt=Vt.clone(),Wt=Wt?.clone(),Xt=Xt?.clone(),Zt=Zt?.clone(),Vt.rotate(Jt,le),Zt?.rotate(Jt,le),Wt?.rotate(Jt,le),Xt?.rotate(Jt,le)}let ee=0,ie=256;T&&U?F.vertical?Ct.alternateVerticalGlyph?(ee=32,ie=96):(ee=224,ie=32):(ee=224,ie=96):(ee=192,ie=64),p.push(new Mt(Vt,Xt,Wt,Zt,ut,Ct.labelAngle,ee,ie,Ct.anchor,Ct.minzoom,Ct.maxzoom,Ct.page)),!u||b&&!this._legible(Ct.labelAngle)||(L?(Yt<A&&(A=Yt),oe<R&&(R=oe),qt>M&&(M=qt),ce>D&&(D=ce)):Ct.minzoom<2&&u.push({xTile:i.x,yTile:i.y,dxPixels:(Yt+V)*C-c,dyPixels:(oe+V)*C-c,hard:!s.optional,partIndex:1,width:(qt-Yt)*C+2*c,height:(ce-oe)*C+2*c,angle:ae,minLod:Ct.minzoom,maxLod:Ct.maxzoom}))}}if(y>=2)return null;if(u&&L){let F,Tt,ut,dt;U?(F=-D+V,Tt=A+X,ut=D-R,dt=M-A):(F=A+V,Tt=R+X,ut=M-A,dt=D-R),u.push({xTile:i.x,yTile:i.y,dxPixels:F*C-c,dyPixels:Tt*C-c,hard:!s.optional,partIndex:1,width:ut*C+2*c,height:dt*C+2*c,angle:o,minLod:.5,maxLod:k.MG})}const it=new Dt(p);return u&&u.length>0&&(it.textColliders=u),it}_legible(i){const e=(0,k.z0)(i);return e<65||e>=193}_placeGlyph(i,e,n,s,a,o,r,l,c){let y=o;const f=y<0?(0,k.Wh)(i.angle+k.Jo,k.pJ):i.angle;let T=0;n<0&&(y*=-1,n*=-1,T=k.Jo),y>0&&++a;let u=new Y.bR(i.x,i.y),p=s[a],g=k.MG;if(s.length<=a)return g;for(;;){const L=p.x-u.x,A=p.y-u.y,M=Math.sqrt(L*L+A*A),R=Math.max(n/M,e),C=(0,k.Wh)(Math.atan2(A/M,L/M)+T,k.pJ);if(c.push(new Rt(u,f,C,l,!1,R,g)),r&&c.push(new Rt(u,f,C,l,!0,R,g)),R<=e)return R;u=p.clone();do{if(s.length<=(a+=y)||a<0)return R;p=s[a]}while(u.isEqual(p));let U=p.x-u.x,z=p.y-u.y;const V=Math.sqrt(U*U+z*z);U*=M/V,z*=M/V,u.x-=U,u.y-=z,g=R}}}var gt=j(55912),Z=j(8897),ct=j(20788),J=j(80913);class et extends J.A{constructor(){super(12)}add(i,e,n){const s=this.array;s.push(i),s.push(e),s.push(n)}}var B=j(97944);class t extends J.A{constructor(i){super(i)}add(i,e,n,s,a,o,r,l,c,y,f,T){const u=this.array;let p=J.A.i1616to32(i,e);u.push(p);const g=31;p=J.A.i8888to32(Math.round(g*n),Math.round(g*s),Math.round(g*a),Math.round(g*o)),u.push(p),p=J.A.i8888to32(Math.round(g*r),Math.round(g*l),Math.round(g*c),Math.round(g*y)),u.push(p),p=J.A.i1616to32(f,0),u.push(p),T&&u.push(...T)}}class Ht extends J.A{constructor(i){super(i)}add(i,e,n){const s=this.array;s.push(J.A.i1616to32(i,e)),n&&s.push(...n)}}class Ft extends J.A{constructor(i){super(i)}add(i,e,n,s,a,o,r){const l=this.array,c=this.index;let y=J.A.i1616to32(i,e);return l.push(y),y=J.A.i8888to32(Math.round(15*n),Math.round(15*s),a,o),l.push(y),r&&l.push(...r),c}}class nt extends J.A{constructor(i){super(i)}add(i,e,n,s,a,o,r,l,c,y,f,T){const u=this.array;let p=J.A.i1616to32(i,e);u.push(p),p=J.A.i1616to32(Math.round(8*n),Math.round(8*s)),u.push(p),p=J.A.i8888to32(a/4,o/4,l,c),u.push(p),p=J.A.i8888to32(0,(0,k.z0)(r),10*y,Math.min(10*f,255)),u.push(p),T&&u.push(...T)}}class ht extends J.A{constructor(i){super(i)}add(i,e,n,s,a){const o=this.array,r=J.A.i1616to32(2*i+n,2*e+s);o.push(r),a&&o.push(...a)}}class at{constructor(i,e,n){this.layerExtent=4096,this._features=[],this.layer=i,this.zoom=e,this._spriteInfo=n,this._filter=i.getFeatureFilter()}pushFeature(i){this._filter&&!this._filter.filter(i,this.zoom)||this._features.push(i)}hasFeatures(){return this._features.length>0}getResources(i,e,n){}}class kt extends at{constructor(i,e,n,s,a){super(i,e,n),this.type=st.NP.CIRCLE,this._circleVertexBuffer=s,this._circleIndexBuffer=a}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(i){const e=this._circleVertexBuffer,n=this._circleIndexBuffer;this._circleIndexStart=3*n.index,this._circleIndexCount=0;const s=this.layer,a=this.zoom;i&&i.setExtent(this.layerExtent);for(const o of this._features){const r=o.getGeometry(i);if(!r)continue;const l=s.circleMaterial.encodeAttributes(o,a,s);for(const c of r)if(c)for(const y of c){const f=e.index;e.add(y.x,y.y,0,0,l),e.add(y.x,y.y,0,1,l),e.add(y.x,y.y,1,0,l),e.add(y.x,y.y,1,1,l),n.add(f,f+1,f+2),n.add(f+1,f+2,f+3),this._circleIndexCount+=6}}}serialize(){let i=6;i+=this.layerUIDs.length,i+=this._circleVertexBuffer.array.length,i+=this._circleIndexBuffer.array.length;const e=new Uint32Array(i),n=new Int32Array(e.buffer);let s=0;e[s++]=this.type,e[s++]=this.layerUIDs.length;for(let a=0;a<this.layerUIDs.length;a++)e[s++]=this.layerUIDs[a];e[s++]=this._circleIndexStart,e[s++]=this._circleIndexCount,e[s++]=this._circleVertexBuffer.array.length;for(let a=0;a<this._circleVertexBuffer.array.length;a++)n[s++]=this._circleVertexBuffer.array[a];e[s++]=this._circleIndexBuffer.array.length;for(let a=0;a<this._circleIndexBuffer.array.length;a++)e[s++]=this._circleIndexBuffer.array[a];return e.buffer}}var h=j(56595),d=j(92405);class E extends at{constructor(i,e,n,s,a,o,r){super(i,e,n),this.type=st.NP.FILL,this._patternMap=new Map,this._fillVertexBuffer=s,this._fillIndexBuffer=a,this._outlineVertexBuffer=o,this._outlineIndexBuffer=r}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(i,e,n){const a=this.zoom,o=this.layer.getPaintProperty("fill-pattern");if(o)if(o.isDataDriven)for(const r of this._features)e(o.getValue(a,r),!0);else e(o.getValue(a),!0)}processFeatures(i){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const e=this.layer,n=this.zoom,{fillMaterial:s,outlineMaterial:a,hasDataDrivenFill:o,hasDataDrivenOutline:r}=e;i&&i.setExtent(this.layerExtent);const l=e.getPaintProperty("fill-pattern"),c=l?.isDataDriven;let y=!l&&e.getPaintValue("fill-antialias",n);if(e.outlineUsesFillColor){if(y&&!e.hasDataDrivenOpacity){const u=e.getPaintValue("fill-opacity",n),p=e.getPaintValue("fill-opacity",n+1);u<1&&p<1&&(y=!1)}if(y&&!e.hasDataDrivenColor){const u=e.getPaintValue("fill-color",n),p=e.getPaintValue("fill-color",n+1);u[3]<1&&p[3]<1&&(y=!1)}}const f=this._features,T=i?.validateTessellation;if(c){const u=[];for(const p of f){const g=l.getValue(n,p),L=this._spriteInfo[g];if(!L?.rect)continue;const A=s.encodeAttributes(p,n,e,L),M=y&&r?a.encodeAttributes(p,n,e):[],R=p.getGeometry(i);u.push({ddFillAttributes:A,ddOutlineAttributes:M,page:L.page,geometry:R}),u.sort((D,b)=>D.page-b.page);for(const{ddFillAttributes:D,ddOutlineAttributes:b,page:C,geometry:U}of u)this._processFeature(U,y,e.outlineUsesFillColor,D,b,T,C)}}else for(const u of f){const p=o?s.encodeAttributes(u,n,e):null,g=y&&r?a.encodeAttributes(u,n,e):null,L=u.getGeometry(i);this._processFeature(L,y,e.outlineUsesFillColor,p,g,T)}}serialize(){let i=10;i+=this.layerUIDs.length,i+=this._fillVertexBuffer.array.length,i+=this._fillIndexBuffer.array.length,i+=this._outlineVertexBuffer.array.length,i+=this._outlineIndexBuffer.array.length,i+=3*this._patternMap.size+1;const e=new Uint32Array(i),n=new Int32Array(e.buffer);let s=0;e[s++]=this.type,e[s++]=this.layerUIDs.length;for(let r=0;r<this.layerUIDs.length;r++)e[s++]=this.layerUIDs[r];e[s++]=this._fillIndexStart,e[s++]=this._fillIndexCount,e[s++]=this._outlineIndexStart,e[s++]=this._outlineIndexCount;const a=this._patternMap,o=a.size;if(e[s++]=o,o>0)for(const[r,[l,c]]of a)e[s++]=r,e[s++]=l,e[s++]=c;e[s++]=this._fillVertexBuffer.array.length;for(let r=0;r<this._fillVertexBuffer.array.length;r++)n[s++]=this._fillVertexBuffer.array[r];e[s++]=this._fillIndexBuffer.array.length;for(let r=0;r<this._fillIndexBuffer.array.length;r++)e[s++]=this._fillIndexBuffer.array[r];e[s++]=this._outlineVertexBuffer.array.length;for(let r=0;r<this._outlineVertexBuffer.array.length;r++)n[s++]=this._outlineVertexBuffer.array[r];e[s++]=this._outlineIndexBuffer.array.length;for(let r=0;r<this._outlineIndexBuffer.array.length;r++)e[s++]=this._outlineIndexBuffer.array[r];return e.buffer}_processFeature(i,e,n,s,a,o,r){if(!i)return;const l=i.length;if(e&&(!n||!a||0===a.length))for(let T=0;T<l;T++)this._processOutline(i[T],a);let f;for(let T=0;T<l;T++){const u=E._area(i[T]);u>32?(void 0!==f&&this._processFill(i,f,s,o,r),f=[T]):u<-32&&void 0!==f&&f.push(T)}void 0!==f&&this._processFill(i,f,s,o,r)}_processOutline(i,e){const n=this._outlineVertexBuffer,s=this._outlineIndexBuffer,a=s.index;let o,r,l;const c=new Y.bR(0,0),y=new Y.bR(0,0),f=new Y.bR(0,0);let T=-1,u=-1,p=-1,g=-1,L=-1,A=!1,R=i.length;if(R<2)return;const D=i[0];let b=i[R-1];for(;R&&b.isEqual(D);)--R,b=i[R-1];if(!(R-0<2)){for(let C=0;C<R;++C){0===C?(o=i[R-1],r=i[0],l=i[1],c.assignSub(r,o),c.normalize(),c.rightPerpendicular()):(o=r,r=l,l=C!==R-1?i[C+1]:i[0],c.assign(y));const U=this._isClipEdge(o,r);-1===g&&(A=U),y.assignSub(l,r),y.normalize(),y.rightPerpendicular();const z=c.x*y.y-c.y*y.x;f.assignAdd(c,y),f.normalize();const V=-f.x*-c.x+-f.y*-c.y;let X=Math.abs(0!==V?1/V:1);X>8&&(X=8),z>=0?(p=n.add(r.x,r.y,c.x,c.y,0,1,e),-1===g&&(g=p),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),u=n.add(r.x,r.y,X*-f.x,X*-f.y,0,-1,e),-1===L&&(L=u),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),T=u,u=p,p=n.add(r.x,r.y,f.x,f.y,0,1,e),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),u=n.add(r.x,r.y,y.x,y.y,0,1,e),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p)):(p=n.add(r.x,r.y,X*f.x,X*f.y,0,1,e),-1===g&&(g=p),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),u=n.add(r.x,r.y,-c.x,-c.y,0,-1,e),-1===L&&(L=u),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),T=u,u=p,p=n.add(r.x,r.y,-f.x,-f.y,0,-1,e),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p),T=n.add(r.x,r.y,-y.x,-y.y,0,-1,e),T>=0&&u>=0&&p>=0&&!U&&s.add(T,u,p))}T>=0&&u>=0&&g>=0&&!A&&s.add(T,u,g),T>=0&&g>=0&&L>=0&&!A&&s.add(T,L,g),this._outlineIndexCount+=3*(s.index-a)}}_processFill(i,e,n,s,a){let o;e.length>1&&(o=[]);let r=0;for(const f of e)0!==r&&o.push(r),r+=i[f].length;const l=2*r,c=h.A.acquire();for(const f of e){const T=i[f],u=T.length;for(let p=0;p<u;++p)c.push(T[p].x,T[p].y)}const y=(0,d.e)(c,o,2);if(d.e.deviation(c,o,2,y)>0){const f=e.map(p=>i[p].length),{buffer:T,vertexCount:u}=(0,Z.l)(c,f);if(u>0){const p=this._fillVertexBuffer.index;for(let g=0;g<u;g++)this._fillVertexBuffer.add(T[2*g],T[2*g+1],n);for(let g=0;g<u;g+=3){const L=p+g;this._fillIndexBuffer.add(L,L+1,L+2)}if(void 0!==a){const g=this._patternMap,L=g.get(a);L?L[1]+=u:g.set(a,[this._fillIndexStart+this._fillIndexCount,u])}this._fillIndexCount+=u}}else{const f=y.length;if(f>0){const T=this._fillVertexBuffer.index;let u=0;for(;u<l;)this._fillVertexBuffer.add(c[u++],c[u++],n);let p=0;for(;p<f;)this._fillIndexBuffer.add(T+y[p++],T+y[p++],T+y[p++]);if(void 0!==a){const g=this._patternMap,L=g.get(a);L?L[1]+=f:g.set(a,[this._fillIndexStart+this._fillIndexCount,f])}this._fillIndexCount+=f}}h.A.release(c)}_isClipEdge(i,e){return i.x===e.x?i.x<=-64||i.x>=4160:i.y===e.y&&(i.y<=-64||i.y>=4160)}static _area(i){let e=0;const n=i.length-1;for(let s=0;s<n;s++)e+=(i[s].x-i[s+1].x)*(i[s].y+i[s+1].y);return e+=(i[n].x-i[0].x)*(i[n].y+i[0].y),.5*e}}var _=j(7933);class N extends at{constructor(i,e,n,s,a){super(i,e,n),this.type=st.NP.LINE,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=s,this.tessellationProperties._lineIndexBuffer=a,this._lineTessellator=new _.i(O(this.tessellationProperties),H(this.tessellationProperties),i.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(i,e,n){const s=this.layer,a=this.zoom,o=s.getPaintProperty("line-pattern"),r=s.getPaintProperty("line-dasharray"),l=s.getLayoutProperty("line-cap");if(!o&&!r)return;const c=l?.getValue(a)||0,y=l?.isDataDriven,f=o?.isDataDriven,T=r?.isDataDriven;if(f||T)for(const u of this._features)e(f?o.getValue(a,u):this._getDashArrayKey(u,a,s,r,y,l,c));else if(o)e(o.getValue(a));else if(r){const u=r.getValue(a);e(s.getDashKey(u,c))}}processFeatures(i){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const e=this.layer,n=this.zoom,s=this._features,a=this._tessellationOptions,{hasDataDrivenLine:o,lineMaterial:r}=e;i&&i.setExtent(this.layerExtent);const l=e.getPaintProperty("line-pattern"),c=e.getPaintProperty("line-dasharray"),y=l?.isDataDriven,f=c?.isDataDriven;let T;T=e.getLayoutProperty("line-cap");const u=T?.isDataDriven?T:null,p=u?null:e.getLayoutValue("line-cap",n),g=p||0,L=!!u;T=e.getLayoutProperty("line-join");const A=T?.isDataDriven?T:null,M=A?null:e.getLayoutValue("line-join",n);T=e.getLayoutProperty("line-miter-limit");const R=T?.isDataDriven?T:null,D=R?null:e.getLayoutValue("line-miter-limit",n);T=e.getLayoutProperty("line-round-limit");const b=T?.isDataDriven?T:null,C=b?null:e.getLayoutValue("line-round-limit",n);T=e.getPaintProperty("line-width");const U=T?.isDataDriven?T:null,z=U?null:e.getPaintValue("line-width",n);T=e.getPaintProperty("line-offset");const V=T?.isDataDriven?T:null,X=V?null:e.getPaintValue("line-offset",n);if(y||f){const it=[];for(const F of s){const Tt=y?l.getValue(n,F):this._getDashArrayKey(F,n,e,c,L,u,g),ut=this._spriteInfo[Tt];if(!ut?.rect)continue;const dt=r.encodeAttributes(F,n,e,ut),vt=F.getGeometry(i);it.push({ddAttributes:dt,page:ut.page,cap:u?u.getValue(n,F):p,join:A?A.getValue(n,F):M,miterLimit:R?R.getValue(n,F):D,roundLimit:b?b.getValue(n,F):C,halfWidth:.5*(U?U.getValue(n,F):z),offset:V?V.getValue(n,F):X,geometry:vt})}it.sort((F,Tt)=>F.page-Tt.page),a.textured=!0;for(const{ddAttributes:F,page:Tt,cap:ut,join:dt,miterLimit:vt,roundLimit:$t,halfWidth:Yt,offset:jt,geometry:qt}of it)a.capType=ut,a.joinType=dt,a.miterLimit=vt,a.roundLimit=$t,a.halfWidth=Yt,a.offset=jt,this._processFeature(qt,F,Tt)}else{if(l){const it=l.getValue(n);if(!this._spriteInfo[it]?.rect)return}a.textured=!(!l&&!c),a.capType=p,a.joinType=M,a.miterLimit=D,a.roundLimit=C,a.halfWidth=.5*z,a.offset=X;for(const it of s){const F=o?r.encodeAttributes(it,n,e):null;u&&(a.capType=u.getValue(n,it)),A&&(a.joinType=A.getValue(n,it)),R&&(a.miterLimit=R.getValue(n,it)),b&&(a.roundLimit=b.getValue(n,it)),U&&(a.halfWidth=.5*U.getValue(n,it)),V&&(a.offset=V.getValue(n,it));const Tt=it.getGeometry(i);this._processFeature(Tt,F)}}}serialize(){let i=6;i+=this.layerUIDs.length,i+=this.tessellationProperties._lineVertexBuffer.array.length,i+=this.tessellationProperties._lineIndexBuffer.array.length,i+=3*this._patternMap.size+1;const e=new Uint32Array(i),n=new Int32Array(e.buffer);let s=0;e[s++]=this.type,e[s++]=this.layerUIDs.length;for(let r=0;r<this.layerUIDs.length;r++)e[s++]=this.layerUIDs[r];e[s++]=this._lineIndexStart,e[s++]=this._lineIndexCount;const a=this._patternMap,o=a.size;if(e[s++]=o,o>0)for(const[r,[l,c]]of a)e[s++]=r,e[s++]=l,e[s++]=c;e[s++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let r=0;r<this.tessellationProperties._lineVertexBuffer.array.length;r++)n[s++]=this.tessellationProperties._lineVertexBuffer.array[r];e[s++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let r=0;r<this.tessellationProperties._lineIndexBuffer.array.length;r++)e[s++]=this.tessellationProperties._lineIndexBuffer.array[r];return e.buffer}_processFeature(i,e,n){if(!i)return;const s=i.length;for(let a=0;a<s;a++)this._processGeometry(i[a],e,n)}_processGeometry(i,e,n){if(i.length<2)return;let a,o,r=i[0],l=1;for(;l<i.length;)a=i[l].x-r.x,o=i[l].y-r.y,a*a+o*o<1e-6?i.splice(l,1):(r=i[l],++l);if(i.length<2)return;const c=this.tessellationProperties._lineIndexBuffer,y=3*c.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=e,this._lineTessellator.tessellate(i,this._tessellationOptions);const f=3*c.index-y;if(void 0!==n){const T=this._patternMap,u=T.get(n);u?u[1]+=f:T.set(n,[y+this._lineIndexCount,f])}this._lineIndexCount+=f}_getDashArrayKey(i,e,n,s,a,o,r){const l=a?o.getValue(e,i):r,c=s.getValue(e,i);return n.getDashKey(c,l)}}const O=x=>(i,e,n,s,a,o,r,l,c,y,f)=>(x._lineVertexBuffer.add(i,e,r,l,n,s,a,o,c,y,f,x._ddValues),x._lineVertexBuffer.index-1),H=x=>(i,e,n)=>{x._lineIndexBuffer.add(i,e,n)};var Nt,x,W=j(82818),yt=j(11432),_t=j(1119),It=j(53220);function Q(x,i){return x.iconMosaicItem&&i.iconMosaicItem?x.iconMosaicItem.page===i.iconMosaicItem.page?0:x.iconMosaicItem.page-i.iconMosaicItem.page:x.iconMosaicItem&&!i.iconMosaicItem?1:!x.iconMosaicItem&&i.iconMosaicItem?-1:0}class K extends at{constructor(i,e,n,s,a,o,r,l,c){super(e,n,c.getSpriteItems()),this.type=st.NP.SYMBOL,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._sourceTileKey=i,this._iconVertexBuffer=s,this._iconIndexBuffer=a,this._textVertexBuffer=o,this._textIndexBuffer=r,this._placementEngine=l,this._workerTileHandler=c}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}getResources(i,e,n){const s=this.layer,a=this.zoom;i&&i.setExtent(this.layerExtent);const o=s.getLayoutProperty("icon-image"),r=s.getLayoutProperty("text-field");let l=s.getLayoutProperty("text-transform"),c=s.getLayoutProperty("text-font");const y=[];let f,T,u,p;o&&!o.isDataDriven&&(f=o.getValue(a)),r&&!r.isDataDriven&&(T=r.getValue(a)),l&&l.isDataDriven||(u=s.getLayoutValue("text-transform",a),l=null),c&&c.isDataDriven||(p=s.getLayoutValue("text-font",a),c=null);for(const g of this._features){const L=g.getGeometry(i);if(!L||0===L.length)continue;let A,M;o&&(A=o.isDataDriven?o.getValue(a,g):this._replaceKeys(f,g.values),A&&e(A));let R=!1;if(r&&(M=r.isDataDriven?r.getValue(a,g):this._replaceKeys(T,g.values),M)){switch(M=M.replaceAll("\\n","\n"),l&&(u=l.getValue(a,g)),u){case m.Ms.LOWERCASE:M=M.toLowerCase();break;case m.Ms.UPPERCASE:M=M.toUpperCase()}if(K._bidiEngine.hasBidiChar(M)){let C;C="rtl"===K._bidiEngine.checkContextual(M)?"IDNNN":"ICNNN",M=K._bidiEngine.bidiTransform(M,C,"VLYSN"),R=!0}if(M.length>0){c&&(p=c.getValue(a,g));for(const C of p){let U=n[C];U||(U=n[C]=new Set);for(const z of M){const V=z.codePointAt(0);null!=V&&U.add(V)}}}}if(!A&&!M)continue;const D=s.getLayoutValue("symbol-sort-key",a,g),b={feature:g,sprite:A,label:M,rtl:R,geometry:L,hash:(M?(0,_t.Wm)(M):0)^(A?(0,_t.Wm)(A):0),priority:D,textFont:p};y.push(b)}this._symbolFeatures=y}processFeatures(i){i&&i.setExtent(this.layerExtent);const e=this.layer,n=this.zoom,s=e.getLayoutValue("symbol-placement",n),a=s!==m.kt.POINT,o=8*e.getLayoutValue("symbol-spacing",n),r=e.getLayoutProperty("icon-image"),l=e.getLayoutProperty("text-field"),c=r?new It.aR(e,n,a):null,y=l?new It.uU(e,n,a):null,f=this._workerTileHandler;let T;r&&(T=f.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const u=[];let p=1;y?.size&&(p=y.size/v);const g=y?y.maxAngle*k.os:0,L=y?8*y.size:0;for(const A of this._symbolFeatures){let M,R;c&&T&&A.sprite&&(M=T[A.sprite],M&&M.sdf&&(this._isIconSDF=!0)),M&&c.update(n,A.feature);let D=0;const b=A.label;if(b){(0,yt.Lw)(y),y.update(n,A.feature);const C=a&&y.rotationAlignment===m.I5.MAP?y.keepUpright:y.writingMode&&y.writingMode.includes(m.v9.VERTICAL);let U=.5;switch(y.anchor){case m.KI.TOP_LEFT:case m.KI.LEFT:case m.KI.BOTTOM_LEFT:U=0;break;case m.KI.TOP_RIGHT:case m.KI.RIGHT:case m.KI.BOTTOM_RIGHT:U=1}let z=.5;switch(y.anchor){case m.KI.TOP_LEFT:case m.KI.TOP:case m.KI.TOP_RIGHT:z=0;break;case m.KI.BOTTOM_LEFT:case m.KI.BOTTOM:case m.KI.BOTTOM_RIGHT:z=1}let V=.5;switch(y.justify){case m.O6.AUTO:V=U;break;case m.O6.LEFT:V=0;break;case m.O6.RIGHT:V=1}const X=y.letterSpacing*v,it=a?0:y.maxWidth*v,F=y.lineHeight*v,Tt=A.textFont.map(ut=>f.getGlyphItems(ut));if(R=new $(Tt,it,F,X,U,z,V).getShaping(b,A.rtl,C),R&&R.length>0){let ut=1e30,dt=-1e30;for(const vt of R)ut=Math.min(ut,vt.x),dt=Math.max(dt,vt.x);D=(dt-ut+48)*p*8}}for(let C of A.geometry){const U=[];if(s===m.kt.LINE){if(R?.length&&y?.size){const z=8*y.size*(2+Math.min(2,4*Math.abs(y.offset[1])));C=K._smoothVertices(C,z)}K._pushAnchors(U,C,o,D)}else s===m.kt.LINE_CENTER?K._pushCenterAnchor(U,C):A.feature.type===Y.dC.Polygon?K._pushCentroid(U,C):U.push(new Ut(C[0].x,C[0].y));for(const z of U){if(z.x<0||z.x>4096||z.y<0||z.y>4096||a&&D>0&&y?.rotationAlignment===m.I5.MAP&&!K._honorsTextMaxAngle(C,z,D,g,L))continue;const V={shaping:R,line:C,iconMosaicItem:M,anchor:z,symbolFeature:A,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};u.push(V),this._processFeature(V,c,y)}}}u.sort(Q),this._addPlacedGlyphs(),this._symbolInstances=u}serialize(){let i=14;i+=this.layerUIDs.length,i+=3*this.markerPageMap.size,i+=3*this.glyphsPageMap.size,i+=K._symbolsSerializationLength(this._symbolInstances),i+=this._iconVertexBuffer.array.length,i+=this._iconIndexBuffer.array.length,i+=this._textVertexBuffer.array.length,i+=this._textIndexBuffer.array.length;const e=new Uint32Array(i),n=new Int32Array(e.buffer),s=new Float32Array(e.buffer),[a,o,r]=this._sourceTileKey.split("/");let l=0;e[l++]=this.type,e[l++]=this.layerUIDs.length;for(let c=0;c<this.layerUIDs.length;c++)e[l++]=this.layerUIDs[c];e[l++]=this._isIconSDF?1:0,e[l++]=parseFloat(a),e[l++]=parseFloat(o),e[l++]=parseFloat(r),e[l++]=this.markerPageMap.size;for(const[c,[y,f]]of this.markerPageMap)e[l++]=c,e[l++]=y,e[l++]=f;e[l++]=this.glyphsPageMap.size;for(const[c,[y,f]]of this.glyphsPageMap)e[l++]=c,e[l++]=y,e[l++]=f;e[l++]=this._iconVertexBuffer.index/4,e[l++]=this._textVertexBuffer.index/4,l=K.serializeSymbols(e,n,s,l,this._symbolInstances),e[l++]=this._iconVertexBuffer.array.length;for(let c=0;c<this._iconVertexBuffer.array.length;c++)n[l++]=this._iconVertexBuffer.array[c];e[l++]=this._iconIndexBuffer.array.length;for(let c=0;c<this._iconIndexBuffer.array.length;c++)e[l++]=this._iconIndexBuffer.array[c];e[l++]=this._textVertexBuffer.array.length;for(let c=0;c<this._textVertexBuffer.array.length;c++)n[l++]=this._textVertexBuffer.array[c];e[l++]=this._textIndexBuffer.array.length;for(let c=0;c<this._textIndexBuffer.array.length;c++)e[l++]=this._textIndexBuffer.array[c];return e.buffer}static _symbolsSerializationLength(i){let e=0;e+=1;for(const n of i||[]){e+=5,e+=1;for(const s of n.textColliders)e+=10;for(const s of n.iconColliders)e+=10;e+=1,e+=2*n.textVertexRanges.length,e+=1,e+=2*n.iconVertexRanges.length}return e}static serializeSymbols(i,e,n,s,a){e[s++]=(a=a||[]).length;for(const o of a){e[s++]=o.anchor.x,e[s++]=o.anchor.y,e[s++]=o.symbolFeature.hash,e[s++]=o.symbolFeature.priority,e[s++]=o.symbolFeature.feature.featureIndex,e[s++]=o.textColliders.length+o.iconColliders.length;for(const r of o.textColliders)e[s++]=r.xTile,e[s++]=r.yTile,e[s++]=r.dxPixels,e[s++]=r.dyPixels,e[s++]=r.hard?1:0,e[s++]=r.partIndex,n[s++]=r.minLod,n[s++]=r.maxLod,e[s++]=r.width,e[s++]=r.height;for(const r of o.iconColliders)e[s++]=r.xTile,e[s++]=r.yTile,e[s++]=r.dxPixels,e[s++]=r.dyPixels,e[s++]=r.hard?1:0,e[s++]=r.partIndex,n[s++]=r.minLod,n[s++]=r.maxLod,e[s++]=r.width,e[s++]=r.height;e[s++]=o.textVertexRanges.length;for(const[r,l]of o.textVertexRanges)e[s++]=r,e[s++]=l;e[s++]=o.iconVertexRanges.length;for(const[r,l]of o.iconVertexRanges)e[s++]=r,e[s++]=l}return s}_replaceKeys(i,e){return i.replaceAll(/{([^{}]+)}/g,(n,s)=>s in e?e[s]:"")}_processFeature(i,e,n){const{line:s,iconMosaicItem:a,shaping:o,anchor:r}=i,l=this.zoom,c=this.layer,y=!!a;let f=!0;y&&(f=e?.optional||!a);const T=o&&o.length>0,u=!T||n?.optional;let p,g;if(y&&(p=this._placementEngine.getIconPlacement(r,a,e)),(p||f)&&(T&&(g=this._placementEngine.getTextPlacement(r,o,s,n)),g||u)){if(p&&g||(u||f?u||g?f||p||(g=null):p=null:(p=null,g=null)),g){const L=c.hasDataDrivenText?c.textMaterial.encodeAttributes(i.symbolFeature.feature,l,c):null;if(this._storePlacedGlyphs(i,g.shapes,l,n.rotationAlignment,L),g.textColliders){i.textColliders=g.textColliders;for(const A of g.textColliders){A.minLod=Math.max(l+(0,k.p6)(A.minLod),0),A.maxLod=Math.min(l+(0,k.p6)(A.maxLod),25);const M=A.angle;if(M){const R=Math.cos(M),D=Math.sin(M),b=A.dxPixels*R-A.dyPixels*D,C=A.dxPixels*D+A.dyPixels*R,U=(A.dxPixels+A.width)*R-A.dyPixels*D,z=(A.dxPixels+A.width)*D+A.dyPixels*R,V=A.dxPixels*R-(A.dyPixels+A.height)*D,X=A.dxPixels*D+(A.dyPixels+A.height)*R,it=(A.dxPixels+A.width)*R-(A.dyPixels+A.height)*D,F=(A.dxPixels+A.width)*D+(A.dyPixels+A.height)*R,Tt=Math.min(b,U,V,it),ut=Math.max(b,U,V,it),dt=Math.min(C,z,X,F),vt=Math.max(C,z,X,F);A.dxPixels=Tt,A.dyPixels=dt,A.width=ut-Tt,A.height=vt-dt}}}}if(p){const L=c.hasDataDrivenIcon?c.iconMaterial.encodeAttributes(i.symbolFeature.feature,l,c):null;if(this._addPlacedIcons(i,p.shapes,l,a.page,e.rotationAlignment===m.I5.VIEWPORT,L),p.iconColliders){i.iconColliders=p.iconColliders;for(const A of p.iconColliders){A.minLod=Math.max(l+(0,k.p6)(A.minLod),0),A.maxLod=Math.min(l+(0,k.p6)(A.maxLod),25);const M=A.angle;if(M){const R=Math.cos(M),D=Math.sin(M),b=A.dxPixels*R-A.dyPixels*D,C=A.dxPixels*D+A.dyPixels*R,U=(A.dxPixels+A.width)*R-A.dyPixels*D,z=(A.dxPixels+A.width)*D+A.dyPixels*R,V=A.dxPixels*R-(A.dyPixels+A.height)*D,X=A.dxPixels*D+(A.dyPixels+A.height)*R,it=(A.dxPixels+A.width)*R-(A.dyPixels+A.height)*D,F=(A.dxPixels+A.width)*D+(A.dyPixels+A.height)*R,Tt=Math.min(b,U,V,it),ut=Math.max(b,U,V,it),dt=Math.min(C,z,X,F),vt=Math.max(C,z,X,F);A.dxPixels=Tt,A.dyPixels=dt,A.width=ut-Tt,A.height=vt-dt}}}}}}_addPlacedIcons(i,e,n,s,a,o){const r=Math.max(n-1,0),l=this._iconVertexBuffer,c=this._iconIndexBuffer,y=this._markerMap;for(const f of e){const T=a?0:Math.max(n+(0,k.p6)(f.minzoom),r),u=a?25:Math.min(n+(0,k.p6)(f.maxzoom),25);if(u<=T)continue;const p=f.tl,g=f.tr,L=f.bl,A=f.br,M=f.mosaicRect,R=f.labelAngle,D=f.minAngle,b=f.maxAngle,C=f.anchor,U=l.index,z=M.x,V=M.y,X=z+M.width,it=V+M.height,F=l.index;l.add(C.x,C.y,p.x,p.y,z,V,R,D,b,T,u,o),l.add(C.x,C.y,g.x,g.y,X,V,R,D,b,T,u,o),l.add(C.x,C.y,L.x,L.y,z,it,R,D,b,T,u,o),l.add(C.x,C.y,A.x,A.y,X,it,R,D,b,T,u,o),i.iconVertexRanges.length>0&&i.iconVertexRanges[0][0]+i.iconVertexRanges[0][1]===F?i.iconVertexRanges[0][1]+=4:i.iconVertexRanges.push([F,4]),c.add(U,U+1,U+2),c.add(U+1,U+2,U+3),y.has(s)?y.get(s)[1]+=6:y.set(s,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const i=this._textVertexBuffer,e=this._textIndexBuffer,n=this._glyphMap;for(const[s,a]of this._glyphBufferDataStorage)for(const o of a){const r=i.index,l=o.symbolInstance,c=o.ddAttributes,y=i.index;i.add(o.glyphAnchor[0],o.glyphAnchor[1],o.tl[0],o.tl[1],o.xmin,o.ymin,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,c),i.add(o.glyphAnchor[0],o.glyphAnchor[1],o.tr[0],o.tr[1],o.xmax,o.ymin,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,c),i.add(o.glyphAnchor[0],o.glyphAnchor[1],o.bl[0],o.bl[1],o.xmin,o.ymax,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,c),i.add(o.glyphAnchor[0],o.glyphAnchor[1],o.br[0],o.br[1],o.xmax,o.ymax,o.labelAngle,o.minAngle,o.maxAngle,o.minLod,o.maxLod,c),l.textVertexRanges.length>0&&l.textVertexRanges[0][0]+l.textVertexRanges[0][1]===y?l.textVertexRanges[0][1]+=4:l.textVertexRanges.push([y,4]),e.add(r,r+1,r+2),e.add(r+1,r+2,r+3),n.has(s)?n.get(s)[1]+=6:n.set(s,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(i,e,n,s,a){const o=Math.max(n-1,0),r=s===m.I5.VIEWPORT;let l,c,y,f,T,u,p,g,L,A,M;for(const R of e)l=r?0:Math.max(n+(0,k.p6)(R.minzoom),o),c=r?25:Math.min(n+(0,k.p6)(R.maxzoom),25),!(c<=l)&&(y=R.tl,f=R.tr,T=R.bl,u=R.br,p=R.labelAngle,g=R.minAngle,L=R.maxAngle,A=R.anchor,M=R.mosaicRect,this._glyphBufferDataStorage.has(R.page)||this._glyphBufferDataStorage.set(R.page,[]),this._glyphBufferDataStorage.get(R.page).push({glyphAnchor:[A.x,A.y],tl:[y.x,y.y],tr:[f.x,f.y],bl:[T.x,T.y],br:[u.x,u.y],xmin:M.x,ymin:M.y,xmax:M.x+M.width,ymax:M.y+M.height,labelAngle:p,minAngle:g,maxAngle:L,minLod:l,maxLod:c,placementLod:o,symbolInstance:i,ddAttributes:a}))}static _pushAnchors(i,e,n,s){n+=s;let a=0;const o=e.length-1;for(let T=0;T<o;T++)a+=Y.bR.distance(e[T],e[T+1]);let r=s||n;if(r*=.5,a<=r)return;const l=r/a;let c=0,y=-(n=a/Math.max(Math.round(a/n),1))/2;const f=e.length-1;for(let T=0;T<f;T++){const u=e[T],p=e[T+1],g=p.x-u.x,L=p.y-u.y,A=Math.sqrt(g*g+L*L);let M;for(;y+n<c+A;){y+=n;const R=(y-c)/A,D=(0,k.GW)(u.x,p.x,R),b=(0,k.GW)(u.y,p.y,R);void 0===M&&(M=Math.atan2(L,g)),i.push(new Ut(D,b,M,T,l))}c+=A}}static _pushCenterAnchor(i,e){let n=0;const s=e.length-1;for(let l=0;l<s;l++)n+=Y.bR.distance(e[l],e[l+1]);const a=n/2;let o=0;const r=e.length-1;for(let l=0;l<r;l++){const c=e[l],y=e[l+1],f=y.x-c.x,T=y.y-c.y,u=Math.sqrt(f*f+T*T);if(a<o+u){const p=(a-o)/u,g=(0,k.GW)(c.x,y.x,p),L=(0,k.GW)(c.y,y.y,p),A=Math.atan2(T,f);return void i.push(new Ut(g,L,A,l,0))}o+=u}}static _deviation(i,e,n){return Math.atan2((e.x-i.x)*(n.y-e.y)-(e.y-i.y)*(n.x-e.x),(e.x-i.x)*(n.x-e.x)+(e.y-i.y)*(n.y-e.y))}static _honorsTextMaxAngle(i,e,n,s,a){let o=0;const r=n/2;let l=new Y.bR(e.x,e.y),c=e.segment+1;for(;o>-r;){if(--c,c<0)return!1;o-=Y.bR.distance(i[c],l),l=i[c]}o+=Y.bR.distance(i[c],i[c+1]);const y=[];let f=0;const T=i.length;for(;o<r;){const u=i[c];let p,g=c;do{if(++g,g===T)return!1;p=i[g]}while(p.isEqual(u));let L,A=g;do{if(++A,A===T)return!1;L=i[A]}while(L.isEqual(p));const M=this._deviation(u,p,L);for(y.push({deviation:M,distToAnchor:o}),f+=M;o-y[0].distToAnchor>a;)f-=y.shift().deviation;if(Math.abs(f)>s)return!1;o+=Y.bR.distance(p,L),c=g}return!0}static _smoothVertices(i,e){if(e<=0)return i;let n=i.length;if(n<3)return i;const s=[];let a=0,o=0;s.push(0);for(let g=1;g<n;g++){const L=Y.bR.distance(i[g],i[g-1]);L>0&&(a+=L,s.push(a),o++,o!==g&&(i[o]=i[g]))}if(n=o+1,n<3)return i;e=Math.min(e,.2*a);const r=i[0].x,l=i[0].y,c=i[n-1].x,y=i[n-1].y,f=Y.bR.sub(i[0],i[1]);f.normalize(),i[0].x+=e*f.x,i[0].y+=e*f.y,f.assignSub(i[n-1],i[n-2]),f.normalize(),i[n-1].x+=e*f.x,i[n-1].y+=e*f.y,s[0]-=e,s[n-1]+=e;const T=[];T.push(new Y.bR(r,l));const u=1e-6,p=.5*e;for(let g=1;g<n-1;g++){let L=0,A=0,M=0;for(let R=g-1;R>=0;R--){const D=p+s[R+1]-s[g];if(D<0)break;const b=s[R+1]-s[R],C=s[g]-s[R]<p?1:D/b;if(C<u)break;const U=C*C,z=C*D-.5*U*b,V=C*b/e,X=i[R+1],it=i[R].x-X.x,F=i[R].y-X.y;L+=V/z*(X.x*C*D+.5*U*(D*it-b*X.x)-U*C*b*it/3),A+=V/z*(X.y*C*D+.5*U*(D*F-b*X.y)-U*C*b*F/3),M+=V}for(let R=g+1;R<n;R++){const D=p-s[R-1]+s[g];if(D<0)break;const b=s[R]-s[R-1],C=s[R]-s[g]<p?1:D/b;if(C<u)break;const U=C*C,z=C*D-.5*U*b,V=C*b/e,X=i[R-1],it=i[R].x-X.x,F=i[R].y-X.y;L+=V/z*(X.x*C*D+.5*U*(D*it-b*X.x)-U*C*b*it/3),A+=V/z*(X.y*C*D+.5*U*(D*F-b*X.y)-U*C*b*F/3),M+=V}T.push(new Y.bR(L/M,A/M))}return T.push(new Y.bR(c,y)),i[0].x=r,i[0].y=l,i[n-1].x=c,i[n-1].y=y,T}static _pushCentroid(i,e){const r=e.length-1;let l=0,c=0,y=0,f=e[0].x,T=e[0].y;f>4096&&(f=4096),f<0&&(f=0),T>4096&&(T=4096),T<0&&(T=0);for(let u=1;u<r;u++){let p=e[u].x,g=e[u].y,L=e[u+1].x,A=e[u+1].y;p>4096&&(p=4096),p<0&&(p=0),g>4096&&(g=4096),g<0&&(g=0),L>4096&&(L=4096),L<0&&(L=0),A>4096&&(A=4096),A<0&&(A=0);const M=(p-f)*(A-T)-(L-f)*(g-T);l+=M*(f+p+L),c+=M*(T+g+A),y+=M}l/=3*y,c/=3*y,isNaN(l)||isNaN(c)||i.push(new Ut(l,c))}}K._bidiEngine=new W.A,(x=Nt||(Nt={}))[x.INITIALIZED=0]="INITIALIZED",x[x.NO_DATA=1]="NO_DATA",x[x.READY=2]="READY",x[x.MODIFIED=3]="MODIFIED",x[x.INVALID=4]="INVALID";class wt{constructor(i,e,n,s,a,o){if(this._pbfTiles={},this._tileClippers={},this._client=n,this._tile=e,this._sourceDataMaxLOD=s,o){this._styleLayerUIDs=new Set;for(const f of o)this._styleLayerUIDs.add(f)}this._styleRepository=a,this._layers=this._styleRepository?.layers??[];const[r,l,c]=e.tileKey.split("/").map(parseFloat);this._level=r;const y=(0,k.IU)(this._level);for(const f of Object.keys(i)){const T=i[f];if(this._pbfTiles[f]=new gt.A(new Uint8Array(T.protobuff),new DataView(T.protobuff)),T.refKey){const[u]=T.refKey.split("/").map(parseFloat),p=r-u;if(p>0){const g=(1<<p)-1;this._tileClippers[f]=new Y.O3(p,l&g,c&g,8,y)}}this._tileClippers[f]||(this._tileClippers[f]=new Y.Ox)}}_canParseStyleLayer(i){return!this._styleLayerUIDs||this._styleLayerUIDs.has(i)}parse(i){var e=this;return(0,tt.A)(function*(){const n=(0,Z.F)(),s=e._initialize(i),{returnedBuckets:a}=s;e._processLayers(s),e._linkReferences(s),e._filterFeatures(s);const o=[],r=new Set,l=(f,T)=>{r.has(f)||(o.push({name:f,repeat:T}),r.add(f))},c={};for(const f of a)f.getResources(f.tileClipper,l,c);if(e._tile.status===Nt.INVALID)return[];const y=e._fetchResources(o,c,i);return Promise.all([...y,n]).then(()=>e._processFeatures(s.returnedBuckets))})()}_initialize(i){return{signal:i?.signal,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(i){const{sourceNameToTileData:e,zoom:n,layers:s,sourceNameToTileClipper:a,sourceNameToUniqueSourceLayerBuckets:o,sourceNameToUniqueSourceLayers:r,returnedBuckets:l,layerIdToBucket:c,referencerUIDToReferencedId:y}=i,f=this._sourceDataMaxLOD;for(let T=s.length-1;T>=0;T--){const u=s[T];if(n<f){if(u.minzoom&&n<Math.floor(u.minzoom)||u.maxzoom&&n>=u.maxzoom)continue}else if(u.maxzoom&&n>=u.maxzoom)continue;if(u.type===m.Dc.BACKGROUND||!this._canParseStyleLayer(u.uid)||!e[u.source]||!a[u.source])continue;const g=a[u.source],L=u.sourceLayer,A=e[u.source][L];if(A){let M=r[u.source];if(M||(M=r[u.source]=new Set),M.add(u.sourceLayer),u.refLayerId)y.set(u.uid,u.refLayerId);else{const R=this._createBucket(u);if(R){R.layerUIDs=[u.uid],R.layerExtent=A.extent,R.tileClipper=g;let D=o[u.source];D||(D=o[u.source]={});let b=D[L];b||(b=D[L]=[]),b.push(R),l.push(R),c[u.id]=R}}}}}_linkReferences(i){const{layerIdToBucket:e,referencerUIDToReferencedId:n}=i;n.forEach((s,a)=>{e[s]&&e[s].layerUIDs.push(a)})}_filterFeatures(i){const{signal:e,sourceNameToTileData:n,sourceNameToUniqueSourceLayerBuckets:s,sourceNameToUniqueSourceLayers:a}=i,o=10*this._level,r=10*(this._level+1),l=[],c=[];for(const y of Object.keys(a))a[y].forEach(f=>{l.push(f),c.push(y)});for(let y=0;y<l.length;y++){const f=c[y],T=l[y];if(!n[f]||!s[f])continue;const u=n[f][T],p=s[f][T];if(!p||0===p.length)continue;if((0,Ot.G4)(e))return;let g=0;const L=u.getData();for(;L.nextTag(2);){const A=L.getMessage(),M=new ct.A(A,u,g++);A.release();const R=M.values;if(R){const D=R._minzoom;if(D&&D>=r)continue;const b=R._maxzoom;if(b&&b<=o)continue}for(const D of p)D.pushFeature(M)}}}_fetchResources(i,e,n){const s=[],a=this._tile.getWorkerTileHandler();let o,r;i.length>0&&(o=a.fetchSprites(i,this._client,n),s.push(o));for(const l in e){const c=e[l];c.size>0&&(r=a.fetchGlyphs(this._tile.tileKey,l,c,this._client,n),s.push(r))}return s}_processFeatures(i){const e=i.filter(n=>n.hasFeatures()||this._canParseStyleLayer(n.layer.uid));for(const n of e)n.processFeatures(n.tileClipper);return e}_parseTileData(i){const e={};for(const n of Object.keys(i)){const s=i[n],a={};for(;s.next();)switch(s.tag()){case 3:{const o=s.getMessage(),r=new B.A(o);o.release(),a[r.name]=r;break}default:s.skip()}e[n]=a}return e}_createBucket(i){switch(i.type){case m.Dc.BACKGROUND:return null;case m.Dc.FILL:return this._createFillBucket(i);case m.Dc.LINE:return this._createLineBucket(i);case m.Dc.CIRCLE:return this._createCircleBucket(i);case m.Dc.SYMBOL:return this._createSymbolBucket(i)}}_createFillBucket(i){return new E(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new Ht(i.fillMaterial.getStride()),new et,new Ft(i.outlineMaterial.getStride()),new et)}_createLineBucket(i){return new N(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new t(i.lineMaterial.getStride()),new et)}_createCircleBucket(i){return new kt(i,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new ht(i.circleMaterial.getStride()),new et)}_createSymbolBucket(i){const e=this._tile;return new K(e.tileKey,i,this._level,new nt(i.iconMaterial.getStride()),new et,new nt(i.textMaterial.getStride()),new et,e.placementEngine,e.getWorkerTileHandler())}}class rt{constructor(i,e,n,s){this.status=Nt.INITIALIZED,this.placementEngine=new St,this.tileKey=i,this.refKeys=e,this._workerTileHandler=n,this._styleRepository=s}release(){this.tileKey="",this.refKeys=null,this.status=Nt.INITIALIZED,this._workerTileHandler=null}parse(i,e){var n=this;return(0,tt.A)(function*(){const s=e?.signal;if(null!=s){const f=()=>{s.removeEventListener("abort",f),n.status=Nt.INVALID};s.addEventListener("abort",f)}let a;const o={bucketsWithData:[],emptyBuckets:null};try{a=yield n._parse(i,e)}catch(f){if((0,Ot.zf)(f))throw f;return{result:o,transferList:[]}}n.status=Nt.READY;const r=o.bucketsWithData,l=[];for(const f of a)if(f.hasFeatures()){const T=f.serialize();r.push(T)}else l.push(f.layer.uid);const c=[...r];let y=null;return l.length>0&&(y=Uint32Array.from(l),c.push(y.buffer)),o.emptyBuckets=y,{result:o,transferList:c}})()}setObsolete(){this.status=Nt.INVALID}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}_parse(i,e){var n=this;return(0,tt.A)(function*(){const s=i.sourceName2DataAndRefKey;return 0===Object.keys(s).length?[]:(n.status=Nt.MODIFIED,new wt(s,n,e.client,i.sourceDataMaxLOD,n._styleRepository,i.styleLayerUIDs).parse(e))})()}}var mt=j(6517);class zt{constructor(){this._spriteInfo={},this._glyphInfo={},this._sourceDataMaxLOD=25}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}createTileAndParse(i,e){var n=this;return(0,tt.A)(function*(){const{key:s}=i,a={};for(const r of Object.keys(i.sourceName2DataAndRefKey))a[r]=i.sourceName2DataAndRefKey[r].refKey;const o=new rt(s,a,n,n._styleRepository);try{return yield o.parse({...i,sourceDataMaxLOD:n._sourceDataMaxLOD},e)}catch(r){if(o.setObsolete(),o.release(),!(0,Ot.zf)(r))throw r;return null}})()}updateStyle(i){if(!i||0===i.length||!this._styleRepository)return;const e=this._styleRepository;for(const n of i){const a=n.data;switch(n.type){case st.$q.PAINTER_CHANGED:e.setPaintProperties(a.layer,a.paint);break;case st.$q.LAYOUT_CHANGED:e.setLayoutProperties(a.layer,a.layout);break;case st.$q.LAYER_REMOVED:e.deleteStyleLayer(a.layer);break;case st.$q.LAYER_CHANGED:e.setStyleLayer(a.layer,a.index);break;case st.$q.SPRITES_CHANGED:this._spriteInfo={}}}}setStyle(i){const{style:e,sourceDataMaxLOD:n}=i;this._styleRepository=new mt.A(e),this._sourceDataMaxLOD=n,this._spriteInfo={},this._glyphInfo={}}fetchSprites(i,e,n){const s=[],a=this._spriteInfo;for(const o of i)void 0===a[o.name]&&s.push(o);return 0===s.length?Promise.resolve():e.invoke("getSprites",s,{signal:n?.signal}).then(o=>{for(const r in o)a[r]=o[r]})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(i,e,n,s,a){const o=[];let r=this._glyphInfo[e];return r?n.forEach(l=>{r[l]||o.push(l)}):(r=this._glyphInfo[e]=[],n.forEach(l=>o.push(l))),0===o.length?Promise.resolve():s.invoke("getGlyphs",{tileID:i,font:e,codePoints:o},a).then(l=>{for(let c=0;c<l.length;c++)l[c]&&(r[c]=l[c])})}getGlyphItems(i){return this._glyphInfo[i]}}},24505:(Qt,Gt,j)=>{j.d(Gt,{IT:()=>tt,av:()=>st,o2:()=>Ot,zk:()=>Y});const tt=!0,Ot=32,st=1.5,Y=200},7933:(Qt,Gt,j)=>{j.d(Gt,{i:()=>$});var tt=j(65374),Ot=j(47669);function st(w,m){return w.x===m.x&&w.y===m.y}function k(w,m){return w.x=m.y,w.y=-m.x,w}function xt(w,m){return w.x=-m.y,w.y=m.x,w}function At(w,m){return w.x=m.x,w.y=m.y,w}function ot(w,m){return w.x=-m.x,w.y=-m.y,w}function S(w){return Math.sqrt(w.x*w.x+w.y*w.y)}function G(w,m){return w.x*m.y-w.y*m.x}function v(w,m){return w.x*m.x+w.y*m.y}function P(w,m,q,ft){return w.x=m.x*q+m.y*ft,w.y=m.x*ft-m.y*q,w}class ${constructor(m,q,ft){this._writeVertex=m,this._writeTriangle=q,this._canUseThinTessellation=ft,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(m,q,ft=this._canUseThinTessellation){(function Y(w){if(!w)return;const m=w.length;if(m<=1)return;let q=0;for(let ft=1;ft<m;ft++)st(w[ft],w[q])||++q===ft||(w[q]=w[ft]);w.length=q+1})(m),ft&&q.halfWidth<Ot.Gh&&!q.offset?this._tessellateThin(m,q):this._tessellate(m,q)}_tessellateThin(m,q){if(m.length<2)return;const ft=q.wrapDistance||65535;let Et=q.initialDistance||0,pt=!1,Bt=m[0].x,Ut=m[0].y;const Rt=m.length;for(let Mt=1;Mt<Rt;++Mt){pt&&(pt=!1,Et=0);let Dt=m[Mt].x,St=m[Mt].y,gt=Dt-Bt,Z=St-Ut,ct=Math.sqrt(gt*gt+Z*Z);if(gt/=ct,Z/=ct,Et+ct>ft){pt=!0;const t=(ft-Et)/ct;ct=ft-Et,Dt=(1-t)*Bt+t*Dt,St=(1-t)*Ut+t*St,--Mt}const J=this._writeVertex(Bt,Ut,0,0,gt,Z,Z,-gt,0,-1,Et),et=this._writeVertex(Bt,Ut,0,0,gt,Z,-Z,gt,0,1,Et);Et+=ct;const Pt=this._writeVertex(Dt,St,0,0,gt,Z,Z,-gt,0,-1,Et),B=this._writeVertex(Dt,St,0,0,gt,Z,-Z,gt,0,1,Et);this._writeTriangle(J,et,Pt),this._writeTriangle(et,Pt,B),Bt=Dt,Ut=St}}_tessellate(m,q){const Et=m[m.length-1],pt=st(m[0],Et);if(m.length<(pt?3:2))return;const Ut=q.pixelCoordRatio,Rt=null!=q.capType?q.capType:tt.xR.BUTT,Mt=null!=q.joinType?q.joinType:tt.JO.MITER,Dt=null!=q.miterLimit?Math.min(q.miterLimit,4):2,St=null!=q.roundLimit?Math.min(q.roundLimit,1.05):1.05,gt=null!=q.halfWidth?q.halfWidth:2,Z=!!q.textured;let ct,J,et,Pt=null;const B=this._prevNormal,t=this._nextNormal;let Ht=-1,Ft=-1;const nt=this._joinNormal;let ht,at;const kt=this._textureNormalLeft,h=this._textureNormalRight,d=this._textureNormal;let E=-1,_=-1;const I=q.wrapDistance||65535;let N=q.initialDistance||0;const O=this._writeVertex,H=this._writeTriangle,W=(_t,It,lt,Q,K,Nt)=>{const wt=O(J,et,ht,at,lt,Q,_t,It,K,Nt,N);return E>=0&&_>=0&&wt>=0&&H(E,_,wt),E=_,_=wt,wt};pt&&(ct=m[m.length-2],t.x=Et.x-ct.x,t.y=Et.y-ct.y,Ft=S(t),t.x/=Ft,t.y/=Ft);let yt=!1;for(let _t=0;_t<m.length;++_t){if(yt&&(yt=!1,N=0),ct&&(B.x=-t.x,B.y=-t.y,Ht=Ft,N+Ht>I&&(yt=!0)),yt){const rt=(I-N)/Ht;Ht=I-N,ct={x:(1-rt)*ct.x+rt*m[_t].x,y:(1-rt)*ct.y+rt*m[_t].y},--_t}else ct=m[_t];J=ct.x,et=ct.y;const It=_t<=0&&!yt,lt=_t===m.length-1;if(It||(N+=Ht),Pt=lt?pt?m[1]:null:m[_t+1],Pt?(t.x=Pt.x-J,t.y=Pt.y-et,Ft=S(t),t.x/=Ft,t.y/=Ft):(t.x=void 0,t.y=void 0),!pt){if(It){xt(nt,t),ht=nt.x,at=nt.y,Rt===tt.xR.SQUARE&&(W(-t.y-t.x,t.x-t.y,t.x,t.y,0,-1),W(t.y-t.x,-t.x-t.y,t.x,t.y,0,1)),Rt===tt.xR.ROUND&&(W(-t.y-t.x,t.x-t.y,t.x,t.y,-1,-1),W(t.y-t.x,-t.x-t.y,t.x,t.y,-1,1)),Rt!==tt.xR.ROUND&&Rt!==tt.xR.BUTT||(W(-t.y,t.x,t.x,t.y,0,-1),W(t.y,-t.x,t.x,t.y,0,1));continue}if(lt){k(nt,B),ht=nt.x,at=nt.y,Rt!==tt.xR.ROUND&&Rt!==tt.xR.BUTT||(W(B.y,-B.x,-B.x,-B.y,0,-1),W(-B.y,B.x,-B.x,-B.y,0,1)),Rt===tt.xR.SQUARE&&(W(B.y-B.x,-B.x-B.y,-B.x,-B.y,0,-1),W(-B.y-B.x,B.x-B.y,-B.x,-B.y,0,1)),Rt===tt.xR.ROUND&&(W(B.y-B.x,-B.x-B.y,-B.x,-B.y,1,-1),W(-B.y-B.x,B.x-B.y,-B.x,-B.y,1,1));continue}}let Q,K,Nt=-G(B,t);if(Math.abs(Nt)<.01)v(B,t)>0?(nt.x=B.x,nt.y=B.y,Nt=1,Q=Number.MAX_VALUE,K=!0):(xt(nt,t),Nt=1,Q=1,K=!1);else{nt.x=(B.x+t.x)/Nt,nt.y=(B.y+t.y)/Nt,Q=S(nt);const rt=(Q-1)*gt*Ut;K=Q>4||rt>Ht&&rt>Ft}ht=nt.x,at=nt.y;let wt=Mt;switch(Mt){case tt.JO.BEVEL:Q<1.05&&(wt=tt.JO.MITER);break;case tt.JO.ROUND:Q<St&&(wt=tt.JO.MITER);break;case tt.JO.MITER:Q>Dt&&(wt=tt.JO.BEVEL)}switch(wt){case tt.JO.MITER:if(W(nt.x,nt.y,-B.x,-B.y,0,-1),W(-nt.x,-nt.y,-B.x,-B.y,0,1),lt)break;if(Z){const rt=yt?0:N;E=this._writeVertex(J,et,ht,at,t.x,t.y,nt.x,nt.y,0,-1,rt),_=this._writeVertex(J,et,ht,at,t.x,t.y,-nt.x,-nt.y,0,1,rt)}break;case tt.JO.BEVEL:{const rt=Nt<0;let mt,Lt,zt,x;if(rt){const s=E;E=_,_=s,mt=kt,Lt=h}else mt=h,Lt=kt;if(K)zt=rt?xt(this._innerPrev,B):k(this._innerPrev,B),x=rt?k(this._innerNext,t):xt(this._innerNext,t);else{const s=rt?ot(this._inner,nt):At(this._inner,nt);zt=s,x=s}const i=rt?k(this._bevelStart,B):xt(this._bevelStart,B);W(zt.x,zt.y,-B.x,-B.y,mt.x,mt.y);const e=W(i.x,i.y,-B.x,-B.y,Lt.x,Lt.y);if(lt)break;const n=rt?xt(this._bevelEnd,t):k(this._bevelEnd,t);if(K){const s=this._writeVertex(J,et,ht,at,-B.x,-B.y,0,0,0,0,N);E=this._writeVertex(J,et,ht,at,t.x,t.y,x.x,x.y,mt.x,mt.y,N),_=this._writeVertex(J,et,ht,at,t.x,t.y,n.x,n.y,Lt.x,Lt.y,N),this._writeTriangle(e,s,_)}else{if(Z){const s=this._bevelMiddle;s.x=(i.x+n.x)/2,s.y=(i.y+n.y)/2,P(d,s,-B.x,-B.y),W(s.x,s.y,-B.x,-B.y,d.x,d.y),P(d,s,t.x,t.y),E=this._writeVertex(J,et,ht,at,t.x,t.y,s.x,s.y,d.x,d.y,N),_=this._writeVertex(J,et,ht,at,t.x,t.y,x.x,x.y,mt.x,mt.y,N)}else{const s=E;E=_,_=s}W(n.x,n.y,t.x,t.y,Lt.x,Lt.y)}if(rt){const s=E;E=_,_=s}break}case tt.JO.ROUND:{const rt=Nt<0;let mt,Lt;if(rt){const M=E;E=_,_=M,mt=kt,Lt=h}else mt=h,Lt=kt;const zt=rt?ot(this._inner,nt):At(this._inner,nt);let x,i;K?(x=rt?xt(this._innerPrev,B):k(this._innerPrev,B),i=rt?k(this._innerNext,t):xt(this._innerNext,t)):(x=zt,i=zt);const e=rt?k(this._roundStart,B):xt(this._roundStart,B),n=rt?xt(this._roundEnd,t):k(this._roundEnd,t),s=W(x.x,x.y,-B.x,-B.y,mt.x,mt.y),a=W(e.x,e.y,-B.x,-B.y,Lt.x,Lt.y);if(lt)break;const o=this._writeVertex(J,et,ht,at,-B.x,-B.y,0,0,0,0,N);K||this._writeTriangle(E,_,o);const r=ot(this._outer,zt),l=this._writeVertex(J,et,ht,at,t.x,t.y,n.x,n.y,Lt.x,Lt.y,N);let c,y;const f=Q>2;if(f){let M;Q!==Number.MAX_VALUE?(r.x/=Q,r.y/=Q,M=v(B,r),M=(Q*(M*M-1)+1)/M):M=-1,c=rt?k(this._startBreak,B):xt(this._startBreak,B),c.x+=B.x*M,c.y+=B.y*M,y=rt?xt(this._endBreak,t):k(this._endBreak,t),y.x+=t.x*M,y.y+=t.y*M}P(d,r,-B.x,-B.y);const T=this._writeVertex(J,et,ht,at,-B.x,-B.y,r.x,r.y,d.x,d.y,N);P(d,r,t.x,t.y);const u=Z?this._writeVertex(J,et,ht,at,t.x,t.y,r.x,r.y,d.x,d.y,N):T,p=o,g=Z?this._writeVertex(J,et,ht,at,t.x,t.y,0,0,0,0,N):o;let L=-1,A=-1;if(f&&(P(d,c,-B.x,-B.y),L=this._writeVertex(J,et,ht,at,-B.x,-B.y,c.x,c.y,d.x,d.y,N),P(d,y,t.x,t.y),A=this._writeVertex(J,et,ht,at,t.x,t.y,y.x,y.y,d.x,d.y,N)),Z?f?(this._writeTriangle(p,a,L),this._writeTriangle(p,L,T),this._writeTriangle(g,u,A),this._writeTriangle(g,A,l)):(this._writeTriangle(p,a,T),this._writeTriangle(g,u,l)):f?(this._writeTriangle(o,a,L),this._writeTriangle(o,L,A),this._writeTriangle(o,A,l)):(this._writeTriangle(o,a,T),this._writeTriangle(o,u,l)),K?(E=this._writeVertex(J,et,ht,at,t.x,t.y,i.x,i.y,mt.x,mt.y,N),_=l):(E=Z?this._writeVertex(J,et,ht,at,t.x,t.y,i.x,i.y,mt.x,mt.y,N):s,this._writeTriangle(E,g,l),_=l),rt){const M=E;E=_,_=M}break}}}}}},47669:(Qt,Gt,j)=>{j.d(Gt,{$U:()=>It,C2:()=>Dt,CQ:()=>xt,CR:()=>at,C_:()=>Q,Cp:()=>kt,DY:()=>m,GR:()=>X,Gh:()=>O,LY:()=>_,O5:()=>R,Pq:()=>Z,Qb:()=>A,Sr:()=>nt,TB:()=>V,V3:()=>W,Vl:()=>U,Xh:()=>C,YS:()=>J,YV:()=>G,_M:()=>yt,_x:()=>D,cp:()=>it,dV:()=>d,eG:()=>Mt,eI:()=>b,fq:()=>n,fy:()=>H,g0:()=>I,hM:()=>Nt,ie:()=>_t,ju:()=>$,lL:()=>t,mg:()=>lt,n9:()=>Ft,nM:()=>B,nW:()=>Lt,p:()=>wt,qM:()=>st,r1:()=>M,sn:()=>Ht,uM:()=>et,ue:()=>ct,vN:()=>h,vd:()=>ht,yA:()=>mt,yv:()=>s,z2:()=>Pt});const st=1e-30,xt=512,G=16777216,$=8,m=29,Mt=24,Dt=4,Z=0,ct=0,J=0,et=1,Pt=2,B=3,t=4,Ht=5,Ft=6,nt=12,ht=5,at=6,kt=5,h=6;var d,F;(F=d||(d={}))[F.FilterFlags=0]="FilterFlags",F[F.Animation=1]="Animation",F[F.GPGPU=2]="GPGPU",F[F.VV=3]="VV",F[F.DD0=4]="DD0",F[F.DD1=5]="DD1",F[F.DD2=6]="DD2";const _=8,I=_<<1,O=1.05,H=3,W=1,yt=3,_t=3,It=5,lt=6,Q=1.15,Nt=2,wt=128,mt=256-2*Nt,Lt=2,n=10,s=1024,A=128,M=4,R=1,D=1<<20,b=.75,C=10,U=.75,V=256,X=32,it=512},50915:(Qt,Gt,j)=>{var tt,Ot,st,Y,k,xt,At,ot,S,G,v,P,$,w,m,q,ft,Et,pt,Bt,t;j.d(Gt,{Ab:()=>w,Ac:()=>At,Ap:()=>$,CQ:()=>gt,Cj:()=>v,Co:()=>pt,H0:()=>m,Hr:()=>Dt,MT:()=>S,NZ:()=>k,Nm:()=>Mt,R:()=>Bt,Tb:()=>Y,WR:()=>Ot,Y7:()=>xt,_U:()=>Et,dn:()=>st,eA:()=>G,hn:()=>tt,ld:()=>q,nI:()=>St,pF:()=>P,pe:()=>ot,sS:()=>et,tx:()=>Pt,vt:()=>Rt,xM:()=>Ut,xV:()=>Z,yQ:()=>ft}),(t=tt||(tt={}))[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ot||(Ot={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(st||(st={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(Y||(Y={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(k||(k={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(xt||(xt={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(At||(At={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(ot||(ot={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(S||(S={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(G||(G={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(v||(v={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(P||(P={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}($||($={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(w||(w={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(m||(m={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(q||(q={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(ft||(ft={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(Et||(Et={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(pt||(pt={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Bt||(Bt={}));const Ut=33984;var Rt,Mt,Dt;(function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"})(Rt||(Rt={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(Mt||(Mt={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(Dt||(Dt={}));const St=33306;var gt,Z,ct,J,et,Pt,B;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(gt||(gt={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(Z||(Z={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(ct||(ct={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(J||(J={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(et||(et={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(Pt||(Pt={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(B||(B={}))}}]);