"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[1501,6773],{61501:(mn,K,g)=>{g.r(K),g.d(K,{registerFunctions:()=>q});var A=g(10467),C=g(77469),L=g(45369),P=g(53787),s=g(55279),l=g(73446),i=g(42686),I=g(32832),R=g(29417),H=g(55316),z=g(82663),N=g(28067),f=g(68643),h=g(16773),J=g(21870),S=g(1749),O=g(55861),_=g(93615),E=g(61320),V=g(73874),j=g(89563);function U(u,t,r){return b.apply(this,arguments)}function b(){return(b=(0,A.A)(function*(u,t,r){if(!C.id?.findCredential(u.restUrl))return null;if("loaded"===u.loadStatus&&""===t&&u.user?.sourceJSON&&!1===r)return u.user.sourceJSON;const p={responseType:"json",query:{f:"json"}};if(r&&(p.query.returnUserLicenseTypeExtensions=!0),""===t){const e=yield(0,j.A)(u.restUrl+"/community/self",p);if(e.data){const c=e.data;if(c?.username)return c}return null}const n=yield(0,j.A)(u.restUrl+"/community/users/"+t,p);if(n.data){const e=n.data;return e.error?null:e}return null})).apply(this,arguments)}function G(u){return 0===C.rE.indexOf("4.")?O.A.fromExtent(u):new O.A({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function $(u,t,r){if((0,i.H)(u,2,2,t,r),!(u[0]instanceof f.A&&u[1]instanceof f.A||u[0]instanceof f.A&&null===u[1]||u[1]instanceof f.A&&null===u[0]||null===u[0]&&null===u[1]))throw new s.D$(t,s.TX.InvalidParameter,r)}function Z(u,t){return Y.apply(this,arguments)}function Y(){return(Y=(0,A.A)(function*(u,t){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;let r=1;(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid)&&(r=(0,R.G9)(u.spatialReference)/(0,z.GA)(u.spatialReference));let d=0;if("polyline"===u.type)for(const n of u.paths)for(let e=1;e<n.length;e++)d+=(0,R.BM)(n[e],n[e-1],r);else if("polygon"===u.type)for(const n of u.rings){for(let e=1;e<n.length;e++)d+=(0,R.BM)(n[e],n[e-1],r);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(d+=(0,R.BM)(n[0],n[n.length-1],r))}else"extent"===u.type&&(d+=2*(0,R.BM)([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],r),d+=2*(0,R.BM)([u.xmin,u.ymin,0],[u.xmin,u.ymax,0],r),d*=2,d+=4*Math.abs((0,i.K)(u.zmax,0)*r-(0,i.K)(u.zmin,0)*r));const p=new _.A({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,d]]});return(0,h.planarLength)(p,t)})).apply(this,arguments)}function q(u){"async"===u.mode&&(u.functions.disjoint=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null===n[0]||null===n[1]||(0,h.disjoint)(n[0],n[1])))},u.functions.intersects=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.intersects)(n[0],n[1])))},u.functions.touches=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.touches)(n[0],n[1])))},u.functions.crosses=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.crosses)(n[0],n[1])))},u.functions.within=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.within)(n[0],n[1])))},u.functions.contains=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.contains)(n[0],n[1])))},u.functions.overlaps=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null!==n[0]&&null!==n[1]&&(0,h.overlaps)(n[0],n[1])))},u.functions.equals=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>((0,i.H)(n,2,2,t,r),n[0]===n[1]||(n[0]instanceof f.A&&n[1]instanceof f.A?(0,h.equals)(n[0],n[1]):((0,i.k)(n[0])&&(0,i.k)(n[1])||!!((0,i.n)(n[0])&&(0,i.n)(n[1])||(0,i.m)(n[0])&&(0,i.m)(n[1])))&&n[0].equals(n[1]))))},u.functions.relate=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,3,3,t,r),n[0]instanceof f.A&&n[1]instanceof f.A)return(0,h.relate)(n[0],n[1],(0,i.j)(n[2]));if(n[0]instanceof f.A&&null===n[1]||n[1]instanceof f.A&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new s.D$(t,s.TX.InvalidParameter,r)})},u.functions.intersection=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null===n[0]||null===n[1]?null:(0,h.intersect)(n[0],n[1])))},u.functions.union=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{const e=[];if(0===(n=(0,i.I)(n)).length)throw new s.D$(t,s.TX.WrongNumberOfParameters,r);if(1===n.length)if((0,i.o)(n[0])){const c=(0,i.I)(n[0]);for(let m=0;m<c.length;m++)if(null!==c[m]){if(!(c[m]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(c[m])}}else{if(!(0,i.q)(n[0])){if(n[0]instanceof f.A)return(0,i.x)((0,l.Yq)(n[0]),t.spatialReference);if(null===n[0])return null;throw new s.D$(t,s.TX.InvalidParameter,r)}{const c=(0,i.I)(n[0].toArray());for(let m=0;m<c.length;m++)if(null!==c[m]){if(!(c[m]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(c[m])}}}else for(let c=0;c<n.length;c++)if(null!==n[c]){if(!(n[c]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);e.push(n[c])}return 0===e.length?null:(0,h.union)(e)})},u.functions.difference=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null===n[0]?null:null===n[1]?(0,l.Yq)(n[0]):(0,h.difference)(n[0],n[1])))},u.functions.symmetricdifference=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>($(n=(0,i.I)(n),t,r),null===n[0]&&null===n[1]?null:null===n[0]?(0,l.Yq)(n[1]):null===n[1]?(0,l.Yq)(n[0]):(0,h.symmetricDifference)(n[0],n[1])))},u.functions.clip=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),!(n[1]instanceof N.A)&&null!==n[1])throw new s.D$(t,s.TX.InvalidParameter,r);if(null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return null===n[1]?null:(0,h.clip)(n[0],n[1])})},u.functions.cut=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),!(n[1]instanceof _.A)&&null!==n[1])throw new s.D$(t,s.TX.InvalidParameter,r);if(null===n[0])return[];if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return null===n[1]?[(0,l.Yq)(n[0])]:(0,h.cut)(n[0],n[1])})},u.functions.area=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumArea((0,l.uf)((0,i.K)(e[1],-1)),!1,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.J)(e[0],t.spatialReference);return null===c?0:(0,h.planarArea)(c,(0,l.uf)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.planarArea)(e[0],(0,l.uf)((0,i.K)(e[1],-1)))});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.areageodetic=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumArea((0,l.uf)((0,i.K)(e[1],-1)),!0,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.J)(e[0],t.spatialReference);return null===c?0:(0,h.geodesicArea)(c,(0,l.uf)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.geodesicArea)(e[0],(0,l.uf)((0,i.K)(e[1],-1)))});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.length=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumLength((0,l.SQ)((0,i.K)(e[1],-1)),!1,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.L)(e[0],t.spatialReference);return null===c?0:(0,h.planarLength)(c,(0,l.SQ)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.planarLength)(e[0],(0,l.SQ)((0,i.K)(e[1],-1)))});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.length3d=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if((0,i.H)(n,1,2,t,r),null===(n=(0,i.I)(n))[0])return 0;if((0,i.o)(n[0])||(0,i.q)(n[0])){const e=(0,i.L)(n[0],t.spatialReference);return null===e?0:!0===e.hasZ?Z(e,(0,l.SQ)((0,i.K)(n[1],-1))):(0,h.planarLength)(e,(0,l.SQ)((0,i.K)(n[1],-1)))}if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return!0===n[0].hasZ?Z(n[0],(0,l.SQ)((0,i.K)(n[1],-1))):(0,h.planarLength)(n[0],(0,l.SQ)((0,i.K)(n[1],-1)))})},u.functions.lengthgeodetic=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if((0,i.H)(e,1,2,t,r),null===(e=(0,i.I)(e))[0])return 0;if((0,i.u)(e[0])){const c=yield e[0].sumLength((0,l.SQ)((0,i.K)(e[1],-1)),!0,t.abortSignal);if(t.abortSignal.aborted)throw new s.D$(t,s.TX.Cancelled,r);return c}if((0,i.o)(e[0])||(0,i.q)(e[0])){const c=(0,i.L)(e[0],t.spatialReference);return null===c?0:(0,h.geodesicLength)(c,(0,l.SQ)((0,i.K)(e[1],-1)))}if(!(e[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.geodesicLength)(e[0],(0,l.SQ)((0,i.K)(e[1],-1)))});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.distance=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{n=(0,i.I)(n),(0,i.H)(n,2,3,t,r);let e=n[0];((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.M)(n[0],t.spatialReference));let c=n[1];if(((0,i.o)(n[1])||(0,i.q)(n[1]))&&(c=(0,i.M)(n[1],t.spatialReference)),!(e instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(c instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.distance)(e,c,(0,l.SQ)((0,i.K)(n[2],-1)))})},u.functions.distancegeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{n=(0,i.I)(n),(0,i.H)(n,2,3,t,r);const e=n[0],c=n[1];if(!(e instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(c instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);const m=new _.A({paths:[],spatialReference:e.spatialReference});return m.addPath([e,c]),(0,h.geodesicLength)(m,(0,l.SQ)((0,i.K)(n[2],-1)))})},u.functions.densify=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);if(e<=0)throw new s.D$(t,s.TX.InvalidParameter,r);return n[0]instanceof O.A||n[0]instanceof _.A?(0,h.densify)(n[0],e,(0,l.SQ)((0,i.K)(n[2],-1))):n[0]instanceof N.A?(0,h.densify)(G(n[0]),e,(0,l.SQ)((0,i.K)(n[2],-1))):n[0]})},u.functions.densifygeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);if(e<=0)throw new s.D$(t,s.TX.InvalidParameter,r);return n[0]instanceof O.A||n[0]instanceof _.A?(0,h.geodesicDensify)(n[0],e,(0,l.SQ)((0,i.K)(n[2],-1))):n[0]instanceof N.A?(0,h.geodesicDensify)(G(n[0]),e,(0,l.SQ)((0,i.K)(n[2],-1))):n[0]})},u.functions.generalize=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,4,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.generalize)(n[0],e,(0,i.h)((0,i.K)(n[2],!0)),(0,l.SQ)((0,i.K)(n[3],-1)))})},u.functions.buffer=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return 0===e?(0,l.Yq)(n[0]):(0,h.buffer)(n[0],e,(0,l.SQ)((0,i.K)(n[2],-1)))})},u.functions.buffergeodetic=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);return 0===e?(0,l.Yq)(n[0]):(0,h.geodesicBuffer)(n[0],e,(0,l.SQ)((0,i.K)(n[2],-1)))})},u.functions.offset=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,6,t,r),null===n[0])return null;if(!(n[0]instanceof O.A||n[0]instanceof _.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=(0,i.g)(n[1]);if(isNaN(e))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,i.g)((0,i.K)(n[4],10));if(isNaN(c))throw new s.D$(t,s.TX.InvalidParameter,r);const m=(0,i.g)((0,i.K)(n[5],0));if(isNaN(m))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.offset)(n[0],e,(0,l.SQ)((0,i.K)(n[2],-1)),(0,i.j)((0,i.K)(n[3],"round")).toLowerCase(),c,m)})},u.functions.rotate=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,3,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);const e=n[0]instanceof N.A?O.A.fromExtent(n[0]):n[0],c=(0,i.g)(n[1]);if(isNaN(c))throw new s.D$(t,s.TX.InvalidParameter,r);const m=(0,i.K)(n[2],null);if(null===m)return(0,h.rotate)(e,c);if(m instanceof S.A)return(0,h.rotate)(e,c,m);throw new s.D$(t,s.TX.InvalidParameter,r)})},u.functions.centroid=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.M)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return e instanceof S.A?(0,i.x)((0,l.Yq)(e),t.spatialReference):e instanceof O.A?e.centroid:e instanceof _.A?(0,R.tI)(e):e instanceof J.A?(0,R.e0)(e):e instanceof N.A?e.center:null})},u.functions.measuretocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof _.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,H.EP)(e,n[1]);return c?P.A.convertObjectToArcadeDictionary(c,(0,i.N)(t),!1,!0):null})},u.functions.pointtocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof _.A))throw new s.D$(t,s.TX.InvalidParameter,r);const c=n[1];if(null===c)return null;if(!(c instanceof S.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const m=(0,H.sO)(e,c);return m?P.A.convertObjectToArcadeDictionary(m,(0,i.N)(t),!1,!0):null})},u.functions.distancetocoordinate=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,2,2,t,r),null===n[0])return null;let e=n[0];if(((0,i.o)(n[0])||(0,i.q)(n[0]))&&(e=(0,i.L)(n[0],t.spatialReference)),null===e)return null;if(!(e instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e instanceof _.A))throw new s.D$(t,s.TX.InvalidParameter,r);if((0,i.b)(!1===n[1]))throw new s.D$(t,s.TX.InvalidParameter,r);const c=(0,H.du)(e,n[1]);return c?P.A.convertObjectToArcadeDictionary(c,(0,i.N)(t),!1,!0):null})},u.functions.multiparttosinglepart=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if(e=(0,i.I)(e),(0,i.H)(e,1,1,t,r),null===e[0])return null;if(!(e[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);if(e[0]instanceof S.A)return[(0,i.x)((0,l.Yq)(e[0]),t.spatialReference)];if(e[0]instanceof N.A)return[(0,i.x)((0,l.Yq)(e[0]),t.spatialReference)];const c=yield(0,h.simplify)(e[0]);if(c instanceof O.A){const m=[],v=[];for(let x=0;x<c.rings.length;x++)if(c.isClockwise(c.rings[x])){const D=(0,E.rS)({rings:[c.rings[x]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});m.push(D)}else v.push({ring:c.rings[x],pt:c.getPoint(x,0)});for(let x=0;x<v.length;x++)for(let D=0;D<m.length;D++)if(m[D].contains(v[x].pt)){m[D].addRing(v[x].ring);break}return m}if(c instanceof _.A){const m=[];for(let v=0;v<c.paths.length;v++){const x=(0,E.rS)({paths:[c.paths[v]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});m.push(x)}return m}if(e[0]instanceof J.A){const m=[],v=(0,i.x)((0,l.Yq)(e[0]),t.spatialReference);for(let x=0;x<v.points.length;x++)m.push(v.getPoint(x));return m}return null});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.issimple=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return!0;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.isSimple)(n[0])})},u.functions.simplify=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.simplify)(n[0])})},u.functions.convexhull=function(t,r){return u.standardFunctionAsync(t,r,(d,p,n)=>{if(n=(0,i.I)(n),(0,i.H)(n,1,1,t,r),null===n[0])return null;if(!(n[0]instanceof f.A))throw new s.D$(t,s.TX.InvalidParameter,r);return(0,h.convexHull)(n[0])})},u.functions.getuser=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){(0,i.H)(e,0,2,t,r);let c=(0,i.K)(e[1],""),m=!0===c;if(c=!0===c||!1===c?"":(0,i.j)(c),0===e.length||e[0]instanceof L.A){let x;x=t.services?.portal?t.services.portal:V.A.getDefault(),e.length>0&&(x=(0,I.R)(e[0],x));const D=yield U(x,c,m);if(D){const F=JSON.parse(JSON.stringify(D));for(const T of["lastLogin","created","modified"])null!=F[T]&&(F[T]=new Date(F[T]));return P.A.convertObjectToArcadeDictionary(F,(0,i.N)(t))}return null}let v=null;if((0,i.u)(e[0])&&(v=e[0]),v){if(m=!1,c)return null;yield v.load();const x=yield v.getOwningSystemUrl();if(!x){if(!c){const T=yield v.getIdentityUser();return T?P.A.convertObjectToArcadeDictionary({username:T},(0,i.N)(t)):null}return null}let D;D=t.services?.portal?t.services.portal:V.A.getDefault(),D=(0,I.R)(new L.A(x),D);const F=yield U(D,c,m);if(F){const T=JSON.parse(JSON.stringify(F));for(const M of["lastLogin","created","modified"])null!=T[M]&&(T[M]=new Date(T[M]));return P.A.convertObjectToArcadeDictionary(T,(0,i.N)(t))}return null}throw new s.D$(t,s.TX.InvalidParameter,r)});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.nearestcoordinate=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if(e=(0,i.I)(e),(0,i.H)(e,2,2,t,r),!(e[0]instanceof f.A||null===e[0]))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e[1]instanceof S.A||null===e[1]))throw new s.D$(t,s.TX.InvalidParameter,r);if(null===e[0]||null===e[1])return null;const c=yield(0,h.nearestCoordinate)(e[0],e[1]);return null===c?null:P.A.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,i.N)(t),!1,!0)});return function(p,n,e){return d.apply(this,arguments)}}())},u.functions.nearestvertex=function(t,r){return u.standardFunctionAsync(t,r,function(){var d=(0,A.A)(function*(p,n,e){if(e=(0,i.I)(e),(0,i.H)(e,2,2,t,r),!(e[0]instanceof f.A||null===e[0]))throw new s.D$(t,s.TX.InvalidParameter,r);if(!(e[1]instanceof S.A||null===e[1]))throw new s.D$(t,s.TX.InvalidParameter,r);if(null===e[0]||null===e[1])return null;const c=yield(0,h.nearestVertex)(e[0],e[1]);return null===c?null:P.A.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?"straddle":c.isRightSide?"right":"left"},(0,i.N)(t),!1,!0)});return function(p,n,e){return d.apply(this,arguments)}}())})}},32832:(mn,K,g)=>{g.d(K,{R:()=>C});var A=g(73874);function C(L,P){return null===L?P:new A.A({url:L.field("url")})}},16773:(mn,K,g)=>{g.r(K),g.d(K,{buffer:()=>gn,changeDefaultSpatialReferenceTolerance:()=>Kn,clearDefaultSpatialReferenceTolerance:()=>Ln,clip:()=>_,contains:()=>U,convexHull:()=>p,crosses:()=>b,cut:()=>V,densify:()=>Xn,difference:()=>e,disjoint:()=>Y,distance:()=>An,equals:()=>B,extendedSpatialReferenceInfo:()=>O,flipHorizontal:()=>Tn,flipVertical:()=>Pn,generalize:()=>_n,geodesicArea:()=>Nn,geodesicBuffer:()=>xn,geodesicDensify:()=>Sn,geodesicLength:()=>On,intersect:()=>x,intersectLinesToPoints:()=>Fn,intersects:()=>G,isSimple:()=>t,nearestCoordinate:()=>wn,nearestVertex:()=>vn,nearestVertices:()=>In,offset:()=>M,overlaps:()=>q,planarArea:()=>$n,planarLength:()=>Rn,relate:()=>u,rotate:()=>Dn,simplify:()=>r,symmetricDifference:()=>m,touches:()=>$,union:()=>F,within:()=>Z});var A=g(10467),L=(g(21152),g(19284)),P=g(1749),s=g(61320);function l(a){return Array.isArray(a)?a[0]?.spatialReference:a?.spatialReference}function i(a){return a&&(Array.isArray(a)?a.map(i):a.toJSON?a.toJSON():a)}function I(a){return Array.isArray(a)?a.map(o=>(0,s.rS)(o)):(0,s.rS)(a)}let H;function z(){return N.apply(this,arguments)}function N(){return(N=(0,A.A)(function*(){return H||(H=(0,L.ho)("geometryEngineWorker",{strategy:"distributed"})),H})).apply(this,arguments)}function f(a,o){return h.apply(this,arguments)}function h(){return(h=(0,A.A)(function*(a,o){return(yield z()).invoke("executeGEOperation",{operation:a,parameters:i(o)})})).apply(this,arguments)}function J(a,o){return S.apply(this,arguments)}function S(){return(S=(0,A.A)(function*(a,o){const y=yield z();return Promise.all(y.broadcast("executeGEOperation",{operation:a,parameters:i(o)}))})).apply(this,arguments)}function O(a){return f("extendedSpatialReferenceInfo",[a])}function _(a,o){return E.apply(this,arguments)}function E(){return(E=(0,A.A)(function*(a,o){return I(yield f("clip",[l(a),a,o]))})).apply(this,arguments)}function V(a,o){return j.apply(this,arguments)}function j(){return(j=(0,A.A)(function*(a,o){return I(yield f("cut",[l(a),a,o]))})).apply(this,arguments)}function U(a,o){return f("contains",[l(a),a,o])}function b(a,o){return f("crosses",[l(a),a,o])}function An(a,o,y){return f("distance",[l(a),a,o,y])}function B(a,o){return f("equals",[l(a),a,o])}function G(a,o){return f("intersects",[l(a),a,o])}function $(a,o){return f("touches",[l(a),a,o])}function Z(a,o){return f("within",[l(a),a,o])}function Y(a,o){return f("disjoint",[l(a),a,o])}function q(a,o){return f("overlaps",[l(a),a,o])}function u(a,o,y){return f("relate",[l(a),a,o,y])}function t(a){return f("isSimple",[l(a),a])}function r(a){return d.apply(this,arguments)}function d(){return(d=(0,A.A)(function*(a){return I(yield f("simplify",[l(a),a]))})).apply(this,arguments)}function p(a){return n.apply(this,arguments)}function n(){return(n=(0,A.A)(function*(a,o=!1){return I(yield f("convexHull",[l(a),a,o]))})).apply(this,arguments)}function e(a,o){return c.apply(this,arguments)}function c(){return(c=(0,A.A)(function*(a,o){return I(yield f("difference",[l(a),a,o]))})).apply(this,arguments)}function m(a,o){return v.apply(this,arguments)}function v(){return(v=(0,A.A)(function*(a,o){return I(yield f("symmetricDifference",[l(a),a,o]))})).apply(this,arguments)}function x(a,o){return D.apply(this,arguments)}function D(){return(D=(0,A.A)(function*(a,o){return I(yield f("intersect",[l(a),a,o]))})).apply(this,arguments)}function F(a){return T.apply(this,arguments)}function T(){return(T=(0,A.A)(function*(a,o=null){const y=function R(a,o){let y;return Array.isArray(a)?y=a:(y=[],y.push(a),null!=o&&y.push(o)),y}(a,o);return I(yield f("union",[l(y),y]))})).apply(this,arguments)}function M(a,o,y,w,X,W){return k.apply(this,arguments)}function k(){return(k=(0,A.A)(function*(a,o,y,w,X,W){return I(yield f("offset",[l(a),a,o,y,w,X,W]))})).apply(this,arguments)}function gn(a,o,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,A.A)(function*(a,o,y,w=!1){const X=[l(a),a,o,y,w];return I(yield f("buffer",X))})).apply(this,arguments)}function xn(a,o,y,w,X,W){return tn.apply(this,arguments)}function tn(){return(tn=(0,A.A)(function*(a,o,y,w,X,W){const Hn=[l(a),a,o,y,w,X,W];return I(yield f("geodesicBuffer",Hn))})).apply(this,arguments)}function wn(a,o){return en.apply(this,arguments)}function en(){return(en=(0,A.A)(function*(a,o,y=!0){const w=yield f("nearestCoordinate",[l(a),a,o,y]);return{...w,coordinate:P.A.fromJSON(w.coordinate)}})).apply(this,arguments)}function vn(a,o){return rn.apply(this,arguments)}function rn(){return(rn=(0,A.A)(function*(a,o){const y=yield f("nearestVertex",[l(a),a,o]);return{...y,coordinate:P.A.fromJSON(y.coordinate)}})).apply(this,arguments)}function In(a,o,y,w){return an.apply(this,arguments)}function an(){return(an=(0,A.A)(function*(a,o,y,w){return(yield f("nearestVertices",[l(a),a,o,y,w])).map(X=>({...X,coordinate:P.A.fromJSON(X.coordinate)}))})).apply(this,arguments)}function un(a){return"xmin"in a?a.center:"x"in a?a:a.extent?.center}function Dn(a,o,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,A.A)(function*(a,o,y){if(null==a)throw new Q;const w=a.spatialReference;if(null==(y=y??un(a)))throw new Q;const X=a.constructor.fromJSON(yield f("rotate",[w,a,o,y]));return X.spatialReference=w,X})).apply(this,arguments)}function Tn(a,o){return cn.apply(this,arguments)}function cn(){return(cn=(0,A.A)(function*(a,o){if(null==a)throw new Q;const y=a.spatialReference;if(null==(o=o??un(a)))throw new Q;const w=a.constructor.fromJSON(yield f("flipHorizontal",[y,a,o]));return w.spatialReference=y,w})).apply(this,arguments)}function Pn(a,o){return on.apply(this,arguments)}function on(){return(on=(0,A.A)(function*(a,o){if(null==a)throw new Q;const y=a.spatialReference;if(null==(o=o??un(a)))throw new Q;const w=a.constructor.fromJSON(yield f("flipVertical",[y,a,o]));return w.spatialReference=y,w})).apply(this,arguments)}function _n(a,o,y,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,A.A)(function*(a,o,y,w){return I(yield f("generalize",[l(a),a,o,y,w]))})).apply(this,arguments)}function Xn(a,o,y){return ln.apply(this,arguments)}function ln(){return(ln=(0,A.A)(function*(a,o,y){return I(yield f("densify",[l(a),a,o,y]))})).apply(this,arguments)}function Sn(a,o,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,A.A)(function*(a,o,y,w=0){return I(yield f("geodesicDensify",[l(a),a,o,y,w]))})).apply(this,arguments)}function $n(a,o){return f("planarArea",[l(a),a,o])}function Rn(a,o){return f("planarLength",[l(a),a,o])}function Nn(a,o,y){return f("geodesicArea",[l(a),a,o,y])}function On(a,o,y){return f("geodesicLength",[l(a),a,o,y])}function Fn(a,o){return pn.apply(this,arguments)}function pn(){return(pn=(0,A.A)(function*(a,o){return I(yield f("intersectLinesToPoints",[l(a),a,o]))})).apply(this,arguments)}function Kn(a,o){return yn.apply(this,arguments)}function yn(){return(yn=(0,A.A)(function*(a,o){yield J("changeDefaultSpatialReferenceTolerance",[a,o])})).apply(this,arguments)}function Ln(a){return hn.apply(this,arguments)}function hn(){return(hn=(0,A.A)(function*(a){yield J("clearDefaultSpatialReferenceTolerance",[a])})).apply(this,arguments)}class Q extends Error{constructor(){super("Illegal Argument Exception")}}}}]);