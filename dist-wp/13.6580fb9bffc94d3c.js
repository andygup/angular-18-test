"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[13],{31033:(pe,ft,R)=>{R.d(ft,{D_:()=>T,L8:()=>P,Z7:()=>c,dr:()=>x});var c,S,ot=R(1119);(S=c||(c={})).InvalidFunctionParameters="InvalidFunctionParameters",S.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",S.UnsupportedSqlFunction="UnsupportedSqlFunction",S.UnsupportedOperator="UnsupportedOperator",S.UnsupportedSyntax="UnsupportedSyntax",S.UnsupportedIsRhs="UnsupportedIsRhs",S.UnsupportedIsLhs="UnsupportedIsLhs",S.InvalidDataType="InvalidDataType",S.CannotCastValue="CannotCastValue",S.FunctionNotRecognized="FunctionNotRecognized",S.InvalidTime="InvalidTime",S.InvalidParameterCount="InvalidParameterCount",S.InvalidTimeStamp="InvalidTimeStamp",S.InvalidDate="InvalidDate",S.InvalidOperator="InvalidOperator",S.IllegalInterval="IllegalInterval",S.YearMonthIntervals="YearMonthIntervals",S.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",S.MissingStatisticParameters="MissingStatisticParameters";const B={[c.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[c.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[c.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[c.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[c.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[c.UnsupportedOperator]:"Unsupported operator - {operator}",[c.UnsupportedSyntax]:"Unsupported syntax - {node}",[c.UnsupportedSqlFunction]:"Sql function not found = {function}",[c.InvalidDataType]:"Invalid sql data type",[c.InvalidDate]:"Invalid date encountered",[c.InvalidOperator]:"Invalid operator encountered",[c.InvalidTime]:"Invalid time encountered",[c.IllegalInterval]:"Illegal interval",[c.FunctionNotRecognized]:"Function not recognized",[c.InvalidTimeStamp]:"Invalid timestamp encountered",[c.InvalidParameterCount]:"Invalid parameter count for call to {name}",[c.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[c.YearMonthIntervals]:"Year-Month Intervals not supported",[c.CannotCastValue]:"Cannot cast value to the required data type"};class P extends Error{constructor(at,nt){super((0,ot.HC)(B[at],nt)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,P)}}var T;!function(S){S.NeverReach="NeverReach",S.NotImplemented="NotImplemented",S.Cancelled="Cancelled",S.InvalidStatResponse="InvalidStatResponse",S.InvalidRequest="InvalidRequest",S.RequestFailed="RequestFailed",S.MissingFeatures="MissingFeatures",S.AggregationFieldNotFound="AggregationFieldNotFound",S.DataElementsNotFound="DataElementsNotFound"}(T||(T={}));const V={[T.Cancelled]:"Cancelled",[T.InvalidStatResponse]:"Invalid statistics response from service",[T.InvalidRequest]:"Invalid request",[T.RequestFailed]:"Request failed - {reason}",[T.MissingFeatures]:"Missing features",[T.AggregationFieldNotFound]:"Aggregation field not found",[T.DataElementsNotFound]:"Data elements not found on service",[T.NeverReach]:"Encountered unreachable logic",[T.NotImplemented]:"Not implemented"};class x extends Error{constructor(at,nt){super((0,ot.HC)(V[at],nt)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,x)}}},16924:(pe,ft,R)=>{R.d(ft,{g:()=>B});var ot=R(44549);function c(P){return Number.isNaN(P)||0===P?P:Math.trunc(P)}class B{constructor(T){this._timeStampOffset=T,this._date=null}toDateTime(){return this._date??=ot.c9.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return c(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return c(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return B.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(T){return new B(ot.c9.fromJSDate(T).toISO({includeOffset:!0}))}static fromDateTime(T){return new B(T.toISO({includeOffset:!0}))}static fromParts(T,V,x=0,S=0,at=0,nt=0,pt=0,mt=!1,yt=0,Vt=0){const Jt=`${T.toString().padStart(4,"0")}-${V.toString().padStart(2,"0")}-${x.toString().padStart(2,"0")}`;let ht="";nt<10&&(ht="0");let A=`${S.toString().padStart(2,"0")}:${at.toString().padStart(2,"0")}:${ht+nt.toString()}`;0!==pt&&(A+="."+pt.toString().padStart(3,"0"));const W=`${mt?"-":"+"}${yt.toString().padStart(2,"0")}:${Vt.toString().padStart(2,"0")}`;return new B(Jt+"T"+A+W)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let T=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return T&&(T=T.replace(".000","")),T}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(T){const V=this.toDateTime().plus(T);return B.fromDateTime(V)}}},40013:(pe,ft,R)=>{R.r(ft),R.d(ft,{WhereClause:()=>Yt,defaultAttributeAdapter:()=>dt});var ot=R(61299),c=R(31033),B=R(3248),P=R(87257),T=R(16924),V=R(29752),x=R(44549);function at(i,r){const s=nt[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}const nt={min:{minParams:1,maxParams:1,evaluate:i=>yt(i[0],"min")},max:{minParams:1,maxParams:1,evaluate:i=>yt(i[0],"max")},avg:{minParams:1,maxParams:1,evaluate:i=>pt(i[0])},sum:{minParams:1,maxParams:1,evaluate:i=>function Vt(i){if(null===i)return null;let r=0;for(let s=0;s<i.length;s++){const f=i[s];if(null!==f){if(!mt(f))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);r+=f}}return r}(i[0])},stddev:{minParams:1,maxParams:1,evaluate:i=>function Jt(i){if(null===i)return null;const r=ht(i);return null===r?null:Math.sqrt(r)}(i[0])},count:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].length},var:{minParams:1,maxParams:1,evaluate:i=>ht(i[0])}};function pt(i){if(null===i)return null;let r=0,s=0;for(let f=0;f<i.length;f++){const l=i[f];if(null!==l){if(!mt(l))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);s++,r+=l}}return 0===s?null:r/i.length}function mt(i){return"number"==typeof i}function yt(i,r){if(null===i)return null;let s=null,f=null;for(const l of i){let v=l;v=l instanceof P.n||l instanceof V.k?l.toNumber():l instanceof x.c9?l.toMillis():l instanceof T.g?l.toMilliseconds():l,(null===s||"max"===r&&null!==f&&null!==v&&f<=v||"min"===r&&null!==f&&null!==v&&f>=v)&&(s=l,f=v)}return s}function ht(i){if(null===i||0===(i=i.filter(f=>null!==f)).length)return null;const r=pt(i);if(null===r)return null;let s=0;for(const f of i){if(!mt(f))throw new c.L8(c.Z7.InvalidValueForAggregateFunction);s+=(r-f)**2}return s/(i.length-1)}class A{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(r){if(null!==r.precision||null!==r.secondary)throw new c.L8(c.Z7.PrimarySecondaryQualifiers)}static _parseSecondsComponent(r,s){if(s.includes(".")){const f=s.split(".");r.second=parseFloat(f[0]),r.millis=parseInt(f[1],10)}else r.second=parseFloat(s)}static createFromMilliseconds(r){const s=new A;return s.second=r/1e3,s}static createFromValueAndQualifier(r,s,f){let l=null;const v=new A;if(v.op="-"===f?"-":"+","interval-period"===s.type){A._fixDefaults(s);const h=new RegExp("^[0-9]{1,}$");if("year"===s.period||"month"===s.period)throw new c.L8(c.Z7.YearMonthIntervals);if("second"===s.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(r))throw new c.L8(c.Z7.IllegalInterval);A._parseSecondsComponent(v,r)}else{if(!h.test(r))throw new c.L8(c.Z7.IllegalInterval);v[s.period]=parseFloat(r)}}else{if(A._fixDefaults(s.start),A._fixDefaults(s.end),"year"===s.start.period||"month"===s.start.period||"year"===s.end.period||"month"===s.end.period)throw new c.L8(c.Z7.YearMonthIntervals);switch(s.start.period){case"day":switch(s.end.period){case"hour":if(l=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);v[s.start.period]=parseFloat(r.split(" ")[0]),v[s.end.period]=parseFloat(r.split(" ")[1]);break;case"minute":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{v[s.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1])}break;case"second":if(l=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{v[s.start.period]=parseFloat(r.split(" ")[0]);const h=r.split(" ")[1].split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),A._parseSecondsComponent(v,h[2])}break;default:throw new c.L8(c.Z7.IllegalInterval)}break;case"hour":switch(s.end.period){case"minute":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);v.hour=parseFloat(r.split(":")[0]),v.minute=parseFloat(r.split(":")[1]);break;case"second":if(l=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{const h=r.split(":");v.hour=parseFloat(h[0]),v.minute=parseFloat(h[1]),A._parseSecondsComponent(v,h[2])}break;default:throw new c.L8(c.Z7.IllegalInterval)}break;case"minute":if("second"!==s.end.period)throw new c.L8(c.Z7.IllegalInterval);if(l=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!l.test(r))throw new c.L8(c.Z7.IllegalInterval);{const h=r.split(":");v.minute=parseFloat(h[0]),A._parseSecondsComponent(v,h[1])}break;default:throw new c.L8(c.Z7.IllegalInterval)}}return v}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var W=R(24098);const On=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,Cn=/^(\d{1,2}):(\d{1,2})$/,An=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,me=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Zn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,xn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,bn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,Mn=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function Tt(i,r){if(r instanceof x.bo)return r===W.GB.instance?x.c9.fromMillis(i.getTime(),{zone:W.GB.instance}):x.c9.fromJSDate(i,{zone:r});switch(r){case"system":case"local":case null:return x.c9.fromJSDate(i);default:return"unknown"===r?.toLowerCase()?x.c9.fromMillis(i.getTime(),{zone:W.GB.instance}):x.c9.fromJSDate(i,{zone:r})}}function k(i){return"number"==typeof i}function H(i){return"string"==typeof i||i instanceof String}function it(i){return i instanceof A}function Q(i){return i instanceof Date}function b(i){return i instanceof x.c9}function M(i){return i instanceof P.n}function _(i){return i instanceof V.k}function E(i){return i instanceof T.g}function qt(i){let r=On.exec(i);if(null!==r){const[,s,f,l]=r,v=V.k.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),0);if(null!==v)return v;throw new c.L8(c.Z7.InvalidTime)}if(r=Cn.exec(i),null!==r){const[,s,f]=r,l=V.k.fromParts(parseInt(s,10),parseInt(f,10),0,0);if(null!==l)return l;throw new c.L8(c.Z7.InvalidTime)}if(r=An.exec(i),null!==r){const[,s,f,l,v]=r,h=V.k.fromParts(parseInt(s,10),parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null!==h)return h;throw new c.L8(c.Z7.InvalidTime)}throw new c.L8(c.Z7.InvalidTime)}function Lt(i,r,s=!1){let f=Zn.exec(i);if(null!==f){const[,l,v,h,e,L,O,q]=f,j=x.c9.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(e,10),minute:parseInt(L,10),second:parseInt(O,10),millisecond:q?parseInt(q.replace(".",""),10):0},{zone:(0,W.Qo)(r)});if(!1===j.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return j}if(f=xn.exec(i),null!==f){const[,l,v,h,e,L,O,q,j,G,Z]=f,D=T.g.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(e,10),parseInt(L,10),parseInt(O,10),q?parseInt(q.replace(".",""),10):0,"-"===j,parseInt(G,10),parseInt(Z,10));if(!1===D.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return D}if(f=bn.exec(i),null!==f){const[,l,v,h,e,L,O,q,j]=f,G=T.g.fromParts(parseInt(l,10),parseInt(v,10),parseInt(h,10),parseInt(e,10),parseInt(L,10),0,0,"-"===O,parseInt(q,10),parseInt(j,10));if(!1===G.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return G}if(f=Mn.exec(i),null!==f){const[,l,v,h,e,L]=f,O=x.c9.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:parseInt(e,10),minute:parseInt(L,10),second:0},{zone:(0,W.Qo)(r)});if(!1===O.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return O}if(f=me.exec(i),null!==f){const[,l,v,h]=f,e=x.c9.fromObject({year:parseInt(l,10),month:parseInt(v,10),day:parseInt(h,10),hour:0,minute:0,second:0},{zone:(0,W.Qo)(r)});if(!1===e.isValid)throw new c.L8(c.Z7.InvalidTimeStamp);return e}throw new c.L8(c.Z7.InvalidTimeStamp)}function he(i,r){const s=me.exec(i);if(null===s)try{return Lt(i,r)}catch{throw new c.L8(c.Z7.InvalidDate)}const[,f,l,v]=s,h=P.n.fromParts(parseInt(f,10),parseInt(l,10),parseInt(v,10));if(null===h)throw new c.L8(c.Z7.InvalidDate);return h}var En=R(1119);const Fn=321408e5,_n=26784e5,Dn=864e5,Pn=36e5,Un=6e4;function zt(i){return!!b(i)||!!E(i)}function $t(i){return!!(b(i)||M(i)||E(i)||_(i))}function Nt(i){if(b(i))return i.toMillis();if(M(i))return i.toNumber();if(E(i))return i.toMilliseconds();throw new c.L8(c.Z7.InvalidDataType)}function Y(i,r,s,f){if(null==i||null==r)return null;if(k(i)){if(k(r))return X(i,r,s);if(H(r))return function Rn(i,r,s){const f=parseFloat(r);if(!isNaN(f))return X(i,f,s);const l=i.toString();switch(s){case"<>":return l!==r;case"=":return l===r;case">":return l>r;case"<":return l<r;case">=":return l>=r;case"<=":return l<=r}}(i,r,s);if($t(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))throw new c.L8(c.Z7.InvalidOperator)}else if(H(i)){if(k(r))return function Vn(i,r,s){const f=parseFloat(i);if(!isNaN(f))return X(f,r,s);const l=r.toString();switch(s){case"<>":return i!==l;case"=":return i===l;case">":return i>l;case"<":return i<l;case">=":return i>=l;case"<=":return i<=l}}(i,r,s);if(H(r))return function Jn(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}(i,r,s);if(b(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))throw new c.L8(c.Z7.InvalidOperator);if(_(r))throw new c.L8(c.Z7.InvalidOperator);if(E(r))throw new c.L8(c.Z7.InvalidOperator)}else if(b(i)){if(zt(r)){if(i instanceof x.c9&&(0,W.Y4)(i.zone)){if(r instanceof x.c9&&!1===(0,W.Y4)(r.zone)||r instanceof T.g)return vt(i,r,s)}else if(r instanceof x.c9&&(0,W.Y4)(r.zone)&&(i instanceof x.c9&&!1===(0,W.Y4)(i.zone)||i instanceof T.g))return vt(i,r,s);return X(Nt(i),Nt(r),s)}if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))return function qn(i,r,s){const f=r.toDateTimeLuxon(i.zone);return X((i=i.startOf("day")).toMillis(),f.toMillis(),s)}(i,r,s);if(_(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}else if(M(i)){if(E(r))return function kn(i,r,s){const f=i.toDateTimeLuxon(r.toDateTime().zone);return r=r.startOfDay(),X(f.toMillis(),r.toMilliseconds(),s)}(i,r,s);if(b(r))return function $n(i,r,s){const f=i.toDateTimeLuxon(r.zone);return r=r.startOf("day"),X(f.toMillis(),r.toMillis(),s)}(i,r,s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))return X(i.toNumber(),r.toNumber(),s);if(_(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}else if(_(i)){if(_(r))return X(i.toNumber(),r.toNumber(),s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))throw new c.L8(c.Z7.InvalidOperator);if(zt(r))throw new c.L8(c.Z7.InvalidOperator)}else if(E(i)){if(zt(r))return r instanceof x.c9&&(0,W.Y4)(r.zone)?vt(i,r,s):X(Nt(i),Nt(r),s);if(H(r))throw new c.L8(c.Z7.InvalidOperator);if(M(r))return function zn(i,r,s){const f=r.toDateTimeLuxon(i.toDateTime().zone);return X((i=i.startOfDay()).toMilliseconds(),f.toMillis(),s)}(i,r,s);if(_(r))throw new c.L8(c.Z7.InvalidOperator);if(k(r))throw new c.L8(c.Z7.InvalidOperator)}switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function X(i,r,s){switch(s){case"<>":return i!==r;case"=":return i===r;case">":return i>r;case"<":return i<r;case">=":return i>=r;case"<=":return i<=r}}function vt(i,r,s){i instanceof T.g&&(i=i.toDateTime()),r instanceof T.g&&(r=r.toDateTime());const f=ve(i),l=ve(r);switch(s){case"<>":return f!==l;case"=":return f===l;case">":return f>l;case"<":return f<l;case">=":return f>=l;case"<=":return f<=l}}function ve(i){return i.year*Fn+i.month*_n+i.day*Dn+i.hour*Pn+i.minute*Un+1e3*i.second+i.millisecond}function kt(i,r,s){const f=Ie[i.toLowerCase()];if(null==f)throw new c.L8(c.Z7.FunctionNotRecognized);if(r.length<f.minParams||r.length>f.maxParams)throw new c.L8(c.Z7.InvalidParameterCount,{name:i.toUpperCase()});return f.evaluate(r,s)}function St(i){return"string"==typeof i||i instanceof String}function Ht(i){return!(Q(i)||M(i)||b(i)||_(i)||E(i))}function we(i){return M(i)||_(i)?i.toString():E(i)?i.toSQLValue():b(i)?0===i.millisecond?i.toFormat("yyyy-LL-dd HH:mm:ss"):i.toSQL({includeOffset:!1}):Q(i)?we(x.c9.fromJSDate(i)):i.toString()}const Ie={extract:{minParams:2,maxParams:2,evaluate:([i,r])=>{if(null==r)return null;if(Q(r))switch(i.toUpperCase()){case"SECOND":return r.getSeconds();case"MINUTE":return r.getMinutes();case"HOUR":return r.getHours();case"DAY":return r.getDate();case"MONTH":return r.getMonth()+1;case"YEAR":return r.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(b(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(M(r))switch(i.toUpperCase()){case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(_(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour}else if(E(r))switch(i.toUpperCase()){case"SECOND":return r.second;case"MINUTE":return r.minute;case"HOUR":return r.hour;case"DAY":return r.day;case"MONTH":return r.month;case"YEAR":return r.year;case"TIMEZONE_HOUR":return r.timezoneOffsetHour;case"TIMEZONE_MINUTE":return r.timezoneOffsetMinutes}throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:i=>{if(2===i.length){const[r,s]=i;return null==r||null==s?null:r.toString().substring(s-1)}if(3===i.length){const[r,s,f]=i;return null==r||null==s||null==f?null:f<=0?"":r.toString().substring(s-1,s+f-1)}}},position:{minParams:2,maxParams:2,evaluate:([i,r])=>null==i||null==r?null:r.indexOf(i)+1},trim:{minParams:2,maxParams:3,evaluate:i=>{const r=3===i.length,s=r?i[1]:" ",f=r?i[2]:i[1];if(null==s||null==f)return null;const l=`(${(0,En.Cj)(s)})`;switch(i[0]){case"BOTH":return f.replaceAll(new RegExp(`^${l}*|${l}*$`,"g"),"");case"LEADING":return f.replaceAll(new RegExp(`^${l}*`,"g"),"");case"TRAILING":return f.replaceAll(new RegExp(`${l}*$`,"g"),"")}throw new c.L8(c.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.abs(i[0])},ceiling:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.ceil(i[0])},floor:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.floor(i[0])},log:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])},log10:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.log(i[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sin(i[0])},cos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cos(i[0])},tan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tan(i[0])},asin:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.asin(i[0])},acos:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.acos(i[0])},atan:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.atan(i[0])},sign:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0]>0?1:i[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]**i[1]},mod:{minParams:2,maxParams:2,evaluate:i=>null==i[0]||null==i[1]?null:i[0]%i[1]},round:{minParams:1,maxParams:2,evaluate:i=>{const r=i[0],s=2===i.length?10**i[1]:1;return null==r?null:Math.round(r*s)/s}},truncate:{minParams:1,maxParams:2,evaluate:i=>null==i[0]?null:1===i.length?parseInt(i[0].toFixed(0),10):parseFloat(i[0].toFixed(i[1]))},char_length:{minParams:1,maxParams:1,evaluate:i=>St(i[0])?i[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:i=>{let r="";for(let s=0;s<i.length;s++){if(null==i[s])return null;r+=i[s].toString()}return r}},lower:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:i[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:i=>{for(const r of i)if(null!==r)return r;return null}},cosh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.cosh(i[0])},sinh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.sinh(i[0])},tanh:{minParams:1,maxParams:1,evaluate:i=>null==i[0]?null:Math.tanh(i[0])},nullif:{minParams:2,maxParams:2,evaluate:(i,r)=>Y(i[0],i[1],"=")?null:i[0]},cast:{minParams:2,maxParams:2,evaluate:(i,r)=>{const s=i[0],f=i[1];if(null===s)return null;switch(f.type){case"integer":{if(!Ht(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);return l}case"smallint":{if(!Ht(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseInt(s,10);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);if(l>32767||l<-32767)throw new c.L8(c.Z7.CannotCastValue);return l}case"float":case"real":{if(!Ht(s))throw new c.L8(c.Z7.CannotCastValue);const l=parseFloat(s);if(isNaN(l))throw new c.L8(c.Z7.CannotCastValue);return l}case"time":return function jn(i){if(Q(i))return V.k.fromDateJS(i);if(b(i))return V.k.fromDateTime(i);if(M(i))throw new c.L8(c.Z7.CannotCastValue);if(_(i))return i;if(E(i))return V.k.fromSqlTimeStampOffset(i);if(St(i))return qt(i);throw new c.L8(c.Z7.CannotCastValue)}(s);case"date":return function Wn(i){if(Q(i))return P.n.fromDateJS(i);if(b(i))return P.n.fromParts(i.year,i.month,i.day);if(M(i))return i;if(_(i))throw new c.L8(c.Z7.CannotCastValue);if(E(i)&&null===P.n.fromParts(i.year,i.month,i.day))throw new c.L8(c.Z7.CannotCastValue);if(St(i)){const r=P.n.fromReader(i);if(null!==r&&r.isValid)return r}throw new c.L8(c.Z7.CannotCastValue)}(s);case"timestamp":return function Yn(i,r,s){if(Q(i))return Tt(i,r);if(b(i))return i;if(M(i))return i.toDateTimeLuxon("unknown");if(_(i))throw new c.L8(c.Z7.CannotCastValue);if(E(i))return i;if(St(i))return Lt(i,"unknown",s);throw new c.L8(c.Z7.CannotCastValue)}(s,r,!0===f.withtimezone);case"varchar":{const l=we(s);if(l.length>f.size)throw new c.L8(c.Z7.CannotCastValue);return l}default:throw new c.L8(c.Z7.InvalidDataType)}}}};function ge(i,r,s,f){if("||"===i)return kt("concat",[r,s],f);if(null===r||null===s)return null;if(k(r)){if(k(s))return Wt(r,s,i);if(it(s))return function nr(i,r,s){switch(s){case"+":return A.createFromMilliseconds(i+r.valueInMilliseconds());case"-":return A.createFromMilliseconds(i-r.valueInMilliseconds());case"*":return A.createFromMilliseconds(i*r.valueInMilliseconds());case"/":return A.createFromMilliseconds(i/r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function dr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function pr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function fr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(b(s))return function lr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function mr(i,r,s){const f=parseFloat(r);if(isNaN(f))throw new c.L8(c.Z7.InvalidOperator);return Wt(i,f,s)}(r,s,i);throw new c.L8(c.Z7.InvalidOperator)}if(M(r)){if(k(s))return function sr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function rr(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function Lr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Tr(i,r,s){if("-"===s)return i.toDateTimeLuxon("UTC").diff(r.toDateTimeLuxon("UTC")).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(E(s))return function yr(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.toDateTime().zone).diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(b(s))return function gr(i,r,s){if("-"===s)return i.toDateTimeLuxon(r.zone).diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Dr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(_(r)){if(k(s))return function ur(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus("milliseconds",f);case"-":return i.plus("milliseconds",-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function Kn(i,r,s){switch(s){case"+":return i.plus("milliseconds",r.valueInMilliseconds());case"-":return i.plus("milliseconds",-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function br(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Zr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function xr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(b(s))return function Ar(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function Pr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(it(r)){if(k(s))return function er(i,r,s){switch(s){case"+":return A.createFromMilliseconds(i.valueInMilliseconds()+r);case"-":return A.createFromMilliseconds(i.valueInMilliseconds()-r);case"*":return A.createFromMilliseconds(i.valueInMilliseconds()*r);case"/":return A.createFromMilliseconds(i.valueInMilliseconds()/r)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function tr(i,r,s){switch(s){case"+":return A.createFromMilliseconds(i.valueInMilliseconds()+r.valueInMilliseconds());case"-":return A.createFromMilliseconds(i.valueInMilliseconds()-r.valueInMilliseconds());case"*":return A.createFromMilliseconds(i.valueInMilliseconds()*r.valueInMilliseconds());case"/":return A.createFromMilliseconds(i.valueInMilliseconds()/r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function Qn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(M(s))return function Gn(i,r,s){if("+"===s)return r.plus("milliseconds",i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(E(s))return function Xn(i,r,s){if("+"===s)return r.addMilliseconds(i.valueInMilliseconds());throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(b(s))return function Bn(i,r,s){switch(s){case"+":return r.plus({milliseconds:i.valueInMilliseconds()});case"-":return i.valueInMilliseconds()-r.toMillis()}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function wr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(b(r)){if(k(s))return function or(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.plus({milliseconds:f});case"-":return i.minus({milliseconds:f})}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function ar(i,r,s){switch(s){case"+":return i.plus({milliseconds:r.valueInMilliseconds()});case"-":return i.minus({milliseconds:r.valueInMilliseconds()})}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function _r(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Er(i,r,s){if("-"===s)return i.diff(r.toDateTimeLuxon(i.zone)).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(E(s))return function Fr(i,r,s){if("-"===s)return i.diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(b(s))return function Mr(i,r,s){if("-"===s)return i.diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Ur(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(E(r)){if(k(s))return function cr(i,r,s){const f=1e3*r*24*60*60;switch(s){case"+":return i.addMilliseconds(f);case"-":return i.addMilliseconds(-1*f)}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(it(s))return function ir(i,r,s){switch(s){case"+":return i.addMilliseconds(r.valueInMilliseconds());case"-":return i.addMilliseconds(-1*r.valueInMilliseconds())}throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(_(s))return function Nr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Sr(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTimeLuxon(i.toDateTime().zone)).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(E(s))return function Cr(i,r,s){if("-"===s)return i.toDateTime().diff(r.toDateTime()).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(b(s))return function Or(i,r,s){if("-"===s)return i.toDateTime().diff(r).as("days");throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);if(H(s))return function Rr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();throw new c.L8(c.Z7.InvalidOperator)}if(H(r)){if(k(s))return function hr(i,r,s){const f=parseFloat(i);if(isNaN(f))throw new c.L8(c.Z7.InvalidOperator);return Wt(f,r,s)}(r,s,i);if(it(s))return function Ir(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(_(s))return function Vr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(M(s))return function Jr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(E(s))return function zr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(b(s))return function qr(i,r,s){throw new c.L8(c.Z7.InvalidOperator)}();if(H(s))return function vr(i,r,s){if("+"===s)return i+r;throw new c.L8(c.Z7.InvalidOperator)}(r,s,i);throw new c.L8(c.Z7.InvalidOperator)}throw new c.L8(c.Z7.InvalidOperator)}function Wt(i,r,s){switch(s){case"+":return i+r;case"-":return i-r;case"*":return i*r;case"/":return i/r}throw new c.L8(c.Z7.InvalidOperator)}R(93293);var ye,Le={exports:{}};(ye=Le).exports&&(ye.exports=function(){function r(l,v,h,e){var L=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(L,r.prototype),L.expected=v,L.found=h,L.location=e,L.name="SyntaxError",L}function s(l,v,h){return h=h||" ",l.length>v?l:l+(h+=h.repeat(v-=l.length)).slice(0,v)}return function i(l,v){function h(){this.constructor=l}h.prototype=v.prototype,l.prototype=new h}(r,Error),r.prototype.format=function(l){var v="Error: "+this.message;if(this.location){var h,e=null;for(h=0;h<l.length;h++)if(l[h].source===this.location.source){e=l[h].text.split(/\r\n|\n|\r/g);break}var L=this.location.start,O=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(L):L,q=this.location.source+":"+O.line+":"+O.column;if(e){var j=this.location.end,G=s("",O.line.toString().length," "),Z=e[L.line-1],D=(L.line===j.line?j.column:Z.length+1)-L.column||1;v+="\n --\x3e "+q+"\n"+G+" |\n"+O.line+" | "+Z+"\n"+G+" | "+s("",L.column-1," ")+s("",D,"^")}else v+="\n at "+q}return v},r.buildMessage=function(l,v){var h={literal:function(Z){return'"'+L(Z.text)+'"'},class:function(Z){var D=Z.parts.map(function(K){return Array.isArray(K)?O(K[0])+"-"+O(K[1]):O(K)});return"["+(Z.inverted?"^":"")+D.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(Z){return Z.description}};function e(Z){return Z.charCodeAt(0).toString(16).toUpperCase()}function L(Z){return Z.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+e(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+e(D)})}function O(Z){return Z.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(D){return"\\x0"+e(D)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(D){return"\\x"+e(D)})}function q(Z){return h[Z.type](Z)}return"Expected "+function j(Z){var D,K,J=Z.map(q);if(J.sort(),J.length>0){for(D=1,K=1;D<J.length;D++)J[D-1]!==J[D]&&(J[K]=J[D],K++);J.length=K}switch(J.length){case 1:return J[0];case 2:return J[0]+" or "+J[1];default:return J.slice(0,-1).join(", ")+", or "+J[J.length-1]}}(l)+" but "+function G(Z){return Z?'"'+L(Z)+'"':"end of input"}(v)+" found."},{SyntaxError:r,parse:function f(l,v){var h,e={},L=(v=void 0!==v?v:{}).grammarSource,O={start:He},q=He,j="!",G="=",Z=">=",D=">",K="<=",J="<>",Br="<",Ze="!=",Gt="+",Kt="-",xe="||",Qr="*",Gr="/",Kr="@",be="'",Me="N'",Ct="''",Xr=".",ta="null",ea="true",na="false",ra="in",aa="is",ia="like",oa="escape",sa="not",ua="and",la="or",ca="between",fa="from",da="for",pa="substring",ma="extract",ha="trim",va="position",wa="timestamp",Ia="date",ga="time",ya="leading",Ta="trailing",La="both",Na="cast",Sa="as",Oa="integer",Ca="smallint",Aa="float",Za="real",xa="varchar",ba="to",Ma="interval",Ea="year",Fa="timezone_hour",_a="timezone_minute",Da="month",Pa="day",Ua="hour",Ra="minute",Va="second",Ja="case",qa="end",za="when",$a="then",ka="else",Ha=",",Wa="(",Ya=")",Ee="`",ja=/^[A-Za-z_\x80-\uFFFF]/,Ba=/^[A-Za-z0-9_]/,Fe=/^[A-Za-z0-9_.\x80-\uFFFF]/,Qa=/^["]/,_e=/^[^']/,Ga=/^[0-9]/,Ka=/^[eE]/,Xa=/^[+\-]/,ti=/^[ \t\n\r]/,De=/^[^`]/,ei=g("!",!1),Pe=g("=",!1),ni=g(">=",!1),ri=g(">",!1),ai=g("<=",!1),ii=g("<>",!1),oi=g("<",!1),si=g("!=",!1),Xt=g("+",!1),te=g("-",!1),ui=g("||",!1),li=g("*",!1),ci=g("/",!1),fi=et([["A","Z"],["a","z"],"_",["\x80","\uffff"]],!1,!1),di=et([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ue=et([["A","Z"],["a","z"],["0","9"],"_",".",["\x80","\uffff"]],!1,!1),pi=et(['"'],!1,!1),mi=g("@",!1),Re=g("'",!1),hi=g("N'",!1),Ve=g("''",!1),Je=et(["'"],!0,!1),vi=g(".",!1),wi=et([["0","9"]],!1,!1),Ii=et(["e","E"],!1,!1),gi=et(["+","-"],!1,!1),yi=g("NULL",!0),Ti=g("TRUE",!0),Li=g("FALSE",!0),Ni=g("IN",!0),Si=g("IS",!0),Oi=g("LIKE",!0),Ci=g("ESCAPE",!0),Ai=g("NOT",!0),Zi=g("AND",!0),xi=g("OR",!0),bi=g("BETWEEN",!0),Mi=g("FROM",!0),Ei=g("FOR",!0),Fi=g("SUBSTRING",!0),_i=g("EXTRACT",!0),Di=g("TRIM",!0),Pi=g("POSITION",!0),Ui=g("TIMESTAMP",!0),Ri=g("DATE",!0),Vi=g("TIME",!0),Ji=g("LEADING",!0),qi=g("TRAILING",!0),zi=g("BOTH",!0),$i=g("CAST",!0),ki=g("AS",!0),Hi=g("INTEGER",!0),Wi=g("SMALLINT",!0),Yi=g("FLOAT",!0),ji=g("REAL",!0),Bi=g("VARCHAR",!0),Qi=g("TO",!0),Gi=g("INTERVAL",!0),Ki=g("YEAR",!0),Xi=g("TIMEZONE_HOUR",!0),to=g("TIMEZONE_MINUTE",!0),eo=g("MONTH",!0),no=g("DAY",!0),ro=g("HOUR",!0),ao=g("MINUTE",!0),io=g("SECOND",!0),oo=g("CASE",!0),so=g("END",!0),uo=g("WHEN",!0),lo=g("THEN",!0),co=g("ELSE",!0),fo=g(",",!1),po=g("(",!1),mo=g(")",!1),ho=et([" ","\t","\n","\r"],!1,!1),qe=g("`",!1),ze=et(["`"],!0,!1),vo=function(t){return t},wo=function(t,a){var o={type:"expression-list"},u=function tc(t,a,o){return function Xl(t,a){for(var o=[t],u=0;u<a.length;u++)o.push(a[u][3]);return o}(t,a)}(t,a);return o.value=u,o},Io=function(t,a){return gt(t,a)},go=function(t,a){return gt(t,a)},yo=function(t){return function Kl(t,a){return{type:"unary-expression",operator:t,expr:a}}("NOT",t)},To=function(t,a){return""==a||null==a||null==a?t:"arithmetic"==a.type?gt(t,a.tail):Sn(a.op,t,a.right,a.escape)},Lo=function(t){return{type:"arithmetic",tail:t}},No=function(t,a){return{op:t+"NOT",right:a}},So=function(t,a){return{op:t,right:a}},Oo=function(t,a,o){return{op:"NOT"+t,right:{type:"expression-list",value:[a,o]}}},Co=function(t,a,o){return{op:t,right:{type:"expression-list",value:[a,o]}}},Ao=function(t){return t[0]+" "+t[2]},Zo=function(t){return t[0]+" "+t[2]},xo=function(t,a,o){return{op:t,right:a,escape:o.value}},bo=function(t,a){return{op:t,right:a,escape:""}},Mo=function(t,a){return{op:t,right:a}},Eo=function(t){return{op:t,right:{type:"expression-list",value:[]}}},Fo=function(t,a){return{op:t,right:a}},_o=function(t,a){return gt(t,a)},Do=function(t,a){return gt(t,a)},Po=function(t){return t.paren=!0,t},Uo=function(t){return/^CURRENT_DATE$/i.test(t)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(t)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:t}},Ro=function(t){return{type:"column-reference",table:"",column:t,delimited:!0}},Vo=function(t){return t},Jo=function(t,a){return t+a.join("")},qo=function(t,a){return t+a.join("")},zo=function(t){return t},$o=function(t){return t.join("")},ko=function(){return'"'},Ho=function(t){return{type:"parameter",value:t[1]}},Wo=function(t,a){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:t},a]}}},Yo=function(t,a,o){return{type:"function",name:"substring",args:{type:"expression-list",value:o?[t,a,o[2]]:[t,a]}}},jo=function(t,a){return{type:"function",name:"cast",args:{type:"expression-list",value:[t,a]}}},Bo=function(){return{type:"data-type",value:{type:"integer"}}},Qo=function(){return{type:"data-type",value:{type:"smallint"}}},Go=function(){return{type:"data-type",value:{type:"float"}}},Ko=function(){return{type:"data-type",value:{type:"real"}}},Xo=function(){return{type:"data-type",value:{type:"date"}}},ts=function(){return{type:"data-type",value:{type:"timestamp"}}},es=function(){return{type:"data-type",value:{type:"time"}}},ns=function(t){return{type:"data-type",value:{type:"varchar",size:parseInt(t)}}},rs=function(t,a,o){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:t??"BOTH"},a,o]}}},as=function(t,a){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:t??"BOTH"},a]}}},is=function(t,a){return{type:"function",name:"position",args:{type:"expression-list",value:[t,a]}}},os=function(t,a){return{type:"function",name:t,args:a||{type:"expression-list",value:[]}}},ss=function(t){return"string"===t.type&&function ec(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&ne("Timestamp literal is invalid")}(t.value),{type:"timestamp",value:t.value}},us=function(t){return"string"===t.type&&function nc(t){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(t)&&ne("Time literal is invalid")}(t.value),{type:"time",value:t.value}},ls=function(t,a,o){return{type:"interval",value:a,qualifier:o,op:t}},cs=function(t,a){return{type:"interval",value:t,qualifier:a,op:""}},fs=function(t,a){return{type:"interval-qualifier",start:t,end:a}},ds=function(t,a){return{type:"interval-period",period:t.value,precision:a,secondary:null}},ps=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},ms=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},hs=function(t,a){return{type:"interval-period",period:"second",precision:t,secondary:a}},vs=function(t){return{type:"interval-period",period:"second",precision:t,secondary:null}},ws=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Is=function(t,a){return{type:"interval-period",period:t.value,precision:a,secondary:null}},gs=function(t){return{type:"interval-period",period:t.value,precision:null,secondary:null}},ys=function(t,a){return{type:"interval-period",period:"second",precision:t,secondary:a}},Ts=function(t){return{type:"interval-period",period:"second",precision:t,secondary:null}},Ls=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},Ns=function(){return{type:"string",value:"day"}},Ss=function(){return{type:"string",value:"hour"}},Os=function(){return{type:"string",value:"minute"}},Cs=function(){return{type:"string",value:"month"}},As=function(){return{type:"string",value:"year"}},Zs=function(t){return parseFloat(t)},xs=function(t){return parseFloat(t)},bs=function(t){return"string"===t.type&&function rc(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&ne("Date literal is invalid")}(t.value),{type:"date",value:t.value}},Ms=function(){return{type:"null",value:null}},Es=function(){return{type:"boolean",value:!0}},Fs=function(){return{type:"boolean",value:!1}},$e=function(){return"'"},_s=function(t){return{type:"string",value:t.join("")}},Ds=function(t,a){return{type:"case-expression",format:"simple",operand:t,clauses:a,else:null}},Ps=function(t,a,o){return{type:"case-expression",format:"simple",operand:t,clauses:a,else:o.value}},Us=function(t){return{type:"case-expression",format:"searched",clauses:t,else:null}},Rs=function(t,a){return{type:"case-expression",format:"searched",clauses:t,else:a.value}},Vs=function(t,a){return{type:"when-clause",operand:t,value:a}},Js=function(t,a){return{type:"when-clause",operand:t,value:a}},qs=function(t){return{type:"else-clause",value:t}},zs=function(t){return{type:"number",value:t}},$s=function(t,a,o){return parseFloat(t+a+o)},ks=function(t,a){return parseFloat(t+a)},Hs=function(t,a){return parseFloat(t+a)},Ws=function(t){return parseFloat(t)},Ys=function(t,a){return t[0]+a},js=function(t){return"."+(t??"")},Bs=function(t,a){return t+a},Qs=function(t){return t.join("")},Gs=function(t,a){return"e"+(null===a?"":a)},Ks=function(){return"IN"},Xs=function(){return"IS"},tu=function(){return"LIKE"},eu=function(){return"ESCAPE"},nu=function(){return"NOT"},ru=function(){return"AND"},au=function(){return"OR"},iu=function(){return"BETWEEN"},ou=function(){return"FROM"},su=function(){return"FOR"},uu=function(){return"SUBSTRING"},lu=function(){return"EXTRACT"},cu=function(){return"TRIM"},fu=function(){return"POSITION"},du=function(){return"TIMESTAMP"},pu=function(){return"DATE"},mu=function(){return"TIME"},hu=function(){return"LEADING"},vu=function(){return"TRAILING"},wu=function(){return"BOTH"},Iu=function(){return"CAST"},gu=function(){return"AS"},yu=function(){return"INTEGER"},Tu=function(){return"SMALLINT"},Lu=function(){return"FLOAT"},Nu=function(){return"REAL"},Su=function(){return"VARCHAR"},Ou=function(){return"TO"},Cu=function(){return"INTERVAL"},Au=function(){return"YEAR"},Zu=function(){return"TIMEZONE_HOUR"},xu=function(){return"TIMEZONE_MINUTE"},bu=function(){return"MONTH"},Mu=function(){return"DAY"},Eu=function(){return"HOUR"},Fu=function(){return"MINUTE"},_u=function(){return"SECOND"},Du=function(){return"CASE"},Pu=function(){return"END"},Uu=function(){return"WHEN"},Ru=function(){return"THEN"},Vu=function(){return"ELSE"},Ju=function(t){return t},qu=function(t){return t.join("")},n=0,m=0,At=[{line:1,column:1}],tt=0,ee=[],d=0;if("startRule"in v){if(!(v.startRule in O))throw new Error("Can't start parsing from rule \""+v.startRule+'".');q=O[v.startRule]}function ne(t,a){throw function $u(t,a){return new r(t,null,null,a)}(t,a=void 0!==a?a:re(m,n))}function g(t,a){return{type:"literal",text:t,ignoreCase:a}}function et(t,a,o){return{type:"class",parts:t,inverted:a,ignoreCase:o}}function ke(t){var a,o=At[t];if(o)return o;for(a=t-1;!At[a];)a--;for(o={line:(o=At[a]).line,column:o.column};a<t;)10===l.charCodeAt(a)?(o.line++,o.column=1):o.column++,a++;return At[t]=o,o}function re(t,a,o){var u=ke(t),I=ke(a);return{source:L,start:{offset:t,line:u.line,column:u.column},end:{offset:a,line:I.line,column:I.column}}}function w(t){n<tt||(n>tt&&(tt=n,ee=[]),ee.push(t))}function He(){var t,a;return t=n,p(),(a=U())!==e?(p(),m=t,t=vo(a)):(n=t,t=e),t}function We(){var t,a,o,u,I,N,C,F;if(t=n,(a=U())!==e){for(o=[],u=n,I=p(),(N=Rt())!==e?(C=p(),(F=U())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(N=Rt())!==e?(C=p(),(F=U())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);m=t,t=wo(a,o)}else n=t,t=e;return t}function U(){var t,a,o,u,I,N,C,F;if(t=n,(a=ae())!==e){for(o=[],u=n,I=p(),(N=ln())!==e?(C=p(),(F=ae())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(N=ln())!==e?(C=p(),(F=ae())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);m=t,t=Io(a,o)}else n=t,t=e;return t}function ae(){var t,a,o,u,I,N,C,F;if(t=n,(a=Zt())!==e){for(o=[],u=n,I=p(),(N=Dt())!==e?(C=p(),(F=Zt())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(N=Dt())!==e?(C=p(),(F=Zt())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);m=t,t=go(a,o)}else n=t,t=e;return t}function Zt(){var t,a,o,u,I;return t=n,(a=It())===e&&(a=n,33===l.charCodeAt(n)?(o=j,n++):(o=e,0===d&&w(ei)),o!==e?(u=n,d++,61===l.charCodeAt(n)?(I=G,n++):(I=e,0===d&&w(Pe)),d--,I===e?u=void 0:(n=u,u=e),u!==e?a=o=[o,u]:(n=a,a=e)):(n=a,a=e)),a!==e?(o=p(),(u=Zt())!==e?(m=t,t=yo(u)):(n=t,t=e)):(n=t,t=e),t===e&&(t=function Hu(){var t,a,o;return t=n,(a=rt())!==e?(p(),(o=function Wu(){var t;return(t=function Yu(){var t,a,o,u,I,N,C;if(t=n,a=[],o=n,u=p(),(I=Ye())!==e?(N=p(),(C=rt())!==e?o=u=[u,I,N,C]:(n=o,o=e)):(n=o,o=e),o!==e)for(;o!==e;)a.push(o),o=n,u=p(),(I=Ye())!==e?(N=p(),(C=rt())!==e?o=u=[u,I,N,C]:(n=o,o=e)):(n=o,o=e);else a=e;return a!==e&&(m=t,a=Lo(a)),a}())===e&&(t=function Gu(){var t,a,o,u;return t=n,(a=ie())!==e?(p(),(o=z())!==e?(p(),(u=We())!==e?(p(),$()!==e?(m=t,t=Mo(a,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ie())!==e?(p(),(o=z())!==e?(p(),(u=$())!==e?(m=t,t=Eo(a)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ie())!==e?(p(),(o=le())!==e?(m=t,t=Fo(a,o)):(n=t,t=e)):(n=t,t=e))),t}())===e&&(t=function Bu(){var t,a,o,u,I,N;return t=n,(a=It())!==e?(p(),(o=cn())!==e?(p(),(u=rt())!==e?(p(),(I=Dt())!==e?(p(),(N=rt())!==e?(m=t,t=Oo(o,u,N)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=cn())!==e?(p(),(o=rt())!==e?(p(),(u=Dt())!==e?(p(),(I=rt())!==e?(m=t,t=Co(a,o,I)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function ju(){var t,a,o,u;return t=n,(a=sn())!==e?(p(),(o=It())!==e?(p(),(u=rt())!==e?(m=t,t=No(a,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=sn())!==e?(p(),(o=rt())!==e?(m=t,t=So(a,o)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function Qu(){var t,a,o,u;return t=n,(a=je())!==e?(p(),(o=ut())!==e?(p(),function El(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===oa?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(Ci)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=eu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(u=ce())!==e?(m=t,t=xo(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=je())!==e?(p(),(o=ut())!==e?(m=t,t=bo(a,o)):(n=t,t=e)):(n=t,t=e)),t}()),t}())===e&&(o=null),m=t,t=To(a,o)):(n=t,t=e),t}()),t}function Ye(){var t;return l.substr(n,2)===Z?(t=Z,n+=2):(t=e,0===d&&w(ni)),t===e&&(62===l.charCodeAt(n)?(t=D,n++):(t=e,0===d&&w(ri)),t===e&&(l.substr(n,2)===K?(t=K,n+=2):(t=e,0===d&&w(ai)),t===e&&(l.substr(n,2)===J?(t=J,n+=2):(t=e,0===d&&w(ii)),t===e&&(60===l.charCodeAt(n)?(t=Br,n++):(t=e,0===d&&w(oi)),t===e&&(61===l.charCodeAt(n)?(t=G,n++):(t=e,0===d&&w(Pe)),t===e&&(l.substr(n,2)===Ze?(t=Ze,n+=2):(t=e,0===d&&w(si)))))))),t}function je(){var t,a,o,u,I;return t=n,a=n,(o=It())!==e?(u=p(),(I=un())!==e?a=o=[o,u,I]:(n=a,a=e)):(n=a,a=e),a!==e&&(m=t,a=Ao(a)),(t=a)===e&&(t=un()),t}function ie(){var t,a,o,u,I;return t=n,a=n,(o=It())!==e?(u=p(),(I=fe())!==e?a=o=[o,u,I]:(n=a,a=e)):(n=a,a=e),a!==e&&(m=t,a=Zo(a)),(t=a)===e&&(t=fe()),t}function rt(){var t,a,o,u,I,N,C,F;if(t=n,(a=oe())!==e){for(o=[],u=n,I=p(),(N=Be())!==e?(C=p(),(F=oe())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(N=Be())!==e?(C=p(),(F=oe())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);m=t,t=_o(a,o)}else n=t,t=e;return t}function Be(){var t;return 43===l.charCodeAt(n)?(t=Gt,n++):(t=e,0===d&&w(Xt)),t===e&&(45===l.charCodeAt(n)?(t=Kt,n++):(t=e,0===d&&w(te)),t===e&&(l.substr(n,2)===xe?(t=xe,n+=2):(t=e,0===d&&w(ui)))),t}function oe(){var t,a,o,u,I,N,C,F;if(t=n,(a=se())!==e){for(o=[],u=n,I=p(),(N=Qe())!==e?(C=p(),(F=se())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);u!==e;)o.push(u),u=n,I=p(),(N=Qe())!==e?(C=p(),(F=se())!==e?u=I=[I,N,C,F]:(n=u,u=e)):(n=u,u=e);m=t,t=Do(a,o)}else n=t,t=e;return t}function Qe(){var t;return 42===l.charCodeAt(n)?(t=Qr,n++):(t=e,0===d&&w(li)),t===e&&(47===l.charCodeAt(n)?(t=Gr,n++):(t=e,0===d&&w(ci))),t}function se(){var t,a;return(t=function pl(){var t;return(t=ce())===e&&(t=function Cl(){var t,a,o,u;return t=n,(a=function Al(){var t,a,o,u;return t=n,(a=_t())!==e&&(o=rn())!==e&&(u=an())!==e?(m=t,t=$s(a,o,u)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(o=rn())!==e?(m=t,t=ks(a,o)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(o=an())!==e?(m=t,t=Hs(a,o)):(n=t,t=e),t===e&&(t=n,(a=_t())!==e&&(m=t,a=Ws(a)),t=a))),t}())!==e?(o=n,d++,u=ue(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=zs(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Ll(){var t,a;return t=n,(a=function bl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ea?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ti)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Es()),(t=a)===e&&(t=n,(a=function Ml(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===na?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(Li)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Fs()),t=a),t}())===e&&(t=function Tl(){var t,a;return t=n,(a=function xl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ta?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(yi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?t=a=[a,o]:(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Ms()),a}())===e&&(t=function yl(){var t,a;return t=n,pn()!==e?(p(),(a=ut())!==e?(m=t,t=bs(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function ml(){var t,a;return t=n,dn()!==e?(p(),(a=ut())!==e?(m=t,t=ss(a)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function vl(){var t,a,o,u;return t=n,hn()!==e?(p(),45===l.charCodeAt(n)?(a=Kt,n++):(a=e,0===d&&w(te)),a===e&&(43===l.charCodeAt(n)?(a=Gt,n++):(a=e,0===d&&w(Xt))),a!==e?(p(),(o=ut())!==e?(p(),(u=en())!==e?(m=t,t=ls(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,hn()!==e?(p(),(a=ut())!==e?(p(),(o=en())!==e?(m=t,t=cs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function hl(){var t,a;return t=n,mn()!==e?(p(),(a=ut())!==e?(m=t,t=us(a)):(n=t,t=e)):(n=t,t=e),t}()),t}())===e&&(t=function il(){var t,a,o;return t=n,function Dl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===ma?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(_i)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=lu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=function dl(){var t;return(t=vn())===e&&(t=wn())===e&&(t=In())===e&&(t=gn())===e&&(t=yn())===e&&(t=ct())===e&&(t=function jl(){var t,a,o,u;return t=n,l.substr(n,13).toLowerCase()===Fa?(a=l.substr(n,13),n+=13):(a=e,0===d&&w(Xi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Zu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Bl(){var t,a,o,u;return t=n,l.substr(n,15).toLowerCase()===_a?(a=l.substr(n,15),n+=15):(a=e,0===d&&w(to)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=xu()):(n=t,t=e)):(n=t,t=e),t}()),t}())!==e?(p(),de()!==e?(p(),(o=U())!==e?(p(),$()!==e?(m=t,t=Wo(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function ol(){var t,a,o,u,I,N,C;return t=n,function _l(){var t,a,o,u;return t=n,l.substr(n,9).toLowerCase()===pa?(a=l.substr(n,9),n+=9):(a=e,0===d&&w(Fi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=uu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=U())!==e?(p(),de()!==e?(p(),(o=U())!==e?(p(),u=n,(I=function Fl(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===da?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Ei)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=su()):(n=t,t=e)):(n=t,t=e),t}())!==e?(N=p(),(C=U())!==e?u=I=[I,N,C,p()]:(n=u,u=e)):(n=u,u=e),u===e&&(u=null),(I=$())!==e?(m=t,t=Yo(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function ll(){var t,a,o,u;return t=n,fn()!==e?(p(),z()!==e?(p(),(a=tn())===e&&(a=null),p(),(o=U())!==e?(p(),de()!==e?(p(),(u=U())!==e?(p(),$()!==e?(m=t,t=rs(a,o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,fn()!==e?(p(),z()!==e?(p(),(a=tn())===e&&(a=null),p(),(o=U())!==e?(p(),$()!==e?(m=t,t=as(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}())===e&&(t=function cl(){var t,a,o;return t=n,function Pl(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===va?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Pi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=fu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=U())!==e?(p(),fe()!==e?(p(),(o=U())!==e?(p(),$()!==e?(m=t,t=is(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function sl(){var t,a,o;return t=n,function Jl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Na?(a=l.substr(n,4),n+=4):(a=e,0===d&&w($i)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Iu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),z()!==e?(p(),(a=U())!==e?(p(),function ql(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===Sa?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(ki)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=gu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(o=function ul(){var t,a,o;return t=n,(a=function zl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===Oa?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Hi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=yu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Bo()),(t=a)===e&&(t=n,(a=function $l(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ca?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Wi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Tu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Qo()),(t=a)===e&&(t=n,(a=function kl(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===Aa?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(Yi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Lu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Go()),(t=a)===e&&(t=n,(a=function Hl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Za?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(ji)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Nu()):(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Ko()),(t=a)===e&&(t=n,(a=pn())!==e&&(m=t,a=Xo()),(t=a)===e&&(t=n,(a=dn())!==e&&(m=t,a=ts()),(t=a)===e&&(t=n,(a=mn())!==e&&(m=t,a=es()),(t=a)===e&&(t=n,(a=function Wl(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===xa?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Bi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Su()):(n=t,t=e)):(n=t,t=e),t}())!==e?(p(),z()!==e?(p(),(o=lt())!==e?(p(),$()!==e?(m=t,t=ns(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)))))))),t}())!==e?(p(),$()!==e?(m=t,t=jo(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function fl(){var t,a,o;return t=n,(a=function Gl(){var t,a,o,u;if(t=n,(a=Ge())!==e&&(m=t,a=Ju(a)),(t=a)===e)if(t=n,96===l.charCodeAt(n)?(a=Ee,n++):(a=e,0===d&&w(qe)),a!==e){if(o=[],De.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(ze)),u!==e)for(;u!==e;)o.push(u),De.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(ze));else o=e;o!==e?(96===l.charCodeAt(n)?(u=Ee,n++):(u=e,0===d&&w(qe)),u!==e?(m=t,t=qu(o)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;return t}())!==e?(p(),z()!==e?(p(),(o=We())===e&&(o=null),p(),$()!==e?(m=t,t=os(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Nl(){var t;return(t=function Sl(){var t,a,o,u,I;if(t=n,Pt()!==e)if(p(),(a=U())!==e){for(p(),o=[],u=Ft();u!==e;)o.push(u),u=Ft();u=p(),(I=Ut())!==e?(m=t,t=Ds(a,o)):(n=t,t=e)}else n=t,t=e;else n=t,t=e;if(t===e)if(t=n,Pt()!==e)if(p(),(a=U())!==e){for(p(),o=[],u=Ft();u!==e;)o.push(u),u=Ft();u=p(),(I=nn())!==e?(p(),Ut()!==e?(m=t,t=Ps(a,o,I)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;else n=t,t=e;return t}())===e&&(t=function Ol(){var t,a,o,u;if(t=n,Pt()!==e){for(p(),a=[],o=Et();o!==e;)a.push(o),o=Et();o=p(),(u=Ut())!==e?(m=t,t=Us(a)):(n=t,t=e)}else n=t,t=e;if(t===e)if(t=n,Pt()!==e){for(p(),a=[],o=Et();o!==e;)a.push(o),o=Et();o=p(),(u=nn())!==e?(p(),Ut()!==e?(m=t,t=Rs(a,u)):(n=t,t=e)):(n=t,t=e)}else n=t,t=e;return t}()),t}())===e&&(t=function Ku(){var t,a;return t=n,(a=function Xu(){var t,a;return t=n,(a=function tl(){var t,a,o,u;if(t=n,(a=ue())!==e){for(o=[],u=Ke();u!==e;)o.push(u),u=Ke();m=t,t=Jo(a,o)}else n=t,t=e;return t}())!==e&&(m=t,a=Vo(a)),a}())!==e&&(m=t,a=Uo(a)),(t=a)===e&&(t=n,(a=function el(){var t,a;return t=n,xt()!==e?(a=function nl(){var t,a,o;for(t=n,a=[],o=Xe();o!==e;)a.push(o),o=Xe();return m=t,$o(a)}(),xt()!==e?(m=t,t=zo(a)):(n=t,t=e)):(n=t,t=e),t}())!==e&&(m=t,a=Ro(a)),t=a),t}())===e&&(t=le())===e&&(t=n,z()!==e?(p(),(a=U())!==e?(p(),$()!==e?(m=t,t=Po(a)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)),t}function Ge(){var t,a,o,u;if(t=n,(a=ue())!==e){for(o=[],u=y();u!==e;)o.push(u),u=y();m=t,t=qo(a,o)}else n=t,t=e;return t}function ue(){var t;return ja.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(fi)),t}function y(){var t;return Ba.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(di)),t}function Ke(){var t;return Fe.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(Ue)),t}function Xe(){var t;return(t=function al(){var t;return Fe.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(Ue)),t}())===e&&(t=function rl(){var t;return t=n,xt()!==e&&xt()!==e?(m=t,t=ko()):(n=t,t=e),t}()),t}function xt(){var t;return Qa.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(pi)),t}function le(){var t,a,o,u;return t=n,a=n,64===l.charCodeAt(n)?(o=Kr,n++):(o=e,0===d&&w(mi)),o!==e&&(u=Ge())!==e?a=o=[o,u]:(n=a,a=e),a!==e&&(m=t,a=Ho(a)),a}function tn(){var t;return(t=function Ul(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===ya?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(Ji)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=hu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Rl(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ta?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(qi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=vu()):(n=t,t=e)):(n=t,t=e),t}())===e&&(t=function Vl(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===La?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(zi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=wu()):(n=t,t=e)):(n=t,t=e),t}()),t}function en(){var t,a,o;return t=n,(a=function wl(){var t,a,o;return t=n,(a=wt())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),$()!==e?(m=t,t=ds(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=wt())!==e&&(m=t,a=ps(a)),t=a),t}())!==e?(p(),function Yl(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===ba?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Qi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Ou()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(o=function Il(){var t,a,o,u;return t=n,(a=wt())!==e&&(m=t,a=ms(a)),(t=a)===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),Rt()!==e?(p(),(u=bt())!==e?(p(),$()!==e?(m=t,t=hs(o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),$()!==e?(m=t,t=vs(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e&&(m=t,a=ws()),t=a))),t}())!==e?(m=t,t=fs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=function gl(){var t,a,o,u;return t=n,(a=wt())!==e?(p(),z()!==e?(p(),(o=bt())!==e?(p(),$()!==e?(m=t,t=Is(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=wt())!==e&&(m=t,a=gs(a)),(t=a)===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=Mt())!==e?(p(),Rt()!==e?(p(),(u=bt())!==e?(p(),$()!==e?(m=t,t=ys(o,u)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e?(p(),z()!==e?(p(),(o=bt())!==e?(p(),$()!==e?(m=t,t=Ts(o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t===e&&(t=n,(a=ct())!==e&&(m=t,a=Ls()),t=a)))),t}()),t}function wt(){var t,a;return t=n,(a=In())!==e&&(m=t,a=Ns()),(t=a)===e&&(t=n,(a=gn())!==e&&(m=t,a=Ss()),(t=a)===e&&(t=n,(a=yn())!==e&&(m=t,a=Os()),(t=a)===e&&(t=n,(a=wn())!==e&&(m=t,a=Cs()),(t=a)===e&&(t=n,(a=vn())!==e&&(m=t,a=As()),t=a)))),t}function bt(){var t,a;return t=n,(a=lt())!==e&&(m=t,a=Zs(a)),a}function Mt(){var t,a;return t=n,(a=lt())!==e&&(m=t,a=xs(a)),a}function ut(){var t;return(t=ce())===e&&(t=le()),t}function ce(){var t,a,o,u,I;if(t=n,39===l.charCodeAt(n)?(a=be,n++):(a=e,0===d&&w(Re)),a===e&&(l.substr(n,2)===Me?(a=Me,n+=2):(a=e,0===d&&w(hi))),a!==e){for(o=[],u=n,l.substr(n,2)===Ct?(I=Ct,n+=2):(I=e,0===d&&w(Ve)),I!==e&&(m=u,I=$e()),(u=I)===e&&(_e.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(Je)));u!==e;)o.push(u),u=n,l.substr(n,2)===Ct?(I=Ct,n+=2):(I=e,0===d&&w(Ve)),I!==e&&(m=u,I=$e()),(u=I)===e&&(_e.test(l.charAt(n))?(u=l.charAt(n),n++):(u=e,0===d&&w(Je)));39===l.charCodeAt(n)?(u=be,n++):(u=e,0===d&&w(Re)),u!==e?(m=t,t=_s(o)):(n=t,t=e)}else n=t,t=e;return t}function Et(){var t,a,o;return t=n,Tn()!==e?(p(),(a=U())!==e?(p(),Ln()!==e?(p(),(o=U())!==e?(m=t,t=Vs(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}function Ft(){var t,a,o;return t=n,Tn()!==e?(p(),(a=U())!==e?(p(),Ln()!==e?(p(),(o=U())!==e?(m=t,t=Js(a,o)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e)):(n=t,t=e),t}function nn(){var t,a;return t=n,function Ql(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ka?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(co)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Vu()):(n=t,t=e)):(n=t,t=e),t}()!==e?(p(),(a=U())!==e?(m=t,t=qs(a)):(n=t,t=e)):(n=t,t=e),t}function _t(){var t,a,o;return(t=lt())===e&&(t=n,45===l.charCodeAt(n)?(a=Kt,n++):(a=e,0===d&&w(te)),a===e&&(43===l.charCodeAt(n)?(a=Gt,n++):(a=e,0===d&&w(Xt))),a!==e&&(o=lt())!==e?(m=t,t=Ys(a,o)):(n=t,t=e)),t}function rn(){var t,a,o;return t=n,46===l.charCodeAt(n)?(a=Xr,n++):(a=e,0===d&&w(vi)),a!==e?((o=lt())===e&&(o=null),m=t,t=js(o)):(n=t,t=e),t}function an(){var t,a,o;return t=n,(a=function Zl(){var t,a,o;return t=n,Ka.test(l.charAt(n))?(a=l.charAt(n),n++):(a=e,0===d&&w(Ii)),a!==e?(Xa.test(l.charAt(n))?(o=l.charAt(n),n++):(o=e,0===d&&w(gi)),o===e&&(o=null),m=t,t=Gs(a,o)):(n=t,t=e),t}())!==e&&(o=lt())!==e?(m=t,t=Bs(a,o)):(n=t,t=e),t}function lt(){var t,a,o;if(t=n,a=[],(o=on())!==e)for(;o!==e;)a.push(o),o=on();else a=e;return a!==e&&(m=t,a=Qs(a)),a}function on(){var t;return Ga.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(wi)),t}function fe(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===ra?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Ni)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Ks()):(n=t,t=e)):(n=t,t=e),t}function sn(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===aa?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(Si)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Xs()):(n=t,t=e)):(n=t,t=e),t}function un(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ia?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Oi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=tu()):(n=t,t=e)):(n=t,t=e),t}function It(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===sa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Ai)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=nu()):(n=t,t=e)):(n=t,t=e),t}function Dt(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===ua?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(Zi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=ru()):(n=t,t=e)):(n=t,t=e),t}function ln(){var t,a,o,u;return t=n,l.substr(n,2).toLowerCase()===la?(a=l.substr(n,2),n+=2):(a=e,0===d&&w(xi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=au()):(n=t,t=e)):(n=t,t=e),t}function cn(){var t,a,o,u;return t=n,l.substr(n,7).toLowerCase()===ca?(a=l.substr(n,7),n+=7):(a=e,0===d&&w(bi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=iu()):(n=t,t=e)):(n=t,t=e),t}function de(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===fa?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Mi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=ou()):(n=t,t=e)):(n=t,t=e),t}function fn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ha?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Di)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=cu()):(n=t,t=e)):(n=t,t=e),t}function dn(){var t,a,o,u;return t=n,l.substr(n,9).toLowerCase()===wa?(a=l.substr(n,9),n+=9):(a=e,0===d&&w(Ui)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=du()):(n=t,t=e)):(n=t,t=e),t}function pn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ia?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ri)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=pu()):(n=t,t=e)):(n=t,t=e),t}function mn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===ga?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Vi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=mu()):(n=t,t=e)):(n=t,t=e),t}function hn(){var t,a,o,u;return t=n,l.substr(n,8).toLowerCase()===Ma?(a=l.substr(n,8),n+=8):(a=e,0===d&&w(Gi)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Cu()):(n=t,t=e)):(n=t,t=e),t}function vn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ea?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(Ki)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Au()):(n=t,t=e)):(n=t,t=e),t}function wn(){var t,a,o,u;return t=n,l.substr(n,5).toLowerCase()===Da?(a=l.substr(n,5),n+=5):(a=e,0===d&&w(eo)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=bu()):(n=t,t=e)):(n=t,t=e),t}function In(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===Pa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(no)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Mu()):(n=t,t=e)):(n=t,t=e),t}function gn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ua?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(ro)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Eu()):(n=t,t=e)):(n=t,t=e),t}function yn(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===Ra?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(ao)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Fu()):(n=t,t=e)):(n=t,t=e),t}function ct(){var t,a,o,u;return t=n,l.substr(n,6).toLowerCase()===Va?(a=l.substr(n,6),n+=6):(a=e,0===d&&w(io)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=_u()):(n=t,t=e)):(n=t,t=e),t}function Pt(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===Ja?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(oo)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Du()):(n=t,t=e)):(n=t,t=e),t}function Ut(){var t,a,o,u;return t=n,l.substr(n,3).toLowerCase()===qa?(a=l.substr(n,3),n+=3):(a=e,0===d&&w(so)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Pu()):(n=t,t=e)):(n=t,t=e),t}function Tn(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===za?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(uo)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Uu()):(n=t,t=e)):(n=t,t=e),t}function Ln(){var t,a,o,u;return t=n,l.substr(n,4).toLowerCase()===$a?(a=l.substr(n,4),n+=4):(a=e,0===d&&w(lo)),a!==e?(o=n,d++,u=y(),d--,u===e?o=void 0:(n=o,o=e),o!==e?(m=t,t=Ru()):(n=t,t=e)):(n=t,t=e),t}function Rt(){var t;return 44===l.charCodeAt(n)?(t=Ha,n++):(t=e,0===d&&w(fo)),t}function z(){var t;return 40===l.charCodeAt(n)?(t=Wa,n++):(t=e,0===d&&w(po)),t}function $(){var t;return 41===l.charCodeAt(n)?(t=Ya,n++):(t=e,0===d&&w(mo)),t}function p(){var t,a;for(t=[],a=Nn();a!==e;)t.push(a),a=Nn();return t}function Nn(){var t;return ti.test(l.charAt(n))?(t=l.charAt(n),n++):(t=e,0===d&&w(ho)),t}function Sn(t,a,o,u){var I={type:"binary-expression",operator:t,left:a,right:o};return void 0!==u&&(I.escape=u),I}function gt(t,a){for(var o=t,u=0;u<a.length;u++)o=Sn(a[u][1],o,a[u][3]);return o}if((h=q())!==e&&n===l.length)return h;throw h!==e&&n<l.length&&w({type:"end"}),function ku(t,a,o){return new r(r.buildMessage(t,a),t,a,o)}(ee,tt<l.length?l.charAt(tt):null,re(tt,tt<l.length?tt+1:tt))}}}());var $r=Le.exports;class kr{static parse(r){return $r.parse(r)}}const Hr=new Set(["current_timestamp","current_date","current_time"]);class Wr{static makeBool(r){return Ne(r)}static featureValue(r,s,f,l){return Ae(r,s,f,l)}static equalsNull(r){return null===r}static applyLike(r,s,f){return Qt(r,s,f)}static ensureArray(r){return jt(r)}static applyIn(r,s,f){return Bt(r,s)}static currentDate(r){return P.n.fromNow(r)}static makeSqlInterval(r,s,f){return A.createFromValueAndQualifier(r,s,f)}static convertInterval(r){return r instanceof A?r.valueInMilliseconds():r}static currentTimestamp(r){return Tt(new Date,r)}static compare(r,s,f,l){return Y(s,f,r)}static calculate(r,s,f,l){return ge(r,s,f,l)}static evaluateTime(r){return qt(r)}static evaluateTimestamp(r,s,f){return Lt(r,s,f)}static evaluateDate(r,s){return he(r,s)}static evaluateFunction(r,s,f){return kt(r,s,f)}static lookup(r,s){const f=s[r];return void 0===f?null:f}static between(r,s,f){return null==r||null==s[0]||null==s[1]?null:Y(r,s[0],">=")&&Y(r,s[1],"<=")}static notbetween(r,s,f){return null==r||null==s[0]||null==s[1]?null:Y(r,s[0],"<")||Y(r,s[1],">")}static ternaryNot(r){return Ot(r)}static ternaryAnd(r,s){return Se(r,s)}static ternaryOr(r,s){return Oe(r,s)}}class Yt{constructor(r,s,f="UTC"){this.fieldsIndex=s,this.timeZone=f,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=kr.parse(r);const{isStandardized:l,isAggregate:v,referencedFieldNames:h}=this._extractExpressionInfo(s);this._referencedFieldNames=h,this.isStandardized=l,this.isAggregate=v}static convertValueToStorageFormat(r,s=null){if(null===s)return Q(r)?r.getTime():b(r)?r.toMillis():E(r)?r.toStorageFormat():_(r)?r.toStorageString():M(r)?r.toStorageFormat():r;switch(s){case"date":return Q(r)?r.getTime():b(r)?r.toMillis():E(r)?r.toMilliseconds():M(r)?r.toNumber():r;case"date-only":return Q(r)?P.n.fromDateJS(r).toString():E(r)?P.n.fromSqlTimeStampOffset(r).toString():b(r)?P.n.fromDateTime(r).toString():r;case"time-only":return Q(r)?V.k.fromDateJS(r).toStorageString():b(r)?V.k.fromDateTime(r).toStorageString():E(r)?V.k.fromSqlTimeStampOffset(r).toStorageString():_(r)?r.toStorageString():r;case"timestamp-offset":if(Q(r))return T.g.fromJSDate(r).toStorageFormat();if(b(r))return T.g.fromDateTime(r).toStorageFormat();if(E(r))return r.toStorageFormat()}return r}static create(r,s,f="UTC"){return new Yt(r,s,f)}get fieldNames(){return this._referencedFieldNames}testSet(r,s=dt){return!!this._evaluateNode(this.parseTree,null,s,r)}calculateValue(r,s=dt){const f=this._evaluateNode(this.parseTree,r,s,null);return f instanceof A?f.valueInMilliseconds()/864e5:f}calculateValueCompiled(r,s=dt){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,B.A)("esri-csp-restrictions")?this.calculateValue(r,s):(this._compileMe(),this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}testFeature(r,s=dt){return!!this._evaluateNode(this.parseTree,r,s,null)}testFeatureCompiled(r,s=dt){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone):(0,B.A)("esri-csp-restrictions")?this.testFeature(r,s):(this._compileMe(),!!this.parseTree._compiledVersion(r,this.parameters,s,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,r=>{"current-time"===r.type?this._hasDateFunctions=!0:"function"===r.type&&(this._hasDateFunctions=this._hasDateFunctions||Hr.has(r.name.toLowerCase()))})),this._hasDateFunctions}getFunctions(){const r=new Set;return this._visitAll(this.parseTree,s=>{"function"===s.type&&r.add(s.name.toLowerCase())}),Array.from(r)}getExpressions(){const r=new Map;return this._visitAll(this.parseTree,s=>{if("function"===s.type){const f=s.name.toLowerCase(),l=s.args.value[0];if("column-reference"===l.type){const v=l.column,h=`${f}-${v}`;r.has(h)||r.set(h,{aggregateType:f,field:v})}}}),[...r.values()]}getVariables(){const r=new Set;return this._visitAll(this.parseTree,s=>{"parameter"===s.type&&r.add(s.value.toLowerCase())}),Array.from(r)}_compileMe(){const r="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",r).bind(Wr)}_extractExpressionInfo(r){const s=[],f=new Set;let l=!0,v=!1;return this._visitAll(this.parseTree,h=>{switch(h.type){case"column-reference":{const e=r?.get(h.column);let L,O;e?L=O=e.name??"":(O=h.column,L=O.toLowerCase()),f.has(L)||(f.add(L),s.push(O)),h.column=O;break}case"function":{const{name:e,args:L}=h,O=L.value.length;l&&(l=function Hn(i,r){const s=Ie[i.toLowerCase()];return null!=s&&r>=s.minParams&&r<=s.maxParams}(e,O)),!1===v&&(v=at(e,O));break}}}),{referencedFieldNames:Array.from(s),isStandardized:l,isAggregate:v}}_visitAll(r,s){if(null!=r)switch(s(r),r.type){case"when-clause":this._visitAll(r.operand,s),this._visitAll(r.value,s);break;case"case-expression":for(const f of r.clauses)this._visitAll(f,s);"simple"===r.format&&this._visitAll(r.operand,s),null!==r.else&&this._visitAll(r.else,s);break;case"expression-list":for(const f of r.value)this._visitAll(f,s);break;case"unary-expression":this._visitAll(r.expr,s);break;case"binary-expression":this._visitAll(r.left,s),this._visitAll(r.right,s);break;case"function":this._visitAll(r.args,s)}}evaluateNodeToJavaScript(r){switch(r.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(r.value)+", "+JSON.stringify(r.qualifier)+","+JSON.stringify(r.op)+")";case"case-expression":{let s="";if("simple"===r.format){const f=this.evaluateNodeToJavaScript(r.operand);s="( ";for(let l=0;l<r.clauses.length;l++)s+=" (this.compare('=',"+f+","+this.evaluateNodeToJavaScript(r.clauses[l].operand)+") ? ("+this.evaluateNodeToJavaScript(r.clauses[l].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}else{s="( ";for(let f=0;f<r.clauses.length;f++)s+=" this.makeBool("+this.evaluateNodeToJavaScript(r.clauses[f].operand)+")===true ? ("+this.evaluateNodeToJavaScript(r.clauses[f].value)+") : ";s+=null!==r.else?this.evaluateNodeToJavaScript(r.else):"null",s+=" )"}return s}case"parameter":return"this.lookup("+JSON.stringify(r.value.toLowerCase())+",lookups)";case"expression-list":{let s="[";for(const f of r.value)"["!==s&&(s+=","),s+=this.evaluateNodeToJavaScript(f);return s+="]",s}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(r.expr)+")";case"binary-expression":switch(r.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+" )";case"IS":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")";case"ISNOT":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(r.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(r.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(r.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+","+JSON.stringify(r.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(r.operator)+","+this.evaluateNodeToJavaScript(r.left)+","+this.evaluateNodeToJavaScript(r.right)+", timeZone)"}throw new c.L8(c.Z7.UnsupportedOperator,{operator:r.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(r.value);case"time":return"this.evaluateTime("+JSON.stringify(r.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(r.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(r.value)+", 'unknown')";case"current-time":return"date"===r.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(r.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(r.name)+","+this.evaluateNodeToJavaScript(r.args)+", timeZone)"}throw new c.L8(c.Z7.UnsupportedSyntax,{node:r.type})}_evaluateNode(r,s,f,l){let v;switch(r.type){case"interval":{const h=this._evaluateNode(r.value,s,f,l);return A.createFromValueAndQualifier(h,r.qualifier,r.op)}case"case-expression":if("simple"===r.format){const h=this._evaluateNode(r.operand,s,f,l);for(let e=0;e<r.clauses.length;e++)if(Y(h,this._evaluateNode(r.clauses[e].operand,s,f,l),"="))return this._evaluateNode(r.clauses[e].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}else{for(let h=0;h<r.clauses.length;h++)if(Ne(this._evaluateNode(r.clauses[h].operand,s,f,l)))return this._evaluateNode(r.clauses[h].value,s,f,l);if(null!==r.else)return this._evaluateNode(r.else,s,f,l)}return null;case"parameter":return v=this.parameters[r.value.toLowerCase()],Q(v)?x.c9.fromJSDate(v):v instanceof ot.lY?v.toDateTime():v;case"expression-list":{const h=[];for(const e of r.value)h.push(this._evaluateNode(e,s,f,l));return h}case"unary-expression":return Ot(this._evaluateNode(r.expr,s,f,l));case"binary-expression":switch(r.operator){case"AND":return Se(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"OR":return Oe(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l));case"IS":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return null===this._evaluateNode(r.left,s,f,l);case"ISNOT":if("null"!==r.right.type)throw new c.L8(c.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(r.left,s,f,l);case"IN":{const h=jt(this._evaluateNode(r.right,s,f,l));return Bt(this._evaluateNode(r.left,s,f,l),h)}case"NOT IN":{const h=jt(this._evaluateNode(r.right,s,f,l));return Ot(Bt(this._evaluateNode(r.left,s,f,l),h))}case"BETWEEN":{const h=this._evaluateNode(r.left,s,f,l),e=this._evaluateNode(r.right,s,f,l);return null==h||null==e[0]||null==e[1]?null:Y(h,e[0],">=")&&Y(h,e[1],"<=")}case"NOTBETWEEN":{const h=this._evaluateNode(r.left,s,f,l),e=this._evaluateNode(r.right,s,f,l);return null==h||null==e[0]||null==e[1]?null:Y(h,e[0],"<")||Y(h,e[1],">")}case"LIKE":return Qt(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape);case"NOT LIKE":return Ot(Qt(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return Y(this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),r.operator);case"-":case"+":case"*":case"/":case"||":return ge(r.operator,this._evaluateNode(r.left,s,f,l),this._evaluateNode(r.right,s,f,l),this.timeZone)}case"null":case"boolean":case"string":case"number":return r.value;case"date":return r.parsedValue??=he(r.value,"unknown"),r.parsedValue;case"timestamp":return r.parsedValue??=Lt(r.value,"unknown"),r.parsedValue;case"time":return qt(r.value);case"current-time":return"date"===r.mode?P.n.fromNow(this.timeZone):Tt(new Date,this.timeZone);case"column-reference":return Ae(s,r.column,this.fieldsIndex,f);case"data-type":return r.value;case"function":{if(this.isAggregate&&at(r.name,r.args.value.length)){const e=[];for(const L of r.args?.value||[]){const O=[];for(const q of l||[])O.push(this._evaluateNode(L,q,f,null));e.push(O)}return function S(i,r){const s=nt[i.toLowerCase()];if(null==s)throw new c.L8(c.Z7.FunctionNotRecognized);if(r.length<s.minParams||r.length>s.maxParams)throw new c.L8(c.Z7.InvalidParameterCount,{name:i.toUpperCase()});return s.evaluate(r)}(r.name,e)}const h=this._evaluateNode(r.args,s,f,l);return kt(r.name,h,this.timeZone)}}throw new c.L8(c.Z7.UnsupportedSyntax,{node:r.type})}}function Ne(i){return!0===i}function jt(i){return Array.isArray(i)?i:[i]}function Ot(i){return null!==i?!0!==i:null}function Se(i,r){return null!=i&&null!=r?!0===i&&!0===r:!1!==i&&!1!==r&&null}function Oe(i,r){return null!=i&&null!=r?!0===i||!0===r:!0===i||!0===r||null}function Bt(i,r,s){if(null==i)return null;let f=!1;for(const l of r)if(null==l)f=null;else{if(i===l){f=!0;break}if($t(i)&&$t(l)&&(f=Y(i,l,"="),f))break}return f}const Ce="-[]/{}()*+?.\\^$|";var st,i;function Qt(i,r,s){return null==i?null:function Yr(i,r){const s=r;let f="",l=st.Normal;for(let v=0;v<i.length;v++){const h=i.charAt(v);switch(l){case st.Normal:h===s?l=st.Escaped:Ce.includes(h)?f+="\\"+h:f+="%"===h?".*":"_"===h?".":h;break;case st.Escaped:Ce.includes(h)?f+="\\"+h:f+=h,l=st.Normal}}return new RegExp("^"+f+"$","m")}(r,s).test(i)}function Ae(i,r,s,f){const l=f.getAttribute(i,r),v=s?.get(r);return null==l||"esriFieldTypeDate"!==v?.type&&"date"!==v?.type?null==l||"esriFieldTypeDateOnly"!==v?.type&&"date-only"!==v?.type?null==l||"esriFieldTypeTimeOnly"!==v?.type&&"time-only"!==v?.type?null==l||"esriFieldTypeTimestampOffset"!==v?.type&&"timestamp-offset"!==v?.type?l:new T.g(l):V.k.fromReader(l):P.n.fromReader(l):Tt(new Date(l),s?.getLuxonTimeZone(v.name)??x.mQ.utcInstance)}(i=st||(st={}))[i.Normal=0]="Normal",i[i.Escaped=1]="Escaped";const dt={getAttribute:(i,r)=>(function jr(i){return i&&"object"==typeof i.attributes}(i)?i.attributes:i)[r]}}}]);