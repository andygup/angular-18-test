"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[9689],{49689:(Q,D,n)=>{n.r(D),n.d(D,{create:()=>F});var O=n(10467),C=(n(21152),n(31336)),L=n(35150),I=n(82663),T=n(62767),W=n(11817),B=n(83034),K=n(86507),x=n(39465);function F(e,t,s){return R.apply(this,arguments)}function R(){return R=(0,O.A)(function*(e,t,s){let d;return v(e)||e instanceof C.A?(d=yield(yield function G(e){return f.apply(this,arguments)}(e)).createElevationSampler(t,{demResolution:s?.demResolution??"finest-contiguous"}),g(d,t,{material:s?.material})):"string"==typeof s?.demResolution?(L.A.getLogger("esri.geometry.support.meshUtils.elevation").error("create()","demResolution must be a number when used directly with a sampler"),null):g(e,t,{material:s?.material,demResolution:s?.demResolution})}),R.apply(this,arguments)}function g(e,t,s){const d=(0,I.GA)(t.spatialReference),A=(s?.demResolution??e.demResolution.min)/d,i=Math.round(t.width/A),_=Math.round(t.height/A),l=i+1,h=_+1,u=new Float64Array(l*h*3),y=new Float32Array(l*h*2);let M=0,U=0;const a=new Uint32Array(i*_*2*3);let o=0,r=0;const S=!e.spatialReference.equals(t.spatialReference);E.spatialReference=t.spatialReference;const{xmin:b,ymin:H,height:V,width:z}=t;for(let m=0;m<h;m++){const p=H+V*(m/_);for(let c=0;c<l;c++){const P=b+z*(c/i);if(u[M++]=P,u[M++]=p,S){E.x=P,E.y=p;const j=(0,W.project)(E,e.spatialReference);u[M++]=e.elevationAt(j.x,j.y)??0}else u[M++]=e.elevationAt(P,p)??0;const N=m/_;y[U++]=c/i,y[U++]=N,m!==_&&c!==i&&(a[r++]=o+1,a[r++]=o+l+1,a[r++]=o+l,a[r++]=o,a[r++]=o+1,a[r++]=o+l),o++}}return new T.A({vertexAttributes:new x.H({position:u,uv:y}),components:[new K.A({faces:(0,B.Dg)(a),shading:"smooth",material:s?.material??null})],spatialReference:t.spatialReference})}function f(){return(f=(0,O.A)(function*(e){return v(e)?e.load():(yield e.load(),yield Promise.allSettled(e.layers.items.map(t=>t.load())),e)})).apply(this,arguments)}function v(e){return"type"in e&&("elevation"===e.type||"base-elevation"===e.type)}const E=new(n(1749).A)}}]);