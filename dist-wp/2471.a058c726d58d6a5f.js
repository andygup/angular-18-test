"use strict";(self.webpackChunkangular_18_test=self.webpackChunkangular_18_test||[]).push([[2471],{82471:(gn,me,h)=>{h.r(me),h.d(me,{executeScript:()=>hn,extend:()=>Xe,functionHelper:()=>dn});var p=h(10467),$e=h(50279),_e=h(48504),w=h(53787),i=h(55279),we=h(63145),m=h(61552),o=h(42686),Be=h(63829),Ee=h(78464),Ie=h(98745),Me=h(61501),T=h(39521),Re=h(82050),Oe=h(35154),Fe=h(61828),X=h(68643),ve=h(32034);const S=100;function $(n,e){return B.apply(this,arguments)}function B(){return(B=(0,p.A)(function*(n,e){const t=[];for(let r=0;r<e.arguments.length;r++)t.push(yield s(n,e.arguments[r]));return t})).apply(this,arguments)}function v(n,e,t){return E.apply(this,arguments)}function E(){return(E=(0,p.A)(function*(n,e,t){return!0===e.preparsed?t(n,null,e.arguments):t(n,e,yield $(n,e))})).apply(this,arguments)}class Pe extends m.fF{constructor(e,t){super(),this.definition=null,this.context=null,this.definition=e,this.context=t}createFunction(e){return(...t)=>{const r={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,timeZone:this.context.timeZone??null,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(r.depthCounter.depth>64)throw new i.D$(e,i.TX.MaximumCallDepth,null);return he(this.definition,r,t,null)}}call(e,t){return A(e,t,(r,l,a)=>{const u={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(u.depthCounter.depth>64)throw new i.D$(e,i.TX.MaximumCallDepth,t);return he(this.definition,u,a,t)})}marshalledCall(e,t,r,l){var a=this;return l(e,t,function(){var u=(0,p.A)(function*(c,f,d){const y={spatialReference:e.spatialReference,globalScope:r.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{}};return d=d.map(x=>!(0,o.i)(x)||x instanceof m.CU?x:(0,m.o6)(x,e,l)),(0,m.o6)(yield he(a.definition,y,d,t),r,l)});return function(c,f,d){return u.apply(this,arguments)}}())}}class D extends $e.x{constructor(e){super(e)}global(e){var t=this;return(0,p.A)(function*(){const r=t.executingContext.globalScope[e.toLowerCase()];if(r.valueset||(r.value=yield s(t.executingContext,r.node),r.valueset=!0),(0,o.i)(r.value)&&!(r.value instanceof m.CU)){const l=new m.CU;l.fn=r.value,l.parameterEvaluator=A,l.context=t.executingContext,r.value=l}return r.value})()}setGlobal(e,t){if((0,o.i)(t))throw new i.D$(null,i.TX.AssignModuleFunction,null);this.executingContext.globalScope[e.toLowerCase()]={value:t,valueset:!0,node:null}}hasGlobal(e){return void 0===this.executingContext.exports[e]&&(e=e.toLowerCase()),void 0!==this.executingContext.exports[e]}loadModule(e){var t=this;return(0,p.A)(function*(){let r=e.spatialReference;null==r&&(r=new ve.A({wkid:102100})),t.moduleScope=Se({},e.customfunctions,e.timeZone),t.executingContext={spatialReference:r,services:e.services,libraryResolver:new _e.a(e.libraryResolver._moduleSingletons,t.source.syntax.loadedModules),exports:{},abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:t.moduleScope,console:e.console??Ce,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},yield s(t.executingContext,t.source.syntax)})()}}function A(n,e,t){return I.apply(this,arguments)}function I(){return(I=(0,p.A)(function*(n,e,t){return!0===e.preparsed?t(n,null,e.arguments):t(n,e,yield $(n,e))})).apply(this,arguments)}function s(n,e,t){return M.apply(this,arguments)}function M(){return M=(0,p.A)(function*(n,e,t){if(e.breakpoint&&!0!==t)return yield e.breakpoint(),s(n,e,!0);try{switch(e?.type){case"VariableDeclarator":return yield function nn(n,e){return ne.apply(this,arguments)}(n,e);case"ImportDeclaration":return yield function qe(n,e){return J.apply(this,arguments)}(n,e);case"ExportNamedDeclaration":return yield function en(n,e){return q.apply(this,arguments)}(n,e);case"VariableDeclaration":return yield Ae(n,e,0);case"BlockStatement":case"Program":return yield function Qe(n,e){return V.apply(this,arguments)}(n,e);case"FunctionDeclaration":return yield function Je(n,e){return Y.apply(this,arguments)}(n,e);case"ReturnStatement":return yield function Ye(n,e){return Q.apply(this,arguments)}(n,e);case"IfStatement":return yield function He(n,e){return Z.apply(this,arguments)}(n,e);case"ExpressionStatement":return yield function Ve(n,e){return z.apply(this,arguments)}(n,e);case"UpdateExpression":return yield function ze(n,e){return k.apply(this,arguments)}(n,e);case"AssignmentExpression":return yield function Ze(n,e){return G.apply(this,arguments)}(n,e);case"ForStatement":return yield function Ne(n,e){try{return null!==e.init?s(n,e.init).then(()=>new Promise((t,r)=>{C(n,e,{testResult:!0,lastAction:o.B},l=>{t(l)},l=>{r(l)},0)})):new Promise((t,r)=>{C(n,e,{testResult:!0,lastAction:o.B},l=>{t(l)},l=>{r(l)},0)})}catch(t){return Promise.reject(t)}}(n,e);case"WhileStatement":return yield function Ue(n,e){return F.apply(this,arguments)}(n,e);case"ForInStatement":return yield function Ge(n,e){return W.apply(this,arguments)}(n,e);case"BreakStatement":return o.C;case"EmptyStatement":return o.B;case"ContinueStatement":return o.D;case"TemplateElement":return yield function sn(n,e){return ce.apply(this,arguments)}(n,e);case"TemplateLiteral":return yield function fn(n,e){return fe.apply(this,arguments)}(n,e);case"Identifier":return yield ae(n,e);case"MemberExpression":return yield function tn(n,e){return te.apply(this,arguments)}(n,e);case"Literal":return e.value;case"CallExpression":return yield function un(n,e){return se.apply(this,arguments)}(n,e);case"UnaryExpression":return yield function rn(n,e){return re.apply(this,arguments)}(n,e);case"BinaryExpression":return yield function ln(n,e){return ie.apply(this,arguments)}(n,e);case"LogicalExpression":return yield function an(n,e){return le.apply(this,arguments)}(n,e);case"ArrayExpression":return yield function on(n,e){return oe.apply(this,arguments)}(n,e);case"ObjectExpression":return yield function Le(n,e){return R.apply(this,arguments)}(n,e);case"Property":return yield function je(n,e){return O.apply(this,arguments)}(n,e);default:throw new i.D$(n,i.TX.Unrecognized,e)}}catch(r){throw(0,i.Nh)(n,e,r)}}),M.apply(this,arguments)}function R(){return(R=(0,p.A)(function*(n,e){const t=[];for(let u=0;u<e.properties.length;u++)t[u]=yield s(n,e.properties[u]);const r={},l=new Map;for(let u=0;u<t.length;u++){const c=t[u];if((0,o.i)(c.value))throw new i.D$(n,i.TX.NoFunctionInDictionary,e);if(!1===(0,o.c)(c.key))throw new i.D$(n,i.TX.KeyMustBeString,e);let f=c.key.toString();const d=f.toLowerCase();l.has(d)?f=l.get(d):l.set(d,f),r[f]=c.value===o.B?null:c.value}const a=new w.A(r);return a.immutable=!1,a})).apply(this,arguments)}function O(){return(O=(0,p.A)(function*(n,e){const t=yield s(n,e.value);return"Identifier"===e.key.type?{key:e.key.name,value:t}:{key:yield s(n,e.key),value:t}})).apply(this,arguments)}function F(){return(F=(0,p.A)(function*(n,e){const t={testResult:!0,lastAction:o.B};if(t.testResult=yield s(n,e.test),!1===t.testResult)return o.B;if(!0!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);for(;!0===t.testResult&&(t.lastAction=yield s(n,e.body),t.lastAction!==o.C)&&!(t.lastAction instanceof o.z);)if(t.testResult=yield s(n,e.test),!0!==t.testResult&&!1!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);return t.lastAction instanceof o.z?t.lastAction:o.B})).apply(this,arguments)}function xe(n,e,t){return P.apply(this,arguments)}function P(){return(P=(0,p.A)(function*(n,e,t){const r=yield s(n,e.body);return t.lastAction=r,t.lastAction===o.C||t.lastAction instanceof o.z?(t.testResult=!1,t):(null!==e.update&&(yield s(n,e.update)),t)})).apply(this,arguments)}function L(){return(L=(0,p.A)(function*(n,e,t){if(null!==e.test){const r=yield s(n,e.test);if(!0===n.abortSignal?.aborted)throw new i.D$(n,i.TX.Cancelled,e);if(t.testResult=r,!1===t.testResult)return t;if(!0!==t.testResult)throw new i.D$(n,i.TX.BooleanConditionRequired,e);return xe(n,e,t)}return xe(n,e,t)})).apply(this,arguments)}function C(n,e,t,r,l,a){try{(function Ke(n,e,t){return L.apply(this,arguments)})(n,e,t).then(()=>{try{!0===t.testResult?++a>S?(a=0,setTimeout(()=>{C(n,e,t,r,l,a)},0)):C(n,e,t,r,l,a):r(t.lastAction instanceof o.z?t.lastAction:o.B)}catch(u){l(u)}},u=>{l(u)})}catch(u){l(u)}}function j(n,e,t,r,l,a,u,c,f,d){try{if(r<=a)return void c(o.B);l.value="k"===u?t[a]:a,s(n,e.body).then(y=>{try{y instanceof o.z?c(y):y===o.C?c(o.B):++d>S?(d=0,setTimeout(()=>{j(n,e,t,r,l,a+1,u,c,f,d)},0)):j(n,e,t,r,l,a+1,u,c,f,d)}catch(x){f(x)}},y=>{f(y)})}catch(y){f(y)}}function U(n,e,t,r,l,a,u,c,f){try{if(t.length()<=l)return void u(o.B);r.value="k"===a?t.get(l):l,s(n,e.body).then(d=>{d instanceof o.z?u(d):d===o.C?u(o.B):++f>S?(f=0,setTimeout(()=>{U(n,e,t,r,l+1,a,u,c,f)},0)):U(n,e,t,r,l+1,a,u,c,f)},d=>{c(d)})}catch(d){c(d)}}function K(n,e,t,r,l,a){try{if(void 0===a&&(a="i"),0===t.length)return void r.resolve(o.B);j(n,e,t,t.length,l,0,a,u=>{r.resolve(u)},u=>{r.reject(u)},0)}catch(u){r.reject(u)}}function We(n,e,t,r,l,a){try{if(void 0===a&&(a="i"),0===t.length)return void r.resolve(o.B);U(n,e,t,l,0,a,u=>{r.resolve(u)},u=>{r.reject(u)},0)}catch(u){r.reject(u)}}function N(n,e,t,r,l,a,u,c){try{n.next().then(f=>{try{if(null===f)a(o.B);else{const d=we.A.createFromGraphicLikeObject(f.geometry,f.attributes,r,e.timeZone);d._underlyingGraphic=f,l.value=d,s(e,t.body).then(y=>{try{y===o.C?a(o.B):y instanceof o.z?a(y):++c>S?(c=0,setTimeout(()=>{N(n,e,t,r,l,a,u,c)},0)):N(n,e,t,r,l,a,u,c)}catch(x){u(x)}},y=>{u(y)})}}catch(d){u(d)}},f=>{u(f)})}catch(f){u(f)}}function W(){return(W=(0,p.A)(function*(n,e){return new Promise((t,r)=>{s(n,e.right).then(l=>{try{let a=null;a="VariableDeclaration"===e.left.type?s(n,e.left):Promise.resolve(),a.then(()=>{try{let u="";if("VariableDeclaration"===e.left.type){const f=e.left.declarations[0].id;"Identifier"===f.type&&(u=f.name)}else"Identifier"===e.left.type&&(u=e.left.name);if(!u)throw new i.D$(n,i.TX.InvalidIdentifier,e);u=u.toLowerCase();let c=null;if(null!=n.localScope&&void 0!==n.localScope[u]&&(c=n.localScope[u]),null===c&&void 0!==n.globalScope[u]&&(c=n.globalScope[u]),null===c)return void r(new i.D$(n,i.TX.InvalidIdentifier,e));(0,o.o)(l)||(0,o.c)(l)?K(n,e,l,{reject:r,resolve:t},c):(0,o.q)(l)?We(n,e,l,{reject:r,resolve:t},c):l instanceof w.A||(0,o.r)(l)?function ke(n,e,t,r,l){try{K(n,e,t.keys(),r,l,"k")}catch(a){r.reject(a)}}(n,e,l,{reject:r,resolve:t},c):(0,o.u)(l)?N(l.iterator(n.abortSignal),n,e,l,c,f=>{t(f)},f=>{r(f)},0):K(n,e,[],{reject:r,resolve:t},c)}catch(u){r(u)}},r)}catch(a){r(a)}},r)})})).apply(this,arguments)}function k(){return(k=(0,p.A)(function*(n,e){const t=e.argument;if("MemberExpression"===t.type){const a={t:null},u=yield s(n,t.object);let c=null;a.t=u,!0===t.computed?c=yield s(n,t.property):"Identifier"===t.property.type&&(c=t.property.name);const f=a.t;let d;if((0,o.o)(f)){if(!(0,o.b)(c))throw new i.D$(n,i.TX.ArrayAccessorMustBeNumber,e);if(c<0&&(c=f.length+c),c<0||c>=f.length)throw new i.D$(n,i.TX.OutOfBounds,e);d=(0,o.g)(f[c]),f[c]="++"===e.operator?d+1:d-1}else if(f instanceof w.A){if(!1===(0,o.c)(c))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==f.hasField(c))throw new i.D$(n,i.TX.FieldNotFound,e,{key:c});d=(0,o.g)(f.field(c)),f.setField(c,"++"===e.operator?d+1:d-1)}else if(f instanceof D){if(!1===(0,o.c)(c))throw new i.D$(n,i.TX.ModuleAccessorMustBeString,e);if(!0!==f.hasGlobal(c))throw new i.D$(n,i.TX.ModuleExportNotFound,e);d=(0,o.g)(yield f.global(c)),f.setGlobal(c,"++"===e.operator?d+1:d-1)}else{if(!(0,o.r)(f))throw(0,o.q)(f)?new i.D$(n,i.TX.Immutable,e):new i.D$(n,i.TX.InvalidParameter,e);if(!1===(0,o.c)(c))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==f.hasField(c))throw new i.D$(n,i.TX.FieldNotFound,e,{key:c});d=(0,o.g)(f.field(c)),f.setField(c,"++"===e.operator?d+1:d-1)}return!1===e.prefix?d:"++"===e.operator?d+1:d-1}const r="Identifier"===e.argument.type?e.argument.name.toLowerCase():"";if(!r)throw new i.D$(n,i.TX.InvalidIdentifier,e);let l;if(null!=n.localScope&&void 0!==n.localScope[r])return l=(0,o.g)(n.localScope[r].value),n.localScope[r]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;if(void 0!==n.globalScope[r])return l=(0,o.g)(n.globalScope[r].value),n.globalScope[r]={value:"++"===e.operator?l+1:l-1,valueset:!0,node:e},!1===e.prefix?l:"++"===e.operator?l+1:l-1;throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function _(n,e,t,r,l){switch(e){case"=":return n===o.B?null:n;case"/=":return(0,o.g)(t)/(0,o.g)(n);case"*=":return(0,o.g)(t)*(0,o.g)(n);case"-=":return(0,o.g)(t)-(0,o.g)(n);case"+=":return(0,o.c)(t)||(0,o.c)(n)?(0,o.j)(t)+(0,o.j)(n):(0,o.g)(t)+(0,o.g)(n);case"%=":return(0,o.g)(t)%(0,o.g)(n);default:throw new i.D$(l,i.TX.UnsupportedOperator,r)}}function G(){return(G=(0,p.A)(function*(n,e){const t=e.left;if("MemberExpression"===t.type){const l=yield s(n,t.object);let a=null;if(!0===t.computed)a=yield s(n,t.property);else{if("Identifier"!==t.property.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);a=t.property.name}const u=yield s(n,e.right);if((0,o.o)(l)){if(!(0,o.b)(a))throw new i.D$(n,i.TX.ArrayAccessorMustBeNumber,e);if(a<0&&(a=l.length+a),a<0||a>l.length)throw new i.D$(n,i.TX.OutOfBounds,e);if(a===l.length){if("="!==e.operator)throw new i.D$(n,i.TX.OutOfBounds,e);l[a]=_(u,e.operator,l[a],e,n)}else l[a]=_(u,e.operator,l[a],e,n)}else if(l instanceof w.A){if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0===l.hasField(a))l.setField(a,_(u,e.operator,l.field(a),e,n));else{if("="!==e.operator)throw new i.D$(n,i.TX.FieldNotFound,e,{key:a});l.setField(a,_(u,e.operator,null,e,n))}}else if(l instanceof D){if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0!==l.hasGlobal(a))throw new i.D$(n,i.TX.ModuleExportNotFound,e);l.setGlobal(a,_(u,e.operator,yield l.global(a),e,n))}else{if(!(0,o.r)(l))throw(0,o.q)(l)?new i.D$(n,i.TX.Immutable,e):new i.D$(n,i.TX.InvalidParameter,e);if(!1===(0,o.c)(a))throw new i.D$(n,i.TX.KeyAccessorMustBeString,e);if(!0===l.hasField(a))l.setField(a,_(u,e.operator,l.field(a),e,n));else{if("="!==e.operator)throw new i.D$(n,i.TX.FieldNotFound,e,{key:a});l.setField(a,_(u,e.operator,null,e,n))}}return o.B}const r=t.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[r]){const l=yield s(n,e.right);return n.localScope[r]={value:_(l,e.operator,n.localScope[r].value,e,n),valueset:!0,node:e.right},o.B}if(void 0!==n.globalScope[r]){const l=yield s(n,e.right);return n.globalScope[r]={value:_(l,e.operator,n.globalScope[r].value,e,n),valueset:!0,node:e.right},o.B}throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function z(){return(z=(0,p.A)(function*(n,e){if("AssignmentExpression"===e.expression.type)return s(n,e.expression);if("CallExpression"===e.expression.type){const r=yield s(n,e.expression);return r===o.B?o.B:new o.A(r)}const t=yield s(n,e.expression);return t===o.B?o.B:new o.A(t)})).apply(this,arguments)}function Z(){return(Z=(0,p.A)(function*(n,e){const t=yield s(n,e.test);if(!0===t)return s(n,e.consequent);if(!1===t)return null!==e.alternate?s(n,e.alternate):o.B;throw new i.D$(n,i.TX.BooleanConditionRequired,e)})).apply(this,arguments)}function V(){return(V=(0,p.A)(function*(n,e){return De(n,e,0)})).apply(this,arguments)}function De(n,e,t){return H.apply(this,arguments)}function H(){return(H=(0,p.A)(function*(n,e,t){if(t>=e.body.length)return o.B;const r=yield s(n,e.body[t]);return r instanceof o.z||r===o.C||r===o.D||t===e.body.length-1?r:De(n,e,t+1)})).apply(this,arguments)}function Q(){return(Q=(0,p.A)(function*(n,e){if(null===e.argument)return new o.z(o.B);const t=yield s(n,e.argument);return new o.z(t)})).apply(this,arguments)}function Y(){return(Y=(0,p.A)(function*(n,e){const t=e.id.name.toLowerCase();return n.globalScope[t]={valueset:!0,node:null,value:new Pe(e,n)},o.B})).apply(this,arguments)}function J(){return(J=(0,p.A)(function*(n,e){const t=e.specifiers[0].local.name.toLowerCase(),r=n.libraryResolver.loadLibrary(t);let l=null;return n.libraryResolver._moduleSingletons?.has(r.uri)?l=n.libraryResolver._moduleSingletons.get(r.uri):(l=new D(r),yield l.loadModule(n),n.libraryResolver._moduleSingletons?.set(r.uri,l)),n.globalScope[t]={value:l,valueset:!0,node:e},o.B})).apply(this,arguments)}function q(){return(q=(0,p.A)(function*(n,e){if(yield s(n,e.declaration),"FunctionDeclaration"===e.declaration.type)n.exports[e.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===e.declaration.type)for(const t of e.declaration.declarations)n.exports[t.id.name.toLowerCase()]="variable";return o.B})).apply(this,arguments)}function Ae(n,e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,p.A)(function*(n,e,t){return t>=e.declarations.length||(yield s(n,e.declarations[t]),t===e.declarations.length-1||(yield Ae(n,e,t+1))),o.B})).apply(this,arguments)}function ne(){return(ne=(0,p.A)(function*(n,e){let t=null;if(t=null===e.init?null:yield s(n,e.init),null!==n.localScope){if(t===o.B&&(t=null),"Identifier"!==e.id.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);const l=e.id.name.toLowerCase();return null!=n.localScope&&(n.localScope[l]={value:t,valueset:!0,node:e.init}),o.B}if("Identifier"!==e.id.type)throw new i.D$(n,i.TX.InvalidIdentifier,e);const r=e.id.name.toLowerCase();return t===o.B&&(t=null),n.globalScope[r]={value:t,valueset:!0,node:e.init},o.B})).apply(this,arguments)}function te(){return(te=(0,p.A)(function*(n,e){const t=yield s(n,e.object);if(null===t)throw new i.D$(n,i.TX.MemberOfNull,e);if(!1===e.computed){if("Identifier"===e.property.type){if(t instanceof w.A||(0,o.r)(t))return t.field(e.property.name);if(t instanceof X.A)return(0,T.B)(t,e.property.name,n,e);if(t instanceof D){if(!t.hasGlobal(e.property.name))throw new i.D$(n,i.TX.InvalidIdentifier,e);return t.global(e.property.name)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}let r=yield s(n,e.property);if(t instanceof w.A||(0,o.r)(t)){if((0,o.c)(r))return t.field(r);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if(t instanceof D){if((0,o.c)(r))return t.global(r);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if(t instanceof X.A){if((0,o.c)(r))return(0,T.B)(t,r,n,e);throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.o)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t[r]}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.q)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t.get(r)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}if((0,o.c)(t)){if((0,o.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.D$(n,i.TX.OutOfBounds,e);return t[r]}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)}throw new i.D$(n,i.TX.InvalidMemberAccessKey,e)})).apply(this,arguments)}function re(){return(re=(0,p.A)(function*(n,e){const t=yield s(n,e.argument);if((0,o.a)(t)){if("!"===e.operator)return!t;if("-"===e.operator)return-1*(0,o.g)(t);if("+"===e.operator)return 1*(0,o.g)(t);if("~"===e.operator)return~(0,o.g)(t);throw new i.D$(n,i.TX.UnsupportedUnaryOperator,e)}if("-"===e.operator)return-1*(0,o.g)(t);if("+"===e.operator)return 1*(0,o.g)(t);if("~"===e.operator)return~(0,o.g)(t);throw new i.D$(n,i.TX.UnsupportedUnaryOperator,e)})).apply(this,arguments)}function oe(){return(oe=(0,p.A)(function*(n,e){const t=[];for(let r=0;r<e.elements.length;r++)t.push(yield s(n,e.elements[r]));for(let r=0;r<t.length;r++){if((0,o.i)(t[r]))throw new i.D$(n,i.TX.NoFunctionInArray,e);t[r]===o.B&&(t[r]=null)}return t})).apply(this,arguments)}function ie(){return(ie=(0,p.A)(function*(n,e){const t=[];t[0]=yield s(n,e.left),t[1]=yield s(n,e.right);const r=t[0],l=t[1];switch(e.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,o.G)((0,o.g)(r),(0,o.g)(l),e.operator);case"==":return(0,o.F)(r,l);case"!=":return!(0,o.F)(r,l);case"<":case">":case"<=":case">=":return(0,o.E)(r,l,e.operator);case"+":return(0,o.c)(r)||(0,o.c)(l)?(0,o.j)(r)+(0,o.j)(l):(0,o.g)(r)+(0,o.g)(l);case"-":return(0,o.g)(r)-(0,o.g)(l);case"*":return(0,o.g)(r)*(0,o.g)(l);case"/":return(0,o.g)(r)/(0,o.g)(l);case"%":return(0,o.g)(r)%(0,o.g)(l);default:throw new i.D$(n,i.TX.UnsupportedOperator,e)}})).apply(this,arguments)}function le(){return(le=(0,p.A)(function*(n,e){const t=yield s(n,e.left);let r=null;if(!(0,o.a)(t))throw new i.D$(n,i.TX.LogicalExpressionOnlyBoolean,e);switch(e.operator){case"||":if(!0===t)return t;if(r=yield s(n,e.right),(0,o.a)(r))return r;throw new i.D$(n,i.TX.LogicExpressionOrAnd,e);case"&&":if(!1===t)return t;if(r=yield s(n,e.right),(0,o.a)(r))return r;throw new i.D$(n,i.TX.LogicExpressionOrAnd,e);default:throw new i.D$(n,i.TX.LogicExpressionOrAnd,e)}})).apply(this,arguments)}function ae(n,e){return ue.apply(this,arguments)}function ue(){return(ue=(0,p.A)(function*(n,e){const t=e.name.toLowerCase();if(null!=n.localScope&&void 0!==n.localScope[t]){const r=n.localScope[t];if(!0===r.valueset)return r.value;if(null!==r.d)return r.d;r.d=s(n,r.node);const l=yield r.d;return r.value=l,r.valueset=!0,l}if(void 0!==n.globalScope[t]){const r=n.globalScope[t];if(!0===r.valueset)return r.value;if(null!==r.d)return r.d;r.d=s(n,r.node);const l=yield r.d;return r.value=l,r.valueset=!0,l}throw new i.D$(n,i.TX.InvalidIdentifier,e)})).apply(this,arguments)}function se(){return(se=(0,p.A)(function*(n,e){if("MemberExpression"===e.callee.type){const t=yield s(n,e.callee.object);if(!(t instanceof D))throw new i.D$(n,i.TX.FunctionNotFound,e);const r=!1===e.callee.computed?e.callee.property.name:yield s(n,e.callee.property);if(!t.hasGlobal(r))throw new i.D$(n,i.TX.FunctionNotFound,e);const l=yield t.global(r);if(!(0,o.i)(l))throw new i.D$(n,i.TX.CallNonFunction,e);return l.call(n,e)}if("Identifier"!==e.callee.type)throw new i.D$(n,i.TX.FunctionNotFound,e);if(null!=n.localScope&&void 0!==n.localScope[e.callee.name.toLowerCase()]){const t=n.localScope[e.callee.name.toLowerCase()];if((0,o.i)(t.value))return t.value.call(n,e);throw new i.D$(n,i.TX.CallNonFunction,e)}if(void 0!==n.globalScope[e.callee.name.toLowerCase()]){const t=n.globalScope[e.callee.name.toLowerCase()];if((0,o.i)(t.value))return t.value.call(n,e);throw new i.D$(n,i.TX.CallNonFunction,e)}throw new i.D$(n,i.TX.FunctionNotFound,e)})).apply(this,arguments)}function ce(){return(ce=(0,p.A)(function*(n,e){return e.value?e.value.cooked:""})).apply(this,arguments)}function cn(n,e,t){if((0,o.i)(n))throw new i.D$(e,i.TX.NoFunctionInTemplateLiteral,t);return n}function fe(){return(fe=(0,p.A)(function*(n,e){const t=[];for(let a=0;a<e.expressions.length;a++){const u=yield s(n,e.expressions[a]);t[a]=(0,o.j)(u)}let r="",l=0;for(const a of e.quasis)r+=a.value?a.value.cooked:"",!1===a.tail&&(r+=t[l]?cn(t[l],n,e):"",l++);return r})).apply(this,arguments)}const g={};function be(n,e,t,r){return pe.apply(this,arguments)}function pe(){return(pe=(0,p.A)(function*(n,e,t,r){const l=yield s(n,e.arguments[t]);if((0,o.F)(l,r))return s(n,e.arguments[t+1]);const a=e.arguments.length-t;return 1===a?s(n,e.arguments[t]):2===a?null:3===a?s(n,e.arguments[t+2]):be(n,e,t+2,r)})).apply(this,arguments)}function Te(n,e,t,r){return de.apply(this,arguments)}function de(){return(de=(0,p.A)(function*(n,e,t,r){if(!0===r)return s(n,e.arguments[t+1]);if(e.arguments.length-t==3)return s(n,e.arguments[t+2]);const l=yield s(n,e.arguments[t+2]);if(!1===(0,o.a)(l))throw new i.D$(n,i.TX.ModuleExportNotFound,e.arguments[t+2]);return Te(n,e,t+2,l)})).apply(this,arguments)}function he(n,e,t,r){return ge.apply(this,arguments)}function ge(){return(ge=(0,p.A)(function*(n,e,t,r){const l=n.body;if(t.length!==n.params.length)throw new i.D$(e,i.TX.WrongNumberOfParameters,null);for(let u=0;u<t.length;u++){const c=n.params[u];"Identifier"===c.type&&null!=e.localScope&&(e.localScope[c.name.toLowerCase()]={d:null,value:t[u],valueset:!0,node:null})}const a=yield s(e,l);if(a instanceof o.z)return a.value;if(a===o.C)throw new i.D$(e,i.TX.UnexpectedToken,r);if(a===o.D)throw new i.D$(e,i.TX.UnexpectedToken,r);return a instanceof o.A?a.value:a})).apply(this,arguments)}(0,Ie.d)(g,v),(0,Fe.d)(g,v),(0,Re.d)(g,v),(0,T.d)(g,v),(0,Oe.d)(g,v),(0,Me.registerFunctions)({functions:g,compiled:!1,signatures:null,evaluateIdentifier:null,mode:"async",standardFunction:v,standardFunctionAsync:A}),g.iif=function(){var n=(0,p.A)(function*(e,t){(0,o.H)(null===t.arguments?[]:t.arguments,3,3,e,t);const r=yield s(e,t.arguments[0]);if(!1===(0,o.a)(r))throw new i.D$(e,i.TX.BooleanConditionRequired,t);return s(e,r?t.arguments[1]:t.arguments[2])});return function(e,t){return n.apply(this,arguments)}}(),g.defaultvalue=function(){var n=(0,p.A)(function*(e,t){(0,o.H)(null===t.arguments?[]:t.arguments,2,3,e,t);const r=yield s(e,t.arguments[0]);if(3===t.arguments.length){const l=yield s(e,t.arguments[1]);let a=[];if((0,o.q)(l))a=l.toArray();else{if(!(0,o.o)(l))throw new i.D$(e,i.TX.InvalidParameter,t);a=l}let u=r;if(null===u)return s(e,t.arguments[2]);for(const c of a)if((0,o.r)(u)){if(!1===(0,o.c)(c)||!u.hasField(c))return s(e,t.arguments[2]);u=u.field(c)}else if(u instanceof w.A){if(!1===(0,o.c)(c)||!u.hasField(c))return s(e,t.arguments[2]);u=u.field(c)}else if(u instanceof X.A){if(!1===(0,o.c)(c)||(u=(0,T.B)(u,c,null,null,2),null===u)||"notfound"===u?.keystate)return s(e,t.arguments[2])}else if((0,o.o)(u)){if(!1===(0,o.b)(c)||(u=u[c],null==u))return s(e,t.arguments[2])}else if(!(0,o.q)(u)||!1===(0,o.b)(c)||(u=u.get(c),null==u))return s(e,t.arguments[2]);return u}return null==r||""===r?s(e,t.arguments[1]):r});return function(e,t){return n.apply(this,arguments)}}(),g.decode=function(){var n=(0,p.A)(function*(e,t){if(t.arguments.length<2)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);if(2===t.arguments.length)return s(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);return be(e,t,1,yield s(e,t.arguments[0]))});return function(e,t){return n.apply(this,arguments)}}(),g.when=function(){var n=(0,p.A)(function*(e,t){if(t.arguments.length<3)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);if(t.arguments.length%2==0)throw new i.D$(e,i.TX.WrongNumberOfParameters,t);const r=yield s(e,t.arguments[0]);if(!1===(0,o.a)(r))throw new i.D$(e,i.TX.BooleanConditionRequired,t.arguments[0]);return Te(e,t,0,r)});return function(e,t){return n.apply(this,arguments)}}();const pn={fixSpatialReference:o.x,parseArguments:$,standardFunction:v,standardFunctionAsync:A,evaluateIdentifier:ae};for(const n in g)g[n]={value:new m.UQ(g[n]),valueset:!0,node:null};const b=function(){};function Se(n,e,t){const r=new b;null==n&&(n={}),null==e&&(e={});const l=new w.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1,r.textformatting={value:l,valueset:!0,node:null};for(const a in e)r[a]={value:new m.UQ(e[a]),native:!0,valueset:!0,node:null};for(const a in n)r[a]=n[a]&&"esri.Graphic"===n[a].declaredClass?{value:we.A.createFromGraphic(n[a],t),valueset:!0,node:null}:{value:n[a],valueset:!0,node:null};return r}function Ce(n){console.log(n)}b.prototype=g,b.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},b.prototype.pi={value:Math.PI,valueset:!0,node:null};const dn=pn;function Xe(n){const e={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:v,standardFunctionAsync:A,evaluateIdentifier:ae};for(let t=0;t<n.length;t++)n[t].registerFunctions(e);for(const t in e.functions)g[t]={value:new m.UQ(e.functions[t]),valueset:!0,node:null},b.prototype[t]=g[t];for(let t=0;t<e.signatures.length;t++)(0,Be.WC)(e.signatures[t],"async")}function hn(n,e){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.A)(function*(n,e){let t=e.spatialReference;null==t&&(t=new ve.A({wkid:102100}));let r=null;n.usesModules&&(r=new _e.a(new Map,n.loadedModules));const l=Se(e.vars,e.customfunctions,e.timeZone),a={spatialReference:t,services:e.services,exports:{},libraryResolver:r,abortSignal:null==e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:l,console:e.console??Ce,timeZone:e.timeZone??null,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}};let u=yield s(a,n);if(u instanceof o.z&&(u=u.value),u instanceof o.A&&(u=u.value),u===o.B&&(u=null),u===o.C)throw new i.D$(a,i.TX.IllegalResult,null);if(u===o.D)throw new i.D$(a,i.TX.IllegalResult,null);if((0,o.i)(u))throw new i.D$(a,i.TX.IllegalResult,null);return u})).apply(this,arguments)}Xe([Ee.A])}}]);