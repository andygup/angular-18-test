import{a as S}from"./chunk-ZCOQCU2F.js";import{a as v,b as y,c}from"./chunk-TUM5YCRC.js";import{_ as u}from"./chunk-AANS6QE5.js";import"./chunk-RMOOROEO.js";import"./chunk-ZP7G4HN4.js";import"./chunk-W3WDPWBE.js";import"./chunk-43GG6PFR.js";import"./chunk-MLSR6YE6.js";import"./chunk-JPDAKIWT.js";import"./chunk-D62JNIRP.js";import{u as g}from"./chunk-3DV77WOO.js";import"./chunk-NJG4JJ4L.js";import{a as o,b as a,g as m}from"./chunk-3T7TAUC2.js";function k(r,t,n){return m(this,null,function*(){let i=y(r),e=t.toJSON();t.validationSet&&(e.validationSet=JSON.stringify(t.validationSet));let d=a(o({},e),{returnEdits:!0,f:"json"}),l=c(o(o({},i.query),d)),s=v(l,a(o({},n),{method:"post"})),w=`${i.path}/validateNetworkTopology`,{data:N}=yield u(w,s),p=S.fromJSON(N);return p.serviceEdits=p.serviceEdits?.map(f=>({layerId:f.id,editedFeatures:f.editedFeatures}))??[],p})}function E(r,t,n){return m(this,null,function*(){if(!t.gdbVersion)throw new g("submit-validate-network-topology-job:missing-gdb-version","version is missing");let i=y(r),e=t.toJSON();t.validationSet&&(e.validationSet=JSON.stringify(t.validationSet));let d=v(i.query,a(o({query:c(a(o({},e),{returnEdits:!0,async:!0,f:"json"}))},n),{method:"post"})),l=`${i.path}/validateNetworkTopology`,{data:s}=yield u(l,d);return s?s.statusUrl:null})}export{E as submitValidateNetworkTopologyJob,k as validateNetworkTopology};
