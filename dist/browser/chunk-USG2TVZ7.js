import{a as n}from"./chunk-7OXEO4DH.js";import{i as v,j as f}from"./chunk-AWFXY4DH.js";import"./chunk-35C65O7M.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-ZFWKCYYL.js";import"./chunk-ZGSGY25Q.js";import{b as p}from"./chunk-N75S7AVH.js";import{a as u,b as m,d as l,g as o}from"./chunk-QW4FGXMK.js";import"./chunk-GDTXLKQK.js";import"./chunk-YNFZN34N.js";import"./chunk-SHSMFEO2.js";import"./chunk-V2KSICSA.js";import"./chunk-2ETW6ZBA.js";import"./chunk-6K7P7RRW.js";import"./chunk-7LRMKXZV.js";import"./chunk-BCREO4Q5.js";import"./chunk-BNUHB4AP.js";import"./chunk-ZGLJFDS6.js";import"./chunk-RSDQHAJX.js";import"./chunk-NWBXT4EB.js";import"./chunk-4R2OFZPD.js";import"./chunk-WBI2AIMN.js";import"./chunk-FKQYBEPG.js";import"./chunk-ZHAVTBSG.js";import"./chunk-SBO2F6VY.js";import"./chunk-UHTPPTOJ.js";import"./chunk-LP5GLSKB.js";import"./chunk-LTDZH3EN.js";import"./chunk-3SBMUUA6.js";import"./chunk-II7TJXWX.js";import"./chunk-X7Z55FTO.js";import"./chunk-B66V4PSA.js";import"./chunk-A4HCVMB4.js";import"./chunk-AANS6QE5.js";import"./chunk-RMOOROEO.js";import"./chunk-ZP7G4HN4.js";import"./chunk-W3WDPWBE.js";import"./chunk-43GG6PFR.js";import"./chunk-MLSR6YE6.js";import"./chunk-JPDAKIWT.js";import"./chunk-D62JNIRP.js";import"./chunk-3DV77WOO.js";import"./chunk-NJG4JJ4L.js";import{a as c,b as y,g as t}from"./chunk-3T7TAUC2.js";var d="Group Layer",R="group-layer-save",P="group-layer-save-as",i=o.GROUP_LAYER_MAP;function I(e){return{isValid:e.type==="group",errorMessage:"Layer.type should be 'group'"}}function T(e){return{isValid:m(e,i),errorMessage:`Layer.portalItem.typeKeywords should have '${i}'`}}function g(e,r){return y(c({},p(e,"web-map",!0)),{initiator:r})}function w(e){let r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function h(e,r){return t(this,null,function*(){r.title||=e.title,l(r,o.METADATA),u(r,i)})}function O(e,r){return t(this,null,function*(){return v({layer:e,itemType:d,validateLayer:I,validateItem:T,createJSONContext:a=>g(a,e),createItemData:w,errorNamePrefix:R,saveResources:(a,s)=>t(this,null,function*(){return e.sourceIsPortalItem||(yield a.removeAllResources().catch(()=>{})),n(e.resourceReferences,s)})},r)})}function M(e,r,a){return t(this,null,function*(){return f({layer:e,itemType:d,validateLayer:I,createJSONContext:s=>g(s,e),createItemData:w,errorNamePrefix:P,newItem:r,setItemProperties:h,saveResources:(s,A)=>n(e.resourceReferences,A)},a)})}export{O as save,M as saveAs};
