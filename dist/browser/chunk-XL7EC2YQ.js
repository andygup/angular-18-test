import{i as l,j as m}from"./chunk-AWFXY4DH.js";import"./chunk-35C65O7M.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-ZFWKCYYL.js";import"./chunk-N75S7AVH.js";import{a as y,d as n,f as o,g as i}from"./chunk-QW4FGXMK.js";import"./chunk-GDTXLKQK.js";import"./chunk-YNFZN34N.js";import"./chunk-SHSMFEO2.js";import"./chunk-2ETW6ZBA.js";import"./chunk-6K7P7RRW.js";import"./chunk-7LRMKXZV.js";import"./chunk-BCREO4Q5.js";import"./chunk-BNUHB4AP.js";import"./chunk-ZGLJFDS6.js";import"./chunk-RSDQHAJX.js";import"./chunk-NWBXT4EB.js";import"./chunk-4R2OFZPD.js";import"./chunk-WBI2AIMN.js";import"./chunk-FKQYBEPG.js";import"./chunk-ZHAVTBSG.js";import"./chunk-SBO2F6VY.js";import"./chunk-UHTPPTOJ.js";import"./chunk-LP5GLSKB.js";import"./chunk-LTDZH3EN.js";import"./chunk-3SBMUUA6.js";import"./chunk-II7TJXWX.js";import"./chunk-X7Z55FTO.js";import"./chunk-B66V4PSA.js";import"./chunk-A4HCVMB4.js";import"./chunk-AANS6QE5.js";import"./chunk-RMOOROEO.js";import"./chunk-ZP7G4HN4.js";import"./chunk-W3WDPWBE.js";import"./chunk-43GG6PFR.js";import"./chunk-MLSR6YE6.js";import"./chunk-JPDAKIWT.js";import"./chunk-D62JNIRP.js";import"./chunk-3DV77WOO.js";import"./chunk-NJG4JJ4L.js";import{g as t}from"./chunk-3T7TAUC2.js";var c="Image Service",u="imagery-layer-save",g="imagery-layer-save-as",f="imagery-tile-layer-save",T="imagery-tile-layer-save-as";function p(a){if(a.type==="imagery")return{isValid:!0};let{raster:e}=a,r=e?.datasetFormat==="Function"?e.primaryRasters?.rasters[0]:e;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function v(a){let e=a.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}function I(a,e){return t(this,null,function*(){let{parsedUrl:r,title:s,fullExtent:d}=a;e.url=r.path,e.title||=s;try{e.extent=yield o(d)}catch{e.extent=void 0}n(e,i.METADATA),a.type==="imagery-tile"&&y(e,i.TILED_IMAGERY)})}function w(a,e){return t(this,null,function*(){let r=a.type==="imagery"?u:f;return l({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:r},e)})}function E(a,e,r){return t(this,null,function*(){let s=a.type==="imagery"?g:T;return m({layer:a,itemType:c,validateLayer:p,createItemData:v,errorNamePrefix:s,newItem:e,setItemProperties:I},r)})}export{w as save,E as saveAs};
