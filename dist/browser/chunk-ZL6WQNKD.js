import{a as _t}from"./chunk-HKVOZBSD.js";import{a as Kt}from"./chunk-X22ES5JP.js";import{a as Xt}from"./chunk-3FD7DB74.js";import{a as qt}from"./chunk-FMKLQJMC.js";import{a as Ct,e as te,g as ee,m as re,n as oe}from"./chunk-SYNRDAMR.js";import{b as Pt,q as Qt,r as Zt,s as Ht,x as zt}from"./chunk-FOMR7EMA.js";import{h as Wt}from"./chunk-67EKH3Q4.js";import{h as Jt,i as At}from"./chunk-CGEI3ID7.js";import{a as Gt,b as C}from"./chunk-JVM3RNQL.js";import{a as I}from"./chunk-63TUJPJR.js";import{N as $t,j as rt,k as ot,n as Yt}from"./chunk-WOZZR3L4.js";import{d as k}from"./chunk-QMDBAMTG.js";import{b as tt}from"./chunk-RZA5H63B.js";import{t as kt}from"./chunk-UHTPPTOJ.js";import{a}from"./chunk-LP5GLSKB.js";import{a as l,b as et}from"./chunk-LTDZH3EN.js";import{X as Ut,Y as Bt}from"./chunk-3SBMUUA6.js";import{a as A}from"./chunk-X7Z55FTO.js";import{H as r,S as m,t as Y,u as $}from"./chunk-RMOOROEO.js";import{G as Lt,S as p}from"./chunk-ZP7G4HN4.js";import{a as t}from"./chunk-W3WDPWBE.js";import{b,s as Dt}from"./chunk-3DV77WOO.js";import{g as Vt}from"./chunk-3T7TAUC2.js";var it,O=it=class extends m{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new it({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};t([r({type:String,json:{write:!0}})],O.prototype,"expression",void 0),t([r({type:String,json:{write:!0}})],O.prototype,"name",void 0),t([r({type:["boolean","date","number","string"],json:{write:!0}})],O.prototype,"returnType",void 0),t([r({type:String,json:{write:!0}})],O.prototype,"title",void 0),O=it=t([p("esri.form.ExpressionInfo")],O);var ie=O;var T=class extends m{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};t([r({type:String,json:{write:!0}})],T.prototype,"description",void 0),t([r({type:String,json:{write:!0}})],T.prototype,"label",void 0),t([r()],T.prototype,"type",void 0),t([r({type:String,json:{write:!0}})],T.prototype,"visibilityExpression",void 0),T=t([p("esri.form.elements.Element")],T);var y=T;var st,G=st=class extends m{constructor(e){super(e),this.type=null}clone(){return new st({type:this.type})}};t([r({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],G.prototype,"type",void 0),G=st=t([p("esri.form.elements.inputs.AttachmentInput")],G);var se=G;var pt,M=pt=class extends y{constructor(e){super(e),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new pt({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};t([r({type:String,json:{write:!0}})],M.prototype,"attachmentKeyword",void 0),t([r({type:String,json:{write:!0}})],M.prototype,"editableExpression",void 0),t([r({type:se,json:{read:{source:"inputType"},write:{target:"inputType"}}})],M.prototype,"input",void 0),t([r({type:["attachment"],json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=pt=t([p("esri.form.elements.AttachmentElement")],M);var nt=M;var W=class extends m{constructor(e){super(e),this.type=null}};t([r()],W.prototype,"type",void 0),W=t([p("esri.form.elements.inputs.Input")],W);var u=W;var _=class extends u{constructor(e){super(e),this.maxLength=null,this.minLength=0}};t([r({type:Number,json:{write:!0}})],_.prototype,"maxLength",void 0),t([r({type:Number,json:{write:!0}})],_.prototype,"minLength",void 0),_=t([p("esri.form.elements.inputs.TextInput")],_);var R=_;var at,P=at=class extends R{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new at({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["barcode-scanner"],json:{read:!1,write:!0}})],P.prototype,"type",void 0),P=at=t([p("esri.form.elements.inputs.BarcodeScannerInput")],P);var pe=P;var lt,V=lt=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new lt({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};t([r({type:String,json:{write:!0}})],V.prototype,"noValueOptionLabel",void 0),t([r({type:Boolean,json:{write:!0}})],V.prototype,"showNoValueOption",void 0),t([r({type:["combo-box"],json:{read:!1,write:!0}})],V.prototype,"type",void 0),V=lt=t([p("esri.form.elements.inputs.ComboBoxInput")],V);var ne=V;var mt;function ae(e){return e??null}function le(e){return e??null}var g=mt=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.type="date-picker"}readMax(e,o){return ae(o.max)}writeMax(e,o){o.max=le(e)}readMin(e,o){return ae(o.min)}writeMin(e,o){o.min=le(e)}clone(){return new mt({max:this.max,min:this.min})}};t([r({type:String,json:{type:String,write:!0}})],g.prototype,"max",void 0),t([a("max")],g.prototype,"readMax",null),t([l("max")],g.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],g.prototype,"min",void 0),t([a("min")],g.prototype,"readMin",null),t([l("min")],g.prototype,"writeMin",null),t([r({type:["date-picker"],json:{read:!1,write:!0}})],g.prototype,"type",void 0),g=mt=t([p("esri.form.elements.inputs.DatePickerInput")],g);var me=g;var yt;function ut(e){return e??null}function dt(e){return e??null}var d=yt=class extends u{constructor(e){super(e),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(e,o){return ut(o.max)}writeMax(e,o){o.max=dt(e)}readMin(e,o){return ut(o.min)}writeMin(e,o){o.min=dt(e)}readTimeResolution(e,o){return ut(o.timeResolution)}writeTimeResolution(e,o){o.timeResolution=dt(e)}clone(){return new yt({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([r({type:Boolean,json:{write:!0}})],d.prototype,"includeTimeOffset",void 0),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0),t([a("max")],d.prototype,"readMax",null),t([l("max")],d.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0),t([a("min")],d.prototype,"readMin",null),t([l("min")],d.prototype,"writeMin",null),t([r({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0),t([a("timeResolution")],d.prototype,"readTimeResolution",null),t([l("timeResolution")],d.prototype,"writeTimeResolution",null),t([r({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=yt=t([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],d);var ue=d;var ct;function de(e){return e!=null?new Date(e):null}function ye(e){return e?e.getTime():null}var x=ct=class extends u{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,o){return de(o.max)}writeMax(e,o){o.max=ye(e)}readMin(e,o){return de(o.min)}writeMin(e,o){o.min=ye(e)}clone(){return new ct({includeTime:this.includeTime,max:this.max,min:this.min})}};t([r({type:Boolean,json:{write:!0}})],x.prototype,"includeTime",void 0),t([r({type:Date,json:{type:Number,write:!0}})],x.prototype,"max",void 0),t([a("max")],x.prototype,"readMax",null),t([l("max")],x.prototype,"writeMax",null),t([r({type:Date,json:{type:Number,write:!0}})],x.prototype,"min",void 0),t([a("min")],x.prototype,"readMin",null),t([l("min")],x.prototype,"writeMin",null),t([r({type:["datetime-picker"],json:{read:!1,write:!0}})],x.prototype,"type",void 0),x=ct=t([p("esri.form.elements.inputs.DateTimePickerInput")],x);var ce=x;var ft,D=ft=class extends u{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ft({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};t([r({type:String,json:{write:!0}})],D.prototype,"noValueOptionLabel",void 0),t([r({type:Boolean,json:{write:!0}})],D.prototype,"showNoValueOption",void 0),t([r({type:["radio-buttons"],json:{read:!1,write:!0}})],D.prototype,"type",void 0),D=ft=t([p("esri.form.elements.inputs.RadioButtonsInput")],D);var fe=D;var ht,L=ht=class extends u{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new ht({offValue:this.offValue,onValue:this.onValue})}};t([r({type:[String,Number],json:{write:!0}})],L.prototype,"offValue",void 0),t([r({type:[String,Number],json:{write:!0}})],L.prototype,"onValue",void 0),t([r({type:["switch"],json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=ht=t([p("esri.form.elements.inputs.SwitchInput")],L);var he=L;var xt,Q=xt=class extends R{constructor(e){super(e),this.type="text-area"}clone(){return new xt({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["text-area"],json:{read:!1,write:!0}})],Q.prototype,"type",void 0),Q=xt=t([p("esri.form.elements.inputs.TextAreaInput")],Q);var xe=Q;var vt,Z=vt=class extends R{constructor(e){super(e),this.type="text-box"}clone(){return new vt({maxLength:this.maxLength,minLength:this.minLength})}};t([r({type:["text-box"],json:{read:!1,write:!0}})],Z.prototype,"type",void 0),Z=vt=t([p("esri.form.elements.inputs.TextBoxInput")],Z);var ve=Z;var gt;function wt(e){return e??null}function bt(e){return e??null}var c=gt=class extends u{constructor(e){super(e),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(e,o){return wt(o.max)}writeMax(e,o){o.max=bt(e)}readMin(e,o){return wt(o.min)}writeMin(e,o){o.min=bt(e)}readTimeResolution(e,o){return wt(o.timeResolution)}writeTimeResolution(e,o){o.timeResolution=bt(e)}clone(){return new gt({max:this.max,min:this.min,timeResolution:this.timeResolution})}};t([r({type:String,json:{type:String,write:!0}})],c.prototype,"max",void 0),t([a("max")],c.prototype,"readMax",null),t([l("max")],c.prototype,"writeMax",null),t([r({type:String,json:{type:String,write:!0}})],c.prototype,"min",void 0),t([a("min")],c.prototype,"readMin",null),t([l("min")],c.prototype,"writeMin",null),t([r({type:String,json:{type:String,write:!0}})],c.prototype,"timeResolution",void 0),t([a("timeResolution")],c.prototype,"readTimeResolution",null),t([l("timeResolution")],c.prototype,"writeTimeResolution",null),t([r({type:["time-picker"],json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=gt=t([p("esri.form.elements.inputs.TimePickerInput")],c);var we=c;var be={base:u,key:"type",typeMap:{"barcode-scanner":pe,"combo-box":ne,"date-picker":me,"datetime-picker":ce,"datetimeoffset-picker":ue,"radio-buttons":fe,switch:he,"text-area":xe,"text-box":ve,"time-picker":we}};var St,h=St=class extends y{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return this._get("editable")??!0}set editable(e){this._set("editable",e)}clone(){return new St({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};t([r({types:Gt,json:{read:{reader:C},write:!0}})],h.prototype,"domain",void 0),t([r({type:Boolean,json:{write:!0}})],h.prototype,"editable",null),t([r({type:String,json:{write:!0}})],h.prototype,"editableExpression",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"fieldName",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"hint",void 0),t([r({types:be,json:{read:{source:"inputType"},write:{target:"inputType"}}})],h.prototype,"input",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"requiredExpression",void 0),t([r({type:String,json:{read:!1,write:!0}})],h.prototype,"type",void 0),t([r({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),h=St=t([p("esri.form.elements.FieldElement")],h);var jt=h;var Et,j=Et=class extends y{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Et({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};t([r({type:Number,json:{write:!0}})],j.prototype,"displayCount",void 0),t([r({type:["list"],json:{write:!0}})],j.prototype,"displayType",void 0),t([r({type:String,json:{write:!0}})],j.prototype,"editableExpression",void 0),t([r({type:[Wt],json:{write:!0}})],j.prototype,"orderByFields",void 0),t([r({type:Number,json:{write:!0}})],j.prototype,"relationshipId",void 0),t([r({type:["relationship"],json:{read:!1,write:!0}})],j.prototype,"type",void 0),j=Et=t([p("esri.form.elements.RelationshipElement")],j);var Ft=j;var It,U=It=class extends y{constructor(e){super(e),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new It({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};t([r({type:String,json:{write:!0}})],U.prototype,"text",void 0),t([r({type:String,json:{write:!0}})],U.prototype,"textFormat",void 0),t([r({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],U.prototype,"type",void 0),U=It=t([p("esri.form.elements.TextElement")],U);var Ot=U;function H(e){return{typesWithGroup:{base:y,key:"type",typeMap:{attachment:nt,field:jt,group:e,relationship:Ft,text:Ot}},typesWithoutGroup:{base:y,key:"type",typeMap:{attachment:nt,field:jt,relationship:Ft,text:Ot}}}}function z(e,o,s=!0){if(!e)return null;let i=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>i[n.type].fromJSON(n))}function q(e,o,s=!0){if(!e)return null;let i=s?o.typesWithGroup.typeMap:o.typesWithoutGroup.typeMap;return e.filter(n=>i[n.type]).map(n=>n.toJSON())}function K(e,o,s=!0){return e?e.map(i=>Lt(s?o.typesWithGroup:o.typesWithoutGroup,i)):null}var Mt,S=Mt=class extends y{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return K(e,Tt,!1)}readElements(e,o){return z(o.formElements,Tt,!1)}writeElements(e,o){o.formElements=q(e,Tt,!1)}clone(){return new Mt({description:this.description,elements:b(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};t([r({json:{write:!0}})],S.prototype,"elements",void 0),t([A("elements")],S.prototype,"castElements",null),t([a("elements",["formElements"])],S.prototype,"readElements",null),t([l("elements")],S.prototype,"writeElements",null),t([r({type:["collapsed","expanded"],json:{write:!0}})],S.prototype,"initialState",void 0),t([r({type:String,json:{read:!1,write:!0}})],S.prototype,"type",void 0),S=Mt=t([p("esri.form.elements.GroupElement")],S);var Tt=H(S),ge=S;var Se=e=>e.type==="field",je=e=>e.type==="group",Ee=e=>e.type==="text";var Rt,Nt=H(ge),v=Rt=class extends m{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return K(e,Nt)}readElements(e,o){return z(o.formElements,Nt)}writeElements(e,o){o.formElements=q(e,Nt)}clone(){return new Rt({description:this.description,expressionInfos:b(this.expressionInfos),elements:b(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}getFieldsUsed(e,o){return Vt(this,null,function*(){let s=new Set,{description:i,elements:n,expressionInfos:f,title:N}=this;if(J(s,e,i),J(s,e,N),!n)return[];let Ne=Re(n,f).map(X=>Yt(s,e,X));yield Promise.all(Ne);for(let X of n)Fe(s,{fieldsIndex:e,relationships:o},X);return Array.from(s).sort()})}};function Fe(e,o,s){let{fieldsIndex:i}=o;if(!i||i.fields.length!==e.size)switch(J(e,i,s.label),J(e,i,s.description),s.type){case"field":ot(e,i,s.fieldName);break;case"group":s.elements.forEach(n=>Fe(e,o,n));break;case"relationship":if(o.relationships){let n=o.relationships.find(f=>f.id===s.relationshipId);n&&ot(e,i,n.keyField)}rt(e,i,s.orderByFields?.map(n=>n.field));break;case"text":J(e,i,s.text)}}function Re(e,o){if(!o||o.length===0)return[];let s=Ie(e),i=[];for(let n of o)s.has(n.name)&&i.push(n.expression);return i}function Ie(e){let o=new Set;for(let s of e)if($(o,s.visibilityExpression),!Ee(s)){if(je(s))Y(o,Ie(s.elements));else if($(o,s.editableExpression),Se(s)){let{requiredExpression:i,valueExpression:n}=s;Y(o,[i,n])}}return o}function J(e,o,s){rt(e,o,$t(s))}t([r({type:String,json:{write:!0}})],v.prototype,"description",void 0),t([r({json:{write:!0}})],v.prototype,"elements",void 0),t([A("elements")],v.prototype,"castElements",null),t([a("elements",["formElements"])],v.prototype,"readElements",null),t([l("elements")],v.prototype,"writeElements",null),t([r({type:[ie],json:{write:!0}})],v.prototype,"expressionInfos",void 0),t([r({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"preserveFieldValuesWhenHidden",void 0),t([r({type:String,json:{write:!0}})],v.prototype,"title",void 0),v=Rt=t([p("esri.form.FormTemplate")],v);var Gs=v;var E=class extends I(m){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};t([r()],E.prototype,"creatorField",void 0),t([r()],E.prototype,"creationDateField",void 0),t([r()],E.prototype,"editorField",void 0),t([r()],E.prototype,"editDateField",void 0),t([r()],E.prototype,"realm",void 0),t([r(k("dateFieldsTimeReference",!0))],E.prototype,"timeZone",void 0),E=t([p("esri.layers.support.EditFieldsInfo")],E);var Oe=E;var w=class extends I(m){constructor(e){super(e)}};t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"name",void 0),t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"fields",void 0),t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"isAscending",void 0),t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"indexType",void 0),t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"isUnique",void 0),t([r({constructOnly:!0,json:{write:!0}})],w.prototype,"description",void 0),w=t([p("esri.layers.support.FeatureIndex")],w);var B=class extends I(m){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};t([r({type:String,json:{read:{source:"shapeAreaFieldName"}}})],B.prototype,"shapeAreaField",void 0),t([r({type:String,json:{read:{source:"shapeLengthFieldName"}}})],B.prototype,"shapeLengthField",void 0),t([r({type:String,json:{read:e=>Ut.read(e)||Bt.read(e)}})],B.prototype,"units",void 0),B=t([p("esri.layers.support.GeometryFieldsInfo")],B);var Te=B;var F=class extends I(m){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;let o={};for(let s of Object.keys(e))o[s]=C(e[s]);return o}writeDomains(e,o){if(!e)return;let s={};for(let i of Object.keys(e))e[i]&&(s[i]=e[i]?.toJSON());o.domains=s}};t([r({type:Number,json:{write:!0}})],F.prototype,"code",void 0),t([r({type:Object,json:{write:!0}})],F.prototype,"defaultValues",void 0),t([r({json:{write:!0}})],F.prototype,"domains",void 0),t([a("domains")],F.prototype,"readDomains",null),t([l("domains")],F.prototype,"writeDomains",null),t([r({type:String,json:{write:!0}})],F.prototype,"name",void 0),F=t([p("esri.layers.support.Subtype")],F);var Me=F;var an=e=>{let o=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(tt.ofType(w)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=et.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;let{capabilities:s}=this;if(s){let{query:n,operations:f,editing:N}=s;if(!n.supportsQueryByOthers||!n.supportsQueryByAnonymous||f.supportsEditing&&!(N.supportsUpdateByOthers&&N.supportsUpdateByAnonymous&&N.supportsDeleteByOthers&&N.supportsDeleteByAnonymous))return"load"}if(this.userHasUpdateItemPrivileges){if(zt(this))return"load";if(this.hasUpdateItemRestrictions)return s.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";let i=this.editFieldsInfo;return(i?.creatorField||i?.editorField)&&s?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(s,i){return Xt(i,this.url)}readEditingInfo(s,i){let{editingInfo:n}=i;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){let s=this.capabilities;if(!s)return null;let i=b(s),{operations:n,editing:f}=i;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),i):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=f.supportsDeleteByOthers=f.supportsGeometryUpdate=f.supportsUpdateByOthers=!0,i):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=f.supportsGeometryUpdate=!0),i)}readGlobalIdFieldFromService(s,i){return Qt(i)}get hasFullEditingRestrictions(){let s=this.capabilities;if(!s||this.sourceJSON?.isMultiServicesView)return!1;let{operations:i,editing:n}=s;return i.supportsEditing&&!(i.supportsAdd&&i.supportsDelete&&i.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){let s=this.capabilities;if(!s)return!1;let{operations:i,editing:n}=s;return this.sourceJSON?.isMultiServicesView?!i.supportsQuery:!(i.supportsAdd&&i.supportsDelete&&i.supportsEditing&&i.supportsQuery&&i.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(s,i){return i.type==="Table"}readMaxScale(s,i){return i.effectiveMaxScale||s||0}readMinScale(s,i){return i.effectiveMinScale||s||0}readObjectIdFieldFromService(s,i){return Zt(i)}readServiceDefinitionExpression(s,i){return i.definitionQuery||i.definitionExpression}set url(s){if(s==null)return void this._set("url",s);let i=Jt({layer:this,url:s,nonStandardUrlAllowed:!0,logger:Dt.getLogger(this)});this._set("url",i.url),i.layerId!=null&&this._set("layerId",i.layerId)}writeUrl(s,i,n,f){At(this,s,null,i,f)}readVersion(s,i){return Ht(i)}};return t([r({readOnly:!0})],o.prototype,"authenticationTriggerEvent",null),t([r({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],o.prototype,"copyright",void 0),t([r({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],o.prototype,"capabilities",void 0),t([a("service","capabilities")],o.prototype,"readCapabilitiesFromService",null),t([r(k("dateFieldsTimeReference"))],o.prototype,"dateFieldsTimeZone",void 0),t([r({type:Boolean})],o.prototype,"datesInUnknownTimezone",void 0),t([r({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],o.prototype,"definitionExpression",void 0),t([r({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],o.prototype,"displayField",void 0),t([r({readOnly:!0,type:Oe})],o.prototype,"editFieldsInfo",void 0),t([r({readOnly:!0})],o.prototype,"editingInfo",void 0),t([a("editingInfo")],o.prototype,"readEditingInfo",null),t([r({readOnly:!0})],o.prototype,"effectiveCapabilities",null),t([r((()=>{let s=b(ee),i=s.json.origins;return i["web-map"]={read:!1,write:!1},i["portal-item"]={read:!1,write:!1},s})())],o.prototype,"elevationInfo",void 0),t([r({type:qt,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Ct}}}}})],o.prototype,"floorInfo",void 0),t([r({type:kt,json:{origins:{service:{read:{source:"extent"}}}}})],o.prototype,"fullExtent",void 0),t([r()],o.prototype,"gdbVersion",void 0),t([r({readOnly:!0,type:Te,json:{read:{source:"geometryProperties"}}})],o.prototype,"geometryFieldsInfo",void 0),t([r({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:Pt.read}}}})],o.prototype,"geometryType",void 0),t([r({type:String})],o.prototype,"globalIdField",void 0),t([a("service","globalIdField",["globalIdField","fields"])],o.prototype,"readGlobalIdFieldFromService",null),t([r({readOnly:!0})],o.prototype,"hasFullEditingRestrictions",null),t([r({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasM",void 0),t([r({readOnly:!0})],o.prototype,"hasUpdateItemRestrictions",null),t([r({type:Boolean,json:{origins:{service:{read:!0}}}})],o.prototype,"hasZ",void 0),t([r({readOnly:!0,type:_t})],o.prototype,"heightModelInfo",void 0),t([r({type:Date})],o.prototype,"historicMoment",void 0),t([r({type:tt.ofType(w),readOnly:!0})],o.prototype,"indexes",void 0),t([r({readOnly:!0})],o.prototype,"isTable",void 0),t([a("service","isTable",["type"])],o.prototype,"readIsTableFromService",null),t([r({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],o.prototype,"layerId",void 0),t([r(oe)],o.prototype,"maxScale",void 0),t([a("service","maxScale",["maxScale","effectiveMaxScale"])],o.prototype,"readMaxScale",null),t([r(re)],o.prototype,"minScale",void 0),t([a("service","minScale",["minScale","effectiveMinScale"])],o.prototype,"readMinScale",null),t([r({type:String})],o.prototype,"objectIdField",void 0),t([a("service","objectIdField",["objectIdField","fields"])],o.prototype,"readObjectIdFieldFromService",null),t([r(k("preferredTimeReference"))],o.prototype,"preferredTimeZone",void 0),t([r({type:[Kt],readOnly:!0})],o.prototype,"relationships",void 0),t([r({type:Boolean})],o.prototype,"returnM",void 0),t([r({type:Boolean})],o.prototype,"returnZ",void 0),t([r({readOnly:!0,json:{write:!1}})],o.prototype,"serverGens",void 0),t([r({readOnly:!0})],o.prototype,"serviceDefinitionExpression",void 0),t([a("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],o.prototype,"readServiceDefinitionExpression",null),t([r({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"serviceItemId",void 0),t([r()],o.prototype,"sourceJSON",void 0),t([r({type:et,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],o.prototype,"spatialReference",void 0),t([r({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],o.prototype,"subtypeField",void 0),t([r({type:[Me],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],o.prototype,"subtypes",void 0),t([r({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],o.prototype,"trackIdField",void 0),t([r(te)],o.prototype,"url",null),t([l("url")],o.prototype,"writeUrl",null),t([r({json:{origins:{service:{read:!0}},read:!1}})],o.prototype,"version",void 0),t([a("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],o.prototype,"readVersion",null),o=t([p("esri.layers.mixins.FeatureLayerBase")],o),o};export{Gs as a,an as b};
